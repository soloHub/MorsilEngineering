(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();function D0(e,t){const n=Object.create(null),r=e.split(",");for(let i=0;i<r.length;i++)n[r[i]]=!0;return t?i=>!!n[i.toLowerCase()]:i=>!!n[i]}const sn={},_d=[],Bs=()=>{},CK=()=>!1,AK=/^on[^a-z]/,zg=e=>AK.test(e),Ux=e=>e.startsWith("onUpdate:"),$n=Object.assign,Vx=(e,t)=>{const n=e.indexOf(t);n>-1&&e.splice(n,1)},kK=Object.prototype.hasOwnProperty,Ft=(e,t)=>kK.call(e,t),Be=Array.isArray,bd=e=>Pf(e)==="[object Map]",$c=e=>Pf(e)==="[object Set]",uO=e=>Pf(e)==="[object Date]",OK=e=>Pf(e)==="[object RegExp]",et=e=>typeof e=="function",Mn=e=>typeof e=="string",Uh=e=>typeof e=="symbol",ln=e=>e!==null&&typeof e=="object",Hx=e=>ln(e)&&et(e.then)&&et(e.catch),SF=Object.prototype.toString,Pf=e=>SF.call(e),PK=e=>Pf(e).slice(8,-1),xF=e=>Pf(e)==="[object Object]",jx=e=>Mn(e)&&e!=="NaN"&&e[0]!=="-"&&""+parseInt(e,10)===e,ah=D0(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),N0=e=>{const t=Object.create(null);return n=>t[n]||(t[n]=e(n))},RK=/-(\w)/g,Ci=N0(e=>e.replace(RK,(t,n)=>n?n.toUpperCase():"")),DK=/\B([A-Z])/g,us=N0(e=>e.replace(DK,"-$1").toLowerCase()),Kg=N0(e=>e.charAt(0).toUpperCase()+e.slice(1)),lh=N0(e=>e?`on${Kg(e)}`:""),Kd=(e,t)=>!Object.is(e,t),wd=(e,t)=>{for(let n=0;n<e.length;n++)e[n](t)},Fy=(e,t,n)=>{Object.defineProperty(e,t,{configurable:!0,enumerable:!1,value:n})},By=e=>{const t=parseFloat(e);return isNaN(t)?e:t},Uy=e=>{const t=Mn(e)?Number(e):NaN;return isNaN(t)?e:t};let cO;const KE=()=>cO||(cO=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{}),NK="Infinity,undefined,NaN,isFinite,isNaN,parseFloat,parseInt,decodeURI,decodeURIComponent,encodeURI,encodeURIComponent,Math,Number,Date,Array,Object,Boolean,String,RegExp,Map,Set,JSON,Intl,BigInt,console",MK=D0(NK);function Gg(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++){const r=e[n],i=Mn(r)?UK(r):Gg(r);if(i)for(const s in i)t[s]=i[s]}return t}else{if(Mn(e))return e;if(ln(e))return e}}const LK=/;(?![^(]*\))/g,FK=/:([^]+)/,BK=/\/\*[^]*?\*\//g;function UK(e){const t={};return e.replace(BK,"").split(LK).forEach(n=>{if(n){const r=n.split(FK);r.length>1&&(t[r[0].trim()]=r[1].trim())}}),t}function Vr(e){let t="";if(Mn(e))t=e;else if(Be(e))for(let n=0;n<e.length;n++){const r=Vr(e[n]);r&&(t+=r+" ")}else if(ln(e))for(const n in e)e[n]&&(t+=n+" ");return t.trim()}function VK(e){if(!e)return null;let{class:t,style:n}=e;return t&&!Mn(t)&&(e.class=Vr(t)),n&&(e.style=Gg(n)),e}const HK="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",jK=D0(HK);function TF(e){return!!e||e===""}function WK(e,t){if(e.length!==t.length)return!1;let n=!0;for(let r=0;n&&r<e.length;r++)n=$l(e[r],t[r]);return n}function $l(e,t){if(e===t)return!0;let n=uO(e),r=uO(t);if(n||r)return n&&r?e.getTime()===t.getTime():!1;if(n=Uh(e),r=Uh(t),n||r)return e===t;if(n=Be(e),r=Be(t),n||r)return n&&r?WK(e,t):!1;if(n=ln(e),r=ln(t),n||r){if(!n||!r)return!1;const i=Object.keys(e).length,s=Object.keys(t).length;if(i!==s)return!1;for(const o in e){const a=e.hasOwnProperty(o),l=t.hasOwnProperty(o);if(a&&!l||!a&&l||!$l(e[o],t[o]))return!1}}return String(e)===String(t)}function M0(e,t){return e.findIndex(n=>$l(n,t))}const gs=e=>Mn(e)?e:e==null?"":Be(e)||ln(e)&&(e.toString===SF||!et(e.toString))?JSON.stringify(e,IF,2):String(e),IF=(e,t)=>t&&t.__v_isRef?IF(e,t.value):bd(t)?{[`Map(${t.size})`]:[...t.entries()].reduce((n,[r,i])=>(n[`${r} =>`]=i,n),{})}:$c(t)?{[`Set(${t.size})`]:[...t.values()]}:ln(t)&&!Be(t)&&!xF(t)?String(t):t;let Vi;class Wx{constructor(t=!1){this.detached=t,this._active=!0,this.effects=[],this.cleanups=[],this.parent=Vi,!t&&Vi&&(this.index=(Vi.scopes||(Vi.scopes=[])).push(this)-1)}get active(){return this._active}run(t){if(this._active){const n=Vi;try{return Vi=this,t()}finally{Vi=n}}}on(){Vi=this}off(){Vi=this.parent}stop(t){if(this._active){let n,r;for(n=0,r=this.effects.length;n<r;n++)this.effects[n].stop();for(n=0,r=this.cleanups.length;n<r;n++)this.cleanups[n]();if(this.scopes)for(n=0,r=this.scopes.length;n<r;n++)this.scopes[n].stop(!0);if(!this.detached&&this.parent&&!t){const i=this.parent.scopes.pop();i&&i!==this&&(this.parent.scopes[this.index]=i,i.index=this.index)}this.parent=void 0,this._active=!1}}}function CF(e){return new Wx(e)}function AF(e,t=Vi){t&&t.active&&t.effects.push(e)}function Yg(){return Vi}function qx(e){Vi&&Vi.cleanups.push(e)}const zx=e=>{const t=new Set(e);return t.w=0,t.n=0,t},kF=e=>(e.w&Sl)>0,OF=e=>(e.n&Sl)>0,qK=({deps:e})=>{if(e.length)for(let t=0;t<e.length;t++)e[t].w|=Sl},zK=e=>{const{deps:t}=e;if(t.length){let n=0;for(let r=0;r<t.length;r++){const i=t[r];kF(i)&&!OF(i)?i.delete(e):t[n++]=i,i.w&=~Sl,i.n&=~Sl}t.length=n}},Vy=new WeakMap;let Hp=0,Sl=1;const GE=30;let Ps;const ku=Symbol(""),YE=Symbol("");class Xg{constructor(t,n=null,r){this.fn=t,this.scheduler=n,this.active=!0,this.deps=[],this.parent=void 0,AF(this,r)}run(){if(!this.active)return this.fn();let t=Ps,n=dl;for(;t;){if(t===this)return;t=t.parent}try{return this.parent=Ps,Ps=this,dl=!0,Sl=1<<++Hp,Hp<=GE?qK(this):dO(this),this.fn()}finally{Hp<=GE&&zK(this),Sl=1<<--Hp,Ps=this.parent,dl=n,this.parent=void 0,this.deferStop&&this.stop()}}stop(){Ps===this?this.deferStop=!0:this.active&&(dO(this),this.onStop&&this.onStop(),this.active=!1)}}function dO(e){const{deps:t}=e;if(t.length){for(let n=0;n<t.length;n++)t[n].delete(e);t.length=0}}function KK(e,t){e.effect&&(e=e.effect.fn);const n=new Xg(e);t&&($n(n,t),t.scope&&AF(n,t.scope)),(!t||!t.lazy)&&n.run();const r=n.run.bind(n);return r.effect=n,r}function GK(e){e.effect.stop()}let dl=!0;const PF=[];function Rf(){PF.push(dl),dl=!1}function Df(){const e=PF.pop();dl=e===void 0?!0:e}function Mi(e,t,n){if(dl&&Ps){let r=Vy.get(e);r||Vy.set(e,r=new Map);let i=r.get(n);i||r.set(n,i=zx()),RF(i)}}function RF(e,t){let n=!1;Hp<=GE?OF(e)||(e.n|=Sl,n=!kF(e)):n=!e.has(Ps),n&&(e.add(Ps),Ps.deps.push(e))}function ca(e,t,n,r,i,s){const o=Vy.get(e);if(!o)return;let a=[];if(t==="clear")a=[...o.values()];else if(n==="length"&&Be(e)){const l=Number(r);o.forEach((u,c)=>{(c==="length"||c>=l)&&a.push(u)})}else switch(n!==void 0&&a.push(o.get(n)),t){case"add":Be(e)?jx(n)&&a.push(o.get("length")):(a.push(o.get(ku)),bd(e)&&a.push(o.get(YE)));break;case"delete":Be(e)||(a.push(o.get(ku)),bd(e)&&a.push(o.get(YE)));break;case"set":bd(e)&&a.push(o.get(ku));break}if(a.length===1)a[0]&&XE(a[0]);else{const l=[];for(const u of a)u&&l.push(...u);XE(zx(l))}}function XE(e,t){const n=Be(e)?e:[...e];for(const r of n)r.computed&&fO(r);for(const r of n)r.computed||fO(r)}function fO(e,t){(e!==Ps||e.allowRecurse)&&(e.scheduler?e.scheduler():e.run())}function YK(e,t){var n;return(n=Vy.get(e))==null?void 0:n.get(t)}const XK=D0("__proto__,__v_isRef,__isVue"),DF=new Set(Object.getOwnPropertyNames(Symbol).filter(e=>e!=="arguments"&&e!=="caller").map(e=>Symbol[e]).filter(Uh)),QK=L0(),JK=L0(!1,!0),ZK=L0(!0),e7=L0(!0,!0),pO=t7();function t7(){const e={};return["includes","indexOf","lastIndexOf"].forEach(t=>{e[t]=function(...n){const r=Rt(this);for(let s=0,o=this.length;s<o;s++)Mi(r,"get",s+"");const i=r[t](...n);return i===-1||i===!1?r[t](...n.map(Rt)):i}}),["push","pop","shift","unshift","splice"].forEach(t=>{e[t]=function(...n){Rf();const r=Rt(this)[t].apply(this,n);return Df(),r}}),e}function n7(e){const t=Rt(this);return Mi(t,"has",e),t.hasOwnProperty(e)}function L0(e=!1,t=!1){return function(r,i,s){if(i==="__v_isReactive")return!e;if(i==="__v_isReadonly")return e;if(i==="__v_isShallow")return t;if(i==="__v_raw"&&s===(e?t?VF:UF:t?BF:FF).get(r))return r;const o=Be(r);if(!e){if(o&&Ft(pO,i))return Reflect.get(pO,i,s);if(i==="hasOwnProperty")return n7}const a=Reflect.get(r,i,s);return(Uh(i)?DF.has(i):XK(i))||(e||Mi(r,"get",i),t)?a:hn(a)?o&&jx(i)?a:a.value:ln(a)?e?xo(a):Wi(a):a}}const r7=NF(),i7=NF(!0);function NF(e=!1){return function(n,r,i,s){let o=n[r];if(Hu(o)&&hn(o)&&!hn(i))return!1;if(!e&&(!Vh(i)&&!Hu(i)&&(o=Rt(o),i=Rt(i)),!Be(n)&&hn(o)&&!hn(i)))return o.value=i,!0;const a=Be(n)&&jx(r)?Number(r)<n.length:Ft(n,r),l=Reflect.set(n,r,i,s);return n===Rt(s)&&(a?Kd(i,o)&&ca(n,"set",r,i):ca(n,"add",r,i)),l}}function s7(e,t){const n=Ft(e,t);e[t];const r=Reflect.deleteProperty(e,t);return r&&n&&ca(e,"delete",t,void 0),r}function o7(e,t){const n=Reflect.has(e,t);return(!Uh(t)||!DF.has(t))&&Mi(e,"has",t),n}function a7(e){return Mi(e,"iterate",Be(e)?"length":ku),Reflect.ownKeys(e)}const MF={get:QK,set:r7,deleteProperty:s7,has:o7,ownKeys:a7},LF={get:ZK,set(e,t){return!0},deleteProperty(e,t){return!0}},l7=$n({},MF,{get:JK,set:i7}),u7=$n({},LF,{get:e7}),Kx=e=>e,F0=e=>Reflect.getPrototypeOf(e);function Xm(e,t,n=!1,r=!1){e=e.__v_raw;const i=Rt(e),s=Rt(t);n||(t!==s&&Mi(i,"get",t),Mi(i,"get",s));const{has:o}=F0(i),a=r?Kx:n?Yx:Hh;if(o.call(i,t))return a(e.get(t));if(o.call(i,s))return a(e.get(s));e!==i&&e.get(t)}function Qm(e,t=!1){const n=this.__v_raw,r=Rt(n),i=Rt(e);return t||(e!==i&&Mi(r,"has",e),Mi(r,"has",i)),e===i?n.has(e):n.has(e)||n.has(i)}function Jm(e,t=!1){return e=e.__v_raw,!t&&Mi(Rt(e),"iterate",ku),Reflect.get(e,"size",e)}function hO(e){e=Rt(e);const t=Rt(this);return F0(t).has.call(t,e)||(t.add(e),ca(t,"add",e,e)),this}function gO(e,t){t=Rt(t);const n=Rt(this),{has:r,get:i}=F0(n);let s=r.call(n,e);s||(e=Rt(e),s=r.call(n,e));const o=i.call(n,e);return n.set(e,t),s?Kd(t,o)&&ca(n,"set",e,t):ca(n,"add",e,t),this}function mO(e){const t=Rt(this),{has:n,get:r}=F0(t);let i=n.call(t,e);i||(e=Rt(e),i=n.call(t,e)),r&&r.call(t,e);const s=t.delete(e);return i&&ca(t,"delete",e,void 0),s}function vO(){const e=Rt(this),t=e.size!==0,n=e.clear();return t&&ca(e,"clear",void 0,void 0),n}function Zm(e,t){return function(r,i){const s=this,o=s.__v_raw,a=Rt(o),l=t?Kx:e?Yx:Hh;return!e&&Mi(a,"iterate",ku),o.forEach((u,c)=>r.call(i,l(u),l(c),s))}}function ev(e,t,n){return function(...r){const i=this.__v_raw,s=Rt(i),o=bd(s),a=e==="entries"||e===Symbol.iterator&&o,l=e==="keys"&&o,u=i[e](...r),c=n?Kx:t?Yx:Hh;return!t&&Mi(s,"iterate",l?YE:ku),{next(){const{value:d,done:f}=u.next();return f?{value:d,done:f}:{value:a?[c(d[0]),c(d[1])]:c(d),done:f}},[Symbol.iterator](){return this}}}}function Va(e){return function(...t){return e==="delete"?!1:this}}function c7(){const e={get(s){return Xm(this,s)},get size(){return Jm(this)},has:Qm,add:hO,set:gO,delete:mO,clear:vO,forEach:Zm(!1,!1)},t={get(s){return Xm(this,s,!1,!0)},get size(){return Jm(this)},has:Qm,add:hO,set:gO,delete:mO,clear:vO,forEach:Zm(!1,!0)},n={get(s){return Xm(this,s,!0)},get size(){return Jm(this,!0)},has(s){return Qm.call(this,s,!0)},add:Va("add"),set:Va("set"),delete:Va("delete"),clear:Va("clear"),forEach:Zm(!0,!1)},r={get(s){return Xm(this,s,!0,!0)},get size(){return Jm(this,!0)},has(s){return Qm.call(this,s,!0)},add:Va("add"),set:Va("set"),delete:Va("delete"),clear:Va("clear"),forEach:Zm(!0,!0)};return["keys","values","entries",Symbol.iterator].forEach(s=>{e[s]=ev(s,!1,!1),n[s]=ev(s,!0,!1),t[s]=ev(s,!1,!0),r[s]=ev(s,!0,!0)}),[e,n,t,r]}const[d7,f7,p7,h7]=c7();function B0(e,t){const n=t?e?h7:p7:e?f7:d7;return(r,i,s)=>i==="__v_isReactive"?!e:i==="__v_isReadonly"?e:i==="__v_raw"?r:Reflect.get(Ft(n,i)&&i in r?n:r,i,s)}const g7={get:B0(!1,!1)},m7={get:B0(!1,!0)},v7={get:B0(!0,!1)},y7={get:B0(!0,!0)},FF=new WeakMap,BF=new WeakMap,UF=new WeakMap,VF=new WeakMap;function _7(e){switch(e){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function b7(e){return e.__v_skip||!Object.isExtensible(e)?0:_7(PK(e))}function Wi(e){return Hu(e)?e:U0(e,!1,MF,g7,FF)}function Hy(e){return U0(e,!1,l7,m7,BF)}function xo(e){return U0(e,!0,LF,v7,UF)}function w7(e){return U0(e,!0,u7,y7,VF)}function U0(e,t,n,r,i){if(!ln(e)||e.__v_raw&&!(t&&e.__v_isReactive))return e;const s=i.get(e);if(s)return s;const o=b7(e);if(o===0)return e;const a=new Proxy(e,o===2?r:n);return i.set(e,a),a}function Jo(e){return Hu(e)?Jo(e.__v_raw):!!(e&&e.__v_isReactive)}function Hu(e){return!!(e&&e.__v_isReadonly)}function Vh(e){return!!(e&&e.__v_isShallow)}function Gx(e){return Jo(e)||Hu(e)}function Rt(e){const t=e&&e.__v_raw;return t?Rt(t):e}function Sc(e){return Fy(e,"__v_skip",!0),e}const Hh=e=>ln(e)?Wi(e):e,Yx=e=>ln(e)?xo(e):e;function Xx(e){dl&&Ps&&(e=Rt(e),RF(e.dep||(e.dep=zx())))}function V0(e,t){e=Rt(e);const n=e.dep;n&&XE(n)}function hn(e){return!!(e&&e.__v_isRef===!0)}function ne(e){return HF(e,!1)}function da(e){return HF(e,!0)}function HF(e,t){return hn(e)?e:new E7(e,t)}class E7{constructor(t,n){this.__v_isShallow=n,this.dep=void 0,this.__v_isRef=!0,this._rawValue=n?t:Rt(t),this._value=n?t:Hh(t)}get value(){return Xx(this),this._value}set value(t){const n=this.__v_isShallow||Vh(t)||Hu(t);t=n?t:Rt(t),Kd(t,this._rawValue)&&(this._rawValue=t,this._value=n?t:Hh(t),V0(this))}}function jp(e){V0(e)}function ve(e){return hn(e)?e.value:e}function $7(e){return et(e)?e():ve(e)}const S7={get:(e,t,n)=>ve(Reflect.get(e,t,n)),set:(e,t,n,r)=>{const i=e[t];return hn(i)&&!hn(n)?(i.value=n,!0):Reflect.set(e,t,n,r)}};function Qx(e){return Jo(e)?e:new Proxy(e,S7)}class x7{constructor(t){this.dep=void 0,this.__v_isRef=!0;const{get:n,set:r}=t(()=>Xx(this),()=>V0(this));this._get=n,this._set=r}get value(){return this._get()}set value(t){this._set(t)}}function jF(e){return new x7(e)}function T7(e){const t=Be(e)?new Array(e.length):{};for(const n in e)t[n]=WF(e,n);return t}class I7{constructor(t,n,r){this._object=t,this._key=n,this._defaultValue=r,this.__v_isRef=!0}get value(){const t=this._object[this._key];return t===void 0?this._defaultValue:t}set value(t){this._object[this._key]=t}get dep(){return YK(Rt(this._object),this._key)}}class C7{constructor(t){this._getter=t,this.__v_isRef=!0,this.__v_isReadonly=!0}get value(){return this._getter()}}function Jx(e,t,n){return hn(e)?e:et(e)?new C7(e):ln(e)&&arguments.length>1?WF(e,t,n):ne(e)}function WF(e,t,n){const r=e[t];return hn(r)?r:new I7(e,t,n)}class A7{constructor(t,n,r,i){this._setter=n,this.dep=void 0,this.__v_isRef=!0,this.__v_isReadonly=!1,this._dirty=!0,this.effect=new Xg(t,()=>{this._dirty||(this._dirty=!0,V0(this))}),this.effect.computed=this,this.effect.active=this._cacheable=!i,this.__v_isReadonly=r}get value(){const t=Rt(this);return Xx(t),(t._dirty||!t._cacheable)&&(t._dirty=!1,t._value=t.effect.run()),t._value}set value(t){this._setter(t)}}function k7(e,t,n=!1){let r,i;const s=et(e);return s?(r=e,i=Bs):(r=e.get,i=e.set),new A7(r,i,s||!i,n)}function O7(e,...t){}function P7(e,t){}function Zo(e,t,n,r){let i;try{i=r?e(...r):e()}catch(s){xc(s,t,n)}return i}function Ki(e,t,n,r){if(et(e)){const s=Zo(e,t,n,r);return s&&Hx(s)&&s.catch(o=>{xc(o,t,n)}),s}const i=[];for(let s=0;s<e.length;s++)i.push(Ki(e[s],t,n,r));return i}function xc(e,t,n,r=!0){const i=t?t.vnode:null;if(t){let s=t.parent;const o=t.proxy,a=n;for(;s;){const u=s.ec;if(u){for(let c=0;c<u.length;c++)if(u[c](e,o,a)===!1)return}s=s.parent}const l=t.appContext.config.errorHandler;if(l){Zo(l,null,10,[e,o,a]);return}}R7(e,n,i,r)}function R7(e,t,n,r=!0){console.error(e)}let jh=!1,QE=!1;const Qr=[];let io=0;const Ed=[];let jo=null,hu=0;const qF=Promise.resolve();let Zx=null;function qn(e){const t=Zx||qF;return e?t.then(this?e.bind(this):e):t}function D7(e){let t=io+1,n=Qr.length;for(;t<n;){const r=t+n>>>1;Wh(Qr[r])<e?t=r+1:n=r}return t}function H0(e){(!Qr.length||!Qr.includes(e,jh&&e.allowRecurse?io+1:io))&&(e.id==null?Qr.push(e):Qr.splice(D7(e.id),0,e),zF())}function zF(){!jh&&!QE&&(QE=!0,Zx=qF.then(KF))}function N7(e){const t=Qr.indexOf(e);t>io&&Qr.splice(t,1)}function eT(e){Be(e)?Ed.push(...e):(!jo||!jo.includes(e,e.allowRecurse?hu+1:hu))&&Ed.push(e),zF()}function yO(e,t=jh?io+1:0){for(;t<Qr.length;t++){const n=Qr[t];n&&n.pre&&(Qr.splice(t,1),t--,n())}}function jy(e){if(Ed.length){const t=[...new Set(Ed)];if(Ed.length=0,jo){jo.push(...t);return}for(jo=t,jo.sort((n,r)=>Wh(n)-Wh(r)),hu=0;hu<jo.length;hu++)jo[hu]();jo=null,hu=0}}const Wh=e=>e.id==null?1/0:e.id,M7=(e,t)=>{const n=Wh(e)-Wh(t);if(n===0){if(e.pre&&!t.pre)return-1;if(t.pre&&!e.pre)return 1}return n};function KF(e){QE=!1,jh=!0,Qr.sort(M7);const t=Bs;try{for(io=0;io<Qr.length;io++){const n=Qr[io];n&&n.active!==!1&&Zo(n,null,14)}}finally{io=0,Qr.length=0,jy(),jh=!1,Zx=null,(Qr.length||Ed.length)&&KF()}}let ed,tv=[];function GF(e,t){var n,r;ed=e,ed?(ed.enabled=!0,tv.forEach(({event:i,args:s})=>ed.emit(i,...s)),tv=[]):typeof window<"u"&&window.HTMLElement&&!((r=(n=window.navigator)==null?void 0:n.userAgent)!=null&&r.includes("jsdom"))?((t.__VUE_DEVTOOLS_HOOK_REPLAY__=t.__VUE_DEVTOOLS_HOOK_REPLAY__||[]).push(s=>{GF(s,t)}),setTimeout(()=>{ed||(t.__VUE_DEVTOOLS_HOOK_REPLAY__=null,tv=[])},3e3)):tv=[]}function L7(e,t,...n){if(e.isUnmounted)return;const r=e.vnode.props||sn;let i=n;const s=t.startsWith("update:"),o=s&&t.slice(7);if(o&&o in r){const c=`${o==="modelValue"?"model":o}Modifiers`,{number:d,trim:f}=r[c]||sn;f&&(i=n.map(p=>Mn(p)?p.trim():p)),d&&(i=n.map(By))}let a,l=r[a=lh(t)]||r[a=lh(Ci(t))];!l&&s&&(l=r[a=lh(us(t))]),l&&Ki(l,e,6,i);const u=r[a+"Once"];if(u){if(!e.emitted)e.emitted={};else if(e.emitted[a])return;e.emitted[a]=!0,Ki(u,e,6,i)}}function YF(e,t,n=!1){const r=t.emitsCache,i=r.get(e);if(i!==void 0)return i;const s=e.emits;let o={},a=!1;if(!et(e)){const l=u=>{const c=YF(u,t,!0);c&&(a=!0,$n(o,c))};!n&&t.mixins.length&&t.mixins.forEach(l),e.extends&&l(e.extends),e.mixins&&e.mixins.forEach(l)}return!s&&!a?(ln(e)&&r.set(e,null),null):(Be(s)?s.forEach(l=>o[l]=null):$n(o,s),ln(e)&&r.set(e,o),o)}function j0(e,t){return!e||!zg(t)?!1:(t=t.slice(2).replace(/Once$/,""),Ft(e,t[0].toLowerCase()+t.slice(1))||Ft(e,us(t))||Ft(e,t))}let kr=null,W0=null;function qh(e){const t=kr;return kr=e,W0=e&&e.type.__scopeId||null,t}function tT(e){W0=e}function nT(){W0=null}const XF=e=>Ze;function Ze(e,t=kr,n){if(!t||e._n)return e;const r=(...i)=>{r._d&&s$(-1);const s=qh(t);let o;try{o=e(...i)}finally{qh(s),r._d&&s$(1)}return o};return r._n=!0,r._c=!0,r._d=!0,r}function oy(e){const{type:t,vnode:n,proxy:r,withProxy:i,props:s,propsOptions:[o],slots:a,attrs:l,emit:u,render:c,renderCache:d,data:f,setupState:p,ctx:h,inheritAttrs:g}=e;let m,v;const y=qh(e);try{if(n.shapeFlag&4){const _=i||r;m=Hi(c.call(_,_,d,s,p,f,h)),v=l}else{const _=t;m=Hi(_.length>1?_(s,{attrs:l,slots:a,emit:u}):_(s,null)),v=t.props?l:B7(l)}}catch(_){dh.length=0,xc(_,e,1),m=we(Jr)}let b=m;if(v&&g!==!1){const _=Object.keys(v),{shapeFlag:S}=b;_.length&&S&7&&(o&&_.some(Ux)&&(v=U7(v,o)),b=qs(b,v))}return n.dirs&&(b=qs(b),b.dirs=b.dirs?b.dirs.concat(n.dirs):n.dirs),n.transition&&(b.transition=n.transition),m=b,qh(y),m}function F7(e){let t;for(let n=0;n<e.length;n++){const r=e[n];if(xl(r)){if(r.type!==Jr||r.children==="v-if"){if(t)return;t=r}}else return}return t}const B7=e=>{let t;for(const n in e)(n==="class"||n==="style"||zg(n))&&((t||(t={}))[n]=e[n]);return t},U7=(e,t)=>{const n={};for(const r in e)(!Ux(r)||!(r.slice(9)in t))&&(n[r]=e[r]);return n};function V7(e,t,n){const{props:r,children:i,component:s}=e,{props:o,children:a,patchFlag:l}=t,u=s.emitsOptions;if(t.dirs||t.transition)return!0;if(n&&l>=0){if(l&1024)return!0;if(l&16)return r?_O(r,o,u):!!o;if(l&8){const c=t.dynamicProps;for(let d=0;d<c.length;d++){const f=c[d];if(o[f]!==r[f]&&!j0(u,f))return!0}}}else return(i||a)&&(!a||!a.$stable)?!0:r===o?!1:r?o?_O(r,o,u):!0:!!o;return!1}function _O(e,t,n){const r=Object.keys(t);if(r.length!==Object.keys(e).length)return!0;for(let i=0;i<r.length;i++){const s=r[i];if(t[s]!==e[s]&&!j0(n,s))return!0}return!1}function rT({vnode:e,parent:t},n){for(;t&&t.subTree===e;)(e=t.vnode).el=n,t=t.parent}const QF=e=>e.__isSuspense,H7={name:"Suspense",__isSuspense:!0,process(e,t,n,r,i,s,o,a,l,u){e==null?j7(t,n,r,i,s,o,a,l,u):W7(e,t,n,r,i,o,a,l,u)},hydrate:q7,create:sT,normalize:z7},iT=H7;function zh(e,t){const n=e.props&&e.props[t];et(n)&&n()}function j7(e,t,n,r,i,s,o,a,l){const{p:u,o:{createElement:c}}=l,d=c("div"),f=e.suspense=sT(e,i,r,t,d,n,s,o,a,l);u(null,f.pendingBranch=e.ssContent,d,null,r,f,s,o),f.deps>0?(zh(e,"onPending"),zh(e,"onFallback"),u(null,e.ssFallback,t,n,r,null,s,o),$d(f,e.ssFallback)):f.resolve(!1,!0)}function W7(e,t,n,r,i,s,o,a,{p:l,um:u,o:{createElement:c}}){const d=t.suspense=e.suspense;d.vnode=t,t.el=e.el;const f=t.ssContent,p=t.ssFallback,{activeBranch:h,pendingBranch:g,isInFallback:m,isHydrating:v}=d;if(g)d.pendingBranch=f,Rs(f,g)?(l(g,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():m&&(l(h,p,n,r,i,null,s,o,a),$d(d,p))):(d.pendingId++,v?(d.isHydrating=!1,d.activeBranch=g):u(g,i,d),d.deps=0,d.effects.length=0,d.hiddenContainer=c("div"),m?(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0?d.resolve():(l(h,p,n,r,i,null,s,o,a),$d(d,p))):h&&Rs(f,h)?(l(h,f,n,r,i,d,s,o,a),d.resolve(!0)):(l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0&&d.resolve()));else if(h&&Rs(f,h))l(h,f,n,r,i,d,s,o,a),$d(d,f);else if(zh(t,"onPending"),d.pendingBranch=f,d.pendingId++,l(null,f,d.hiddenContainer,null,i,d,s,o,a),d.deps<=0)d.resolve();else{const{timeout:y,pendingId:b}=d;y>0?setTimeout(()=>{d.pendingId===b&&d.fallback(p)},y):y===0&&d.fallback(p)}}function sT(e,t,n,r,i,s,o,a,l,u,c=!1){const{p:d,m:f,um:p,n:h,o:{parentNode:g,remove:m}}=u;let v;const y=K7(e);y&&t!=null&&t.pendingBranch&&(v=t.pendingId,t.deps++);const b=e.props?Uy(e.props.timeout):void 0,_={vnode:e,parent:t,parentComponent:n,isSVG:o,container:r,hiddenContainer:i,anchor:s,deps:0,pendingId:0,timeout:typeof b=="number"?b:-1,activeBranch:null,pendingBranch:null,isInFallback:!0,isHydrating:c,isUnmounted:!1,effects:[],resolve(S=!1,I=!1){const{vnode:T,activeBranch:w,pendingBranch:x,pendingId:E,effects:O,parentComponent:M,container:V}=_;if(_.isHydrating)_.isHydrating=!1;else if(!S){const ce=w&&x.transition&&x.transition.mode==="out-in";ce&&(w.transition.afterLeave=()=>{E===_.pendingId&&f(x,V,ae,0)});let{anchor:ae}=_;w&&(ae=h(w),p(w,M,_,!0)),ce||f(x,V,ae,0)}$d(_,x),_.pendingBranch=null,_.isInFallback=!1;let H=_.parent,me=!1;for(;H;){if(H.pendingBranch){H.effects.push(...O),me=!0;break}H=H.parent}me||eT(O),_.effects=[],y&&t&&t.pendingBranch&&v===t.pendingId&&(t.deps--,t.deps===0&&!I&&t.resolve()),zh(T,"onResolve")},fallback(S){if(!_.pendingBranch)return;const{vnode:I,activeBranch:T,parentComponent:w,container:x,isSVG:E}=_;zh(I,"onFallback");const O=h(T),M=()=>{_.isInFallback&&(d(null,S,x,O,w,null,E,a,l),$d(_,S))},V=S.transition&&S.transition.mode==="out-in";V&&(T.transition.afterLeave=M),_.isInFallback=!0,p(T,w,null,!0),V||M()},move(S,I,T){_.activeBranch&&f(_.activeBranch,S,I,T),_.container=S},next(){return _.activeBranch&&h(_.activeBranch)},registerDep(S,I){const T=!!_.pendingBranch;T&&_.deps++;const w=S.vnode.el;S.asyncDep.catch(x=>{xc(x,S,0)}).then(x=>{if(S.isUnmounted||_.isUnmounted||_.pendingId!==S.suspenseId)return;S.asyncResolved=!0;const{vnode:E}=S;o$(S,x,!1),w&&(E.el=w);const O=!w&&S.subTree.el;I(S,E,g(w||S.subTree.el),w?null:h(S.subTree),_,o,l),O&&m(O),rT(S,E.el),T&&--_.deps===0&&_.resolve()})},unmount(S,I){_.isUnmounted=!0,_.activeBranch&&p(_.activeBranch,n,S,I),_.pendingBranch&&p(_.pendingBranch,n,S,I)}};return _}function q7(e,t,n,r,i,s,o,a,l){const u=t.suspense=sT(t,r,n,e.parentNode,document.createElement("div"),null,i,s,o,a,!0),c=l(e,u.pendingBranch=t.ssContent,n,u,s,o);return u.deps===0&&u.resolve(!1,!0),c}function z7(e){const{shapeFlag:t,children:n}=e,r=t&32;e.ssContent=bO(r?n.default:n),e.ssFallback=r?bO(n.fallback):we(Jr)}function bO(e){let t;if(et(e)){const n=Ku&&e._c;n&&(e._d=!1,re()),e=e(),n&&(e._d=!0,t=xi,TB())}return Be(e)&&(e=F7(e)),e=Hi(e),t&&!e.dynamicChildren&&(e.dynamicChildren=t.filter(n=>n!==e)),e}function JF(e,t){t&&t.pendingBranch?Be(e)?t.effects.push(...e):t.effects.push(e):eT(e)}function $d(e,t){e.activeBranch=t;const{vnode:n,parentComponent:r}=e,i=n.el=t.el;r&&r.subTree===n&&(r.vnode.el=i,rT(r,i))}function K7(e){var t;return((t=e.props)==null?void 0:t.suspensible)!=null&&e.props.suspensible!==!1}function Kt(e,t){return Qg(e,null,t)}function ZF(e,t){return Qg(e,null,{flush:"post"})}function G7(e,t){return Qg(e,null,{flush:"sync"})}const nv={};function xt(e,t,n){return Qg(e,t,n)}function Qg(e,t,{immediate:n,deep:r,flush:i,onTrack:s,onTrigger:o}=sn){var a;const l=Yg()===((a=lr)==null?void 0:a.scope)?lr:null;let u,c=!1,d=!1;if(hn(e)?(u=()=>e.value,c=Vh(e)):Jo(e)?(u=()=>e,r=!0):Be(e)?(d=!0,c=e.some(_=>Jo(_)||Vh(_)),u=()=>e.map(_=>{if(hn(_))return _.value;if(Jo(_))return _u(_);if(et(_))return Zo(_,l,2)})):et(e)?t?u=()=>Zo(e,l,2):u=()=>{if(!(l&&l.isUnmounted))return f&&f(),Ki(e,l,3,[p])}:u=Bs,t&&r){const _=u;u=()=>_u(_())}let f,p=_=>{f=y.onStop=()=>{Zo(_,l,4)}},h;if(Xd)if(p=Bs,t?n&&Ki(t,l,3,[u(),d?[]:void 0,p]):u(),i==="sync"){const _=MB();h=_.__watcherHandles||(_.__watcherHandles=[])}else return Bs;let g=d?new Array(e.length).fill(nv):nv;const m=()=>{if(y.active)if(t){const _=y.run();(r||c||(d?_.some((S,I)=>Kd(S,g[I])):Kd(_,g)))&&(f&&f(),Ki(t,l,3,[_,g===nv?void 0:d&&g[0]===nv?[]:g,p]),g=_)}else y.run()};m.allowRecurse=!!t;let v;i==="sync"?v=m:i==="post"?v=()=>Fr(m,l&&l.suspense):(m.pre=!0,l&&(m.id=l.uid),v=()=>H0(m));const y=new Xg(u,v);t?n?m():g=y.run():i==="post"?Fr(y.run.bind(y),l&&l.suspense):y.run();const b=()=>{y.stop(),l&&l.scope&&Vx(l.scope.effects,y)};return h&&h.push(b),b}function Y7(e,t,n){const r=this.proxy,i=Mn(e)?e.includes(".")?eB(r,e):()=>r[e]:e.bind(r,r);let s;et(t)?s=t:(s=t.handler,n=t);const o=lr;Tl(this);const a=Qg(i,s.bind(r),n);return o?Tl(o):fl(),a}function eB(e,t){const n=t.split(".");return()=>{let r=e;for(let i=0;i<n.length&&r;i++)r=r[n[i]];return r}}function _u(e,t){if(!ln(e)||e.__v_skip||(t=t||new Set,t.has(e)))return e;if(t.add(e),hn(e))_u(e.value,t);else if(Be(e))for(let n=0;n<e.length;n++)_u(e[n],t);else if($c(e)||bd(e))e.forEach(n=>{_u(n,t)});else if(xF(e))for(const n in e)_u(e[n],t);return e}function Wy(e,t){const n=kr;if(n===null)return e;const r=Y0(n)||n.proxy,i=e.dirs||(e.dirs=[]);for(let s=0;s<t.length;s++){let[o,a,l,u=sn]=t[s];o&&(et(o)&&(o={mounted:o,updated:o}),o.deep&&_u(a),i.push({dir:o,instance:r,value:a,oldValue:void 0,arg:l,modifiers:u}))}return e}function no(e,t,n,r){const i=e.dirs,s=t&&t.dirs;for(let o=0;o<i.length;o++){const a=i[o];s&&(a.oldValue=s[o].value);let l=a.dir[r];l&&(Rf(),Ki(l,n,8,[e.el,a,e,t]),Df())}}function oT(){const e={isMounted:!1,isLeaving:!1,isUnmounting:!1,leavingVNodes:new Map};return Qt(()=>{e.isMounted=!0}),Vl(()=>{e.isUnmounting=!0}),e}const as=[Function,Array],aT={mode:String,appear:Boolean,persisted:Boolean,onBeforeEnter:as,onEnter:as,onAfterEnter:as,onEnterCancelled:as,onBeforeLeave:as,onLeave:as,onAfterLeave:as,onLeaveCancelled:as,onBeforeAppear:as,onAppear:as,onAfterAppear:as,onAppearCancelled:as},X7={name:"BaseTransition",props:aT,setup(e,{slots:t}){const n=Pr(),r=oT();let i;return()=>{const s=t.default&&q0(t.default(),!0);if(!s||!s.length)return;let o=s[0];if(s.length>1){for(const g of s)if(g.type!==Jr){o=g;break}}const a=Rt(e),{mode:l}=a;if(r.isLeaving)return Qw(o);const u=wO(o);if(!u)return Qw(o);const c=Gd(u,a,r,n);ju(u,c);const d=n.subTree,f=d&&wO(d);let p=!1;const{getTransitionKey:h}=u.type;if(h){const g=h();i===void 0?i=g:g!==i&&(i=g,p=!0)}if(f&&f.type!==Jr&&(!Rs(u,f)||p)){const g=Gd(f,a,r,n);if(ju(f,g),l==="out-in")return r.isLeaving=!0,g.afterLeave=()=>{r.isLeaving=!1,n.update.active!==!1&&n.update()},Qw(o);l==="in-out"&&u.type!==Jr&&(g.delayLeave=(m,v,y)=>{const b=nB(r,f);b[String(f.key)]=f,m._leaveCb=()=>{v(),m._leaveCb=void 0,delete c.delayedLeave},c.delayedLeave=y})}return o}}},tB=X7;function nB(e,t){const{leavingVNodes:n}=e;let r=n.get(t.type);return r||(r=Object.create(null),n.set(t.type,r)),r}function Gd(e,t,n,r){const{appear:i,mode:s,persisted:o=!1,onBeforeEnter:a,onEnter:l,onAfterEnter:u,onEnterCancelled:c,onBeforeLeave:d,onLeave:f,onAfterLeave:p,onLeaveCancelled:h,onBeforeAppear:g,onAppear:m,onAfterAppear:v,onAppearCancelled:y}=t,b=String(e.key),_=nB(n,e),S=(w,x)=>{w&&Ki(w,r,9,x)},I=(w,x)=>{const E=x[1];S(w,x),Be(w)?w.every(O=>O.length<=1)&&E():w.length<=1&&E()},T={mode:s,persisted:o,beforeEnter(w){let x=a;if(!n.isMounted)if(i)x=g||a;else return;w._leaveCb&&w._leaveCb(!0);const E=_[b];E&&Rs(e,E)&&E.el._leaveCb&&E.el._leaveCb(),S(x,[w])},enter(w){let x=l,E=u,O=c;if(!n.isMounted)if(i)x=m||l,E=v||u,O=y||c;else return;let M=!1;const V=w._enterCb=H=>{M||(M=!0,H?S(O,[w]):S(E,[w]),T.delayedLeave&&T.delayedLeave(),w._enterCb=void 0)};x?I(x,[w,V]):V()},leave(w,x){const E=String(e.key);if(w._enterCb&&w._enterCb(!0),n.isUnmounting)return x();S(d,[w]);let O=!1;const M=w._leaveCb=V=>{O||(O=!0,x(),V?S(h,[w]):S(p,[w]),w._leaveCb=void 0,_[E]===e&&delete _[E])};_[E]=e,f?I(f,[w,M]):M()},clone(w){return Gd(w,t,n,r)}};return T}function Qw(e){if(Jg(e))return e=qs(e),e.children=null,e}function wO(e){return Jg(e)?e.children?e.children[0]:void 0:e}function ju(e,t){e.shapeFlag&6&&e.component?ju(e.component.subTree,t):e.shapeFlag&128?(e.ssContent.transition=t.clone(e.ssContent),e.ssFallback.transition=t.clone(e.ssFallback)):e.transition=t}function q0(e,t=!1,n){let r=[],i=0;for(let s=0;s<e.length;s++){let o=e[s];const a=n==null?o.key:String(n)+String(o.key!=null?o.key:s);o.type===pn?(o.patchFlag&128&&i++,r=r.concat(q0(o.children,t,a))):(t||o.type!==Jr)&&r.push(a!=null?qs(o,{key:a}):o)}if(i>1)for(let s=0;s<r.length;s++)r[s].patchFlag=-2;return r}function mn(e,t){return et(e)?(()=>$n({name:e.name},t,{setup:e}))():e}const Ou=e=>!!e.type.__asyncLoader;function is(e){et(e)&&(e={loader:e});const{loader:t,loadingComponent:n,errorComponent:r,delay:i=200,timeout:s,suspensible:o=!0,onError:a}=e;let l=null,u,c=0;const d=()=>(c++,l=null,f()),f=()=>{let p;return l||(p=l=t().catch(h=>{if(h=h instanceof Error?h:new Error(String(h)),a)return new Promise((g,m)=>{a(h,()=>g(d()),()=>m(h),c+1)});throw h}).then(h=>p!==l&&l?l:(h&&(h.__esModule||h[Symbol.toStringTag]==="Module")&&(h=h.default),u=h,h)))};return mn({name:"AsyncComponentWrapper",__asyncLoader:f,get __asyncResolved(){return u},setup(){const p=lr;if(u)return()=>Jw(u,p);const h=y=>{l=null,xc(y,p,13,!r)};if(o&&p.suspense||Xd)return f().then(y=>()=>Jw(y,p)).catch(y=>(h(y),()=>r?we(r,{error:y}):null));const g=ne(!1),m=ne(),v=ne(!!i);return i&&setTimeout(()=>{v.value=!1},i),s!=null&&setTimeout(()=>{if(!g.value&&!m.value){const y=new Error(`Async component timed out after ${s}ms.`);h(y),m.value=y}},s),f().then(()=>{g.value=!0,p.parent&&Jg(p.parent.vnode)&&H0(p.parent.update)}).catch(y=>{h(y),m.value=y}),()=>{if(g.value&&u)return Jw(u,p);if(m.value&&r)return we(r,{error:m.value});if(n&&!v.value)return we(n)}}})}function Jw(e,t){const{ref:n,props:r,children:i,ce:s}=t.vnode,o=we(e,r,i);return o.ref=n,o.ce=s,delete t.vnode.ce,o}const Jg=e=>e.type.__isKeepAlive,Q7={name:"KeepAlive",__isKeepAlive:!0,props:{include:[String,RegExp,Array],exclude:[String,RegExp,Array],max:[String,Number]},setup(e,{slots:t}){const n=Pr(),r=n.ctx;if(!r.renderer)return()=>{const y=t.default&&t.default();return y&&y.length===1?y[0]:y};const i=new Map,s=new Set;let o=null;const a=n.suspense,{renderer:{p:l,m:u,um:c,o:{createElement:d}}}=r,f=d("div");r.activate=(y,b,_,S,I)=>{const T=y.component;u(y,b,_,0,a),l(T.vnode,y,b,_,T,a,S,y.slotScopeIds,I),Fr(()=>{T.isDeactivated=!1,T.a&&wd(T.a);const w=y.props&&y.props.onVnodeMounted;w&&Ei(w,T.parent,y)},a)},r.deactivate=y=>{const b=y.component;u(y,f,null,1,a),Fr(()=>{b.da&&wd(b.da);const _=y.props&&y.props.onVnodeUnmounted;_&&Ei(_,b.parent,y),b.isDeactivated=!0},a)};function p(y){Zw(y),c(y,n,a,!0)}function h(y){i.forEach((b,_)=>{const S=l$(b.type);S&&(!y||!y(S))&&g(_)})}function g(y){const b=i.get(y);!o||!Rs(b,o)?p(b):o&&Zw(o),i.delete(y),s.delete(y)}xt(()=>[e.include,e.exclude],([y,b])=>{y&&h(_=>Wp(y,_)),b&&h(_=>!Wp(b,_))},{flush:"post",deep:!0});let m=null;const v=()=>{m!=null&&i.set(m,e1(n.subTree))};return Qt(v),K0(v),Vl(()=>{i.forEach(y=>{const{subTree:b,suspense:_}=n,S=e1(b);if(y.type===S.type&&y.key===S.key){Zw(S);const I=S.component.da;I&&Fr(I,_);return}p(y)})}),()=>{if(m=null,!t.default)return null;const y=t.default(),b=y[0];if(y.length>1)return o=null,y;if(!xl(b)||!(b.shapeFlag&4)&&!(b.shapeFlag&128))return o=null,b;let _=e1(b);const S=_.type,I=l$(Ou(_)?_.type.__asyncResolved||{}:S),{include:T,exclude:w,max:x}=e;if(T&&(!I||!Wp(T,I))||w&&I&&Wp(w,I))return o=_,b;const E=_.key==null?S:_.key,O=i.get(E);return _.el&&(_=qs(_),b.shapeFlag&128&&(b.ssContent=_)),m=E,O?(_.el=O.el,_.component=O.component,_.transition&&ju(_,_.transition),_.shapeFlag|=512,s.delete(E),s.add(E)):(s.add(E),x&&s.size>parseInt(x,10)&&g(s.values().next().value)),_.shapeFlag|=256,o=_,QF(b.type)?b:_}}},J7=Q7;function Wp(e,t){return Be(e)?e.some(n=>Wp(n,t)):Mn(e)?e.split(",").includes(t):OK(e)?e.test(t):!1}function lT(e,t){rB(e,"a",t)}function uT(e,t){rB(e,"da",t)}function rB(e,t,n=lr){const r=e.__wdc||(e.__wdc=()=>{let i=n;for(;i;){if(i.isDeactivated)return;i=i.parent}return e()});if(z0(t,r,n),n){let i=n.parent;for(;i&&i.parent;)Jg(i.parent.vnode)&&Z7(r,t,n,i),i=i.parent}}function Z7(e,t,n,r){const i=z0(t,e,r,!0);ur(()=>{Vx(r[t],i)},n)}function Zw(e){e.shapeFlag&=-257,e.shapeFlag&=-513}function e1(e){return e.shapeFlag&128?e.ssContent:e}function z0(e,t,n=lr,r=!1){if(n){const i=n[e]||(n[e]=[]),s=t.__weh||(t.__weh=(...o)=>{if(n.isUnmounted)return;Rf(),Tl(n);const a=Ki(t,n,e,o);return fl(),Df(),a});return r?i.unshift(s):i.push(s),s}}const $a=e=>(t,n=lr)=>(!Xd||e==="sp")&&z0(e,(...r)=>t(...r),n),iB=$a("bm"),Qt=$a("m"),sB=$a("bu"),K0=$a("u"),Vl=$a("bum"),ur=$a("um"),oB=$a("sp"),aB=$a("rtg"),lB=$a("rtc");function uB(e,t=lr){z0("ec",e,t)}const cT="components",eG="directives";function Wu(e,t){return dT(cT,e,!0,t)||e}const cB=Symbol.for("v-ndc");function Yd(e){return Mn(e)?dT(cT,e,!1)||e:e||cB}function tG(e){return dT(eG,e)}function dT(e,t,n=!0,r=!1){const i=kr||lr;if(i){const s=i.type;if(e===cT){const a=l$(s,!1);if(a&&(a===t||a===Ci(t)||a===Kg(Ci(t))))return s}const o=EO(i[e]||s[e],t)||EO(i.appContext[e],t);return!o&&r?s:o}}function EO(e,t){return e&&(e[t]||e[Ci(t)]||e[Kg(Ci(t))])}function qu(e,t,n,r){let i;const s=n&&n[r];if(Be(e)||Mn(e)){i=new Array(e.length);for(let o=0,a=e.length;o<a;o++)i[o]=t(e[o],o,void 0,s&&s[o])}else if(typeof e=="number"){i=new Array(e);for(let o=0;o<e;o++)i[o]=t(o+1,o,void 0,s&&s[o])}else if(ln(e))if(e[Symbol.iterator])i=Array.from(e,(o,a)=>t(o,a,void 0,s&&s[a]));else{const o=Object.keys(e);i=new Array(o.length);for(let a=0,l=o.length;a<l;a++){const u=o[a];i[a]=t(e[u],u,a,s&&s[a])}}else i=[];return n&&(n[r]=i),i}function dB(e,t){for(let n=0;n<t.length;n++){const r=t[n];if(Be(r))for(let i=0;i<r.length;i++)e[r[i].name]=r[i].fn;else r&&(e[r.name]=r.key?(...i)=>{const s=r.fn(...i);return s&&(s.key=r.key),s}:r.fn)}return e}function gr(e,t,n={},r,i){if(kr.isCE||kr.parent&&Ou(kr.parent)&&kr.parent.isCE)return t!=="default"&&(n.name=t),we("slot",n,r&&r());let s=e[t];s&&s._c&&(s._d=!1),re();const o=s&&fB(s(n)),a=We(pn,{key:n.key||o&&o.key||`_${t}`},o||(r?r():[]),o&&e._===1?64:-2);return!i&&a.scopeId&&(a.slotScopeIds=[a.scopeId+"-s"]),s&&s._c&&(s._d=!0),a}function fB(e){return e.some(t=>xl(t)?!(t.type===Jr||t.type===pn&&!fB(t.children)):!0)?e:null}function JE(e,t){const n={};for(const r in e)n[t&&/[A-Z]/.test(r)?`on:${r}`:lh(r)]=e[r];return n}const ZE=e=>e?OB(e)?Y0(e)||e.proxy:ZE(e.parent):null,uh=$n(Object.create(null),{$:e=>e,$el:e=>e.vnode.el,$data:e=>e.data,$props:e=>e.props,$attrs:e=>e.attrs,$slots:e=>e.slots,$refs:e=>e.refs,$parent:e=>ZE(e.parent),$root:e=>ZE(e.root),$emit:e=>e.emit,$options:e=>fT(e),$forceUpdate:e=>e.f||(e.f=()=>H0(e.update)),$nextTick:e=>e.n||(e.n=qn.bind(e.proxy)),$watch:e=>Y7.bind(e)}),t1=(e,t)=>e!==sn&&!e.__isScriptSetup&&Ft(e,t),e$={get({_:e},t){const{ctx:n,setupState:r,data:i,props:s,accessCache:o,type:a,appContext:l}=e;let u;if(t[0]!=="$"){const p=o[t];if(p!==void 0)switch(p){case 1:return r[t];case 2:return i[t];case 4:return n[t];case 3:return s[t]}else{if(t1(r,t))return o[t]=1,r[t];if(i!==sn&&Ft(i,t))return o[t]=2,i[t];if((u=e.propsOptions[0])&&Ft(u,t))return o[t]=3,s[t];if(n!==sn&&Ft(n,t))return o[t]=4,n[t];t$&&(o[t]=0)}}const c=uh[t];let d,f;if(c)return t==="$attrs"&&Mi(e,"get",t),c(e);if((d=a.__cssModules)&&(d=d[t]))return d;if(n!==sn&&Ft(n,t))return o[t]=4,n[t];if(f=l.config.globalProperties,Ft(f,t))return f[t]},set({_:e},t,n){const{data:r,setupState:i,ctx:s}=e;return t1(i,t)?(i[t]=n,!0):r!==sn&&Ft(r,t)?(r[t]=n,!0):Ft(e.props,t)||t[0]==="$"&&t.slice(1)in e?!1:(s[t]=n,!0)},has({_:{data:e,setupState:t,accessCache:n,ctx:r,appContext:i,propsOptions:s}},o){let a;return!!n[o]||e!==sn&&Ft(e,o)||t1(t,o)||(a=s[0])&&Ft(a,o)||Ft(r,o)||Ft(uh,o)||Ft(i.config.globalProperties,o)},defineProperty(e,t,n){return n.get!=null?e._.accessCache[t]=0:Ft(n,"value")&&this.set(e,t,n.value,null),Reflect.defineProperty(e,t,n)}},nG=$n({},e$,{get(e,t){if(t!==Symbol.unscopables)return e$.get(e,t,e)},has(e,t){return t[0]!=="_"&&!MK(t)}});function rG(){return null}function iG(){return null}function sG(e){}function oG(e){}function aG(){return null}function lG(){}function uG(e,t){return null}function cG(){return pB().slots}function dG(){return pB().attrs}function fG(e,t,n){const r=Pr();if(n&&n.local){const i=ne(e[t]);return xt(()=>e[t],s=>i.value=s),xt(i,s=>{s!==e[t]&&r.emit(`update:${t}`,s)}),i}else return{__v_isRef:!0,get value(){return e[t]},set value(i){r.emit(`update:${t}`,i)}}}function pB(){const e=Pr();return e.setupContext||(e.setupContext=DB(e))}function Kh(e){return Be(e)?e.reduce((t,n)=>(t[n]=null,t),{}):e}function pG(e,t){const n=Kh(e);for(const r in t){if(r.startsWith("__skip"))continue;let i=n[r];i?Be(i)||et(i)?i=n[r]={type:i,default:t[r]}:i.default=t[r]:i===null&&(i=n[r]={default:t[r]}),i&&t[`__skip_${r}`]&&(i.skipFactory=!0)}return n}function hG(e,t){return!e||!t?e||t:Be(e)&&Be(t)?e.concat(t):$n({},Kh(e),Kh(t))}function gG(e,t){const n={};for(const r in e)t.includes(r)||Object.defineProperty(n,r,{enumerable:!0,get:()=>e[r]});return n}function mG(e){const t=Pr();let n=e();return fl(),Hx(n)&&(n=n.catch(r=>{throw Tl(t),r})),[n,()=>Tl(t)]}let t$=!0;function vG(e){const t=fT(e),n=e.proxy,r=e.ctx;t$=!1,t.beforeCreate&&$O(t.beforeCreate,e,"bc");const{data:i,computed:s,methods:o,watch:a,provide:l,inject:u,created:c,beforeMount:d,mounted:f,beforeUpdate:p,updated:h,activated:g,deactivated:m,beforeDestroy:v,beforeUnmount:y,destroyed:b,unmounted:_,render:S,renderTracked:I,renderTriggered:T,errorCaptured:w,serverPrefetch:x,expose:E,inheritAttrs:O,components:M,directives:V,filters:H}=t;if(u&&yG(u,r,null),o)for(const ae in o){const xe=o[ae];et(xe)&&(r[ae]=xe.bind(n))}if(i){const ae=i.call(n,n);ln(ae)&&(e.data=Wi(ae))}if(t$=!0,s)for(const ae in s){const xe=s[ae],Ie=et(xe)?xe.bind(n,n):et(xe.get)?xe.get.bind(n,n):Bs,ft=!et(xe)&&et(xe.set)?xe.set.bind(n):Bs,Ye=Ae({get:Ie,set:ft});Object.defineProperty(r,ae,{enumerable:!0,configurable:!0,get:()=>Ye.value,set:St=>Ye.value=St})}if(a)for(const ae in a)hB(a[ae],r,n,ae);if(l){const ae=et(l)?l.call(n):l;Reflect.ownKeys(ae).forEach(xe=>{Kn(xe,ae[xe])})}c&&$O(c,e,"c");function ce(ae,xe){Be(xe)?xe.forEach(Ie=>ae(Ie.bind(n))):xe&&ae(xe.bind(n))}if(ce(iB,d),ce(Qt,f),ce(sB,p),ce(K0,h),ce(lT,g),ce(uT,m),ce(uB,w),ce(lB,I),ce(aB,T),ce(Vl,y),ce(ur,_),ce(oB,x),Be(E))if(E.length){const ae=e.exposed||(e.exposed={});E.forEach(xe=>{Object.defineProperty(ae,xe,{get:()=>n[xe],set:Ie=>n[xe]=Ie})})}else e.exposed||(e.exposed={});S&&e.render===Bs&&(e.render=S),O!=null&&(e.inheritAttrs=O),M&&(e.components=M),V&&(e.directives=V)}function yG(e,t,n=Bs){Be(e)&&(e=n$(e));for(const r in e){const i=e[r];let s;ln(i)?"default"in i?s=lt(i.from||r,i.default,!0):s=lt(i.from||r):s=lt(i),hn(s)?Object.defineProperty(t,r,{enumerable:!0,configurable:!0,get:()=>s.value,set:o=>s.value=o}):t[r]=s}}function $O(e,t,n){Ki(Be(e)?e.map(r=>r.bind(t.proxy)):e.bind(t.proxy),t,n)}function hB(e,t,n,r){const i=r.includes(".")?eB(n,r):()=>n[r];if(Mn(e)){const s=t[e];et(s)&&xt(i,s)}else if(et(e))xt(i,e.bind(n));else if(ln(e))if(Be(e))e.forEach(s=>hB(s,t,n,r));else{const s=et(e.handler)?e.handler.bind(n):t[e.handler];et(s)&&xt(i,s,e)}}function fT(e){const t=e.type,{mixins:n,extends:r}=t,{mixins:i,optionsCache:s,config:{optionMergeStrategies:o}}=e.appContext,a=s.get(t);let l;return a?l=a:!i.length&&!n&&!r?l=t:(l={},i.length&&i.forEach(u=>qy(l,u,o,!0)),qy(l,t,o)),ln(t)&&s.set(t,l),l}function qy(e,t,n,r=!1){const{mixins:i,extends:s}=t;s&&qy(e,s,n,!0),i&&i.forEach(o=>qy(e,o,n,!0));for(const o in t)if(!(r&&o==="expose")){const a=_G[o]||n&&n[o];e[o]=a?a(e[o],t[o]):t[o]}return e}const _G={data:SO,props:xO,emits:xO,methods:qp,computed:qp,beforeCreate:ii,created:ii,beforeMount:ii,mounted:ii,beforeUpdate:ii,updated:ii,beforeDestroy:ii,beforeUnmount:ii,destroyed:ii,unmounted:ii,activated:ii,deactivated:ii,errorCaptured:ii,serverPrefetch:ii,components:qp,directives:qp,watch:wG,provide:SO,inject:bG};function SO(e,t){return t?e?function(){return $n(et(e)?e.call(this,this):e,et(t)?t.call(this,this):t)}:t:e}function bG(e,t){return qp(n$(e),n$(t))}function n$(e){if(Be(e)){const t={};for(let n=0;n<e.length;n++)t[e[n]]=e[n];return t}return e}function ii(e,t){return e?[...new Set([].concat(e,t))]:t}function qp(e,t){return e?$n(Object.create(null),e,t):t}function xO(e,t){return e?Be(e)&&Be(t)?[...new Set([...e,...t])]:$n(Object.create(null),Kh(e),Kh(t??{})):t}function wG(e,t){if(!e)return t;if(!t)return e;const n=$n(Object.create(null),e);for(const r in t)n[r]=ii(e[r],t[r]);return n}function gB(){return{app:null,config:{isNativeTag:CK,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let EG=0;function $G(e,t){return function(r,i=null){et(r)||(r=$n({},r)),i!=null&&!ln(i)&&(i=null);const s=gB(),o=new Set;let a=!1;const l=s.app={_uid:EG++,_component:r,_props:i,_container:null,_context:s,_instance:null,version:X0,get config(){return s.config},set config(u){},use(u,...c){return o.has(u)||(u&&et(u.install)?(o.add(u),u.install(l,...c)):et(u)&&(o.add(u),u(l,...c))),l},mixin(u){return s.mixins.includes(u)||s.mixins.push(u),l},component(u,c){return c?(s.components[u]=c,l):s.components[u]},directive(u,c){return c?(s.directives[u]=c,l):s.directives[u]},mount(u,c,d){if(!a){const f=we(r,i);return f.appContext=s,c&&t?t(f,u):e(f,u,d),a=!0,l._container=u,u.__vue_app__=l,Y0(f.component)||f.component.proxy}},unmount(){a&&(e(null,l._container),delete l._container.__vue_app__)},provide(u,c){return s.provides[u]=c,l},runWithContext(u){Gh=l;try{return u()}finally{Gh=null}}};return l}}let Gh=null;function Kn(e,t){if(lr){let n=lr.provides;const r=lr.parent&&lr.parent.provides;r===n&&(n=lr.provides=Object.create(r)),n[e]=t}}function lt(e,t,n=!1){const r=lr||kr;if(r||Gh){const i=r?r.parent==null?r.vnode.appContext&&r.vnode.appContext.provides:r.parent.provides:Gh._context.provides;if(i&&e in i)return i[e];if(arguments.length>1)return n&&et(t)?t.call(r&&r.proxy):t}}function SG(){return!!(lr||kr||Gh)}function xG(e,t,n,r=!1){const i={},s={};Fy(s,G0,1),e.propsDefaults=Object.create(null),mB(e,t,i,s);for(const o in e.propsOptions[0])o in i||(i[o]=void 0);n?e.props=r?i:Hy(i):e.type.props?e.props=i:e.props=s,e.attrs=s}function TG(e,t,n,r){const{props:i,attrs:s,vnode:{patchFlag:o}}=e,a=Rt(i),[l]=e.propsOptions;let u=!1;if((r||o>0)&&!(o&16)){if(o&8){const c=e.vnode.dynamicProps;for(let d=0;d<c.length;d++){let f=c[d];if(j0(e.emitsOptions,f))continue;const p=t[f];if(l)if(Ft(s,f))p!==s[f]&&(s[f]=p,u=!0);else{const h=Ci(f);i[h]=r$(l,a,h,p,e,!1)}else p!==s[f]&&(s[f]=p,u=!0)}}}else{mB(e,t,i,s)&&(u=!0);let c;for(const d in a)(!t||!Ft(t,d)&&((c=us(d))===d||!Ft(t,c)))&&(l?n&&(n[d]!==void 0||n[c]!==void 0)&&(i[d]=r$(l,a,d,void 0,e,!0)):delete i[d]);if(s!==a)for(const d in s)(!t||!Ft(t,d))&&(delete s[d],u=!0)}u&&ca(e,"set","$attrs")}function mB(e,t,n,r){const[i,s]=e.propsOptions;let o=!1,a;if(t)for(let l in t){if(ah(l))continue;const u=t[l];let c;i&&Ft(i,c=Ci(l))?!s||!s.includes(c)?n[c]=u:(a||(a={}))[c]=u:j0(e.emitsOptions,l)||(!(l in r)||u!==r[l])&&(r[l]=u,o=!0)}if(s){const l=Rt(n),u=a||sn;for(let c=0;c<s.length;c++){const d=s[c];n[d]=r$(i,l,d,u[d],e,!Ft(u,d))}}return o}function r$(e,t,n,r,i,s){const o=e[n];if(o!=null){const a=Ft(o,"default");if(a&&r===void 0){const l=o.default;if(o.type!==Function&&!o.skipFactory&&et(l)){const{propsDefaults:u}=i;n in u?r=u[n]:(Tl(i),r=u[n]=l.call(null,t),fl())}else r=l}o[0]&&(s&&!a?r=!1:o[1]&&(r===""||r===us(n))&&(r=!0))}return r}function vB(e,t,n=!1){const r=t.propsCache,i=r.get(e);if(i)return i;const s=e.props,o={},a=[];let l=!1;if(!et(e)){const c=d=>{l=!0;const[f,p]=vB(d,t,!0);$n(o,f),p&&a.push(...p)};!n&&t.mixins.length&&t.mixins.forEach(c),e.extends&&c(e.extends),e.mixins&&e.mixins.forEach(c)}if(!s&&!l)return ln(e)&&r.set(e,_d),_d;if(Be(s))for(let c=0;c<s.length;c++){const d=Ci(s[c]);TO(d)&&(o[d]=sn)}else if(s)for(const c in s){const d=Ci(c);if(TO(d)){const f=s[c],p=o[d]=Be(f)||et(f)?{type:f}:$n({},f);if(p){const h=AO(Boolean,p.type),g=AO(String,p.type);p[0]=h>-1,p[1]=g<0||h<g,(h>-1||Ft(p,"default"))&&a.push(d)}}}const u=[o,a];return ln(e)&&r.set(e,u),u}function TO(e){return e[0]!=="$"}function IO(e){const t=e&&e.toString().match(/^\s*(function|class) (\w+)/);return t?t[2]:e===null?"null":""}function CO(e,t){return IO(e)===IO(t)}function AO(e,t){return Be(t)?t.findIndex(n=>CO(n,e)):et(t)&&CO(t,e)?0:-1}const yB=e=>e[0]==="_"||e==="$stable",pT=e=>Be(e)?e.map(Hi):[Hi(e)],IG=(e,t,n)=>{if(t._n)return t;const r=Ze((...i)=>pT(t(...i)),n);return r._c=!1,r},_B=(e,t,n)=>{const r=e._ctx;for(const i in e){if(yB(i))continue;const s=e[i];if(et(s))t[i]=IG(i,s,r);else if(s!=null){const o=pT(s);t[i]=()=>o}}},bB=(e,t)=>{const n=pT(t);e.slots.default=()=>n},CG=(e,t)=>{if(e.vnode.shapeFlag&32){const n=t._;n?(e.slots=Rt(t),Fy(t,"_",n)):_B(t,e.slots={})}else e.slots={},t&&bB(e,t);Fy(e.slots,G0,1)},AG=(e,t,n)=>{const{vnode:r,slots:i}=e;let s=!0,o=sn;if(r.shapeFlag&32){const a=t._;a?n&&a===1?s=!1:($n(i,t),!n&&a===1&&delete i._):(s=!t.$stable,_B(t,i)),o=t}else t&&(bB(e,t),o={default:1});if(s)for(const a in i)!yB(a)&&!(a in o)&&delete i[a]};function zy(e,t,n,r,i=!1){if(Be(e)){e.forEach((f,p)=>zy(f,t&&(Be(t)?t[p]:t),n,r,i));return}if(Ou(r)&&!i)return;const s=r.shapeFlag&4?Y0(r.component)||r.component.proxy:r.el,o=i?null:s,{i:a,r:l}=e,u=t&&t.r,c=a.refs===sn?a.refs={}:a.refs,d=a.setupState;if(u!=null&&u!==l&&(Mn(u)?(c[u]=null,Ft(d,u)&&(d[u]=null)):hn(u)&&(u.value=null)),et(l))Zo(l,a,12,[o,c]);else{const f=Mn(l),p=hn(l);if(f||p){const h=()=>{if(e.f){const g=f?Ft(d,l)?d[l]:c[l]:l.value;i?Be(g)&&Vx(g,s):Be(g)?g.includes(s)||g.push(s):f?(c[l]=[s],Ft(d,l)&&(d[l]=c[l])):(l.value=[s],e.k&&(c[e.k]=l.value))}else f?(c[l]=o,Ft(d,l)&&(d[l]=o)):p&&(l.value=o,e.k&&(c[e.k]=o))};o?(h.id=-1,Fr(h,n)):h()}}}let Ha=!1;const rv=e=>/svg/.test(e.namespaceURI)&&e.tagName!=="foreignObject",iv=e=>e.nodeType===8;function kG(e){const{mt:t,p:n,o:{patchProp:r,createText:i,nextSibling:s,parentNode:o,remove:a,insert:l,createComment:u}}=e,c=(v,y)=>{if(!y.hasChildNodes()){n(null,v,y),jy(),y._vnode=v;return}Ha=!1,d(y.firstChild,v,null,null,null),jy(),y._vnode=v,Ha&&console.error("Hydration completed but contains mismatches.")},d=(v,y,b,_,S,I=!1)=>{const T=iv(v)&&v.data==="[",w=()=>g(v,y,b,_,S,T),{type:x,ref:E,shapeFlag:O,patchFlag:M}=y;let V=v.nodeType;y.el=v,M===-2&&(I=!1,y.dynamicChildren=null);let H=null;switch(x){case zu:V!==3?y.children===""?(l(y.el=i(""),o(v),v),H=v):H=w():(v.data!==y.children&&(Ha=!0,v.data=y.children),H=s(v));break;case Jr:V!==8||T?H=w():H=s(v);break;case Pu:if(T&&(v=s(v),V=v.nodeType),V===1||V===3){H=v;const me=!y.children.length;for(let ce=0;ce<y.staticCount;ce++)me&&(y.children+=H.nodeType===1?H.outerHTML:H.data),ce===y.staticCount-1&&(y.anchor=H),H=s(H);return T?s(H):H}else w();break;case pn:T?H=h(v,y,b,_,S,I):H=w();break;default:if(O&1)V!==1||y.type.toLowerCase()!==v.tagName.toLowerCase()?H=w():H=f(v,y,b,_,S,I);else if(O&6){y.slotScopeIds=S;const me=o(v);if(t(y,me,null,b,_,rv(me),I),H=T?m(v):s(v),H&&iv(H)&&H.data==="teleport end"&&(H=s(H)),Ou(y)){let ce;T?(ce=we(pn),ce.anchor=H?H.previousSibling:me.lastChild):ce=v.nodeType===3?En(""):we("div"),ce.el=v,y.component.subTree=ce}}else O&64?V!==8?H=w():H=y.type.hydrate(v,y,b,_,S,I,e,p):O&128&&(H=y.type.hydrate(v,y,b,_,rv(o(v)),S,I,e,d))}return E!=null&&zy(E,null,_,y),H},f=(v,y,b,_,S,I)=>{I=I||!!y.dynamicChildren;const{type:T,props:w,patchFlag:x,shapeFlag:E,dirs:O}=y,M=T==="input"&&O||T==="option";if(M||x!==-1){if(O&&no(y,null,b,"created"),w)if(M||!I||x&48)for(const H in w)(M&&H.endsWith("value")||zg(H)&&!ah(H))&&r(v,H,null,w[H],!1,void 0,b);else w.onClick&&r(v,"onClick",null,w.onClick,!1,void 0,b);let V;if((V=w&&w.onVnodeBeforeMount)&&Ei(V,b,y),O&&no(y,null,b,"beforeMount"),((V=w&&w.onVnodeMounted)||O)&&JF(()=>{V&&Ei(V,b,y),O&&no(y,null,b,"mounted")},_),E&16&&!(w&&(w.innerHTML||w.textContent))){let H=p(v.firstChild,y,v,b,_,S,I);for(;H;){Ha=!0;const me=H;H=H.nextSibling,a(me)}}else E&8&&v.textContent!==y.children&&(Ha=!0,v.textContent=y.children)}return v.nextSibling},p=(v,y,b,_,S,I,T)=>{T=T||!!y.dynamicChildren;const w=y.children,x=w.length;for(let E=0;E<x;E++){const O=T?w[E]:w[E]=Hi(w[E]);if(v)v=d(v,O,_,S,I,T);else{if(O.type===zu&&!O.children)continue;Ha=!0,n(null,O,b,null,_,S,rv(b),I)}}return v},h=(v,y,b,_,S,I)=>{const{slotScopeIds:T}=y;T&&(S=S?S.concat(T):T);const w=o(v),x=p(s(v),y,w,b,_,S,I);return x&&iv(x)&&x.data==="]"?s(y.anchor=x):(Ha=!0,l(y.anchor=u("]"),w,x),x)},g=(v,y,b,_,S,I)=>{if(Ha=!0,y.el=null,I){const x=m(v);for(;;){const E=s(v);if(E&&E!==x)a(E);else break}}const T=s(v),w=o(v);return a(v),n(null,y,w,T,b,_,rv(w),S),T},m=v=>{let y=0;for(;v;)if(v=s(v),v&&iv(v)&&(v.data==="["&&y++,v.data==="]")){if(y===0)return s(v);y--}return v};return[c,d]}const Fr=JF;function wB(e){return $B(e)}function EB(e){return $B(e,kG)}function $B(e,t){const n=KE();n.__VUE__=!0;const{insert:r,remove:i,patchProp:s,createElement:o,createText:a,createComment:l,setText:u,setElementText:c,parentNode:d,nextSibling:f,setScopeId:p=Bs,insertStaticContent:h}=e,g=(P,R,U,z=null,Q=null,J=null,ge=!1,he=null,ye=!!R.dynamicChildren)=>{if(P===R)return;P&&!Rs(P,R)&&(z=L(P),St(P,Q,J,!0),P=null),R.patchFlag===-2&&(ye=!1,R.dynamicChildren=null);const{type:de,ref:se,shapeFlag:pe}=R;switch(de){case zu:m(P,R,U,z);break;case Jr:v(P,R,U,z);break;case Pu:P==null&&y(R,U,z,ge);break;case pn:M(P,R,U,z,Q,J,ge,he,ye);break;default:pe&1?S(P,R,U,z,Q,J,ge,he,ye):pe&6?V(P,R,U,z,Q,J,ge,he,ye):(pe&64||pe&128)&&de.process(P,R,U,z,Q,J,ge,he,ye,q)}se!=null&&Q&&zy(se,P&&P.ref,J,R||P,!R)},m=(P,R,U,z)=>{if(P==null)r(R.el=a(R.children),U,z);else{const Q=R.el=P.el;R.children!==P.children&&u(Q,R.children)}},v=(P,R,U,z)=>{P==null?r(R.el=l(R.children||""),U,z):R.el=P.el},y=(P,R,U,z)=>{[P.el,P.anchor]=h(P.children,R,U,z,P.el,P.anchor)},b=({el:P,anchor:R},U,z)=>{let Q;for(;P&&P!==R;)Q=f(P),r(P,U,z),P=Q;r(R,U,z)},_=({el:P,anchor:R})=>{let U;for(;P&&P!==R;)U=f(P),i(P),P=U;i(R)},S=(P,R,U,z,Q,J,ge,he,ye)=>{ge=ge||R.type==="svg",P==null?I(R,U,z,Q,J,ge,he,ye):x(P,R,Q,J,ge,he,ye)},I=(P,R,U,z,Q,J,ge,he)=>{let ye,de;const{type:se,props:pe,shapeFlag:$e,transition:Te,dirs:qe}=P;if(ye=P.el=o(P.type,J,pe&&pe.is,pe),$e&8?c(ye,P.children):$e&16&&w(P.children,ye,null,z,Q,J&&se!=="foreignObject",ge,he),qe&&no(P,null,z,"created"),T(ye,P,P.scopeId,ge,z),pe){for(const je in pe)je!=="value"&&!ah(je)&&s(ye,je,null,pe[je],J,P.children,z,Q,G);"value"in pe&&s(ye,"value",null,pe.value),(de=pe.onVnodeBeforeMount)&&Ei(de,z,P)}qe&&no(P,null,z,"beforeMount");const yt=(!Q||Q&&!Q.pendingBranch)&&Te&&!Te.persisted;yt&&Te.beforeEnter(ye),r(ye,R,U),((de=pe&&pe.onVnodeMounted)||yt||qe)&&Fr(()=>{de&&Ei(de,z,P),yt&&Te.enter(ye),qe&&no(P,null,z,"mounted")},Q)},T=(P,R,U,z,Q)=>{if(U&&p(P,U),z)for(let J=0;J<z.length;J++)p(P,z[J]);if(Q){let J=Q.subTree;if(R===J){const ge=Q.vnode;T(P,ge,ge.scopeId,ge.slotScopeIds,Q.parent)}}},w=(P,R,U,z,Q,J,ge,he,ye=0)=>{for(let de=ye;de<P.length;de++){const se=P[de]=he?Ya(P[de]):Hi(P[de]);g(null,se,R,U,z,Q,J,ge,he)}},x=(P,R,U,z,Q,J,ge)=>{const he=R.el=P.el;let{patchFlag:ye,dynamicChildren:de,dirs:se}=R;ye|=P.patchFlag&16;const pe=P.props||sn,$e=R.props||sn;let Te;U&&ou(U,!1),(Te=$e.onVnodeBeforeUpdate)&&Ei(Te,U,R,P),se&&no(R,P,U,"beforeUpdate"),U&&ou(U,!0);const qe=Q&&R.type!=="foreignObject";if(de?E(P.dynamicChildren,de,he,U,z,qe,J):ge||xe(P,R,he,null,U,z,qe,J,!1),ye>0){if(ye&16)O(he,R,pe,$e,U,z,Q);else if(ye&2&&pe.class!==$e.class&&s(he,"class",null,$e.class,Q),ye&4&&s(he,"style",pe.style,$e.style,Q),ye&8){const yt=R.dynamicProps;for(let je=0;je<yt.length;je++){const pt=yt[je],Fn=pe[pt],Jn=$e[pt];(Jn!==Fn||pt==="value")&&s(he,pt,Fn,Jn,Q,P.children,U,z,G)}}ye&1&&P.children!==R.children&&c(he,R.children)}else!ge&&de==null&&O(he,R,pe,$e,U,z,Q);((Te=$e.onVnodeUpdated)||se)&&Fr(()=>{Te&&Ei(Te,U,R,P),se&&no(R,P,U,"updated")},z)},E=(P,R,U,z,Q,J,ge)=>{for(let he=0;he<R.length;he++){const ye=P[he],de=R[he],se=ye.el&&(ye.type===pn||!Rs(ye,de)||ye.shapeFlag&70)?d(ye.el):U;g(ye,de,se,null,z,Q,J,ge,!0)}},O=(P,R,U,z,Q,J,ge)=>{if(U!==z){if(U!==sn)for(const he in U)!ah(he)&&!(he in z)&&s(P,he,U[he],null,ge,R.children,Q,J,G);for(const he in z){if(ah(he))continue;const ye=z[he],de=U[he];ye!==de&&he!=="value"&&s(P,he,de,ye,ge,R.children,Q,J,G)}"value"in z&&s(P,"value",U.value,z.value)}},M=(P,R,U,z,Q,J,ge,he,ye)=>{const de=R.el=P?P.el:a(""),se=R.anchor=P?P.anchor:a("");let{patchFlag:pe,dynamicChildren:$e,slotScopeIds:Te}=R;Te&&(he=he?he.concat(Te):Te),P==null?(r(de,U,z),r(se,U,z),w(R.children,U,se,Q,J,ge,he,ye)):pe>0&&pe&64&&$e&&P.dynamicChildren?(E(P.dynamicChildren,$e,U,Q,J,ge,he),(R.key!=null||Q&&R===Q.subTree)&&hT(P,R,!0)):xe(P,R,U,se,Q,J,ge,he,ye)},V=(P,R,U,z,Q,J,ge,he,ye)=>{R.slotScopeIds=he,P==null?R.shapeFlag&512?Q.ctx.activate(R,U,z,ge,ye):H(R,U,z,Q,J,ge,ye):me(P,R,ye)},H=(P,R,U,z,Q,J,ge)=>{const he=P.component=kB(P,z,Q);if(Jg(P)&&(he.ctx.renderer=q),PB(he),he.asyncDep){if(Q&&Q.registerDep(he,ce),!P.el){const ye=he.subTree=we(Jr);v(null,ye,R,U)}return}ce(he,P,R,U,Q,J,ge)},me=(P,R,U)=>{const z=R.component=P.component;if(V7(P,R,U))if(z.asyncDep&&!z.asyncResolved){ae(z,R,U);return}else z.next=R,N7(z.update),z.update();else R.el=P.el,z.vnode=R},ce=(P,R,U,z,Q,J,ge)=>{const he=()=>{if(P.isMounted){let{next:se,bu:pe,u:$e,parent:Te,vnode:qe}=P,yt=se,je;ou(P,!1),se?(se.el=qe.el,ae(P,se,ge)):se=qe,pe&&wd(pe),(je=se.props&&se.props.onVnodeBeforeUpdate)&&Ei(je,Te,se,qe),ou(P,!0);const pt=oy(P),Fn=P.subTree;P.subTree=pt,g(Fn,pt,d(Fn.el),L(Fn),P,Q,J),se.el=pt.el,yt===null&&rT(P,pt.el),$e&&Fr($e,Q),(je=se.props&&se.props.onVnodeUpdated)&&Fr(()=>Ei(je,Te,se,qe),Q)}else{let se;const{el:pe,props:$e}=R,{bm:Te,m:qe,parent:yt}=P,je=Ou(R);if(ou(P,!1),Te&&wd(Te),!je&&(se=$e&&$e.onVnodeBeforeMount)&&Ei(se,yt,R),ou(P,!0),pe&&Fe){const pt=()=>{P.subTree=oy(P),Fe(pe,P.subTree,P,Q,null)};je?R.type.__asyncLoader().then(()=>!P.isUnmounted&&pt()):pt()}else{const pt=P.subTree=oy(P);g(null,pt,U,z,P,Q,J),R.el=pt.el}if(qe&&Fr(qe,Q),!je&&(se=$e&&$e.onVnodeMounted)){const pt=R;Fr(()=>Ei(se,yt,pt),Q)}(R.shapeFlag&256||yt&&Ou(yt.vnode)&&yt.vnode.shapeFlag&256)&&P.a&&Fr(P.a,Q),P.isMounted=!0,R=U=z=null}},ye=P.effect=new Xg(he,()=>H0(de),P.scope),de=P.update=()=>ye.run();de.id=P.uid,ou(P,!0),de()},ae=(P,R,U)=>{R.component=P;const z=P.vnode.props;P.vnode=R,P.next=null,TG(P,R.props,z,U),AG(P,R.children,U),Rf(),yO(),Df()},xe=(P,R,U,z,Q,J,ge,he,ye=!1)=>{const de=P&&P.children,se=P?P.shapeFlag:0,pe=R.children,{patchFlag:$e,shapeFlag:Te}=R;if($e>0){if($e&128){ft(de,pe,U,z,Q,J,ge,he,ye);return}else if($e&256){Ie(de,pe,U,z,Q,J,ge,he,ye);return}}Te&8?(se&16&&G(de,Q,J),pe!==de&&c(U,pe)):se&16?Te&16?ft(de,pe,U,z,Q,J,ge,he,ye):G(de,Q,J,!0):(se&8&&c(U,""),Te&16&&w(pe,U,z,Q,J,ge,he,ye))},Ie=(P,R,U,z,Q,J,ge,he,ye)=>{P=P||_d,R=R||_d;const de=P.length,se=R.length,pe=Math.min(de,se);let $e;for($e=0;$e<pe;$e++){const Te=R[$e]=ye?Ya(R[$e]):Hi(R[$e]);g(P[$e],Te,U,null,Q,J,ge,he,ye)}de>se?G(P,Q,J,!0,!1,pe):w(R,U,z,Q,J,ge,he,ye,pe)},ft=(P,R,U,z,Q,J,ge,he,ye)=>{let de=0;const se=R.length;let pe=P.length-1,$e=se-1;for(;de<=pe&&de<=$e;){const Te=P[de],qe=R[de]=ye?Ya(R[de]):Hi(R[de]);if(Rs(Te,qe))g(Te,qe,U,null,Q,J,ge,he,ye);else break;de++}for(;de<=pe&&de<=$e;){const Te=P[pe],qe=R[$e]=ye?Ya(R[$e]):Hi(R[$e]);if(Rs(Te,qe))g(Te,qe,U,null,Q,J,ge,he,ye);else break;pe--,$e--}if(de>pe){if(de<=$e){const Te=$e+1,qe=Te<se?R[Te].el:z;for(;de<=$e;)g(null,R[de]=ye?Ya(R[de]):Hi(R[de]),U,qe,Q,J,ge,he,ye),de++}}else if(de>$e)for(;de<=pe;)St(P[de],Q,J,!0),de++;else{const Te=de,qe=de,yt=new Map;for(de=qe;de<=$e;de++){const cn=R[de]=ye?Ya(R[de]):Hi(R[de]);cn.key!=null&&yt.set(cn.key,de)}let je,pt=0;const Fn=$e-qe+1;let Jn=!1,Sn=0;const jn=new Array(Fn);for(de=0;de<Fn;de++)jn[de]=0;for(de=Te;de<=pe;de++){const cn=P[de];if(pt>=Fn){St(cn,Q,J,!0);continue}let dn;if(cn.key!=null)dn=yt.get(cn.key);else for(je=qe;je<=$e;je++)if(jn[je-qe]===0&&Rs(cn,R[je])){dn=je;break}dn===void 0?St(cn,Q,J,!0):(jn[dn-qe]=de+1,dn>=Sn?Sn=dn:Jn=!0,g(cn,R[dn],U,null,Q,J,ge,he,ye),pt++)}const wr=Jn?OG(jn):_d;for(je=wr.length-1,de=Fn-1;de>=0;de--){const cn=qe+de,dn=R[cn],rn=cn+1<se?R[cn+1].el:z;jn[de]===0?g(null,dn,U,rn,Q,J,ge,he,ye):Jn&&(je<0||de!==wr[je]?Ye(dn,U,rn,2):je--)}}},Ye=(P,R,U,z,Q=null)=>{const{el:J,type:ge,transition:he,children:ye,shapeFlag:de}=P;if(de&6){Ye(P.component.subTree,R,U,z);return}if(de&128){P.suspense.move(R,U,z);return}if(de&64){ge.move(P,R,U,q);return}if(ge===pn){r(J,R,U);for(let pe=0;pe<ye.length;pe++)Ye(ye[pe],R,U,z);r(P.anchor,R,U);return}if(ge===Pu){b(P,R,U);return}if(z!==2&&de&1&&he)if(z===0)he.beforeEnter(J),r(J,R,U),Fr(()=>he.enter(J),Q);else{const{leave:pe,delayLeave:$e,afterLeave:Te}=he,qe=()=>r(J,R,U),yt=()=>{pe(J,()=>{qe(),Te&&Te()})};$e?$e(J,qe,yt):yt()}else r(J,R,U)},St=(P,R,U,z=!1,Q=!1)=>{const{type:J,props:ge,ref:he,children:ye,dynamicChildren:de,shapeFlag:se,patchFlag:pe,dirs:$e}=P;if(he!=null&&zy(he,null,U,P,!0),se&256){R.ctx.deactivate(P);return}const Te=se&1&&$e,qe=!Ou(P);let yt;if(qe&&(yt=ge&&ge.onVnodeBeforeUnmount)&&Ei(yt,R,P),se&6)X(P.component,U,z);else{if(se&128){P.suspense.unmount(U,z);return}Te&&no(P,null,R,"beforeUnmount"),se&64?P.type.remove(P,R,U,Q,q,z):de&&(J!==pn||pe>0&&pe&64)?G(de,R,U,!1,!0):(J===pn&&pe&384||!Q&&se&16)&&G(ye,R,U),z&&F(P)}(qe&&(yt=ge&&ge.onVnodeUnmounted)||Te)&&Fr(()=>{yt&&Ei(yt,R,P),Te&&no(P,null,R,"unmounted")},U)},F=P=>{const{type:R,el:U,anchor:z,transition:Q}=P;if(R===pn){j(U,z);return}if(R===Pu){_(P);return}const J=()=>{i(U),Q&&!Q.persisted&&Q.afterLeave&&Q.afterLeave()};if(P.shapeFlag&1&&Q&&!Q.persisted){const{leave:ge,delayLeave:he}=Q,ye=()=>ge(U,J);he?he(P.el,J,ye):ye()}else J()},j=(P,R)=>{let U;for(;P!==R;)U=f(P),i(P),P=U;i(R)},X=(P,R,U)=>{const{bum:z,scope:Q,update:J,subTree:ge,um:he}=P;z&&wd(z),Q.stop(),J&&(J.active=!1,St(ge,P,R,U)),he&&Fr(he,R),Fr(()=>{P.isUnmounted=!0},R),R&&R.pendingBranch&&!R.isUnmounted&&P.asyncDep&&!P.asyncResolved&&P.suspenseId===R.pendingId&&(R.deps--,R.deps===0&&R.resolve())},G=(P,R,U,z=!1,Q=!1,J=0)=>{for(let ge=J;ge<P.length;ge++)St(P[ge],R,U,z,Q)},L=P=>P.shapeFlag&6?L(P.component.subTree):P.shapeFlag&128?P.suspense.next():f(P.anchor||P.el),W=(P,R,U)=>{P==null?R._vnode&&St(R._vnode,null,null,!0):g(R._vnode||null,P,R,null,null,null,U),yO(),jy(),R._vnode=P},q={p:g,um:St,m:Ye,r:F,mt:H,mc:w,pc:xe,pbc:E,n:L,o:e};let ue,Fe;return t&&([ue,Fe]=t(q)),{render:W,hydrate:ue,createApp:$G(W,ue)}}function ou({effect:e,update:t},n){e.allowRecurse=t.allowRecurse=n}function hT(e,t,n=!1){const r=e.children,i=t.children;if(Be(r)&&Be(i))for(let s=0;s<r.length;s++){const o=r[s];let a=i[s];a.shapeFlag&1&&!a.dynamicChildren&&((a.patchFlag<=0||a.patchFlag===32)&&(a=i[s]=Ya(i[s]),a.el=o.el),n||hT(o,a)),a.type===zu&&(a.el=o.el)}}function OG(e){const t=e.slice(),n=[0];let r,i,s,o,a;const l=e.length;for(r=0;r<l;r++){const u=e[r];if(u!==0){if(i=n[n.length-1],e[i]<u){t[r]=i,n.push(r);continue}for(s=0,o=n.length-1;s<o;)a=s+o>>1,e[n[a]]<u?s=a+1:o=a;u<e[n[s]]&&(s>0&&(t[r]=n[s-1]),n[s]=r)}}for(s=n.length,o=n[s-1];s-- >0;)n[s]=o,o=t[o];return n}const PG=e=>e.__isTeleport,ch=e=>e&&(e.disabled||e.disabled===""),kO=e=>typeof SVGElement<"u"&&e instanceof SVGElement,i$=(e,t)=>{const n=e&&e.to;return Mn(n)?t?t(n):null:n},RG={__isTeleport:!0,process(e,t,n,r,i,s,o,a,l,u){const{mc:c,pc:d,pbc:f,o:{insert:p,querySelector:h,createText:g,createComment:m}}=u,v=ch(t.props);let{shapeFlag:y,children:b,dynamicChildren:_}=t;if(e==null){const S=t.el=g(""),I=t.anchor=g("");p(S,n,r),p(I,n,r);const T=t.target=i$(t.props,h),w=t.targetAnchor=g("");T&&(p(w,T),o=o||kO(T));const x=(E,O)=>{y&16&&c(b,E,O,i,s,o,a,l)};v?x(n,I):T&&x(T,w)}else{t.el=e.el;const S=t.anchor=e.anchor,I=t.target=e.target,T=t.targetAnchor=e.targetAnchor,w=ch(e.props),x=w?n:I,E=w?S:T;if(o=o||kO(I),_?(f(e.dynamicChildren,_,x,i,s,o,a),hT(e,t,!0)):l||d(e,t,x,E,i,s,o,a,!1),v)w||sv(t,n,S,u,1);else if((t.props&&t.props.to)!==(e.props&&e.props.to)){const O=t.target=i$(t.props,h);O&&sv(t,O,null,u,0)}else w&&sv(t,I,T,u,1)}xB(t)},remove(e,t,n,r,{um:i,o:{remove:s}},o){const{shapeFlag:a,children:l,anchor:u,targetAnchor:c,target:d,props:f}=e;if(d&&s(c),(o||!ch(f))&&(s(u),a&16))for(let p=0;p<l.length;p++){const h=l[p];i(h,t,n,!0,!!h.dynamicChildren)}},move:sv,hydrate:DG};function sv(e,t,n,{o:{insert:r},m:i},s=2){s===0&&r(e.targetAnchor,t,n);const{el:o,anchor:a,shapeFlag:l,children:u,props:c}=e,d=s===2;if(d&&r(o,t,n),(!d||ch(c))&&l&16)for(let f=0;f<u.length;f++)i(u[f],t,n,2);d&&r(a,t,n)}function DG(e,t,n,r,i,s,{o:{nextSibling:o,parentNode:a,querySelector:l}},u){const c=t.target=i$(t.props,l);if(c){const d=c._lpa||c.firstChild;if(t.shapeFlag&16)if(ch(t.props))t.anchor=u(o(e),t,a(e),n,r,i,s),t.targetAnchor=d;else{t.anchor=o(e);let f=d;for(;f;)if(f=o(f),f&&f.nodeType===8&&f.data==="teleport anchor"){t.targetAnchor=f,c._lpa=t.targetAnchor&&o(t.targetAnchor);break}u(d,t,c,n,r,i,s)}xB(t)}return t.anchor&&o(t.anchor)}const SB=RG;function xB(e){const t=e.ctx;if(t&&t.ut){let n=e.children[0].el;for(;n!==e.targetAnchor;)n.nodeType===1&&n.setAttribute("data-v-owner",t.uid),n=n.nextSibling;t.ut()}}const pn=Symbol.for("v-fgt"),zu=Symbol.for("v-txt"),Jr=Symbol.for("v-cmt"),Pu=Symbol.for("v-stc"),dh=[];let xi=null;function re(e=!1){dh.push(xi=e?null:[])}function TB(){dh.pop(),xi=dh[dh.length-1]||null}let Ku=1;function s$(e){Ku+=e}function IB(e){return e.dynamicChildren=Ku>0?xi||_d:null,TB(),Ku>0&&xi&&xi.push(e),e}function Le(e,t,n,r,i,s){return IB(Z(e,t,n,r,i,s,!0))}function We(e,t,n,r,i){return IB(we(e,t,n,r,i,!0))}function xl(e){return e?e.__v_isVNode===!0:!1}function Rs(e,t){return e.type===t.type&&e.key===t.key}function NG(e){}const G0="__vInternal",CB=({key:e})=>e??null,ay=({ref:e,ref_key:t,ref_for:n})=>(typeof e=="number"&&(e=""+e),e!=null?Mn(e)||hn(e)||et(e)?{i:kr,r:e,k:t,f:!!n}:e:null);function Z(e,t=null,n=null,r=0,i=null,s=e===pn?0:1,o=!1,a=!1){const l={__v_isVNode:!0,__v_skip:!0,type:e,props:t,key:t&&CB(t),ref:t&&ay(t),scopeId:W0,slotScopeIds:null,children:n,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetAnchor:null,staticCount:0,shapeFlag:s,patchFlag:r,dynamicProps:i,dynamicChildren:null,appContext:null,ctx:kr};return a?(gT(l,n),s&128&&e.normalize(l)):n&&(l.shapeFlag|=Mn(n)?8:16),Ku>0&&!o&&xi&&(l.patchFlag>0||s&6)&&l.patchFlag!==32&&xi.push(l),l}const we=MG;function MG(e,t=null,n=null,r=0,i=null,s=!1){if((!e||e===cB)&&(e=Jr),xl(e)){const a=qs(e,t,!0);return n&&gT(a,n),Ku>0&&!s&&xi&&(a.shapeFlag&6?xi[xi.indexOf(e)]=a:xi.push(a)),a.patchFlag|=-2,a}if(WG(e)&&(e=e.__vccOpts),t){t=AB(t);let{class:a,style:l}=t;a&&!Mn(a)&&(t.class=Vr(a)),ln(l)&&(Gx(l)&&!Be(l)&&(l=$n({},l)),t.style=Gg(l))}const o=Mn(e)?1:QF(e)?128:PG(e)?64:ln(e)?4:et(e)?2:0;return Z(e,t,n,r,i,o,s,!0)}function AB(e){return e?Gx(e)||G0 in e?$n({},e):e:null}function qs(e,t,n=!1){const{props:r,ref:i,patchFlag:s,children:o}=e,a=t?fa(r||{},t):r;return{__v_isVNode:!0,__v_skip:!0,type:e.type,props:a,key:a&&CB(a),ref:t&&t.ref?n&&i?Be(i)?i.concat(ay(t)):[i,ay(t)]:ay(t):i,scopeId:e.scopeId,slotScopeIds:e.slotScopeIds,children:o,target:e.target,targetAnchor:e.targetAnchor,staticCount:e.staticCount,shapeFlag:e.shapeFlag,patchFlag:t&&e.type!==pn?s===-1?16:s|16:s,dynamicProps:e.dynamicProps,dynamicChildren:e.dynamicChildren,appContext:e.appContext,dirs:e.dirs,transition:e.transition,component:e.component,suspense:e.suspense,ssContent:e.ssContent&&qs(e.ssContent),ssFallback:e.ssFallback&&qs(e.ssFallback),el:e.el,anchor:e.anchor,ctx:e.ctx,ce:e.ce}}function En(e=" ",t=0){return we(zu,null,e,t)}function LG(e,t){const n=we(Pu,null,e);return n.staticCount=t,n}function Xe(e="",t=!1){return t?(re(),We(Jr,null,e)):we(Jr,null,e)}function Hi(e){return e==null||typeof e=="boolean"?we(Jr):Be(e)?we(pn,null,e.slice()):typeof e=="object"?Ya(e):we(zu,null,String(e))}function Ya(e){return e.el===null&&e.patchFlag!==-1||e.memo?e:qs(e)}function gT(e,t){let n=0;const{shapeFlag:r}=e;if(t==null)t=null;else if(Be(t))n=16;else if(typeof t=="object")if(r&65){const i=t.default;i&&(i._c&&(i._d=!1),gT(e,i()),i._c&&(i._d=!0));return}else{n=32;const i=t._;!i&&!(G0 in t)?t._ctx=kr:i===3&&kr&&(kr.slots._===1?t._=1:(t._=2,e.patchFlag|=1024))}else et(t)?(t={default:t,_ctx:kr},n=32):(t=String(t),r&64?(n=16,t=[En(t)]):n=8);e.children=t,e.shapeFlag|=n}function fa(...e){const t={};for(let n=0;n<e.length;n++){const r=e[n];for(const i in r)if(i==="class")t.class!==r.class&&(t.class=Vr([t.class,r.class]));else if(i==="style")t.style=Gg([t.style,r.style]);else if(zg(i)){const s=t[i],o=r[i];o&&s!==o&&!(Be(s)&&s.includes(o))&&(t[i]=s?[].concat(s,o):o)}else i!==""&&(t[i]=r[i])}return t}function Ei(e,t,n,r=null){Ki(e,t,7,[n,r])}const FG=gB();let BG=0;function kB(e,t,n){const r=e.type,i=(t?t.appContext:e.appContext)||FG,s={uid:BG++,vnode:e,type:r,parent:t,appContext:i,root:null,next:null,subTree:null,effect:null,update:null,scope:new Wx(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:t?t.provides:Object.create(i.provides),accessCache:null,renderCache:[],components:null,directives:null,propsOptions:vB(r,i),emitsOptions:YF(r,i),emit:null,emitted:null,propsDefaults:sn,inheritAttrs:r.inheritAttrs,ctx:sn,data:sn,props:sn,attrs:sn,slots:sn,refs:sn,setupState:sn,setupContext:null,attrsProxy:null,slotsProxy:null,suspense:n,suspenseId:n?n.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return s.ctx={_:s},s.root=t?t.root:s,s.emit=L7.bind(null,s),e.ce&&e.ce(s),s}let lr=null;const Pr=()=>lr||kr;let mT,Hc,OO="__VUE_INSTANCE_SETTERS__";(Hc=KE()[OO])||(Hc=KE()[OO]=[]),Hc.push(e=>lr=e),mT=e=>{Hc.length>1?Hc.forEach(t=>t(e)):Hc[0](e)};const Tl=e=>{mT(e),e.scope.on()},fl=()=>{lr&&lr.scope.off(),mT(null)};function OB(e){return e.vnode.shapeFlag&4}let Xd=!1;function PB(e,t=!1){Xd=t;const{props:n,children:r}=e.vnode,i=OB(e);xG(e,n,i,t),CG(e,r);const s=i?UG(e,t):void 0;return Xd=!1,s}function UG(e,t){const n=e.type;e.accessCache=Object.create(null),e.proxy=Sc(new Proxy(e.ctx,e$));const{setup:r}=n;if(r){const i=e.setupContext=r.length>1?DB(e):null;Tl(e),Rf();const s=Zo(r,e,0,[e.props,i]);if(Df(),fl(),Hx(s)){if(s.then(fl,fl),t)return s.then(o=>{o$(e,o,t)}).catch(o=>{xc(o,e,0)});e.asyncDep=s}else o$(e,s,t)}else RB(e,t)}function o$(e,t,n){et(t)?e.type.__ssrInlineRender?e.ssrRender=t:e.render=t:ln(t)&&(e.setupState=Qx(t)),RB(e,n)}let Ky,a$;function VG(e){Ky=e,a$=t=>{t.render._rc&&(t.withProxy=new Proxy(t.ctx,nG))}}const HG=()=>!Ky;function RB(e,t,n){const r=e.type;if(!e.render){if(!t&&Ky&&!r.render){const i=r.template||fT(e).template;if(i){const{isCustomElement:s,compilerOptions:o}=e.appContext.config,{delimiters:a,compilerOptions:l}=r,u=$n($n({isCustomElement:s,delimiters:a},o),l);r.render=Ky(i,u)}}e.render=r.render||Bs,a$&&a$(e)}Tl(e),Rf(),vG(e),Df(),fl()}function jG(e){return e.attrsProxy||(e.attrsProxy=new Proxy(e.attrs,{get(t,n){return Mi(e,"get","$attrs"),t[n]}}))}function DB(e){const t=n=>{e.exposed=n||{}};return{get attrs(){return jG(e)},slots:e.slots,emit:e.emit,expose:t}}function Y0(e){if(e.exposed)return e.exposeProxy||(e.exposeProxy=new Proxy(Qx(Sc(e.exposed)),{get(t,n){if(n in t)return t[n];if(n in uh)return uh[n](e)},has(t,n){return n in t||n in uh}}))}function l$(e,t=!0){return et(e)?e.displayName||e.name:e.name||t&&e.__name}function WG(e){return et(e)&&"__vccOpts"in e}const Ae=(e,t)=>k7(e,t,Xd);function Xt(e,t,n){const r=arguments.length;return r===2?ln(t)&&!Be(t)?xl(t)?we(e,null,[t]):we(e,t):we(e,null,t):(r>3?n=Array.prototype.slice.call(arguments,2):r===3&&xl(n)&&(n=[n]),we(e,t,n))}const NB=Symbol.for("v-scx"),MB=()=>lt(NB);function qG(){}function zG(e,t,n,r){const i=n[r];if(i&&LB(i,e))return i;const s=t();return s.memo=e.slice(),n[r]=s}function LB(e,t){const n=e.memo;if(n.length!=t.length)return!1;for(let r=0;r<n.length;r++)if(Kd(n[r],t[r]))return!1;return Ku>0&&xi&&xi.push(e),!0}const X0="3.3.4",KG={createComponentInstance:kB,setupComponent:PB,renderComponentRoot:oy,setCurrentRenderingInstance:qh,isVNode:xl,normalizeVNode:Hi},GG=KG,YG=null,XG=null,QG="http://www.w3.org/2000/svg",gu=typeof document<"u"?document:null,PO=gu&&gu.createElement("template"),JG={insert:(e,t,n)=>{t.insertBefore(e,n||null)},remove:e=>{const t=e.parentNode;t&&t.removeChild(e)},createElement:(e,t,n,r)=>{const i=t?gu.createElementNS(QG,e):gu.createElement(e,n?{is:n}:void 0);return e==="select"&&r&&r.multiple!=null&&i.setAttribute("multiple",r.multiple),i},createText:e=>gu.createTextNode(e),createComment:e=>gu.createComment(e),setText:(e,t)=>{e.nodeValue=t},setElementText:(e,t)=>{e.textContent=t},parentNode:e=>e.parentNode,nextSibling:e=>e.nextSibling,querySelector:e=>gu.querySelector(e),setScopeId(e,t){e.setAttribute(t,"")},insertStaticContent(e,t,n,r,i,s){const o=n?n.previousSibling:t.lastChild;if(i&&(i===s||i.nextSibling))for(;t.insertBefore(i.cloneNode(!0),n),!(i===s||!(i=i.nextSibling)););else{PO.innerHTML=r?`<svg>${e}</svg>`:e;const a=PO.content;if(r){const l=a.firstChild;for(;l.firstChild;)a.appendChild(l.firstChild);a.removeChild(l)}t.insertBefore(a,n)}return[o?o.nextSibling:t.firstChild,n?n.previousSibling:t.lastChild]}};function ZG(e,t,n){const r=e._vtc;r&&(t=(t?[t,...r]:[...r]).join(" ")),t==null?e.removeAttribute("class"):n?e.setAttribute("class",t):e.className=t}function eY(e,t,n){const r=e.style,i=Mn(n);if(n&&!i){if(t&&!Mn(t))for(const s in t)n[s]==null&&u$(r,s,"");for(const s in n)u$(r,s,n[s])}else{const s=r.display;i?t!==n&&(r.cssText=n):t&&e.removeAttribute("style"),"_vod"in e&&(r.display=s)}}const RO=/\s*!important$/;function u$(e,t,n){if(Be(n))n.forEach(r=>u$(e,t,r));else if(n==null&&(n=""),t.startsWith("--"))e.setProperty(t,n);else{const r=tY(e,t);RO.test(n)?e.setProperty(us(r),n.replace(RO,""),"important"):e[r]=n}}const DO=["Webkit","Moz","ms"],n1={};function tY(e,t){const n=n1[t];if(n)return n;let r=Ci(t);if(r!=="filter"&&r in e)return n1[t]=r;r=Kg(r);for(let i=0;i<DO.length;i++){const s=DO[i]+r;if(s in e)return n1[t]=s}return t}const NO="http://www.w3.org/1999/xlink";function nY(e,t,n,r,i){if(r&&t.startsWith("xlink:"))n==null?e.removeAttributeNS(NO,t.slice(6,t.length)):e.setAttributeNS(NO,t,n);else{const s=jK(t);n==null||s&&!TF(n)?e.removeAttribute(t):e.setAttribute(t,s?"":n)}}function rY(e,t,n,r,i,s,o){if(t==="innerHTML"||t==="textContent"){r&&o(r,i,s),e[t]=n??"";return}const a=e.tagName;if(t==="value"&&a!=="PROGRESS"&&!a.includes("-")){e._value=n;const u=a==="OPTION"?e.getAttribute("value"):e.value,c=n??"";u!==c&&(e.value=c),n==null&&e.removeAttribute(t);return}let l=!1;if(n===""||n==null){const u=typeof e[t];u==="boolean"?n=TF(n):n==null&&u==="string"?(n="",l=!0):u==="number"&&(n=0,l=!0)}try{e[t]=n}catch{}l&&e.removeAttribute(t)}function Wo(e,t,n,r){e.addEventListener(t,n,r)}function iY(e,t,n,r){e.removeEventListener(t,n,r)}function sY(e,t,n,r,i=null){const s=e._vei||(e._vei={}),o=s[t];if(r&&o)o.value=r;else{const[a,l]=oY(t);if(r){const u=s[t]=uY(r,i);Wo(e,a,u,l)}else o&&(iY(e,a,o,l),s[t]=void 0)}}const MO=/(?:Once|Passive|Capture)$/;function oY(e){let t;if(MO.test(e)){t={};let r;for(;r=e.match(MO);)e=e.slice(0,e.length-r[0].length),t[r[0].toLowerCase()]=!0}return[e[2]===":"?e.slice(3):us(e.slice(2)),t]}let r1=0;const aY=Promise.resolve(),lY=()=>r1||(aY.then(()=>r1=0),r1=Date.now());function uY(e,t){const n=r=>{if(!r._vts)r._vts=Date.now();else if(r._vts<=n.attached)return;Ki(cY(r,n.value),t,5,[r])};return n.value=e,n.attached=lY(),n}function cY(e,t){if(Be(t)){const n=e.stopImmediatePropagation;return e.stopImmediatePropagation=()=>{n.call(e),e._stopped=!0},t.map(r=>i=>!i._stopped&&r&&r(i))}else return t}const LO=/^on[a-z]/,dY=(e,t,n,r,i=!1,s,o,a,l)=>{t==="class"?ZG(e,r,i):t==="style"?eY(e,n,r):zg(t)?Ux(t)||sY(e,t,n,r,o):(t[0]==="."?(t=t.slice(1),!0):t[0]==="^"?(t=t.slice(1),!1):fY(e,t,r,i))?rY(e,t,r,s,o,a,l):(t==="true-value"?e._trueValue=r:t==="false-value"&&(e._falseValue=r),nY(e,t,r,i))};function fY(e,t,n,r){return r?!!(t==="innerHTML"||t==="textContent"||t in e&&LO.test(t)&&et(n)):t==="spellcheck"||t==="draggable"||t==="translate"||t==="form"||t==="list"&&e.tagName==="INPUT"||t==="type"&&e.tagName==="TEXTAREA"||LO.test(t)&&Mn(n)?!1:t in e}function FB(e,t){const n=mn(e);class r extends Q0{constructor(s){super(n,s,t)}}return r.def=n,r}const pY=e=>FB(e,e5),hY=typeof HTMLElement<"u"?HTMLElement:class{};class Q0 extends hY{constructor(t,n={},r){super(),this._def=t,this._props=n,this._instance=null,this._connected=!1,this._resolved=!1,this._numberProps=null,this.shadowRoot&&r?r(this._createVNode(),this.shadowRoot):(this.attachShadow({mode:"open"}),this._def.__asyncLoader||this._resolveProps(this._def))}connectedCallback(){this._connected=!0,this._instance||(this._resolved?this._update():this._resolveDef())}disconnectedCallback(){this._connected=!1,qn(()=>{this._connected||(f$(null,this.shadowRoot),this._instance=null)})}_resolveDef(){this._resolved=!0;for(let r=0;r<this.attributes.length;r++)this._setAttr(this.attributes[r].name);new MutationObserver(r=>{for(const i of r)this._setAttr(i.attributeName)}).observe(this,{attributes:!0});const t=(r,i=!1)=>{const{props:s,styles:o}=r;let a;if(s&&!Be(s))for(const l in s){const u=s[l];(u===Number||u&&u.type===Number)&&(l in this._props&&(this._props[l]=Uy(this._props[l])),(a||(a=Object.create(null)))[Ci(l)]=!0)}this._numberProps=a,i&&this._resolveProps(r),this._applyStyles(o),this._update()},n=this._def.__asyncLoader;n?n().then(r=>t(r,!0)):t(this._def)}_resolveProps(t){const{props:n}=t,r=Be(n)?n:Object.keys(n||{});for(const i of Object.keys(this))i[0]!=="_"&&r.includes(i)&&this._setProp(i,this[i],!0,!1);for(const i of r.map(Ci))Object.defineProperty(this,i,{get(){return this._getProp(i)},set(s){this._setProp(i,s)}})}_setAttr(t){let n=this.getAttribute(t);const r=Ci(t);this._numberProps&&this._numberProps[r]&&(n=Uy(n)),this._setProp(r,n,!1)}_getProp(t){return this._props[t]}_setProp(t,n,r=!0,i=!0){n!==this._props[t]&&(this._props[t]=n,i&&this._instance&&this._update(),r&&(n===!0?this.setAttribute(us(t),""):typeof n=="string"||typeof n=="number"?this.setAttribute(us(t),n+""):n||this.removeAttribute(us(t))))}_update(){f$(this._createVNode(),this.shadowRoot)}_createVNode(){const t=we(this._def,$n({},this._props));return this._instance||(t.ce=n=>{this._instance=n,n.isCE=!0;const r=(s,o)=>{this.dispatchEvent(new CustomEvent(s,{detail:o}))};n.emit=(s,...o)=>{r(s,o),us(s)!==s&&r(us(s),o)};let i=this;for(;i=i&&(i.parentNode||i.host);)if(i instanceof Q0){n.parent=i._instance,n.provides=i._instance.provides;break}}),t}_applyStyles(t){t&&t.forEach(n=>{const r=document.createElement("style");r.textContent=n,this.shadowRoot.appendChild(r)})}}function gY(e="$style"){{const t=Pr();if(!t)return sn;const n=t.type.__cssModules;if(!n)return sn;const r=n[e];return r||sn}}function mY(e){const t=Pr();if(!t)return;const n=t.ut=(i=e(t.proxy))=>{Array.from(document.querySelectorAll(`[data-v-owner="${t.uid}"]`)).forEach(s=>d$(s,i))},r=()=>{const i=e(t.proxy);c$(t.subTree,i),n(i)};ZF(r),Qt(()=>{const i=new MutationObserver(r);i.observe(t.subTree.el.parentNode,{childList:!0}),ur(()=>i.disconnect())})}function c$(e,t){if(e.shapeFlag&128){const n=e.suspense;e=n.activeBranch,n.pendingBranch&&!n.isHydrating&&n.effects.push(()=>{c$(n.activeBranch,t)})}for(;e.component;)e=e.component.subTree;if(e.shapeFlag&1&&e.el)d$(e.el,t);else if(e.type===pn)e.children.forEach(n=>c$(n,t));else if(e.type===Pu){let{el:n,anchor:r}=e;for(;n&&(d$(n,t),n!==r);)n=n.nextSibling}}function d$(e,t){if(e.nodeType===1){const n=e.style;for(const r in t)n.setProperty(`--${r}`,t[r])}}const ja="transition",gp="animation",Gu=(e,{slots:t})=>Xt(tB,UB(e),t);Gu.displayName="Transition";const BB={name:String,type:String,css:{type:Boolean,default:!0},duration:[String,Number,Object],enterFromClass:String,enterActiveClass:String,enterToClass:String,appearFromClass:String,appearActiveClass:String,appearToClass:String,leaveFromClass:String,leaveActiveClass:String,leaveToClass:String},vY=Gu.props=$n({},aT,BB),au=(e,t=[])=>{Be(e)?e.forEach(n=>n(...t)):e&&e(...t)},FO=e=>e?Be(e)?e.some(t=>t.length>1):e.length>1:!1;function UB(e){const t={};for(const M in e)M in BB||(t[M]=e[M]);if(e.css===!1)return t;const{name:n="v",type:r,duration:i,enterFromClass:s=`${n}-enter-from`,enterActiveClass:o=`${n}-enter-active`,enterToClass:a=`${n}-enter-to`,appearFromClass:l=s,appearActiveClass:u=o,appearToClass:c=a,leaveFromClass:d=`${n}-leave-from`,leaveActiveClass:f=`${n}-leave-active`,leaveToClass:p=`${n}-leave-to`}=e,h=yY(i),g=h&&h[0],m=h&&h[1],{onBeforeEnter:v,onEnter:y,onEnterCancelled:b,onLeave:_,onLeaveCancelled:S,onBeforeAppear:I=v,onAppear:T=y,onAppearCancelled:w=b}=t,x=(M,V,H)=>{Ka(M,V?c:a),Ka(M,V?u:o),H&&H()},E=(M,V)=>{M._isLeaving=!1,Ka(M,d),Ka(M,p),Ka(M,f),V&&V()},O=M=>(V,H)=>{const me=M?T:y,ce=()=>x(V,M,H);au(me,[V,ce]),BO(()=>{Ka(V,M?l:s),Vo(V,M?c:a),FO(me)||UO(V,r,g,ce)})};return $n(t,{onBeforeEnter(M){au(v,[M]),Vo(M,s),Vo(M,o)},onBeforeAppear(M){au(I,[M]),Vo(M,l),Vo(M,u)},onEnter:O(!1),onAppear:O(!0),onLeave(M,V){M._isLeaving=!0;const H=()=>E(M,V);Vo(M,d),HB(),Vo(M,f),BO(()=>{M._isLeaving&&(Ka(M,d),Vo(M,p),FO(_)||UO(M,r,m,H))}),au(_,[M,H])},onEnterCancelled(M){x(M,!1),au(b,[M])},onAppearCancelled(M){x(M,!0),au(w,[M])},onLeaveCancelled(M){E(M),au(S,[M])}})}function yY(e){if(e==null)return null;if(ln(e))return[i1(e.enter),i1(e.leave)];{const t=i1(e);return[t,t]}}function i1(e){return Uy(e)}function Vo(e,t){t.split(/\s+/).forEach(n=>n&&e.classList.add(n)),(e._vtc||(e._vtc=new Set)).add(t)}function Ka(e,t){t.split(/\s+/).forEach(r=>r&&e.classList.remove(r));const{_vtc:n}=e;n&&(n.delete(t),n.size||(e._vtc=void 0))}function BO(e){requestAnimationFrame(()=>{requestAnimationFrame(e)})}let _Y=0;function UO(e,t,n,r){const i=e._endId=++_Y,s=()=>{i===e._endId&&r()};if(n)return setTimeout(s,n);const{type:o,timeout:a,propCount:l}=VB(e,t);if(!o)return r();const u=o+"end";let c=0;const d=()=>{e.removeEventListener(u,f),s()},f=p=>{p.target===e&&++c>=l&&d()};setTimeout(()=>{c<l&&d()},a+1),e.addEventListener(u,f)}function VB(e,t){const n=window.getComputedStyle(e),r=h=>(n[h]||"").split(", "),i=r(`${ja}Delay`),s=r(`${ja}Duration`),o=VO(i,s),a=r(`${gp}Delay`),l=r(`${gp}Duration`),u=VO(a,l);let c=null,d=0,f=0;t===ja?o>0&&(c=ja,d=o,f=s.length):t===gp?u>0&&(c=gp,d=u,f=l.length):(d=Math.max(o,u),c=d>0?o>u?ja:gp:null,f=c?c===ja?s.length:l.length:0);const p=c===ja&&/\b(transform|all)(,|$)/.test(r(`${ja}Property`).toString());return{type:c,timeout:d,propCount:f,hasTransform:p}}function VO(e,t){for(;e.length<t.length;)e=e.concat(e);return Math.max(...t.map((n,r)=>HO(n)+HO(e[r])))}function HO(e){return Number(e.slice(0,-1).replace(",","."))*1e3}function HB(){return document.body.offsetHeight}const jB=new WeakMap,WB=new WeakMap,qB={name:"TransitionGroup",props:$n({},vY,{tag:String,moveClass:String}),setup(e,{slots:t}){const n=Pr(),r=oT();let i,s;return K0(()=>{if(!i.length)return;const o=e.moveClass||`${e.name||"v"}-move`;if(!xY(i[0].el,n.vnode.el,o))return;i.forEach(EY),i.forEach($Y);const a=i.filter(SY);HB(),a.forEach(l=>{const u=l.el,c=u.style;Vo(u,o),c.transform=c.webkitTransform=c.transitionDuration="";const d=u._moveCb=f=>{f&&f.target!==u||(!f||/transform$/.test(f.propertyName))&&(u.removeEventListener("transitionend",d),u._moveCb=null,Ka(u,o))};u.addEventListener("transitionend",d)})}),()=>{const o=Rt(e),a=UB(o);let l=o.tag||pn;i=s,s=t.default?q0(t.default()):[];for(let u=0;u<s.length;u++){const c=s[u];c.key!=null&&ju(c,Gd(c,a,r,n))}if(i)for(let u=0;u<i.length;u++){const c=i[u];ju(c,Gd(c,a,r,n)),jB.set(c,c.el.getBoundingClientRect())}return we(l,null,s)}}},bY=e=>delete e.mode;qB.props;const wY=qB;function EY(e){const t=e.el;t._moveCb&&t._moveCb(),t._enterCb&&t._enterCb()}function $Y(e){WB.set(e,e.el.getBoundingClientRect())}function SY(e){const t=jB.get(e),n=WB.get(e),r=t.left-n.left,i=t.top-n.top;if(r||i){const s=e.el.style;return s.transform=s.webkitTransform=`translate(${r}px,${i}px)`,s.transitionDuration="0s",e}}function xY(e,t,n){const r=e.cloneNode();e._vtc&&e._vtc.forEach(o=>{o.split(/\s+/).forEach(a=>a&&r.classList.remove(a))}),n.split(/\s+/).forEach(o=>o&&r.classList.add(o)),r.style.display="none";const i=t.nodeType===1?t:t.parentNode;i.appendChild(r);const{hasTransform:s}=VB(r);return i.removeChild(r),s}const Il=e=>{const t=e.props["onUpdate:modelValue"]||!1;return Be(t)?n=>wd(t,n):t};function TY(e){e.target.composing=!0}function jO(e){const t=e.target;t.composing&&(t.composing=!1,t.dispatchEvent(new Event("input")))}const Gy={created(e,{modifiers:{lazy:t,trim:n,number:r}},i){e._assign=Il(i);const s=r||i.props&&i.props.type==="number";Wo(e,t?"change":"input",o=>{if(o.target.composing)return;let a=e.value;n&&(a=a.trim()),s&&(a=By(a)),e._assign(a)}),n&&Wo(e,"change",()=>{e.value=e.value.trim()}),t||(Wo(e,"compositionstart",TY),Wo(e,"compositionend",jO),Wo(e,"change",jO))},mounted(e,{value:t}){e.value=t??""},beforeUpdate(e,{value:t,modifiers:{lazy:n,trim:r,number:i}},s){if(e._assign=Il(s),e.composing||document.activeElement===e&&e.type!=="range"&&(n||r&&e.value.trim()===t||(i||e.type==="number")&&By(e.value)===t))return;const o=t??"";e.value!==o&&(e.value=o)}},vT={deep:!0,created(e,t,n){e._assign=Il(n),Wo(e,"change",()=>{const r=e._modelValue,i=Qd(e),s=e.checked,o=e._assign;if(Be(r)){const a=M0(r,i),l=a!==-1;if(s&&!l)o(r.concat(i));else if(!s&&l){const u=[...r];u.splice(a,1),o(u)}}else if($c(r)){const a=new Set(r);s?a.add(i):a.delete(i),o(a)}else o(KB(e,s))})},mounted:WO,beforeUpdate(e,t,n){e._assign=Il(n),WO(e,t,n)}};function WO(e,{value:t,oldValue:n},r){e._modelValue=t,Be(t)?e.checked=M0(t,r.props.value)>-1:$c(t)?e.checked=t.has(r.props.value):t!==n&&(e.checked=$l(t,KB(e,!0)))}const yT={created(e,{value:t},n){e.checked=$l(t,n.props.value),e._assign=Il(n),Wo(e,"change",()=>{e._assign(Qd(e))})},beforeUpdate(e,{value:t,oldValue:n},r){e._assign=Il(r),t!==n&&(e.checked=$l(t,r.props.value))}},zB={deep:!0,created(e,{value:t,modifiers:{number:n}},r){const i=$c(t);Wo(e,"change",()=>{const s=Array.prototype.filter.call(e.options,o=>o.selected).map(o=>n?By(Qd(o)):Qd(o));e._assign(e.multiple?i?new Set(s):s:s[0])}),e._assign=Il(r)},mounted(e,{value:t}){qO(e,t)},beforeUpdate(e,t,n){e._assign=Il(n)},updated(e,{value:t}){qO(e,t)}};function qO(e,t){const n=e.multiple;if(!(n&&!Be(t)&&!$c(t))){for(let r=0,i=e.options.length;r<i;r++){const s=e.options[r],o=Qd(s);if(n)Be(t)?s.selected=M0(t,o)>-1:s.selected=t.has(o);else if($l(Qd(s),t)){e.selectedIndex!==r&&(e.selectedIndex=r);return}}!n&&e.selectedIndex!==-1&&(e.selectedIndex=-1)}}function Qd(e){return"_value"in e?e._value:e.value}function KB(e,t){const n=t?"_trueValue":"_falseValue";return n in e?e[n]:t}const GB={created(e,t,n){ov(e,t,n,null,"created")},mounted(e,t,n){ov(e,t,n,null,"mounted")},beforeUpdate(e,t,n,r){ov(e,t,n,r,"beforeUpdate")},updated(e,t,n,r){ov(e,t,n,r,"updated")}};function YB(e,t){switch(e){case"SELECT":return zB;case"TEXTAREA":return Gy;default:switch(t){case"checkbox":return vT;case"radio":return yT;default:return Gy}}}function ov(e,t,n,r,i){const o=YB(e.tagName,n.props&&n.props.type)[i];o&&o(e,t,n,r)}function IY(){Gy.getSSRProps=({value:e})=>({value:e}),yT.getSSRProps=({value:e},t)=>{if(t.props&&$l(t.props.value,e))return{checked:!0}},vT.getSSRProps=({value:e},t)=>{if(Be(e)){if(t.props&&M0(e,t.props.value)>-1)return{checked:!0}}else if($c(e)){if(t.props&&e.has(t.props.value))return{checked:!0}}else if(e)return{checked:!0}},GB.getSSRProps=(e,t)=>{if(typeof t.type!="string")return;const n=YB(t.type.toUpperCase(),t.props&&t.props.type);if(n.getSSRProps)return n.getSSRProps(e,t)}}const CY=["ctrl","shift","alt","meta"],AY={stop:e=>e.stopPropagation(),prevent:e=>e.preventDefault(),self:e=>e.target!==e.currentTarget,ctrl:e=>!e.ctrlKey,shift:e=>!e.shiftKey,alt:e=>!e.altKey,meta:e=>!e.metaKey,left:e=>"button"in e&&e.button!==0,middle:e=>"button"in e&&e.button!==1,right:e=>"button"in e&&e.button!==2,exact:(e,t)=>CY.some(n=>e[`${n}Key`]&&!t.includes(n))},Ja=(e,t)=>(n,...r)=>{for(let i=0;i<t.length;i++){const s=AY[t[i]];if(s&&s(n,t))return}return e(n,...r)},kY={esc:"escape",space:" ",up:"arrow-up",left:"arrow-left",right:"arrow-right",down:"arrow-down",delete:"backspace"},XB=(e,t)=>n=>{if(!("key"in n))return;const r=us(n.key);if(t.some(i=>i===r||kY[i]===r))return e(n)},Yh={beforeMount(e,{value:t},{transition:n}){e._vod=e.style.display==="none"?"":e.style.display,n&&t?n.beforeEnter(e):mp(e,t)},mounted(e,{value:t},{transition:n}){n&&t&&n.enter(e)},updated(e,{value:t,oldValue:n},{transition:r}){!t!=!n&&(r?t?(r.beforeEnter(e),mp(e,!0),r.enter(e)):r.leave(e,()=>{mp(e,!1)}):mp(e,t))},beforeUnmount(e,{value:t}){mp(e,t)}};function mp(e,t){e.style.display=t?e._vod:"none"}function OY(){Yh.getSSRProps=({value:e})=>{if(!e)return{style:{display:"none"}}}}const QB=$n({patchProp:dY},JG);let fh,zO=!1;function JB(){return fh||(fh=wB(QB))}function ZB(){return fh=zO?fh:EB(QB),zO=!0,fh}const f$=(...e)=>{JB().render(...e)},e5=(...e)=>{ZB().hydrate(...e)},_T=(...e)=>{const t=JB().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=t5(r);if(!i)return;const s=t._component;!et(s)&&!s.render&&!s.template&&(s.template=i.innerHTML),i.innerHTML="";const o=n(i,!1,i instanceof SVGElement);return i instanceof Element&&(i.removeAttribute("v-cloak"),i.setAttribute("data-v-app","")),o},t},PY=(...e)=>{const t=ZB().createApp(...e),{mount:n}=t;return t.mount=r=>{const i=t5(r);if(i)return n(i,!0,i instanceof SVGElement)},t};function t5(e){return Mn(e)?document.querySelector(e):e}let KO=!1;const RY=()=>{KO||(KO=!0,IY(),OY())},DY=()=>{},NY=Object.freeze(Object.defineProperty({__proto__:null,BaseTransition:tB,BaseTransitionPropsValidators:aT,Comment:Jr,EffectScope:Wx,Fragment:pn,KeepAlive:J7,ReactiveEffect:Xg,Static:Pu,Suspense:iT,Teleport:SB,Text:zu,Transition:Gu,TransitionGroup:wY,VueElement:Q0,assertNumber:P7,callWithAsyncErrorHandling:Ki,callWithErrorHandling:Zo,camelize:Ci,capitalize:Kg,cloneVNode:qs,compatUtils:XG,compile:DY,computed:Ae,createApp:_T,createBlock:We,createCommentVNode:Xe,createElementBlock:Le,createElementVNode:Z,createHydrationRenderer:EB,createPropsRestProxy:gG,createRenderer:wB,createSSRApp:PY,createSlots:dB,createStaticVNode:LG,createTextVNode:En,createVNode:we,customRef:jF,defineAsyncComponent:is,defineComponent:mn,defineCustomElement:FB,defineEmits:iG,defineExpose:sG,defineModel:lG,defineOptions:oG,defineProps:rG,defineSSRCustomElement:pY,defineSlots:aG,get devtools(){return ed},effect:KK,effectScope:CF,getCurrentInstance:Pr,getCurrentScope:Yg,getTransitionRawChildren:q0,guardReactiveProps:AB,h:Xt,handleError:xc,hasInjectionContext:SG,hydrate:e5,initCustomFormatter:qG,initDirectivesForSSR:RY,inject:lt,isMemoSame:LB,isProxy:Gx,isReactive:Jo,isReadonly:Hu,isRef:hn,isRuntimeOnly:HG,isShallow:Vh,isVNode:xl,markRaw:Sc,mergeDefaults:pG,mergeModels:hG,mergeProps:fa,nextTick:qn,normalizeClass:Vr,normalizeProps:VK,normalizeStyle:Gg,onActivated:lT,onBeforeMount:iB,onBeforeUnmount:Vl,onBeforeUpdate:sB,onDeactivated:uT,onErrorCaptured:uB,onMounted:Qt,onRenderTracked:lB,onRenderTriggered:aB,onScopeDispose:qx,onServerPrefetch:oB,onUnmounted:ur,onUpdated:K0,openBlock:re,popScopeId:nT,provide:Kn,proxyRefs:Qx,pushScopeId:tT,queuePostFlushCb:eT,reactive:Wi,readonly:xo,ref:ne,registerRuntimeCompiler:VG,render:f$,renderList:qu,renderSlot:gr,resolveComponent:Wu,resolveDirective:tG,resolveDynamicComponent:Yd,resolveFilter:YG,resolveTransitionHooks:Gd,setBlockTracking:s$,setDevtoolsHook:GF,setTransitionHooks:ju,shallowReactive:Hy,shallowReadonly:w7,shallowRef:da,ssrContextKey:NB,ssrUtils:GG,stop:GK,toDisplayString:gs,toHandlerKey:lh,toHandlers:JE,toRaw:Rt,toRef:Jx,toRefs:T7,toValue:$7,transformVNodeArgs:NG,triggerRef:jp,unref:ve,useAttrs:dG,useCssModule:gY,useCssVars:mY,useModel:fG,useSSRContext:MB,useSlots:cG,useTransitionState:oT,vModelCheckbox:vT,vModelDynamic:GB,vModelRadio:yT,vModelSelect:zB,vModelText:Gy,vShow:Yh,version:X0,warn:O7,watch:xt,watchEffect:Kt,watchPostEffect:ZF,watchSyncEffect:G7,withAsyncContext:mG,withCtx:Ze,withDefaults:uG,withDirectives:Wy,withKeys:XB,withMemo:zG,withModifiers:Ja,withScopeId:XF},Symbol.toStringTag,{value:"Module"})),MY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},LY=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M15 8h.01M11 20H7a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h10a3 3 0 0 1 3 3v4"}),Z("path",{d:"m4 15l4-4c.928-.893 2.072-.893 3 0l3 3m0 0l1-1c.31-.298.644-.497.987-.596m2.433 3.206a2.1 2.1 0 0 1 2.97 2.97L18 22h-3v-3l3.42-3.39z"})],-1),FY=[LY];function BY(e,t){return re(),Le("svg",MY,FY)}const UY={name:"tabler-photo-edit",render:BY},VY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},HY=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M7 7H6a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h9a2 2 0 0 0 2-2v-1"}),Z("path",{d:"M20.385 6.585a2.1 2.1 0 0 0-2.97-2.97L9 12v3h3l8.385-8.415zM16 5l3 3"})],-1),jY=[HY];function WY(e,t){return re(),Le("svg",VY,jY)}const qY={name:"tabler-edit",render:WY},zY={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},KY=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M16 18a2 2 0 0 1 2 2a2 2 0 0 1 2-2a2 2 0 0 1-2-2a2 2 0 0 1-2 2zm0-12a2 2 0 0 1 2 2a2 2 0 0 1 2-2a2 2 0 0 1-2-2a2 2 0 0 1-2 2zM9 18a6 6 0 0 1 6-6a6 6 0 0 1-6-6a6 6 0 0 1-6 6a6 6 0 0 1 6 6z"},null,-1),GY=[KY];function YY(e,t){return re(),Le("svg",zY,GY)}const n5={name:"tabler-sparkles",render:YY},XY={viewBox:"0 0 16 16",width:"1.2em",height:"1.2em"},QY=Z("path",{fill:"currentColor",d:"M3 9.5a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3zm5 0a1.5 1.5 0 1 1 0-3a1.5 1.5 0 0 1 0 3z"},null,-1),JY=[QY];function ZY(e,t){return re(),Le("svg",XY,JY)}const eX={name:"bi-three-dots",render:ZY};var bT=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function J0(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}function tX(e){if(e.__esModule)return e;var t=e.default;if(typeof t=="function"){var n=function r(){if(this instanceof r){var i=[null];i.push.apply(i,arguments);var s=Function.bind.apply(t,i);return new s}return t.apply(this,arguments)};n.prototype=t.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(e).forEach(function(r){var i=Object.getOwnPropertyDescriptor(e,r);Object.defineProperty(n,r,i.get?i:{enumerable:!0,get:function(){return e[r]}})}),n}var r5={exports:{}},i5={exports:{}};(function(e,t){(function(n,r){e.exports=r()})(typeof self<"u"?self:bT,function(){return function(n){var r={};function i(s){if(r[s])return r[s].exports;var o=r[s]={i:s,l:!1,exports:{}};return n[s].call(o.exports,o,o.exports,i),o.l=!0,o.exports}return i.m=n,i.c=r,i.d=function(s,o,a){i.o(s,o)||Object.defineProperty(s,o,{enumerable:!0,get:a})},i.r=function(s){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(s,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(s,"__esModule",{value:!0})},i.t=function(s,o){if(1&o&&(s=i(s)),8&o||4&o&&typeof s=="object"&&s&&s.__esModule)return s;var a=Object.create(null);if(i.r(a),Object.defineProperty(a,"default",{enumerable:!0,value:s}),2&o&&typeof s!="string")for(var l in s)i.d(a,l,function(u){return s[u]}.bind(null,l));return a},i.n=function(s){var o=s&&s.__esModule?function(){return s.default}:function(){return s};return i.d(o,"a",o),o},i.o=function(s,o){return{}.hasOwnProperty.call(s,o)},i.p="",i(i.s=0)}([function(n,r,i){i.r(r),i.d(r,"Promise",function(){return Ie}),i.d(r,"TYPES",function(){return TK}),i.d(r,"ProxyWindow",function(){return Ui}),i.d(r,"setup",function(){return lO}),i.d(r,"destroy",function(){return xK}),i.d(r,"serializeMessage",function(){return wK}),i.d(r,"deserializeMessage",function(){return EK}),i.d(r,"createProxyWindow",function(){return $K}),i.d(r,"toProxyWindow",function(){return SK}),i.d(r,"on",function(){return Ba}),i.d(r,"once",function(){return bK}),i.d(r,"send",function(){return Ua}),i.d(r,"markWindowKnown",function(){return jn}),i.d(r,"cleanUpWindow",function(){return IK}),i.d(r,"bridge",function(){});function s($){return{}.toString.call($)==="[object RegExp]"}var o=`Call was rejected by callee.\r
`;function a($){return $===void 0&&($=window),$.location.protocol}function l($){if($===void 0&&($=window),$.mockDomain){var D=$.mockDomain.split("//")[0];if(D)return D}return a($)}function u($){return $===void 0&&($=window),l($)==="about:"}function c($){if($===void 0&&($=window),$)try{if($.parent&&$.parent!==$)return $.parent}catch{}}function d($){if($===void 0&&($=window),$&&!c($))try{return $.opener}catch{}}function f($){try{return!0}catch{}return!1}function p($){$===void 0&&($=window);var D=$.location;if(!D)throw new Error("Can not read window location");var A=a($);if(!A)throw new Error("Can not read window protocol");if(A==="file:")return"file://";if(A==="about:"){var N=c($);return N&&f()?p(N):"about://"}var B=D.host;if(!B)throw new Error("Can not read window host");return A+"//"+B}function h($){$===void 0&&($=window);var D=p($);return D&&$.mockDomain&&$.mockDomain.indexOf("mock:")===0?$.mockDomain:D}function g($){if(!function(D){try{if(D===window)return!0}catch{}try{var A=Object.getOwnPropertyDescriptor(D,"location");if(A&&A.enumerable===!1)return!1}catch{}try{if(u(D)&&f())return!0}catch{}try{if(function(N){return N===void 0&&(N=window),l(N)==="mock:"}(D)&&f())return!0}catch{}try{if(p(D)===p(window))return!0}catch{}return!1}($))return!1;try{if($===window||u($)&&f()||h(window)===h($))return!0}catch{}return!1}function m($){if(!g($))throw new Error("Expected window to be same domain");return $}function v($,D){if(!$||!D)return!1;var A=c(D);return A?A===$:function(N){var B=[];try{for(;N.parent!==N;)B.push(N.parent),N=N.parent}catch{}return B}(D).indexOf($)!==-1}function y($){var D=[],A;try{A=$.frames}catch{A=$}var N;try{N=A.length}catch{}if(N===0)return D;if(N){for(var B=0;B<N;B++){var Y=void 0;try{Y=A[B]}catch{continue}D.push(Y)}return D}for(var ee=0;ee<100;ee++){var fe=void 0;try{fe=A[ee]}catch{return D}if(!fe)return D;D.push(fe)}return D}var b=[],_=[];function S($,D){D===void 0&&(D=!0);try{if($===window)return!1}catch{return!0}try{if(!$)return!0}catch{return!0}try{if($.closed)return!0}catch(B){return!B||B.message!==o}if(D&&g($))try{if($.mockclosed)return!0}catch{}try{if(!$.parent||!$.top)return!0}catch{}var A=function(B,Y){for(var ee=0;ee<B.length;ee++)try{if(B[ee]===Y)return ee}catch{}return-1}(b,$);if(A!==-1){var N=_[A];if(N&&function(B){if(!B.contentWindow||!B.parentNode)return!0;var Y=B.ownerDocument;if(Y&&Y.documentElement&&!Y.documentElement.contains(B)){for(var ee=B;ee.parentNode&&ee.parentNode!==ee;)ee=ee.parentNode;if(!ee.host||!Y.documentElement.contains(ee.host))return!0}return!1}(N))return!0}return!1}function I($){return $===void 0&&($=window),d($=$||window)||c($)||void 0}function T($,D){if(typeof $=="string"){if(typeof D=="string")return $==="*"||D===$;if(s(D)||Array.isArray(D))return!1}return s($)?s(D)?$.toString()===D.toString():!Array.isArray(D)&&!!D.match($):!!Array.isArray($)&&(Array.isArray(D)?JSON.stringify($)===JSON.stringify(D):!s(D)&&$.some(function(A){return T(A,D)}))}function w($){try{if($===window)return!0}catch(D){if(D&&D.message===o)return!0}try{if({}.toString.call($)==="[object Window]")return!0}catch(D){if(D&&D.message===o)return!0}try{if(window.Window&&$ instanceof window.Window)return!0}catch(D){if(D&&D.message===o)return!0}try{if($&&$.self===$)return!0}catch(D){if(D&&D.message===o)return!0}try{if($&&$.parent===$)return!0}catch(D){if(D&&D.message===o)return!0}try{if($&&$.top===$)return!0}catch(D){if(D&&D.message===o)return!0}try{if($&&$.__cross_domain_utils_window_check__==="__unlikely_value__")return!1}catch{return!0}try{if("postMessage"in $&&"self"in $&&"location"in $)return!0}catch{}return!1}function x($){if(g($))return m($).frameElement;for(var D=0,A=document.querySelectorAll("iframe");D<A.length;D++){var N=A[D];if(N&&N.contentWindow&&N.contentWindow===$)return N}}function E($){if(function(A){return A===void 0&&(A=window),!!c(A)}($)){var D=x($);if(D&&D.parentElement){D.parentElement.removeChild(D);return}}try{$.close()}catch{}}function O($){try{if(!$)return!1;if(typeof Promise<"u"&&$ instanceof Promise)return!0;if(typeof window<"u"&&typeof window.Window=="function"&&$ instanceof window.Window||typeof window<"u"&&typeof window.constructor=="function"&&$ instanceof window.constructor)return!1;var D={}.toString;if(D){var A=D.call($);if(A==="[object Window]"||A==="[object global]"||A==="[object DOMWindow]")return!1}if(typeof $.then=="function")return!0}catch{return!1}return!1}var M=[],V=[],H=0,me;function ce(){if(!H&&me){var $=me;me=null,$.resolve()}}function ae(){H+=1}function xe(){H-=1,ce()}var Ie=function(){function $(A){var N=this;if(this.resolved=void 0,this.rejected=void 0,this.errorHandled=void 0,this.value=void 0,this.error=void 0,this.handlers=void 0,this.dispatching=void 0,this.stack=void 0,this.resolved=!1,this.rejected=!1,this.errorHandled=!1,this.handlers=[],A){var B,Y,ee=!1,fe=!1,ie=!1;ae();try{A(function(te){ie?N.resolve(te):(ee=!0,B=te)},function(te){ie?N.reject(te):(fe=!0,Y=te)})}catch(te){xe(),this.reject(te);return}xe(),ie=!0,ee?this.resolve(B):fe&&this.reject(Y)}}var D=$.prototype;return D.resolve=function(A){if(this.resolved||this.rejected)return this;if(O(A))throw new Error("Can not resolve promise with another promise");return this.resolved=!0,this.value=A,this.dispatch(),this},D.reject=function(A){var N=this;if(this.resolved||this.rejected)return this;if(O(A))throw new Error("Can not reject promise with another promise");if(!A){var B=A&&typeof A.toString=="function"?A.toString():{}.toString.call(A);A=new Error("Expected reject to be called with Error, got "+B)}return this.rejected=!0,this.error=A,this.errorHandled||setTimeout(function(){N.errorHandled||function(Y,ee){if(M.indexOf(Y)===-1){M.push(Y),setTimeout(function(){throw Y},1);for(var fe=0;fe<V.length;fe++)V[fe](Y,ee)}}(A,N)},1),this.dispatch(),this},D.asyncReject=function(A){return this.errorHandled=!0,this.reject(A),this},D.dispatch=function(){var A=this.resolved,N=this.rejected,B=this.handlers;if(!this.dispatching&&(A||N)){this.dispatching=!0,ae();for(var Y=function(De,mt){return De.then(function(ht){mt.resolve(ht)},function(ht){mt.reject(ht)})},ee=0;ee<B.length;ee++){var fe=B[ee],ie=fe.onSuccess,te=fe.onError,Ce=fe.promise,be=void 0;if(A)try{be=ie?ie(this.value):this.value}catch(De){Ce.reject(De);continue}else if(N){if(!te){Ce.reject(this.error);continue}try{be=te(this.error)}catch(De){Ce.reject(De);continue}}if(be instanceof $&&(be.resolved||be.rejected)){var Se=be;Se.resolved?Ce.resolve(Se.value):Ce.reject(Se.error),Se.errorHandled=!0}else O(be)?be instanceof $&&(be.resolved||be.rejected)?be.resolved?Ce.resolve(be.value):Ce.reject(be.error):Y(be,Ce):Ce.resolve(be)}B.length=0,this.dispatching=!1,xe()}},D.then=function(A,N){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.then expected a function for success handler");if(N&&typeof N!="function"&&!N.call)throw new Error("Promise.then expected a function for error handler");var B=new $;return this.handlers.push({promise:B,onSuccess:A,onError:N}),this.errorHandled=!0,this.dispatch(),B},D.catch=function(A){return this.then(void 0,A)},D.finally=function(A){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.finally expected a function");return this.then(function(N){return $.try(A).then(function(){return N})},function(N){return $.try(A).then(function(){throw N})})},D.timeout=function(A,N){var B=this;if(this.resolved||this.rejected)return this;var Y=setTimeout(function(){B.resolved||B.rejected||B.reject(N||new Error("Promise timed out after "+A+"ms"))},A);return this.then(function(ee){return clearTimeout(Y),ee})},D.toPromise=function(){if(typeof Promise>"u")throw new TypeError("Could not find Promise");return Promise.resolve(this)},D.lazy=function(){return this.errorHandled=!0,this},$.resolve=function(A){return A instanceof $?A:O(A)?new $(function(N,B){return A.then(N,B)}):new $().resolve(A)},$.reject=function(A){return new $().reject(A)},$.asyncReject=function(A){return new $().asyncReject(A)},$.all=function(A){var N=new $,B=A.length,Y=[].slice();if(!B)return N.resolve(Y),N;for(var ee=function(te,Ce,be){return Ce.then(function(Se){Y[te]=Se,(B-=1)==0&&N.resolve(Y)},function(Se){be.reject(Se)})},fe=0;fe<A.length;fe++){var ie=A[fe];if(ie instanceof $){if(ie.resolved){Y[fe]=ie.value,B-=1;continue}}else if(!O(ie)){Y[fe]=ie,B-=1;continue}ee(fe,$.resolve(ie),N)}return B===0&&N.resolve(Y),N},$.hash=function(A){var N={},B=[],Y=function(fe){if(A.hasOwnProperty(fe)){var ie=A[fe];O(ie)?B.push(ie.then(function(te){N[fe]=te})):N[fe]=ie}};for(var ee in A)Y(ee);return $.all(B).then(function(){return N})},$.map=function(A,N){return $.all(A.map(N))},$.onPossiblyUnhandledException=function(A){return function(N){return V.push(N),{cancel:function(){V.splice(V.indexOf(N),1)}}}(A)},$.try=function(A,N,B){if(A&&typeof A!="function"&&!A.call)throw new Error("Promise.try expected a function");var Y;ae();try{Y=A.apply(N,B||[])}catch(ee){return xe(),$.reject(ee)}return xe(),$.resolve(Y)},$.delay=function(A){return new $(function(N){setTimeout(N,A)})},$.isPromise=function(A){return!!(A&&A instanceof $)||O(A)},$.flush=function(){return function(A){var N=me=me||new A;return ce(),N}($)},$}();function ft($,D){for(var A=0;A<$.length;A++)try{if($[A]===D)return A}catch{}return-1}var Ye=function(){function $(){if(this.name=void 0,this.weakmap=void 0,this.keys=void 0,this.values=void 0,this.name="__weakmap_"+(1e9*Math.random()>>>0)+"__",function(){if(typeof WeakMap>"u"||Object.freeze===void 0)return!1;try{var A=new WeakMap,N={};return Object.freeze(N),A.set(N,"__testvalue__"),A.get(N)==="__testvalue__"}catch{return!1}}())try{this.weakmap=new WeakMap}catch{}this.keys=[],this.values=[]}var D=$.prototype;return D._cleanupClosedWindows=function(){for(var A=this.weakmap,N=this.keys,B=0;B<N.length;B++){var Y=N[B];if(w(Y)&&S(Y)){if(A)try{A.delete(Y)}catch{}N.splice(B,1),this.values.splice(B,1),B-=1}}},D.isSafeToReadWrite=function(A){return!w(A)},D.set=function(A,N){if(!A)throw new Error("WeakMap expected key");var B=this.weakmap;if(B)try{B.set(A,N)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var Y=this.name,ee=A[Y];ee&&ee[0]===A?ee[1]=N:Object.defineProperty(A,Y,{value:[A,N],writable:!0});return}catch{}this._cleanupClosedWindows();var fe=this.keys,ie=this.values,te=ft(fe,A);te===-1?(fe.push(A),ie.push(N)):ie[te]=N},D.get=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{if(N.has(A))return N.get(A)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var B=A[this.name];return B&&B[0]===A?B[1]:void 0}catch{}this._cleanupClosedWindows();var Y=ft(this.keys,A);if(Y!==-1)return this.values[Y]},D.delete=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{N.delete(A)}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var B=A[this.name];B&&B[0]===A&&(B[0]=B[1]=void 0)}catch{}this._cleanupClosedWindows();var Y=this.keys,ee=ft(Y,A);ee!==-1&&(Y.splice(ee,1),this.values.splice(ee,1))},D.has=function(A){if(!A)throw new Error("WeakMap expected key");var N=this.weakmap;if(N)try{if(N.has(A))return!0}catch{delete this.weakmap}if(this.isSafeToReadWrite(A))try{var B=A[this.name];return!(!B||B[0]!==A)}catch{}return this._cleanupClosedWindows(),ft(this.keys,A)!==-1},D.getOrSet=function(A,N){if(this.has(A))return this.get(A);var B=N();return this.set(A,B),B},$}();function St($){return $.name||$.__name__||$.displayName||"anonymous"}function F($,D){try{delete $.name,$.name=D}catch{}return $.__name__=$.displayName=D,$}function j(){var $="0123456789abcdef";return"uid_"+"xxxxxxxxxx".replace(/./g,function(){return $.charAt(Math.floor(Math.random()*$.length))})+"_"+function(D){if(typeof btoa=="function")return btoa(encodeURIComponent(D).replace(/%([0-9A-F]{2})/g,function(A,N){return String.fromCharCode(parseInt(N,16))})).replace(/[=]/g,"");if(typeof Buffer<"u")return Buffer.from(D,"utf8").toString("base64").replace(/[=]/g,"");throw new Error("Can not find window.btoa or Buffer")}(new Date().toISOString().slice(11,19).replace("T",".")).replace(/[^a-zA-Z0-9]/g,"").toLowerCase()}var X;function G($){try{return JSON.stringify([].slice.call($),function(D,A){return typeof A=="function"?"memoize["+function(N){if(X=X||new Ye,N==null||typeof N!="object"&&typeof N!="function")throw new Error("Invalid object");var B=X.get(N);return B||(B=typeof N+":"+j(),X.set(N,B)),B}(A)+"]":typeof window<"u"&&A instanceof window.Element||A!==null&&typeof A=="object"&&A.nodeType===1&&typeof A.style=="object"&&typeof A.ownerDocument=="object"?{}:A})}catch{throw new Error("Arguments not serializable -- can not be used to memoize")}}function L(){return{}}var W=0,q=0;function ue($,D){D===void 0&&(D={});var A=D.thisNamespace,N=A!==void 0&&A,B=D.time,Y,ee,fe=W;W+=1;var ie=function(){for(var te=arguments.length,Ce=new Array(te),be=0;be<te;be++)Ce[be]=arguments[be];fe<q&&(Y=null,ee=null,fe=W,W+=1);var Se;Se=N?(ee=ee||new Ye).getOrSet(this,L):Y=Y||{};var De;try{De=G(Ce)}catch{return $.apply(this,arguments)}var mt=Se[De];if(mt&&B&&Date.now()-mt.time<B&&(delete Se[De],mt=null),mt)return mt.value;var ht=Date.now(),gt=$.apply(this,arguments);return Se[De]={time:ht,value:gt},gt};return ie.reset=function(){Y=null,ee=null},F(ie,(D.name||St($))+"::memoized")}ue.clear=function(){q=W};function Fe($){var D={};function A(){for(var N=arguments,B=this,Y=arguments.length,ee=new Array(Y),fe=0;fe<Y;fe++)ee[fe]=arguments[fe];var ie=G(ee);return D.hasOwnProperty(ie)||(D[ie]=Ie.try(function(){return $.apply(B,N)}).finally(function(){delete D[ie]})),D[ie]}return A.reset=function(){D={}},F(A,St($)+"::promiseMemoized")}function P(){}function R($,D){if(D===void 0&&(D=1),D>=3)return"stringifyError stack overflow";try{if(!$)return"<unknown error: "+{}.toString.call($)+">";if(typeof $=="string")return $;if($ instanceof Error){var A=$&&$.stack,N=$&&$.message;if(A&&N)return A.indexOf(N)!==-1?A:N+`
`+A;if(A)return A;if(N)return N}return $&&$.toString&&typeof $.toString=="function"?$.toString():{}.toString.call($)}catch(B){return"Error while stringifying error: "+R(B,D+1)}}function U($){return typeof $=="string"?$:$&&$.toString&&typeof $.toString=="function"?$.toString():{}.toString.call($)}ue(function($){if(Object.values)return Object.values($);var D=[];for(var A in $)$.hasOwnProperty(A)&&D.push($[A]);return D});function z($){return{}.toString.call($)==="[object RegExp]"}function Q($,D,A){if($.hasOwnProperty(D))return $[D];var N=A();return $[D]=N,N}function J(){var $=document.body;if(!$)throw new Error("Body element not found");return $}function ge(){return!!document.body&&document.readyState==="complete"}function he(){return!!document.body&&document.readyState==="interactive"}ue(function(){return new Ie(function($){if(ge()||he())return $();var D=setInterval(function(){if(ge()||he())return clearInterval(D),$()},10)})});var ye=typeof document<"u"?document.currentScript:null,de=ue(function(){if(ye||(ye=function(){try{var $=function(){try{throw new Error("_")}catch(ee){return ee.stack||""}}(),D=/.*at [^(]*\((.*):(.+):(.+)\)$/gi.exec($),A=D&&D[1];if(!A)return;for(var N=0,B=[].slice.call(document.getElementsByTagName("script")).reverse();N<B.length;N++){var Y=B[N];if(Y.src&&Y.src===A)return Y}}catch{}}()))return ye;throw new Error("Can not determine current script")}),se=j();ue(function(){var $;try{$=de()}catch{return se}var D=$.getAttribute("data-uid");if(D&&typeof D=="string"||(D=$.getAttribute("data-uid-auto"))&&typeof D=="string")return D;if($.src){var A=function(N){for(var B="",Y=0;Y<N.length;Y++){var ee=N[Y].charCodeAt(0)*Y;N[Y+1]&&(ee+=N[Y+1].charCodeAt(0)*(Y-1)),B+=String.fromCharCode(97+Math.abs(ee)%26)}return B}(JSON.stringify({src:$.src,dataset:$.dataset}));D="uid_"+A.slice(A.length-30)}else D=j();return $.setAttribute("data-uid-auto",D),D});function pe($){$===void 0&&($=window);var D="__post_robot_10_0_46__";return $!==window?$[D]:$[D]=$[D]||{}}var $e=function(){return{}};function Te($,D){return $===void 0&&($="store"),D===void 0&&(D=$e),Q(pe(),$,function(){var A=D();return{has:function(N){return A.hasOwnProperty(N)},get:function(N,B){return A.hasOwnProperty(N)?A[N]:B},set:function(N,B){return A[N]=B,B},del:function(N){delete A[N]},getOrSet:function(N,B){return Q(A,N,B)},reset:function(){A=D()},keys:function(){return Object.keys(A)}}})}var qe=function(){};function yt(){var $=pe();return $.WINDOW_WILDCARD=$.WINDOW_WILDCARD||new qe,$.WINDOW_WILDCARD}function je($,D){return $===void 0&&($="store"),D===void 0&&(D=$e),Te("windowStore").getOrSet($,function(){var A=new Ye,N=function(B){return A.getOrSet(B,D)};return{has:function(B){return N(B).hasOwnProperty($)},get:function(B,Y){var ee=N(B);return ee.hasOwnProperty($)?ee[$]:Y},set:function(B,Y){return N(B)[$]=Y,Y},del:function(B){delete N(B)[$]},getOrSet:function(B,Y){return Q(N(B),$,Y)}}})}function pt(){return Te("instance").getOrSet("instanceID",j)}function Fn($,D){var A=D.domain,N=je("helloPromises"),B=N.get($);B&&B.resolve({domain:A});var Y=Ie.resolve({domain:A});return N.set($,Y),Y}function Jn($,D){return(0,D.send)($,"postrobot_hello",{instanceID:pt()},{domain:"*",timeout:-1}).then(function(A){var N=A.origin,B=A.data.instanceID;return Fn($,{domain:N}),{win:$,domain:N,instanceID:B}})}function Sn($,D){var A=D.send;return je("windowInstanceIDPromises").getOrSet($,function(){return Jn($,{send:A}).then(function(N){return N.instanceID})})}function jn($){je("knownWindows").set($,!0)}function wr($){return typeof $=="object"&&$!==null&&typeof $.__type__=="string"}function cn($){return $===void 0?"undefined":$===null?"null":Array.isArray($)?"array":typeof $=="function"?"function":typeof $=="object"?$ instanceof Error?"error":typeof $.then=="function"?"promise":{}.toString.call($)==="[object RegExp]"?"regex":{}.toString.call($)==="[object Date]"?"date":"object":typeof $=="string"?"string":typeof $=="number"?"number":typeof $=="boolean"?"boolean":void 0}function dn($,D){return{__type__:$,__val__:D}}var rn,su=((rn={}).function=function(){},rn.error=function($){return dn("error",{message:$.message,stack:$.stack,code:$.code,data:$.data})},rn.promise=function(){},rn.regex=function($){return dn("regex",$.source)},rn.date=function($){return dn("date",$.toJSON())},rn.array=function($){return $},rn.object=function($){return $},rn.string=function($){return $},rn.number=function($){return $},rn.boolean=function($){return $},rn.null=function($){return $},rn[void 0]=function($){return dn("undefined",$)},rn),yi={},Bn,Mo=((Bn={}).function=function(){throw new Error("Function serialization is not implemented; nothing to deserialize")},Bn.error=function($){var D=$.stack,A=$.code,N=$.data,B=new Error($.message);return B.code=A,N&&(B.data=N),B.stack=D+`

`+B.stack,B},Bn.promise=function(){throw new Error("Promise serialization is not implemented; nothing to deserialize")},Bn.regex=function($){return new RegExp($)},Bn.date=function($){return new Date($)},Bn.array=function($){return $},Bn.object=function($){return $},Bn.string=function($){return $},Bn.number=function($){return $},Bn.boolean=function($){return $},Bn.null=function($){return $},Bn[void 0]=function(){},Bn),Vc={};new Ie(function($){if(window.document&&window.document.body)return $(window.document.body);var D=setInterval(function(){if(window.document&&window.document.body)return clearInterval(D),$(window.document.body)},10)});function zw(){for(var $=Te("idToProxyWindow"),D=0,A=$.keys();D<A.length;D++){var N=A[D];$.get(N).shouldClean()&&$.del(N)}}function Jk($,D){var A=D.send,N=D.id,B=N===void 0?j():N,Y=$.then(function(ie){if(g(ie))return m(ie).name}),ee=$.then(function(ie){if(S(ie))throw new Error("Window is closed, can not determine type");return d(ie)?"popup":"iframe"});Y.catch(P),ee.catch(P);var fe=function(){return $.then(function(ie){if(!S(ie))return g(ie)?m(ie).name:Y})};return{id:B,getType:function(){return ee},getInstanceID:Fe(function(){return $.then(function(ie){return Sn(ie,{send:A})})}),close:function(){return $.then(E)},getName:fe,focus:function(){return $.then(function(ie){ie.focus()})},isClosed:function(){return $.then(function(ie){return S(ie)})},setLocation:function(ie,te){return te===void 0&&(te={}),$.then(function(Ce){var be=window.location.protocol+"//"+window.location.host,Se=te.method,De=Se===void 0?"get":Se,mt=te.body;if(ie.indexOf("/")===0)ie=""+be+ie;else if(!ie.match(/^https?:\/\//)&&ie.indexOf(be)!==0)throw new Error("Expected url to be http or https url, or absolute path, got "+JSON.stringify(ie));if(De==="post")return fe().then(function(ht){if(!ht)throw new Error("Can not post to window without target name");(function(gt){var vn=gt.url,dr=gt.target,xn=gt.body,yn=gt.method,Er=yn===void 0?"post":yn,Ut=document.createElement("form");if(Ut.setAttribute("target",dr),Ut.setAttribute("method",Er),Ut.setAttribute("action",vn),Ut.style.display="none",xn)for(var Tn=0,os=Object.keys(xn);Tn<os.length;Tn++){var ir,hp=os[Tn],Xw=document.createElement("input");Xw.setAttribute("name",hp),Xw.setAttribute("value",(ir=xn[hp])==null?void 0:ir.toString()),Ut.appendChild(Xw)}J().appendChild(Ut),Ut.submit(),J().removeChild(Ut)})({url:ie,target:ht,method:De,body:mt})});if(De!=="get")throw new Error("Unsupported method: "+De);if(g(Ce))try{if(Ce.location&&typeof Ce.location.replace=="function"){Ce.location.replace(ie);return}}catch{}Ce.location=ie})},setName:function(ie){return $.then(function(te){var Ce=g(te),be=x(te);if(!Ce)throw new Error("Can not set name for cross-domain window: "+ie);m(te).name=ie,be&&be.setAttribute("name",ie),Y=Ie.resolve(ie)})}}}var Ui=function(){function $(A){var N=A.send,B=A.win,Y=A.serializedWindow;this.id=void 0,this.isProxyWindow=!0,this.serializedWindow=void 0,this.actualWindow=void 0,this.actualWindowPromise=void 0,this.send=void 0,this.name=void 0,this.actualWindowPromise=new Ie,this.serializedWindow=Y||Jk(this.actualWindowPromise,{send:N}),Te("idToProxyWindow").set(this.getID(),this),B&&this.setWindow(B,{send:N})}var D=$.prototype;return D.getID=function(){return this.serializedWindow.id},D.getType=function(){return this.serializedWindow.getType()},D.isPopup=function(){return this.getType().then(function(A){return A==="popup"})},D.setLocation=function(A,N){var B=this;return this.serializedWindow.setLocation(A,N).then(function(){return B})},D.getName=function(){return this.serializedWindow.getName()},D.setName=function(A){var N=this;return this.serializedWindow.setName(A).then(function(){return N})},D.close=function(){var A=this;return this.serializedWindow.close().then(function(){return A})},D.focus=function(){var A=this,N=this.isPopup(),B=this.getName(),Y=Ie.hash({isPopup:N,name:B}).then(function(fe){var ie=fe.name;fe.isPopup&&ie&&window.open("",ie,"noopener")}),ee=this.serializedWindow.focus();return Ie.all([Y,ee]).then(function(){return A})},D.isClosed=function(){return this.serializedWindow.isClosed()},D.getWindow=function(){return this.actualWindow},D.setWindow=function(A,N){var B=N.send;this.actualWindow=A,this.actualWindowPromise.resolve(this.actualWindow),this.serializedWindow=Jk(this.actualWindowPromise,{send:B,id:this.getID()}),je("winToProxyWindow").set(A,this)},D.awaitWindow=function(){return this.actualWindowPromise},D.matchWindow=function(A,N){var B=this,Y=N.send;return Ie.try(function(){return B.actualWindow?A===B.actualWindow:Ie.hash({proxyInstanceID:B.getInstanceID(),knownWindowInstanceID:Sn(A,{send:Y})}).then(function(ee){var fe=ee.proxyInstanceID===ee.knownWindowInstanceID;return fe&&B.setWindow(A,{send:Y}),fe})})},D.unwrap=function(){return this.actualWindow||this},D.getInstanceID=function(){return this.serializedWindow.getInstanceID()},D.shouldClean=function(){return!!(this.actualWindow&&S(this.actualWindow))},D.serialize=function(){return this.serializedWindow},$.unwrap=function(A){return $.isProxyWindow(A)?A.unwrap():A},$.serialize=function(A,N){var B=N.send;return zw(),$.toProxyWindow(A,{send:B}).serialize()},$.deserialize=function(A,N){var B=N.send;return zw(),Te("idToProxyWindow").get(A.id)||new $({serializedWindow:A,send:B})},$.isProxyWindow=function(A){return!!(A&&!w(A)&&A.isProxyWindow)},$.toProxyWindow=function(A,N){var B=N.send;if(zw(),$.isProxyWindow(A))return A;var Y=A;return je("winToProxyWindow").get(Y)||new $({win:Y,send:B})},$}();function Kw($,D,A,N,B){var Y=je("methodStore"),ee=Te("proxyWindowMethods");Ui.isProxyWindow(N)?ee.set($,{val:D,name:A,domain:B,source:N}):(ee.del($),Y.getOrSet(N,function(){return{}})[$]={domain:B,name:A,val:D,source:N})}function Zk($,D){var A=je("methodStore"),N=Te("proxyWindowMethods");return A.getOrSet($,function(){return{}})[D]||N.get(D)}function eO($,D,A,N,B){ee=(Y={on:B.on,send:B.send}).on,fe=Y.send,Te("builtinListeners").getOrSet("functionCalls",function(){return ee("postrobot_method",{domain:"*"},function(Ce){var be=Ce.source,Se=Ce.origin,De=Ce.data,mt=De.id,ht=De.name,gt=Zk(be,mt);if(!gt)throw new Error("Could not find method '"+ht+"' with id: "+De.id+" in "+h(window));var vn=gt.source,dr=gt.domain,xn=gt.val;return Ie.try(function(){if(!T(dr,Se))throw new Error("Method '"+De.name+"' domain "+JSON.stringify(z(gt.domain)?gt.domain.source:gt.domain)+" does not match origin "+Se+" in "+h(window));if(Ui.isProxyWindow(vn))return vn.matchWindow(be,{send:fe}).then(function(yn){if(!yn)throw new Error("Method call '"+De.name+"' failed - proxy window does not match source in "+h(window))})}).then(function(){return xn.apply({source:be,origin:Se},De.args)},function(yn){return Ie.try(function(){if(xn.onError)return xn.onError(yn)}).then(function(){throw yn.stack&&(yn.stack="Remote call to "+ht+"("+function(Er){return Er===void 0&&(Er=[]),(Ut=Er,[].slice.call(Ut)).map(function(Tn){return typeof Tn=="string"?"'"+Tn+"'":Tn===void 0?"undefined":Tn===null?"null":typeof Tn=="boolean"?Tn.toString():Array.isArray(Tn)?"[ ... ]":typeof Tn=="object"?"{ ... }":typeof Tn=="function"?"() => { ... }":"<"+typeof Tn+">"}).join(", ");var Ut}(De.args)+`) failed

`+yn.stack),yn})}).then(function(yn){return{result:yn,id:mt,name:ht}})})});var Y,ee,fe,ie=A.__id__||j();$=Ui.unwrap($);var te=A.__name__||A.name||N;return typeof te=="string"&&typeof te.indexOf=="function"&&te.indexOf("anonymous::")===0&&(te=te.replace("anonymous::",N+"::")),Ui.isProxyWindow($)?(Kw(ie,A,te,$,D),$.awaitWindow().then(function(Ce){Kw(ie,A,te,Ce,D)})):Kw(ie,A,te,$,D),dn("cross_domain_function",{id:ie,name:te})}function tO($,D,A,N){var B,Y=N.on,ee=N.send;return function(fe,ie){ie===void 0&&(ie=yi);var te=JSON.stringify(fe,function(Ce){var be=this[Ce];if(wr(this))return be;var Se=cn(be);if(!Se)return be;var De=ie[Se]||su[Se];return De?De(be,Ce):be});return te===void 0?"undefined":te}(A,((B={}).promise=function(fe,ie){return function(te,Ce,be,Se,De){return dn("cross_domain_zalgo_promise",{then:eO(te,Ce,function(mt,ht){return be.then(mt,ht)},Se,{on:De.on,send:De.send})})}($,D,fe,ie,{on:Y,send:ee})},B.function=function(fe,ie){return eO($,D,fe,ie,{on:Y,send:ee})},B.object=function(fe){return w(fe)||Ui.isProxyWindow(fe)?dn("cross_domain_window",Ui.serialize(fe,{send:ee})):fe},B))}function nO($,D,A,N){var B,Y=N.send;return function(ee,fe){if(fe===void 0&&(fe=Vc),ee!=="undefined")return JSON.parse(ee,function(ie,te){if(wr(this))return te;var Ce,be;if(wr(te)?(Ce=te.__type__,be=te.__val__):(Ce=cn(te),be=te),!Ce)return be;var Se=fe[Ce]||Mo[Ce];return Se?Se(be,ie):be})}(A,((B={}).cross_domain_zalgo_promise=function(ee){return function(fe,ie,te){return new Ie(te.then)}(0,0,ee)},B.cross_domain_function=function(ee){return function(fe,ie,te,Ce){var be=te.id,Se=te.name,De=Ce.send,mt=function(gt){gt===void 0&&(gt={});function vn(){var dr=arguments;return Ui.toProxyWindow(fe,{send:De}).awaitWindow().then(function(xn){var yn=Zk(xn,be);if(yn&&yn.val!==vn)return yn.val.apply({source:window,origin:h()},dr);var Er=[].slice.call(dr);return gt.fireAndForget?De(xn,"postrobot_method",{id:be,name:Se,args:Er},{domain:ie,fireAndForget:!0}):De(xn,"postrobot_method",{id:be,name:Se,args:Er},{domain:ie,fireAndForget:!1}).then(function(Ut){return Ut.data.result})}).catch(function(xn){throw xn})}return vn.__name__=Se,vn.__origin__=ie,vn.__source__=fe,vn.__id__=be,vn.origin=ie,vn},ht=mt();return ht.fireAndForget=mt({fireAndForget:!0}),ht}($,D,ee,{send:Y})},B.cross_domain_window=function(ee){return Ui.deserialize(ee,{send:Y})},B))}var Gw={};Gw.postrobot_post_message=function($,D,A){A.indexOf("file:")===0&&(A="*"),$.postMessage(D,A)};function Yw($,D,A,N){var B=N.on,Y=N.send;return Ie.try(function(){var ee=je().getOrSet($,function(){return{}});return ee.buffer=ee.buffer||[],ee.buffer.push(A),ee.flush=ee.flush||Ie.flush().then(function(){if(S($))throw new Error("Window is closed");var fe=tO($,D,((ie={}).__post_robot_10_0_46__=ee.buffer||[],ie),{on:B,send:Y}),ie;delete ee.buffer;for(var te=Object.keys(Gw),Ce=[],be=0;be<te.length;be++){var Se=te[be];try{Gw[Se]($,fe,D)}catch(De){Ce.push(De)}}if(Ce.length===te.length)throw new Error(`All post-robot messaging strategies failed:

`+Ce.map(function(De,mt){return mt+". "+R(De)}).join(`

`))}),ee.flush.then(function(){delete ee.flush})}).then(P)}function rO($){return Te("responseListeners").get($)}function iO($){Te("responseListeners").del($)}function sO($){return Te("erroredResponseListeners").has($)}function oO($){var D=$.name,A=$.win,N=$.domain,B=je("requestListeners");if(A==="*"&&(A=null),N==="*"&&(N=null),!D)throw new Error("Name required to get request listener");for(var Y=0,ee=[A,yt()];Y<ee.length;Y++){var fe=ee[Y];if(fe){var ie=B.get(fe);if(ie){var te=ie[D];if(te){if(N&&typeof N=="string"){if(te[N])return te[N];if(te.__domain_regex__)for(var Ce=0,be=te.__domain_regex__;Ce<be.length;Ce++){var Se=be[Ce],De=Se.listener;if(T(Se.regex,N))return De}}if(te["*"])return te["*"]}}}}}function vK($,D,A,N){var B=N.on,Y=N.send,ee=oO({name:A.name,win:$,domain:D}),fe=A.name==="postrobot_method"&&A.data&&typeof A.data.name=="string"?A.data.name+"()":A.name;function ie(te,Ce,be){return Ie.flush().then(function(){if(!A.fireAndForget&&!S($))try{return Yw($,D,{id:j(),origin:h(window),type:"postrobot_message_response",hash:A.hash,name:A.name,ack:te,data:Ce,error:be},{on:B,send:Y})}catch(Se){throw new Error("Send response message failed for "+fe+" in "+h()+`

`+R(Se))}})}return Ie.all([Ie.flush().then(function(){if(!A.fireAndForget&&!S($))try{return Yw($,D,{id:j(),origin:h(window),type:"postrobot_message_ack",hash:A.hash,name:A.name},{on:B,send:Y})}catch(te){throw new Error("Send ack message failed for "+fe+" in "+h()+`

`+R(te))}}),Ie.try(function(){if(!ee)throw new Error("No handler found for post message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);return ee.handler({source:$,origin:D,data:A.data})}).then(function(te){return ie("success",te)},function(te){return ie("error",null,te)})]).then(P).catch(function(te){if(ee&&ee.handleError)return ee.handleError(te);throw te})}function yK($,D,A){if(!sO(A.hash)){var N=rO(A.hash);if(!N)throw new Error("No handler found for post message ack for message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);try{if(!T(N.domain,D))throw new Error("Ack origin "+D+" does not match domain "+N.domain.toString());if($!==N.win)throw new Error("Ack source does not match registered window")}catch(B){N.promise.reject(B)}N.ack=!0}}function _K($,D,A){if(!sO(A.hash)){var N=rO(A.hash);if(!N)throw new Error("No handler found for post message response for message: "+A.name+" from "+D+" in "+window.location.protocol+"//"+window.location.host+window.location.pathname);if(!T(N.domain,D))throw new Error("Response origin "+D+" does not match domain "+(B=N.domain,Array.isArray(B)?"("+B.join(" | ")+")":s(B)?"RegExp("+B.toString()+")":B.toString()));var B;if($!==N.win)throw new Error("Response source does not match registered window");iO(A.hash),A.ack==="error"?N.promise.reject(A.error):A.ack==="success"&&N.promise.resolve({source:$,origin:D,data:A.data})}}function aO($,D){var A=D.on,N=D.send,B=Te("receivedMessages");try{if(!window||window.closed||!$.source)return}catch{return}var Y=$.source,ee=$.origin,fe=function(Ce,be,Se,De){var mt=De.on,ht=De.send,gt;try{gt=nO(be,Se,Ce,{on:mt,send:ht})}catch{return}if(gt&&typeof gt=="object"&&gt!==null){var vn=gt.__post_robot_10_0_46__;if(Array.isArray(vn))return vn}}($.data,Y,ee,{on:A,send:N});if(fe){jn(Y);for(var ie=0;ie<fe.length;ie++){var te=fe[ie];if(B.has(te.id)||(B.set(te.id,!0),S(Y)&&!te.fireAndForget))return;te.origin.indexOf("file:")===0&&(ee="file://");try{te.type==="postrobot_message_request"?vK(Y,ee,te,{on:A,send:N}):te.type==="postrobot_message_response"?_K(Y,ee,te):te.type==="postrobot_message_ack"&&yK(Y,ee,te)}catch(Ce){setTimeout(function(){throw Ce},0)}}}}function Ba($,D,A){if(!$)throw new Error("Expected name");if(typeof(D=D||{})=="function"&&(A=D,D={}),!A)throw new Error("Expected handler");var N=function B(Y,ee){var fe=Y.name,ie=Y.win,te=Y.domain,Ce=je("requestListeners");if(!fe||typeof fe!="string")throw new Error("Name required to add request listener");if(ie&&ie!=="*"&&Ui.isProxyWindow(ie)){var be=ie.awaitWindow().then(function(ir){return B({name:fe,win:ir,domain:te},ee)});return{cancel:function(){be.then(function(ir){return ir.cancel()},P)}}}var Se=ie;if(Array.isArray(Se)){for(var De=[],mt=0,ht=Se;mt<ht.length;mt++)De.push(B({name:fe,domain:te,win:ht[mt]},ee));return{cancel:function(){for(var ir=0;ir<De.length;ir++)De[ir].cancel()}}}if(Array.isArray(te)){for(var gt=[],vn=0,dr=te;vn<dr.length;vn++)gt.push(B({name:fe,win:Se,domain:dr[vn]},ee));return{cancel:function(){for(var ir=0;ir<gt.length;ir++)gt[ir].cancel()}}}var xn=oO({name:fe,win:Se,domain:te});Se&&Se!=="*"||(Se=yt());var yn=(te=te||"*").toString();if(xn)throw Se&&te?new Error("Request listener already exists for "+fe+" on domain "+te.toString()+" for "+(Se===yt()?"wildcard":"specified")+" window"):Se?new Error("Request listener already exists for "+fe+" for "+(Se===yt()?"wildcard":"specified")+" window"):te?new Error("Request listener already exists for "+fe+" on domain "+te.toString()):new Error("Request listener already exists for "+fe);var Er=Ce.getOrSet(Se,function(){return{}}),Ut=Q(Er,fe,function(){return{}}),Tn,os;return z(te)?(Tn=Q(Ut,"__domain_regex__",function(){return[]})).push(os={regex:te,listener:ee}):Ut[yn]=ee,{cancel:function(){delete Ut[yn],os&&(Tn.splice(Tn.indexOf(os,1)),Tn.length||delete Ut.__domain_regex__),Object.keys(Ut).length||delete Er[fe],Se&&!Object.keys(Er).length&&Ce.del(Se)}}}({name:$,win:D.window,domain:D.domain||"*"},{handler:A||D.handler,handleError:D.errorHandler||function(B){throw B}});return{cancel:function(){N.cancel()}}}function bK($,D,A){typeof(D=D||{})=="function"&&(A=D,D={});var N=new Ie,B;return D.errorHandler=function(Y){B.cancel(),N.reject(Y)},B=Ba($,D,function(Y){if(B.cancel(),N.resolve(Y),A)return A(Y)}),N.cancel=B.cancel,N}var Ua=function $(D,A,N,B){var Y=(B=B||{}).domain||"*",ee=B.timeout||-1,fe=B.timeout||5e3,ie=B.fireAndForget||!1;return Ui.toProxyWindow(D,{send:$}).awaitWindow().then(function(te){return Ie.try(function(){if(function(Ce,be,Se){if(!Ce)throw new Error("Expected name");if(Se&&typeof Se!="string"&&!Array.isArray(Se)&&!z(Se))throw new TypeError("Can not send "+Ce+". Expected domain "+JSON.stringify(Se)+" to be a string, array, or regex");if(S(be))throw new Error("Can not send "+Ce+". Target window is closed")}(A,te,Y),function(Ce,be){var Se=I(be);if(Se)return Se===Ce;if(be===Ce||function(ht){ht===void 0&&(ht=window);try{if(ht.top)return ht.top}catch{}if(c(ht)===ht)return ht;try{if(v(window,ht)&&window.top)return window.top}catch{}try{if(v(ht,window)&&window.top)return window.top}catch{}for(var gt=0,vn=function xn(yn){for(var Er=[],Ut=0,Tn=y(yn);Ut<Tn.length;Ut++){var os=Tn[Ut];Er.push(os);for(var ir=0,hp=xn(os);ir<hp.length;ir++)Er.push(hp[ir])}return Er}(ht);gt<vn.length;gt++){var dr=vn[gt];try{if(dr.top)return dr.top}catch{}if(c(dr)===dr)return dr}}(be)===be)return!1;for(var De=0,mt=y(Ce);De<mt.length;De++)if(mt[De]===be)return!0;return!1}(window,te))return function(Ce,be,Se){be===void 0&&(be=5e3),Se===void 0&&(Se="Window");var De=function(mt){return je("helloPromises").getOrSet(mt,function(){return new Ie})}(Ce);return be!==-1&&(De=De.timeout(be,new Error(Se+" did not load after "+be+"ms"))),De}(te,fe)}).then(function(Ce){return function(be,Se,De,mt){var ht=mt.send;return Ie.try(function(){return typeof Se=="string"?Se:Ie.try(function(){return De||Jn(be,{send:ht}).then(function(gt){return gt.domain})}).then(function(gt){if(!T(Se,Se))throw new Error("Domain "+U(Se)+" does not match "+U(Se));return gt})})}(te,Y,(Ce===void 0?{}:Ce).domain,{send:$})}).then(function(Ce){var be=Ce,Se=A==="postrobot_method"&&N&&typeof N.name=="string"?N.name+"()":A,De=new Ie,mt=A+"_"+j();if(!ie){var ht={name:A,win:te,domain:be,promise:De};(function(Ut,Tn){Te("responseListeners").set(Ut,Tn)})(mt,ht);var gt=je("requestPromises").getOrSet(te,function(){return[]});gt.push(De),De.catch(function(){(function(Ut){Te("erroredResponseListeners").set(Ut,!0)})(mt),iO(mt)});var vn=function(Ut){return je("knownWindows").get(Ut,!1)}(te)?1e4:2e3,dr=ee,xn=vn,yn=dr,Er=function(Ut,Tn){var os;return function ir(){os=setTimeout(function(){(function(){if(S(te))return De.reject(new Error("Window closed for "+A+" before "+(ht.ack?"response":"ack")));if(ht.cancelled)return De.reject(new Error("Response listener was cancelled for "+A));xn=Math.max(xn-500,0),yn!==-1&&(yn=Math.max(yn-500,0)),ht.ack||xn!==0?yn===0&&De.reject(new Error("No response for postMessage "+Se+" in "+h()+" in "+dr+"ms")):De.reject(new Error("No ack for postMessage "+Se+" in "+h()+" in "+vn+"ms"))})(),ir()},500)}(),{cancel:function(){clearTimeout(os)}}}();De.finally(function(){Er.cancel(),gt.splice(gt.indexOf(De,1))}).catch(P)}return Yw(te,be,{id:j(),origin:h(window),type:"postrobot_message_request",hash:mt,name:A,data:N,fireAndForget:ie},{on:Ba,send:$}).then(function(){return ie?De.resolve():De},function(Ut){throw new Error("Send request message failed for "+Se+" in "+h()+`

`+R(Ut))})})})};function wK($,D,A){return tO($,D,A,{on:Ba,send:Ua})}function EK($,D,A){return nO($,D,A,{on:Ba,send:Ua})}function $K($){return new Ui({send:Ua,win:$})}function SK($){return Ui.toProxyWindow($,{send:Ua})}function lO(){pe().initialized||(pe().initialized=!0,D=($={on:Ba,send:Ua}).on,A=$.send,(N=pe()).receiveMessage=N.receiveMessage||function(B){return aO(B,{on:D,send:A})},function(B){var Y=B.on,ee=B.send;Te().getOrSet("postMessageListener",function(){return function(fe,ie,te){return fe.addEventListener("message",te),{cancel:function(){fe.removeEventListener("message",te)}}}(window,0,function(fe){(function(ie,te){var Ce=te.on,be=te.send;Ie.try(function(){var Se=ie.source||ie.sourceElement,De=ie.origin||ie.originalEvent&&ie.originalEvent.origin,mt=ie.data;if(De==="null"&&(De="file://"),Se){if(!De)throw new Error("Post message did not have origin domain");aO({source:Se,origin:De,data:mt},{on:Ce,send:be})}})})(fe,{on:Y,send:ee})})})}({on:Ba,send:Ua}),function(B){var Y=B.on,ee=B.send;Te("builtinListeners").getOrSet("helloListener",function(){var fe=Y("postrobot_hello",{domain:"*"},function(te){return Fn(te.source,{domain:te.origin}),{instanceID:pt()}}),ie=I();return ie&&Jn(ie,{send:ee}).catch(function(te){}),fe})}({on:Ba,send:Ua}));var $,D,A,N}function xK(){(function(){for(var D=Te("responseListeners"),A=0,N=D.keys();A<N.length;A++){var B=N[A],Y=D.get(B);Y&&(Y.cancelled=!0),D.del(B)}})(),($=Te().get("postMessageListener"))&&$.cancel();var $;delete window.__post_robot_10_0_46__}var TK=!0;function IK($){for(var D=0,A=je("requestPromises").get($,[]);D<A.length;D++)A[D].reject(new Error("Window "+(S($)?"closed":"cleaned up")+" before response")).catch(P)}lO()}])})})(i5);var nX=i5.exports;(function(e){e.exports=nX,e.exports.default=e.exports})(r5);var rX=r5.exports;const s5=J0(rX);function Hr(e,t,...n){if(e in t){let i=t[e];return typeof i=="function"?i(...n):i}let r=new Error(`Tried to handle "${e}" but there is no handler defined. Only defined handlers are: ${Object.keys(t).map(i=>`"${i}"`).join(", ")}.`);throw Error.captureStackTrace&&Error.captureStackTrace(r,Hr),r}var Cl=(e=>(e[e.None=0]="None",e[e.RenderStrategy=1]="RenderStrategy",e[e.Static=2]="Static",e))(Cl||{}),sl=(e=>(e[e.Unmount=0]="Unmount",e[e.Hidden=1]="Hidden",e))(sl||{});function Dr({visible:e=!0,features:t=0,ourProps:n,theirProps:r,...i}){var s;let o=a5(r,n),a=Object.assign(i,{props:o});if(e||t&2&&o.static)return s1(a);if(t&1){let l=(s=o.unmount)==null||s?0:1;return Hr(l,{[0](){return null},[1](){return s1({...i,props:{...o,hidden:!0,style:{display:"none"}}})}})}return s1(a)}function s1({props:e,attrs:t,slots:n,slot:r,name:i}){var s,o;let{as:a,...l}=l5(e,["unmount","static"]),u=(s=n.default)==null?void 0:s.call(n,r),c={};if(r){let d=!1,f=[];for(let[p,h]of Object.entries(r))typeof h=="boolean"&&(d=!0),h===!0&&f.push(p);d&&(c["data-headlessui-state"]=f.join(" "))}if(a==="template"){if(u=o5(u??[]),Object.keys(l).length>0||Object.keys(t).length>0){let[d,...f]=u??[];if(!iX(d)||f.length>0)throw new Error(['Passing props on "template"!',"",`The current component <${i} /> is rendering a "template".`,"However we need to passthrough the following props:",Object.keys(l).concat(Object.keys(t)).map(g=>g.trim()).filter((g,m,v)=>v.indexOf(g)===m).sort((g,m)=>g.localeCompare(m)).map(g=>`  - ${g}`).join(`
`),"","You can apply a few solutions:",['Add an `as="..."` prop, to ensure that we render an actual element instead of a "template".',"Render a single element as the child so that we can forward the props onto that element."].map(g=>`  - ${g}`).join(`
`)].join(`
`));let p=a5((o=d.props)!=null?o:{},l),h=qs(d,p);for(let g in p)g.startsWith("on")&&(h.props||(h.props={}),h.props[g]=p[g]);return h}return Array.isArray(u)&&u.length===1?u[0]:u}return Xt(a,Object.assign({},l,c),{default:()=>u})}function o5(e){return e.flatMap(t=>t.type===pn?o5(t.children):[t])}function a5(...e){if(e.length===0)return{};if(e.length===1)return e[0];let t={},n={};for(let r of e)for(let i in r)i.startsWith("on")&&typeof r[i]=="function"?(n[i]!=null||(n[i]=[]),n[i].push(r[i])):t[i]=r[i];if(t.disabled||t["aria-disabled"])return Object.assign(t,Object.fromEntries(Object.keys(n).map(r=>[r,void 0])));for(let r in n)Object.assign(t,{[r](i,...s){let o=n[r];for(let a of o){if(i instanceof Event&&i.defaultPrevented)return;a(i,...s)}}});return t}function $9e(e){let t=Object.assign({},e);for(let n in t)t[n]===void 0&&delete t[n];return t}function l5(e,t=[]){let n=Object.assign({},e);for(let r of t)r in n&&delete n[r];return n}function iX(e){return e==null?!1:typeof e.type=="string"||typeof e.type=="object"||typeof e.type=="function"}let sX=0;function oX(){return++sX}function Gi(){return oX()}var kn=(e=>(e.Space=" ",e.Enter="Enter",e.Escape="Escape",e.Backspace="Backspace",e.Delete="Delete",e.ArrowLeft="ArrowLeft",e.ArrowUp="ArrowUp",e.ArrowRight="ArrowRight",e.ArrowDown="ArrowDown",e.Home="Home",e.End="End",e.PageUp="PageUp",e.PageDown="PageDown",e.Tab="Tab",e))(kn||{});function aX(e){throw new Error("Unexpected object: "+e)}var qi=(e=>(e[e.First=0]="First",e[e.Previous=1]="Previous",e[e.Next=2]="Next",e[e.Last=3]="Last",e[e.Specific=4]="Specific",e[e.Nothing=5]="Nothing",e))(qi||{});function lX(e,t){let n=t.resolveItems();if(n.length<=0)return null;let r=t.resolveActiveIndex(),i=r??-1,s=(()=>{switch(e.focus){case 0:return n.findIndex(o=>!t.resolveDisabled(o));case 1:{let o=n.slice().reverse().findIndex((a,l,u)=>i!==-1&&u.length-l-1>=i?!1:!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 2:return n.findIndex((o,a)=>a<=i?!1:!t.resolveDisabled(o));case 3:{let o=n.slice().reverse().findIndex(a=>!t.resolveDisabled(a));return o===-1?o:n.length-1-o}case 4:return n.findIndex(o=>t.resolveId(o)===e.id);case 5:return null;default:aX(e)}})();return s===-1?r:s}function ke(e){var t;return e==null||e.value==null?null:(t=e.value.$el)!=null?t:e.value}let u5=Symbol("Context");var Zn=(e=>(e[e.Open=1]="Open",e[e.Closed=2]="Closed",e[e.Closing=4]="Closing",e[e.Opening=8]="Opening",e))(Zn||{});function uX(){return Zg()!==null}function Zg(){return lt(u5,null)}function wT(e){Kn(u5,e)}function GO(e,t){if(e)return e;let n=t??"button";if(typeof n=="string"&&n.toLowerCase()==="button")return"button"}function c5(e,t){let n=ne(GO(e.value.type,e.value.as));return Qt(()=>{n.value=GO(e.value.type,e.value.as)}),Kt(()=>{var r;n.value||ke(t)&&ke(t)instanceof HTMLButtonElement&&!((r=ke(t))!=null&&r.hasAttribute("type"))&&(n.value="button")}),n}var cX=Object.defineProperty,dX=(e,t,n)=>t in e?cX(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,YO=(e,t,n)=>(dX(e,typeof t!="symbol"?t+"":t,n),n);let fX=class{constructor(){YO(this,"current",this.detect()),YO(this,"currentId",0)}set(t){this.current!==t&&(this.currentId=0,this.current=t)}reset(){this.set(this.detect())}nextId(){return++this.currentId}get isServer(){return this.current==="server"}get isClient(){return this.current==="client"}detect(){return typeof window>"u"||typeof document>"u"?"server":"client"}},em=new fX;function Xs(e){if(em.isServer)return null;if(e instanceof Node)return e.ownerDocument;if(e!=null&&e.hasOwnProperty("value")){let t=ke(e);if(t)return t.ownerDocument}return document}function pX({container:e,accept:t,walk:n,enabled:r}){Kt(()=>{let i=e.value;if(!i||r!==void 0&&!r.value)return;let s=Xs(e);if(!s)return;let o=Object.assign(l=>t(l),{acceptNode:t}),a=s.createTreeWalker(i,NodeFilter.SHOW_ELEMENT,o,!1);for(;a.nextNode();)n(a.currentNode)})}let p$=["[contentEditable=true]","[tabindex]","a[href]","area[href]","button:not([disabled])","iframe","input:not([disabled])","select:not([disabled])","textarea:not([disabled])"].map(e=>`${e}:not([tabindex='-1'])`).join(",");var Cr=(e=>(e[e.First=1]="First",e[e.Previous=2]="Previous",e[e.Next=4]="Next",e[e.Last=8]="Last",e[e.WrapAround=16]="WrapAround",e[e.NoScroll=32]="NoScroll",e))(Cr||{}),Xh=(e=>(e[e.Error=0]="Error",e[e.Overflow=1]="Overflow",e[e.Success=2]="Success",e[e.Underflow=3]="Underflow",e))(Xh||{}),hX=(e=>(e[e.Previous=-1]="Previous",e[e.Next=1]="Next",e))(hX||{});function tm(e=document.body){return e==null?[]:Array.from(e.querySelectorAll(p$)).sort((t,n)=>Math.sign((t.tabIndex||Number.MAX_SAFE_INTEGER)-(n.tabIndex||Number.MAX_SAFE_INTEGER)))}var Z0=(e=>(e[e.Strict=0]="Strict",e[e.Loose=1]="Loose",e))(Z0||{});function eb(e,t=0){var n;return e===((n=Xs(e))==null?void 0:n.body)?!1:Hr(t,{[0](){return e.matches(p$)},[1](){let r=e;for(;r!==null;){if(r.matches(p$))return!0;r=r.parentElement}return!1}})}function d5(e){let t=Xs(e);qn(()=>{t&&!eb(t.activeElement,0)&&pl(e)})}var gX=(e=>(e[e.Keyboard=0]="Keyboard",e[e.Mouse=1]="Mouse",e))(gX||{});typeof window<"u"&&typeof document<"u"&&(document.addEventListener("keydown",e=>{e.metaKey||e.altKey||e.ctrlKey||(document.documentElement.dataset.headlessuiFocusVisible="")},!0),document.addEventListener("click",e=>{e.detail===1?delete document.documentElement.dataset.headlessuiFocusVisible:e.detail===0&&(document.documentElement.dataset.headlessuiFocusVisible="")},!0));function pl(e){e==null||e.focus({preventScroll:!0})}let mX=["textarea","input"].join(",");function vX(e){var t,n;return(n=(t=e==null?void 0:e.matches)==null?void 0:t.call(e,mX))!=null?n:!1}function f5(e,t=n=>n){return e.slice().sort((n,r)=>{let i=t(n),s=t(r);if(i===null||s===null)return 0;let o=i.compareDocumentPosition(s);return o&Node.DOCUMENT_POSITION_FOLLOWING?-1:o&Node.DOCUMENT_POSITION_PRECEDING?1:0})}function yX(e,t){return ps(tm(),t,{relativeTo:e})}function ps(e,t,{sorted:n=!0,relativeTo:r=null,skipElements:i=[]}={}){var s;let o=(s=Array.isArray(e)?e.length>0?e[0].ownerDocument:document:e==null?void 0:e.ownerDocument)!=null?s:document,a=Array.isArray(e)?n?f5(e):e:tm(e);i.length>0&&a.length>1&&(a=a.filter(h=>!i.includes(h))),r=r??o.activeElement;let l=(()=>{if(t&5)return 1;if(t&10)return-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),u=(()=>{if(t&1)return 0;if(t&2)return Math.max(0,a.indexOf(r))-1;if(t&4)return Math.max(0,a.indexOf(r))+1;if(t&8)return a.length-1;throw new Error("Missing Focus.First, Focus.Previous, Focus.Next or Focus.Last")})(),c=t&32?{preventScroll:!0}:{},d=0,f=a.length,p;do{if(d>=f||d+f<=0)return 0;let h=u+d;if(t&16)h=(h+f)%f;else{if(h<0)return 3;if(h>=f)return 1}p=a[h],p==null||p.focus(c),d+=l}while(p!==o.activeElement);return t&6&&vX(p)&&p.select(),2}function XO(e,t,n){em.isServer||Kt(r=>{document.addEventListener(e,t,n),r(()=>document.removeEventListener(e,t,n))})}function p5(e,t,n){em.isServer||Kt(r=>{window.addEventListener(e,t,n),r(()=>window.removeEventListener(e,t,n))})}function ET(e,t,n=Ae(()=>!0)){function r(s,o){if(!n.value||s.defaultPrevented)return;let a=o(s);if(a===null||!a.getRootNode().contains(a))return;let l=function u(c){return typeof c=="function"?u(c()):Array.isArray(c)||c instanceof Set?c:[c]}(e);for(let u of l){if(u===null)continue;let c=u instanceof HTMLElement?u:ke(u);if(c!=null&&c.contains(a)||s.composed&&s.composedPath().includes(c))return}return!eb(a,Z0.Loose)&&a.tabIndex!==-1&&s.preventDefault(),t(s,a)}let i=ne(null);XO("mousedown",s=>{var o,a;n.value&&(i.value=((a=(o=s.composedPath)==null?void 0:o.call(s))==null?void 0:a[0])||s.target)},!0),XO("click",s=>{i.value&&(r(s,()=>i.value),i.value=null)},!0),p5("blur",s=>r(s,()=>window.document.activeElement instanceof HTMLIFrameElement?window.document.activeElement:null),!0)}var Yu=(e=>(e[e.None=1]="None",e[e.Focusable=2]="Focusable",e[e.Hidden=4]="Hidden",e))(Yu||{});let Jd=mn({name:"Hidden",props:{as:{type:[Object,String],default:"div"},features:{type:Number,default:1}},setup(e,{slots:t,attrs:n}){return()=>{let{features:r,...i}=e,s={"aria-hidden":(r&2)===2?!0:void 0,style:{position:"fixed",top:1,left:1,width:1,height:0,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",borderWidth:"0",...(r&4)===4&&(r&2)!==2&&{display:"none"}}};return Dr({ourProps:s,theirProps:i,slot:{},attrs:n,slots:t,name:"Hidden"})}}});function QO(e){return[e.screenX,e.screenY]}function _X(){let e=ne([-1,-1]);return{wasMoved(t){let n=QO(t);return e.value[0]===n[0]&&e.value[1]===n[1]?!1:(e.value=n,!0)},update(t){e.value=QO(t)}}}function bX(){return/iPhone/gi.test(window.navigator.platform)||/Mac/gi.test(window.navigator.platform)&&window.navigator.maxTouchPoints>0}function tb(){let e=[],t={addEventListener(n,r,i,s){return n.addEventListener(r,i,s),t.add(()=>n.removeEventListener(r,i,s))},requestAnimationFrame(...n){let r=requestAnimationFrame(...n);t.add(()=>cancelAnimationFrame(r))},nextFrame(...n){t.requestAnimationFrame(()=>{t.requestAnimationFrame(...n)})},setTimeout(...n){let r=setTimeout(...n);t.add(()=>clearTimeout(r))},style(n,r,i){let s=n.style.getPropertyValue(r);return Object.assign(n.style,{[r]:i}),this.add(()=>{Object.assign(n.style,{[r]:s})})},group(n){let r=tb();return n(r),this.add(()=>r.dispose())},add(n){return e.push(n),()=>{let r=e.indexOf(n);if(r>=0)for(let i of e.splice(r,1))i()}},dispose(){for(let n of e.splice(0))n()}};return t}var zi=(e=>(e[e.Forwards=0]="Forwards",e[e.Backwards=1]="Backwards",e))(zi||{});function $T(){let e=ne(0);return p5("keydown",t=>{t.key==="Tab"&&(e.value=t.shiftKey?1:0)}),e}function ST(e,t,n,r){em.isServer||Kt(i=>{e=e??window,e.addEventListener(t,n,r),i(()=>e.removeEventListener(t,n,r))})}function h5(e){typeof queueMicrotask=="function"?queueMicrotask(e):Promise.resolve().then(e).catch(t=>setTimeout(()=>{throw t}))}function wX(e){function t(){document.readyState!=="loading"&&(e(),document.removeEventListener("DOMContentLoaded",t))}typeof window<"u"&&typeof document<"u"&&(document.addEventListener("DOMContentLoaded",t),t())}function g5(e){if(!e)return new Set;if(typeof e=="function")return new Set(e());let t=new Set;for(let n of e.value){let r=ke(n);r instanceof HTMLElement&&t.add(r)}return t}var m5=(e=>(e[e.None=1]="None",e[e.InitialFocus=2]="InitialFocus",e[e.TabLock=4]="TabLock",e[e.FocusLock=8]="FocusLock",e[e.RestoreFocus=16]="RestoreFocus",e[e.All=30]="All",e))(m5||{});let vp=Object.assign(mn({name:"FocusTrap",props:{as:{type:[Object,String],default:"div"},initialFocus:{type:Object,default:null},features:{type:Number,default:30},containers:{type:[Object,Function],default:ne(new Set)}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let i=ne(null);r({el:i,$el:i});let s=Ae(()=>Xs(i)),o=ne(!1);Qt(()=>o.value=!0),ur(()=>o.value=!1),$X({ownerDocument:s},Ae(()=>o.value&&!!(e.features&16)));let a=SX({ownerDocument:s,container:i,initialFocus:Ae(()=>e.initialFocus)},Ae(()=>o.value&&!!(e.features&2)));xX({ownerDocument:s,container:i,containers:e.containers,previousActiveElement:a},Ae(()=>o.value&&!!(e.features&8)));let l=$T();function u(p){let h=ke(i);h&&(g=>g())(()=>{Hr(l.value,{[zi.Forwards]:()=>{ps(h,Cr.First,{skipElements:[p.relatedTarget]})},[zi.Backwards]:()=>{ps(h,Cr.Last,{skipElements:[p.relatedTarget]})}})})}let c=ne(!1);function d(p){p.key==="Tab"&&(c.value=!0,requestAnimationFrame(()=>{c.value=!1}))}function f(p){if(!o.value)return;let h=g5(e.containers);ke(i)instanceof HTMLElement&&h.add(ke(i));let g=p.relatedTarget;g instanceof HTMLElement&&g.dataset.headlessuiFocusGuard!=="true"&&(v5(h,g)||(c.value?ps(ke(i),Hr(l.value,{[zi.Forwards]:()=>Cr.Next,[zi.Backwards]:()=>Cr.Previous})|Cr.WrapAround,{relativeTo:p.target}):p.target instanceof HTMLElement&&pl(p.target)))}return()=>{let p={},h={ref:i,onKeydown:d,onFocusout:f},{features:g,initialFocus:m,containers:v,...y}=e;return Xt(pn,[!!(g&4)&&Xt(Jd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Yu.Focusable}),Dr({ourProps:h,theirProps:{...t,...y},slot:p,attrs:t,slots:n,name:"FocusTrap"}),!!(g&4)&&Xt(Jd,{as:"button",type:"button","data-headlessui-focus-guard":!0,onFocus:u,features:Yu.Focusable})])}}}),{features:m5}),mu=[];wX(()=>{function e(t){t.target instanceof HTMLElement&&t.target!==document.body&&mu[0]!==t.target&&(mu.unshift(t.target),mu=mu.filter(n=>n!=null&&n.isConnected),mu.splice(10))}window.addEventListener("click",e,{capture:!0}),window.addEventListener("mousedown",e,{capture:!0}),window.addEventListener("focus",e,{capture:!0}),document.body.addEventListener("click",e,{capture:!0}),document.body.addEventListener("mousedown",e,{capture:!0}),document.body.addEventListener("focus",e,{capture:!0})});function EX(e){let t=ne(mu.slice());return xt([e],([n],[r])=>{r===!0&&n===!1?h5(()=>{t.value.splice(0)}):r===!1&&n===!0&&(t.value=mu.slice())},{flush:"post"}),()=>{var n;return(n=t.value.find(r=>r!=null&&r.isConnected))!=null?n:null}}function $X({ownerDocument:e},t){let n=EX(t);Qt(()=>{Kt(()=>{var r,i;t.value||((r=e.value)==null?void 0:r.activeElement)===((i=e.value)==null?void 0:i.body)&&pl(n())},{flush:"post"})}),ur(()=>{t.value&&pl(n())})}function SX({ownerDocument:e,container:t,initialFocus:n},r){let i=ne(null),s=ne(!1);return Qt(()=>s.value=!0),ur(()=>s.value=!1),Qt(()=>{xt([t,n,r],(o,a)=>{if(o.every((u,c)=>(a==null?void 0:a[c])===u)||!r.value)return;let l=ke(t);l&&h5(()=>{var u,c;if(!s.value)return;let d=ke(n),f=(u=e.value)==null?void 0:u.activeElement;if(d){if(d===f){i.value=f;return}}else if(l.contains(f)){i.value=f;return}d?pl(d):ps(l,Cr.First|Cr.NoScroll)===Xh.Error&&console.warn("There are no focusable elements inside the <FocusTrap />"),i.value=(c=e.value)==null?void 0:c.activeElement})},{immediate:!0,flush:"post"})}),i}function xX({ownerDocument:e,container:t,containers:n,previousActiveElement:r},i){var s;ST((s=e.value)==null?void 0:s.defaultView,"focus",o=>{if(!i.value)return;let a=g5(n);ke(t)instanceof HTMLElement&&a.add(ke(t));let l=r.value;if(!l)return;let u=o.target;u&&u instanceof HTMLElement?v5(a,u)?(r.value=u,pl(u)):(o.preventDefault(),o.stopPropagation(),pl(l)):pl(r.value)},!0)}function v5(e,t){for(let n of e)if(n.contains(t))return!0;return!1}let o1=new Map,yp=new Map;function JO(e,t=ne(!0)){Kt(n=>{var r;if(!t.value)return;let i=ke(e);if(!i)return;n(function(){var o;if(!i)return;let a=(o=yp.get(i))!=null?o:1;if(a===1?yp.delete(i):yp.set(i,a-1),a!==1)return;let l=o1.get(i);l&&(l["aria-hidden"]===null?i.removeAttribute("aria-hidden"):i.setAttribute("aria-hidden",l["aria-hidden"]),i.inert=l.inert,o1.delete(i))});let s=(r=yp.get(i))!=null?r:0;yp.set(i,s+1),s===0&&(o1.set(i,{"aria-hidden":i.getAttribute("aria-hidden"),inert:i.inert}),i.setAttribute("aria-hidden","true"),i.inert=!0)})}let y5=Symbol("ForcePortalRootContext");function TX(){return lt(y5,!1)}let ZO=mn({name:"ForcePortalRoot",props:{as:{type:[Object,String],default:"template"},force:{type:Boolean,default:!1}},setup(e,{slots:t,attrs:n}){return Kn(y5,e.force),()=>{let{force:r,...i}=e;return Dr({theirProps:i,ourProps:{},slot:{},slots:t,attrs:n,name:"ForcePortalRoot"})}}});function IX(e){let t=Xs(e);if(!t){if(e===null)return null;throw new Error(`[Headless UI]: Cannot find ownerDocument for contextElement: ${e}`)}let n=t.getElementById("headlessui-portal-root");if(n)return n;let r=t.createElement("div");return r.setAttribute("id","headlessui-portal-root"),t.body.appendChild(r)}let CX=mn({name:"Portal",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n}){let r=ne(null),i=Ae(()=>Xs(r)),s=TX(),o=lt(b5,null),a=ne(s===!0||o==null?IX(r.value):o.resolveTarget());Kt(()=>{s||o!=null&&(a.value=o.resolveTarget())});let l=lt(h$,null);return Qt(()=>{let u=ke(r);u&&l&&ur(l.register(u))}),ur(()=>{var u,c;let d=(u=i.value)==null?void 0:u.getElementById("headlessui-portal-root");d&&a.value===d&&a.value.children.length<=0&&((c=a.value.parentElement)==null||c.removeChild(a.value))}),()=>{if(a.value===null)return null;let u={ref:r,"data-headlessui-portal":""};return Xt(SB,{to:a.value},Dr({ourProps:u,theirProps:e,slot:{},attrs:n,slots:t,name:"Portal"}))}}}),h$=Symbol("PortalParentContext");function _5(){let e=lt(h$,null),t=ne([]);function n(s){return t.value.push(s),e&&e.register(s),()=>r(s)}function r(s){let o=t.value.indexOf(s);o!==-1&&t.value.splice(o,1),e&&e.unregister(s)}let i={register:n,unregister:r,portals:t};return[t,mn({name:"PortalWrapper",setup(s,{slots:o}){return Kn(h$,i),()=>{var a;return(a=o.default)==null?void 0:a.call(o)}}})]}let b5=Symbol("PortalGroupContext"),AX=mn({name:"PortalGroup",props:{as:{type:[Object,String],default:"template"},target:{type:Object,default:null}},setup(e,{attrs:t,slots:n}){let r=Wi({resolveTarget(){return e.target}});return Kn(b5,r),()=>{let{target:i,...s}=e;return Dr({theirProps:s,ourProps:{},slot:{},attrs:t,slots:n,name:"PortalGroup"})}}}),w5=Symbol("StackContext");var g$=(e=>(e[e.Add=0]="Add",e[e.Remove=1]="Remove",e))(g$||{});function kX(){return lt(w5,()=>{})}function OX({type:e,enabled:t,element:n,onUpdate:r}){let i=kX();function s(...o){r==null||r(...o),i(...o)}Qt(()=>{xt(t,(o,a)=>{o?s(0,e,n):a===!0&&s(1,e,n)},{immediate:!0,flush:"sync"})}),ur(()=>{t.value&&s(1,e,n)}),Kn(w5,s)}let E5=Symbol("DescriptionContext");function PX(){let e=lt(E5,null);if(e===null)throw new Error("Missing parent");return e}function RX({slot:e=ne({}),name:t="Description",props:n={}}={}){let r=ne([]);function i(s){return r.value.push(s),()=>{let o=r.value.indexOf(s);o!==-1&&r.value.splice(o,1)}}return Kn(E5,{register:i,slot:e,name:t,props:n}),Ae(()=>r.value.length>0?r.value.join(" "):void 0)}let x9e=mn({name:"Description",props:{as:{type:[Object,String],default:"p"},id:{type:String,default:()=>`headlessui-description-${Gi()}`}},setup(e,{attrs:t,slots:n}){let r=PX();return Qt(()=>ur(r.register(e.id))),()=>{let{name:i="Description",slot:s=ne({}),props:o={}}=r,{id:a,...l}=e,u={...Object.entries(o).reduce((c,[d,f])=>Object.assign(c,{[d]:ve(f)}),{}),id:a};return Dr({ourProps:u,theirProps:l,slot:s.value,attrs:t,slots:n,name:i})}}});function DX(e){let t=da(e.getSnapshot());return ur(e.subscribe(()=>{t.value=e.getSnapshot()})),t}function NX(e,t){let n=e(),r=new Set;return{getSnapshot(){return n},subscribe(i){return r.add(i),()=>r.delete(i)},dispatch(i,...s){let o=t[i].call(n,...s);o&&(n=o,r.forEach(a=>a()))}}}function MX(){let e;return{before({doc:t}){var n;let r=t.documentElement;e=((n=t.defaultView)!=null?n:window).innerWidth-r.clientWidth},after({doc:t,d:n}){let r=t.documentElement,i=r.clientWidth-r.offsetWidth,s=e-i;n.style(r,"paddingRight",`${s}px`)}}}function LX(){if(!bX())return{};let e;return{before(){e=window.pageYOffset},after({doc:t,d:n,meta:r}){function i(o){return r.containers.flatMap(a=>a()).some(a=>a.contains(o))}n.style(t.body,"marginTop",`-${e}px`),window.scrollTo(0,0);let s=null;n.addEventListener(t,"click",o=>{if(o.target instanceof HTMLElement)try{let a=o.target.closest("a");if(!a)return;let{hash:l}=new URL(a.href),u=t.querySelector(l);u&&!i(u)&&(s=u)}catch{}},!0),n.addEventListener(t,"touchmove",o=>{o.target instanceof HTMLElement&&!i(o.target)&&o.preventDefault()},{passive:!1}),n.add(()=>{window.scrollTo(0,window.pageYOffset+e),s&&s.isConnected&&(s.scrollIntoView({block:"nearest"}),s=null)})}}}function FX(){return{before({doc:e,d:t}){t.style(e.documentElement,"overflow","hidden")}}}function BX(e){let t={};for(let n of e)Object.assign(t,n(t));return t}let bu=NX(()=>new Map,{PUSH(e,t){var n;let r=(n=this.get(e))!=null?n:{doc:e,count:0,d:tb(),meta:new Set};return r.count++,r.meta.add(t),this.set(e,r),this},POP(e,t){let n=this.get(e);return n&&(n.count--,n.meta.delete(t)),this},SCROLL_PREVENT({doc:e,d:t,meta:n}){let r={doc:e,d:t,meta:BX(n)},i=[LX(),MX(),FX()];i.forEach(({before:s})=>s==null?void 0:s(r)),i.forEach(({after:s})=>s==null?void 0:s(r))},SCROLL_ALLOW({d:e}){e.dispose()},TEARDOWN({doc:e}){this.delete(e)}});bu.subscribe(()=>{let e=bu.getSnapshot(),t=new Map;for(let[n]of e)t.set(n,n.documentElement.style.overflow);for(let n of e.values()){let r=t.get(n.doc)==="hidden",i=n.count!==0;(i&&!r||!i&&r)&&bu.dispatch(n.count>0?"SCROLL_PREVENT":"SCROLL_ALLOW",n),n.count===0&&bu.dispatch("TEARDOWN",n)}});function UX(e,t,n){let r=DX(bu),i=Ae(()=>{let s=e.value?r.value.get(e.value):void 0;return s?s.count>0:!1});return xt([e,t],([s,o],[a],l)=>{if(!s||!o)return;bu.dispatch("PUSH",s,n);let u=!1;l(()=>{u||(bu.dispatch("POP",a??s,n),u=!0)})},{immediate:!0}),i}function $5({defaultContainers:e=[],portals:t}={}){let n=ne(null),r=Xs(n);function i(){var s;let o=[];for(let a of e)a!==null&&(a instanceof HTMLElement?o.push(a):"value"in a&&a.value instanceof HTMLElement&&o.push(a.value));if(t!=null&&t.value)for(let a of t.value)o.push(a);for(let a of(s=r==null?void 0:r.querySelectorAll("html > *, body > *"))!=null?s:[])a!==document.body&&a!==document.head&&a instanceof HTMLElement&&a.id!=="headlessui-portal-root"&&(a.contains(ke(n))||o.some(l=>a.contains(l))||o.push(a));return o}return{resolveContainers:i,contains(s){return i().some(o=>o.contains(s))},mainTreeNodeRef:n,MainTreeNode(){return Xt(Jd,{features:Yu.Hidden,ref:n})}}}var VX=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(VX||{});let m$=Symbol("DialogContext");function xT(e){let t=lt(m$,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Dialog /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,xT),n}return t}let av="DC8F892D-2EBD-447C-A4C8-A03058436FF4",HX=mn({name:"Dialog",inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},open:{type:[Boolean,String],default:av},initialFocus:{type:Object,default:null},id:{type:String,default:()=>`headlessui-dialog-${Gi()}`}},emits:{close:e=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:i}){var s;let o=ne(!1);Qt(()=>{o.value=!0});let a=ne(0),l=Zg(),u=Ae(()=>e.open===av&&l!==null?(l.value&Zn.Open)===Zn.Open:e.open),c=ne(null),d=Ae(()=>Xs(c));if(i({el:c,$el:c}),!(e.open!==av||l!==null))throw new Error("You forgot to provide an `open` prop to the `Dialog`.");if(typeof u.value!="boolean")throw new Error(`You provided an \`open\` prop to the \`Dialog\`, but the value is not a boolean. Received: ${u.value===av?void 0:e.open}`);let f=Ae(()=>o.value&&u.value?0:1),p=Ae(()=>f.value===0),h=Ae(()=>a.value>1),g=lt(m$,null)!==null,[m,v]=_5(),{resolveContainers:y,mainTreeNodeRef:b,MainTreeNode:_}=$5({portals:m,defaultContainers:[Ae(()=>{var ae;return(ae=V.panelRef.value)!=null?ae:c.value})]}),S=Ae(()=>h.value?"parent":"leaf"),I=Ae(()=>l!==null?(l.value&Zn.Closing)===Zn.Closing:!1),T=Ae(()=>g||I.value?!1:p.value),w=Ae(()=>{var ae,xe,Ie;return(Ie=Array.from((xe=(ae=d.value)==null?void 0:ae.querySelectorAll("body > *"))!=null?xe:[]).find(ft=>ft.id==="headlessui-portal-root"?!1:ft.contains(ke(b))&&ft instanceof HTMLElement))!=null?Ie:null});JO(w,T);let x=Ae(()=>h.value?!0:p.value),E=Ae(()=>{var ae,xe,Ie;return(Ie=Array.from((xe=(ae=d.value)==null?void 0:ae.querySelectorAll("[data-headlessui-portal]"))!=null?xe:[]).find(ft=>ft.contains(ke(b))&&ft instanceof HTMLElement))!=null?Ie:null});JO(E,x),OX({type:"Dialog",enabled:Ae(()=>f.value===0),element:c,onUpdate:(ae,xe)=>{if(xe==="Dialog")return Hr(ae,{[g$.Add]:()=>a.value+=1,[g$.Remove]:()=>a.value-=1})}});let O=RX({name:"DialogDescription",slot:Ae(()=>({open:u.value}))}),M=ne(null),V={titleId:M,panelRef:ne(null),dialogState:f,setTitleId(ae){M.value!==ae&&(M.value=ae)},close(){t("close",!1)}};Kn(m$,V);let H=Ae(()=>!(!p.value||h.value));ET(y,(ae,xe)=>{V.close(),qn(()=>xe==null?void 0:xe.focus())},H);let me=Ae(()=>!(h.value||f.value!==0));ST((s=d.value)==null?void 0:s.defaultView,"keydown",ae=>{me.value&&(ae.defaultPrevented||ae.key===kn.Escape&&(ae.preventDefault(),ae.stopPropagation(),V.close()))});let ce=Ae(()=>!(I.value||f.value!==0||g));return UX(d,ce,ae=>{var xe;return{containers:[...(xe=ae.containers)!=null?xe:[],y]}}),Kt(ae=>{if(f.value!==0)return;let xe=ke(c);if(!xe)return;let Ie=new ResizeObserver(ft=>{for(let Ye of ft){let St=Ye.target.getBoundingClientRect();St.x===0&&St.y===0&&St.width===0&&St.height===0&&V.close()}});Ie.observe(xe),ae(()=>Ie.disconnect())}),()=>{let{id:ae,open:xe,initialFocus:Ie,...ft}=e,Ye={...n,ref:c,id:ae,role:"dialog","aria-modal":f.value===0?!0:void 0,"aria-labelledby":M.value,"aria-describedby":O.value},St={open:f.value===0};return Xt(ZO,{force:!0},()=>[Xt(CX,()=>Xt(AX,{target:c.value},()=>Xt(ZO,{force:!1},()=>Xt(vp,{initialFocus:Ie,containers:y,features:p.value?Hr(S.value,{parent:vp.features.RestoreFocus,leaf:vp.features.All&~vp.features.FocusLock}):vp.features.None},()=>Xt(v,{},()=>Dr({ourProps:Ye,theirProps:{...ft,...n},slot:St,attrs:n,slots:r,visible:f.value===0,features:Cl.RenderStrategy|Cl.Static,name:"Dialog"})))))),Xt(_)])}}}),jX=mn({name:"DialogPanel",props:{as:{type:[Object,String],default:"div"},id:{type:String,default:()=>`headlessui-dialog-panel-${Gi()}`}},setup(e,{attrs:t,slots:n,expose:r}){let i=xT("DialogPanel");r({el:i.panelRef,$el:i.panelRef});function s(o){o.stopPropagation()}return()=>{let{id:o,...a}=e,l={id:o,ref:i.panelRef,onClick:s};return Dr({ourProps:l,theirProps:a,slot:{open:i.dialogState.value===0},attrs:t,slots:n,name:"DialogPanel"})}}}),WX=mn({name:"DialogTitle",props:{as:{type:[Object,String],default:"h2"},id:{type:String,default:()=>`headlessui-dialog-title-${Gi()}`}},setup(e,{attrs:t,slots:n}){let r=xT("DialogTitle");return Qt(()=>{r.setTitleId(e.id),ur(()=>r.setTitleId(null))}),()=>{let{id:i,...s}=e;return Dr({ourProps:{id:i},theirProps:s,slot:{open:r.dialogState.value===0},attrs:t,slots:n,name:"DialogTitle"})}}}),eP=/([\u2700-\u27BF]|[\uE000-\uF8FF]|\uD83C[\uDC00-\uDFFF]|\uD83D[\uDC00-\uDFFF]|[\u2011-\u26FF]|\uD83E[\uDD10-\uDDFF])/g;function tP(e){var t,n;let r=(t=e.innerText)!=null?t:"",i=e.cloneNode(!0);if(!(i instanceof HTMLElement))return r;let s=!1;for(let a of i.querySelectorAll('[hidden],[aria-hidden],[role="img"]'))a.remove(),s=!0;let o=s?(n=i.innerText)!=null?n:"":r;return eP.test(o)&&(o=o.replace(eP,"")),o}function qX(e){let t=e.getAttribute("aria-label");if(typeof t=="string")return t.trim();let n=e.getAttribute("aria-labelledby");if(n){let r=n.split(" ").map(i=>{let s=document.getElementById(i);if(s){let o=s.getAttribute("aria-label");return typeof o=="string"?o.trim():tP(s).trim()}return null}).filter(Boolean);if(r.length>0)return r.join(", ")}return tP(e).trim()}function zX(e){let t=ne(""),n=ne("");return()=>{let r=ke(e);if(!r)return"";let i=r.innerText;if(t.value===i)return n.value;let s=qX(r).trim().toLowerCase();return t.value=i,n.value=s,s}}var KX=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(KX||{}),GX=(e=>(e[e.Pointer=0]="Pointer",e[e.Other=1]="Other",e))(GX||{});function YX(e){requestAnimationFrame(()=>requestAnimationFrame(e))}let S5=Symbol("MenuContext");function nb(e){let t=lt(S5,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <Menu /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,nb),n}return t}let XX=mn({name:"Menu",props:{as:{type:[Object,String],default:"template"}},setup(e,{slots:t,attrs:n}){let r=ne(1),i=ne(null),s=ne(null),o=ne([]),a=ne(""),l=ne(null),u=ne(1);function c(f=p=>p){let p=l.value!==null?o.value[l.value]:null,h=f5(f(o.value.slice()),m=>ke(m.dataRef.domRef)),g=p?h.indexOf(p):null;return g===-1&&(g=null),{items:h,activeItemIndex:g}}let d={menuState:r,buttonRef:i,itemsRef:s,items:o,searchQuery:a,activeItemIndex:l,activationTrigger:u,closeMenu:()=>{r.value=1,l.value=null},openMenu:()=>r.value=0,goToItem(f,p,h){let g=c(),m=lX(f===qi.Specific?{focus:qi.Specific,id:p}:{focus:f},{resolveItems:()=>g.items,resolveActiveIndex:()=>g.activeItemIndex,resolveId:v=>v.id,resolveDisabled:v=>v.dataRef.disabled});a.value="",l.value=m,u.value=h??1,o.value=g.items},search(f){let p=a.value!==""?0:1;a.value+=f.toLowerCase();let h=(l.value!==null?o.value.slice(l.value+p).concat(o.value.slice(0,l.value+p)):o.value).find(m=>m.dataRef.textValue.startsWith(a.value)&&!m.dataRef.disabled),g=h?o.value.indexOf(h):-1;g===-1||g===l.value||(l.value=g,u.value=1)},clearSearch(){a.value=""},registerItem(f,p){let h=c(g=>[...g,{id:f,dataRef:p}]);o.value=h.items,l.value=h.activeItemIndex,u.value=1},unregisterItem(f){let p=c(h=>{let g=h.findIndex(m=>m.id===f);return g!==-1&&h.splice(g,1),h});o.value=p.items,l.value=p.activeItemIndex,u.value=1}};return ET([i,s],(f,p)=>{var h;d.closeMenu(),eb(p,Z0.Loose)||(f.preventDefault(),(h=ke(i))==null||h.focus())},Ae(()=>r.value===0)),Kn(S5,d),wT(Ae(()=>Hr(r.value,{[0]:Zn.Open,[1]:Zn.Closed}))),()=>{let f={open:r.value===0,close:d.closeMenu};return Dr({ourProps:{},theirProps:e,slot:f,slots:t,attrs:n,name:"Menu"})}}}),QX=mn({name:"MenuButton",props:{disabled:{type:Boolean,default:!1},as:{type:[Object,String],default:"button"},id:{type:String,default:()=>`headlessui-menu-button-${Gi()}`}},setup(e,{attrs:t,slots:n,expose:r}){let i=nb("MenuButton");r({el:i.buttonRef,$el:i.buttonRef});function s(u){switch(u.key){case kn.Space:case kn.Enter:case kn.ArrowDown:u.preventDefault(),u.stopPropagation(),i.openMenu(),qn(()=>{var c;(c=ke(i.itemsRef))==null||c.focus({preventScroll:!0}),i.goToItem(qi.First)});break;case kn.ArrowUp:u.preventDefault(),u.stopPropagation(),i.openMenu(),qn(()=>{var c;(c=ke(i.itemsRef))==null||c.focus({preventScroll:!0}),i.goToItem(qi.Last)});break}}function o(u){switch(u.key){case kn.Space:u.preventDefault();break}}function a(u){e.disabled||(i.menuState.value===0?(i.closeMenu(),qn(()=>{var c;return(c=ke(i.buttonRef))==null?void 0:c.focus({preventScroll:!0})})):(u.preventDefault(),i.openMenu(),YX(()=>{var c;return(c=ke(i.itemsRef))==null?void 0:c.focus({preventScroll:!0})})))}let l=c5(Ae(()=>({as:e.as,type:t.type})),i.buttonRef);return()=>{var u;let c={open:i.menuState.value===0},{id:d,...f}=e,p={ref:i.buttonRef,id:d,type:l.value,"aria-haspopup":"menu","aria-controls":(u=ke(i.itemsRef))==null?void 0:u.id,"aria-expanded":e.disabled?void 0:i.menuState.value===0,onKeydown:s,onKeyup:o,onClick:a};return Dr({ourProps:p,theirProps:f,slot:c,attrs:t,slots:n,name:"MenuButton"})}}}),JX=mn({name:"MenuItems",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},id:{type:String,default:()=>`headlessui-menu-items-${Gi()}`}},setup(e,{attrs:t,slots:n,expose:r}){let i=nb("MenuItems"),s=ne(null);r({el:i.itemsRef,$el:i.itemsRef}),pX({container:Ae(()=>ke(i.itemsRef)),enabled:Ae(()=>i.menuState.value===0),accept(c){return c.getAttribute("role")==="menuitem"?NodeFilter.FILTER_REJECT:c.hasAttribute("role")?NodeFilter.FILTER_SKIP:NodeFilter.FILTER_ACCEPT},walk(c){c.setAttribute("role","none")}});function o(c){var d;switch(s.value&&clearTimeout(s.value),c.key){case kn.Space:if(i.searchQuery.value!=="")return c.preventDefault(),c.stopPropagation(),i.search(c.key);case kn.Enter:if(c.preventDefault(),c.stopPropagation(),i.activeItemIndex.value!==null){let f=i.items.value[i.activeItemIndex.value];(d=ke(f.dataRef.domRef))==null||d.click()}i.closeMenu(),d5(ke(i.buttonRef));break;case kn.ArrowDown:return c.preventDefault(),c.stopPropagation(),i.goToItem(qi.Next);case kn.ArrowUp:return c.preventDefault(),c.stopPropagation(),i.goToItem(qi.Previous);case kn.Home:case kn.PageUp:return c.preventDefault(),c.stopPropagation(),i.goToItem(qi.First);case kn.End:case kn.PageDown:return c.preventDefault(),c.stopPropagation(),i.goToItem(qi.Last);case kn.Escape:c.preventDefault(),c.stopPropagation(),i.closeMenu(),qn(()=>{var f;return(f=ke(i.buttonRef))==null?void 0:f.focus({preventScroll:!0})});break;case kn.Tab:c.preventDefault(),c.stopPropagation(),i.closeMenu(),qn(()=>yX(ke(i.buttonRef),c.shiftKey?Cr.Previous:Cr.Next));break;default:c.key.length===1&&(i.search(c.key),s.value=setTimeout(()=>i.clearSearch(),350));break}}function a(c){switch(c.key){case kn.Space:c.preventDefault();break}}let l=Zg(),u=Ae(()=>l!==null?(l.value&Zn.Open)===Zn.Open:i.menuState.value===0);return()=>{var c,d;let f={open:i.menuState.value===0},{id:p,...h}=e,g={"aria-activedescendant":i.activeItemIndex.value===null||(c=i.items.value[i.activeItemIndex.value])==null?void 0:c.id,"aria-labelledby":(d=ke(i.buttonRef))==null?void 0:d.id,id:p,onKeydown:o,onKeyup:a,role:"menu",tabIndex:0,ref:i.itemsRef};return Dr({ourProps:g,theirProps:h,slot:f,attrs:t,slots:n,features:Cl.RenderStrategy|Cl.Static,visible:u.value,name:"MenuItems"})}}}),lv=mn({name:"MenuItem",inheritAttrs:!1,props:{as:{type:[Object,String],default:"template"},disabled:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-menu-item-${Gi()}`}},setup(e,{slots:t,attrs:n,expose:r}){let i=nb("MenuItem"),s=ne(null);r({el:s,$el:s});let o=Ae(()=>i.activeItemIndex.value!==null?i.items.value[i.activeItemIndex.value].id===e.id:!1),a=zX(s),l=Ae(()=>({disabled:e.disabled,get textValue(){return a()},domRef:s}));Qt(()=>i.registerItem(e.id,l)),ur(()=>i.unregisterItem(e.id)),Kt(()=>{i.menuState.value===0&&o.value&&i.activationTrigger.value!==0&&qn(()=>{var g,m;return(m=(g=ke(s))==null?void 0:g.scrollIntoView)==null?void 0:m.call(g,{block:"nearest"})})});function u(g){if(e.disabled)return g.preventDefault();i.closeMenu(),d5(ke(i.buttonRef))}function c(){if(e.disabled)return i.goToItem(qi.Nothing);i.goToItem(qi.Specific,e.id)}let d=_X();function f(g){d.update(g)}function p(g){d.wasMoved(g)&&(e.disabled||o.value||i.goToItem(qi.Specific,e.id,0))}function h(g){d.wasMoved(g)&&(e.disabled||o.value&&i.goToItem(qi.Nothing))}return()=>{let{disabled:g}=e,m={active:o.value,disabled:g,close:i.closeMenu},{id:v,...y}=e;return Dr({ourProps:{id:v,ref:s,role:"menuitem",tabIndex:g===!0?void 0:-1,"aria-disabled":g===!0?!0:void 0,disabled:void 0,onClick:u,onFocus:c,onPointerenter:f,onMouseenter:f,onPointermove:p,onMousemove:p,onPointerleave:h,onMouseleave:h},theirProps:{...n,...y},slot:m,attrs:n,slots:t,name:"MenuItem"})}}});var ZX=(e=>(e[e.Open=0]="Open",e[e.Closed=1]="Closed",e))(ZX||{});let x5=Symbol("PopoverContext");function TT(e){let t=lt(x5,null);if(t===null){let n=new Error(`<${e} /> is missing a parent <${C5.name} /> component.`);throw Error.captureStackTrace&&Error.captureStackTrace(n,TT),n}return t}let eQ=Symbol("PopoverGroupContext");function T5(){return lt(eQ,null)}let I5=Symbol("PopoverPanelContext");function tQ(){return lt(I5,null)}let C5=mn({name:"Popover",props:{as:{type:[Object,String],default:"div"}},setup(e,{slots:t,attrs:n,expose:r}){var i;let s=ne(null);r({el:s,$el:s});let o=ne(1),a=ne(null),l=ne(null),u=ne(null),c=ne(null),d=Ae(()=>Xs(s)),f=Ae(()=>{var S,I;if(!ke(a)||!ke(c))return!1;for(let V of document.querySelectorAll("body > *"))if(Number(V==null?void 0:V.contains(ke(a)))^Number(V==null?void 0:V.contains(ke(c))))return!0;let T=tm(),w=T.indexOf(ke(a)),x=(w+T.length-1)%T.length,E=(w+1)%T.length,O=T[x],M=T[E];return!((S=ke(c))!=null&&S.contains(O))&&!((I=ke(c))!=null&&I.contains(M))}),p={popoverState:o,buttonId:ne(null),panelId:ne(null),panel:c,button:a,isPortalled:f,beforePanelSentinel:l,afterPanelSentinel:u,togglePopover(){o.value=Hr(o.value,{[0]:1,[1]:0})},closePopover(){o.value!==1&&(o.value=1)},close(S){p.closePopover();let I=(()=>S?S instanceof HTMLElement?S:S.value instanceof HTMLElement?ke(S):ke(p.button):ke(p.button))();I==null||I.focus()}};Kn(x5,p),wT(Ae(()=>Hr(o.value,{[0]:Zn.Open,[1]:Zn.Closed})));let h={buttonId:p.buttonId,panelId:p.panelId,close(){p.closePopover()}},g=T5(),m=g==null?void 0:g.registerPopover,[v,y]=_5(),b=$5({portals:v,defaultContainers:[a,c]});function _(){var S,I,T,w;return(w=g==null?void 0:g.isFocusWithinPopoverGroup())!=null?w:((S=d.value)==null?void 0:S.activeElement)&&(((I=ke(a))==null?void 0:I.contains(d.value.activeElement))||((T=ke(c))==null?void 0:T.contains(d.value.activeElement)))}return Kt(()=>m==null?void 0:m(h)),ST((i=d.value)==null?void 0:i.defaultView,"focus",S=>{var I,T;S.target!==window&&S.target instanceof HTMLElement&&o.value===0&&(_()||a&&c&&(b.contains(S.target)||(I=ke(p.beforePanelSentinel))!=null&&I.contains(S.target)||(T=ke(p.afterPanelSentinel))!=null&&T.contains(S.target)||p.closePopover()))},!0),ET(b.resolveContainers,(S,I)=>{var T;p.closePopover(),eb(I,Z0.Loose)||(S.preventDefault(),(T=ke(a))==null||T.focus())},Ae(()=>o.value===0)),()=>{let S={open:o.value===0,close:p.close};return Xt(y,{},()=>Dr({theirProps:{...e,...n},ourProps:{ref:s},slot:S,slots:t,attrs:n,name:"Popover"}))}}}),_p=mn({name:"PopoverButton",props:{as:{type:[Object,String],default:"button"},disabled:{type:[Boolean],default:!1},id:{type:String,default:()=>`headlessui-popover-button-${Gi()}`}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let i=TT("PopoverButton"),s=Ae(()=>Xs(i.button));r({el:i.button,$el:i.button}),Qt(()=>{i.buttonId.value=e.id}),ur(()=>{i.buttonId.value=null});let o=T5(),a=o==null?void 0:o.closeOthers,l=tQ(),u=Ae(()=>l===null?!1:l.value===i.panelId.value),c=ne(null),d=`headlessui-focus-sentinel-${Gi()}`;u.value||Kt(()=>{i.button.value=c.value});let f=c5(Ae(()=>({as:e.as,type:t.type})),c);function p(b){var _,S,I,T,w;if(u.value){if(i.popoverState.value===1)return;switch(b.key){case kn.Space:case kn.Enter:b.preventDefault(),(S=(_=b.target).click)==null||S.call(_),i.closePopover(),(I=ke(i.button))==null||I.focus();break}}else switch(b.key){case kn.Space:case kn.Enter:b.preventDefault(),b.stopPropagation(),i.popoverState.value===1&&(a==null||a(i.buttonId.value)),i.togglePopover();break;case kn.Escape:if(i.popoverState.value!==0)return a==null?void 0:a(i.buttonId.value);if(!ke(i.button)||(T=s.value)!=null&&T.activeElement&&!((w=ke(i.button))!=null&&w.contains(s.value.activeElement)))return;b.preventDefault(),b.stopPropagation(),i.closePopover();break}}function h(b){u.value||b.key===kn.Space&&b.preventDefault()}function g(b){var _,S;e.disabled||(u.value?(i.closePopover(),(_=ke(i.button))==null||_.focus()):(b.preventDefault(),b.stopPropagation(),i.popoverState.value===1&&(a==null||a(i.buttonId.value)),i.togglePopover(),(S=ke(i.button))==null||S.focus()))}function m(b){b.preventDefault(),b.stopPropagation()}let v=$T();function y(){let b=ke(i.panel);if(!b)return;function _(){Hr(v.value,{[zi.Forwards]:()=>ps(b,Cr.First),[zi.Backwards]:()=>ps(b,Cr.Last)})===Xh.Error&&ps(tm().filter(S=>S.dataset.headlessuiFocusGuard!=="true"),Hr(v.value,{[zi.Forwards]:Cr.Next,[zi.Backwards]:Cr.Previous}),{relativeTo:ke(i.button)})}_()}return()=>{let b=i.popoverState.value===0,_={open:b},{id:S,...I}=e,T=u.value?{ref:c,type:f.value,onKeydown:p,onClick:g}:{ref:c,id:S,type:f.value,"aria-expanded":e.disabled?void 0:i.popoverState.value===0,"aria-controls":ke(i.panel)?i.panelId.value:void 0,disabled:e.disabled?!0:void 0,onKeydown:p,onKeyup:h,onClick:g,onMousedown:m};return Xt(pn,[Dr({ourProps:T,theirProps:{...t,...I},slot:_,attrs:t,slots:n,name:"PopoverButton"}),b&&!u.value&&i.isPortalled.value&&Xt(Jd,{id:d,features:Yu.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:y})])}}}),nQ=mn({name:"PopoverPanel",props:{as:{type:[Object,String],default:"div"},static:{type:Boolean,default:!1},unmount:{type:Boolean,default:!0},focus:{type:Boolean,default:!1},id:{type:String,default:()=>`headlessui-popover-panel-${Gi()}`}},inheritAttrs:!1,setup(e,{attrs:t,slots:n,expose:r}){let{focus:i}=e,s=TT("PopoverPanel"),o=Ae(()=>Xs(s.panel)),a=`headlessui-focus-sentinel-before-${Gi()}`,l=`headlessui-focus-sentinel-after-${Gi()}`;r({el:s.panel,$el:s.panel}),Qt(()=>{s.panelId.value=e.id}),ur(()=>{s.panelId.value=null}),Kn(I5,s.panelId),Kt(()=>{var m,v;if(!i||s.popoverState.value!==0||!s.panel)return;let y=(m=o.value)==null?void 0:m.activeElement;(v=ke(s.panel))!=null&&v.contains(y)||ps(ke(s.panel),Cr.First)});let u=Zg(),c=Ae(()=>u!==null?(u.value&Zn.Open)===Zn.Open:s.popoverState.value===0);function d(m){var v,y;switch(m.key){case kn.Escape:if(s.popoverState.value!==0||!ke(s.panel)||o.value&&!((v=ke(s.panel))!=null&&v.contains(o.value.activeElement)))return;m.preventDefault(),m.stopPropagation(),s.closePopover(),(y=ke(s.button))==null||y.focus();break}}function f(m){var v,y,b,_,S;let I=m.relatedTarget;I&&ke(s.panel)&&((v=ke(s.panel))!=null&&v.contains(I)||(s.closePopover(),((b=(y=ke(s.beforePanelSentinel))==null?void 0:y.contains)!=null&&b.call(y,I)||(S=(_=ke(s.afterPanelSentinel))==null?void 0:_.contains)!=null&&S.call(_,I))&&I.focus({preventScroll:!0})))}let p=$T();function h(){let m=ke(s.panel);if(!m)return;function v(){Hr(p.value,{[zi.Forwards]:()=>{var y;ps(m,Cr.First)===Xh.Error&&((y=ke(s.afterPanelSentinel))==null||y.focus())},[zi.Backwards]:()=>{var y;(y=ke(s.button))==null||y.focus({preventScroll:!0})}})}v()}function g(){let m=ke(s.panel);if(!m)return;function v(){Hr(p.value,{[zi.Forwards]:()=>{let y=ke(s.button),b=ke(s.panel);if(!y)return;let _=tm(),S=_.indexOf(y),I=_.slice(0,S+1),T=[..._.slice(S+1),...I];for(let w of T.slice())if(w.dataset.headlessuiFocusGuard==="true"||b!=null&&b.contains(w)){let x=T.indexOf(w);x!==-1&&T.splice(x,1)}ps(T,Cr.First,{sorted:!1})},[zi.Backwards]:()=>{var y;ps(m,Cr.Previous)===Xh.Error&&((y=ke(s.button))==null||y.focus())}})}v()}return()=>{let m={open:s.popoverState.value===0,close:s.close},{id:v,focus:y,...b}=e,_={ref:s.panel,id:v,onKeydown:d,onFocusout:i&&s.popoverState.value===0?f:void 0,tabIndex:-1};return Dr({ourProps:_,theirProps:{...t,...b},attrs:t,slot:m,slots:{...n,default:(...S)=>{var I;return[Xt(pn,[c.value&&s.isPortalled.value&&Xt(Jd,{id:a,ref:s.beforePanelSentinel,features:Yu.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:h}),(I=n.default)==null?void 0:I.call(n,...S),c.value&&s.isPortalled.value&&Xt(Jd,{id:l,ref:s.afterPanelSentinel,features:Yu.Focusable,"data-headlessui-focus-guard":!0,as:"button",type:"button",onFocus:g})])]}},features:Cl.RenderStrategy|Cl.Static,visible:c.value,name:"PopoverPanel"})}}});function rQ(e){let t={called:!1};return(...n)=>{if(!t.called)return t.called=!0,e(...n)}}function a1(e,...t){e&&t.length>0&&e.classList.add(...t)}function uv(e,...t){e&&t.length>0&&e.classList.remove(...t)}var v$=(e=>(e.Finished="finished",e.Cancelled="cancelled",e))(v$||{});function iQ(e,t){let n=tb();if(!e)return n.dispose;let{transitionDuration:r,transitionDelay:i}=getComputedStyle(e),[s,o]=[r,i].map(a=>{let[l=0]=a.split(",").filter(Boolean).map(u=>u.includes("ms")?parseFloat(u):parseFloat(u)*1e3).sort((u,c)=>c-u);return l});return s!==0?n.setTimeout(()=>t("finished"),s+o):t("finished"),n.add(()=>t("cancelled")),n.dispose}function nP(e,t,n,r,i,s){let o=tb(),a=s!==void 0?rQ(s):()=>{};return uv(e,...i),a1(e,...t,...n),o.nextFrame(()=>{uv(e,...n),a1(e,...r),o.add(iQ(e,l=>(uv(e,...r,...t),a1(e,...i),a(l))))}),o.add(()=>uv(e,...t,...n,...r,...i)),o.add(()=>a("cancelled")),o.dispose}function lu(e=""){return e.split(" ").filter(t=>t.trim().length>1)}let IT=Symbol("TransitionContext");var sQ=(e=>(e.Visible="visible",e.Hidden="hidden",e))(sQ||{});function oQ(){return lt(IT,null)!==null}function aQ(){let e=lt(IT,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}function lQ(){let e=lt(CT,null);if(e===null)throw new Error("A <TransitionChild /> is used but it is missing a parent <TransitionRoot />.");return e}let CT=Symbol("NestingContext");function rb(e){return"children"in e?rb(e.children):e.value.filter(({state:t})=>t==="visible").length>0}function A5(e){let t=ne([]),n=ne(!1);Qt(()=>n.value=!0),ur(()=>n.value=!1);function r(s,o=sl.Hidden){let a=t.value.findIndex(({id:l})=>l===s);a!==-1&&(Hr(o,{[sl.Unmount](){t.value.splice(a,1)},[sl.Hidden](){t.value[a].state="hidden"}}),!rb(t)&&n.value&&(e==null||e()))}function i(s){let o=t.value.find(({id:a})=>a===s);return o?o.state!=="visible"&&(o.state="visible"):t.value.push({id:s,state:"visible"}),()=>r(s,sl.Unmount)}return{children:t,register:i,unregister:r}}let k5=Cl.RenderStrategy,O5=mn({props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r,expose:i}){let s=ne(0);function o(){s.value|=Zn.Opening,t("beforeEnter")}function a(){s.value&=~Zn.Opening,t("afterEnter")}function l(){s.value|=Zn.Closing,t("beforeLeave")}function u(){s.value&=~Zn.Closing,t("afterLeave")}if(!oQ()&&uX())return()=>Xt(P5,{...e,onBeforeEnter:o,onAfterEnter:a,onBeforeLeave:l,onAfterLeave:u},r);let c=ne(null),d=Ae(()=>e.unmount?sl.Unmount:sl.Hidden);i({el:c,$el:c});let{show:f,appear:p}=aQ(),{register:h,unregister:g}=lQ(),m=ne(f.value?"visible":"hidden"),v={value:!0},y=Gi(),b={value:!1},_=A5(()=>{!b.value&&m.value!=="hidden"&&(m.value="hidden",g(y),u())});Qt(()=>{let V=h(y);ur(V)}),Kt(()=>{if(d.value===sl.Hidden&&y){if(f.value&&m.value!=="visible"){m.value="visible";return}Hr(m.value,{hidden:()=>g(y),visible:()=>h(y)})}});let S=lu(e.enter),I=lu(e.enterFrom),T=lu(e.enterTo),w=lu(e.entered),x=lu(e.leave),E=lu(e.leaveFrom),O=lu(e.leaveTo);Qt(()=>{Kt(()=>{if(m.value==="visible"){let V=ke(c);if(V instanceof Comment&&V.data==="")throw new Error("Did you forget to passthrough the `ref` to the actual DOM node?")}})});function M(V){let H=v.value&&!p.value,me=ke(c);!me||!(me instanceof HTMLElement)||H||(b.value=!0,f.value&&o(),f.value||l(),V(f.value?nP(me,S,I,T,w,ce=>{b.value=!1,ce===v$.Finished&&a()}):nP(me,x,E,O,w,ce=>{b.value=!1,ce===v$.Finished&&(rb(_)||(m.value="hidden",g(y),u()))})))}return Qt(()=>{xt([f],(V,H,me)=>{M(me),v.value=!1},{immediate:!0})}),Kn(CT,_),wT(Ae(()=>Hr(m.value,{visible:Zn.Open,hidden:Zn.Closed})|s.value)),()=>{let{appear:V,show:H,enter:me,enterFrom:ce,enterTo:ae,entered:xe,leave:Ie,leaveFrom:ft,leaveTo:Ye,...St}=e,F={ref:c},j={...St,...p.value&&f.value&&em.isServer?{class:Vr([n.class,St.class,...S,...I])}:{}};return Dr({theirProps:j,ourProps:F,slot:{},slots:r,attrs:n,features:k5,visible:m.value==="visible",name:"TransitionChild"})}}}),uQ=O5,P5=mn({inheritAttrs:!1,props:{as:{type:[Object,String],default:"div"},show:{type:[Boolean],default:null},unmount:{type:[Boolean],default:!0},appear:{type:[Boolean],default:!1},enter:{type:[String],default:""},enterFrom:{type:[String],default:""},enterTo:{type:[String],default:""},entered:{type:[String],default:""},leave:{type:[String],default:""},leaveFrom:{type:[String],default:""},leaveTo:{type:[String],default:""}},emits:{beforeEnter:()=>!0,afterEnter:()=>!0,beforeLeave:()=>!0,afterLeave:()=>!0},setup(e,{emit:t,attrs:n,slots:r}){let i=Zg(),s=Ae(()=>e.show===null&&i!==null?(i.value&Zn.Open)===Zn.Open:e.show);Kt(()=>{if(![!0,!1].includes(s.value))throw new Error('A <Transition /> is used but it is missing a `:show="true | false"` prop.')});let o=ne(s.value?"visible":"hidden"),a=A5(()=>{o.value="hidden"}),l=ne(!0),u={show:s,appear:Ae(()=>e.appear||!l.value)};return Qt(()=>{Kt(()=>{l.value=!1,s.value?o.value="visible":rb(a)||(o.value="hidden")})}),Kn(CT,a),Kn(IT,u),()=>{let c=l5(e,["show","appear","unmount","onBeforeEnter","onBeforeLeave","onAfterEnter","onAfterLeave"]),d={unmount:e.unmount};return Dr({ourProps:{...d,as:"template"},theirProps:{},slot:{},slots:{...r,default:()=>[Xt(uQ,{onBeforeEnter:()=>t("beforeEnter"),onAfterEnter:()=>t("afterEnter"),onBeforeLeave:()=>t("beforeLeave"),onAfterLeave:()=>t("afterLeave"),...n,...d,...c},r.default)]},attrs:{},features:k5,visible:o.value==="visible",name:"Transition"})}}});var R5={exports:{}};const cQ=tX(NY);(function(e,t){(function(r,i){e.exports=i(cQ)})(bT,n=>(()=>{var r={661:(a,l)=>{Object.defineProperty(l,"__esModule",{value:!0}),l.default=(u,c)=>{const d=u.__vccOpts||u;for(const[f,p]of c)d[f]=p;return d}},976:a=>{a.exports=n}},i={};function s(a){var l=i[a];if(l!==void 0)return l.exports;var u=i[a]={exports:{}};return r[a](u,u.exports,s),u.exports}s.d=(a,l)=>{for(var u in l)s.o(l,u)&&!s.o(a,u)&&Object.defineProperty(a,u,{enumerable:!0,get:l[u]})},s.o=(a,l)=>Object.prototype.hasOwnProperty.call(a,l),s.r=a=>{typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(a,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(a,"__esModule",{value:!0})};var o={};return(()=>{s.r(o),s.d(o,{ToastComponent:()=>S,ToastPlugin:()=>T,ToastPositions:()=>h,default:()=>w,useToast:()=>I});var a=s(976);const l=(0,a.createElementVNode)("div",{class:"v-toast__icon"},null,-1),u=["innerHTML"];function c(x,E,O,M,V,H){return(0,a.openBlock)(),(0,a.createBlock)(a.Transition,{"enter-active-class":x.transition.enter,"leave-active-class":x.transition.leave},{default:(0,a.withCtx)(()=>[(0,a.withDirectives)((0,a.createElementVNode)("div",{ref:"root",role:"alert",class:(0,a.normalizeClass)(["v-toast__item",[`v-toast__item--${x.type}`,`v-toast__item--${x.position}`]]),onMouseover:E[0]||(E[0]=me=>x.toggleTimer(!0)),onMouseleave:E[1]||(E[1]=me=>x.toggleTimer(!1)),onClick:E[2]||(E[2]=function(){return x.whenClicked&&x.whenClicked(...arguments)})},[l,(0,a.createElementVNode)("p",{class:"v-toast__text",innerHTML:x.message},null,8,u)],34),[[a.vShow,x.isActive]])]),_:1},8,["enter-active-class","leave-active-class"])}function d(x){var E;typeof x.remove<"u"?x.remove():(E=x.parentNode)==null||E.removeChild(x)}function f(x,E,O){let M=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const V=(0,a.h)(x,E,M),H=document.createElement("div");return H.classList.add("v-toast--pending"),O.appendChild(H),(0,a.render)(V,H),V.component}class p{constructor(E,O){this.startedAt=Date.now(),this.callback=E,this.delay=O,this.timer=setTimeout(E,O)}pause(){this.stop(),this.delay-=Date.now()-this.startedAt}resume(){this.stop(),this.startedAt=Date.now(),this.timer=setTimeout(this.callback,this.delay)}stop(){clearTimeout(this.timer)}}const h=Object.freeze({TOP_RIGHT:"top-right",TOP:"top",TOP_LEFT:"top-left",BOTTOM_RIGHT:"bottom-right",BOTTOM:"bottom",BOTTOM_LEFT:"bottom-left"});function g(x){return{all:x=x||new Map,on:function(E,O){var M=x.get(E);M?M.push(O):x.set(E,[O])},off:function(E,O){var M=x.get(E);M&&(O?M.splice(M.indexOf(O)>>>0,1):x.set(E,[]))},emit:function(E,O){var M=x.get(E);M&&M.slice().map(function(V){V(O)}),(M=x.get("*"))&&M.slice().map(function(V){V(E,O)})}}}const v=g(),y=(0,a.defineComponent)({name:"Toast",props:{message:{type:String,required:!0},type:{type:String,default:"success"},position:{type:String,default:h.BOTTOM_RIGHT,validator(x){return Object.values(h).includes(x)}},duration:{type:Number,default:3e3},dismissible:{type:Boolean,default:!0},onDismiss:{type:Function,default:()=>{}},onClick:{type:Function,default:()=>{}},queue:Boolean,pauseOnHover:{type:Boolean,default:!0}},data(){return{isActive:!1,parentTop:null,parentBottom:null,isHovered:!1}},beforeMount(){this.setupContainer()},mounted(){this.showNotice(),v.on("toast-clear",this.dismiss)},methods:{setupContainer(){if(this.parentTop=document.querySelector(".v-toast.v-toast--top"),this.parentBottom=document.querySelector(".v-toast.v-toast--bottom"),this.parentTop&&this.parentBottom)return;this.parentTop||(this.parentTop=document.createElement("div"),this.parentTop.className="v-toast v-toast--top"),this.parentBottom||(this.parentBottom=document.createElement("div"),this.parentBottom.className="v-toast v-toast--bottom");const x=document.body;x.appendChild(this.parentTop),x.appendChild(this.parentBottom)},shouldQueue(){return this.queue?this.parentTop.childElementCount>0||this.parentBottom.childElementCount>0:!1},dismiss(){this.timer&&this.timer.stop(),clearTimeout(this.queueTimer),this.isActive=!1,setTimeout(()=>{this.onDismiss.apply(null,arguments);const x=this.$refs.root;(0,a.render)(null,x),d(x)},150)},showNotice(){if(this.shouldQueue()){this.queueTimer=setTimeout(this.showNotice,250);return}const x=this.$refs.root.parentElement;this.correctParent.insertAdjacentElement("afterbegin",this.$refs.root),d(x),this.isActive=!0,this.duration&&(this.timer=new p(this.dismiss,this.duration))},whenClicked(){this.dismissible&&(this.onClick.apply(null,arguments),this.dismiss())},toggleTimer(x){!this.pauseOnHover||!this.timer||(x?this.timer.pause():this.timer.resume())}},computed:{correctParent(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return this.parentTop;case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return this.parentBottom}},transition(){switch(this.position){case h.TOP:case h.TOP_RIGHT:case h.TOP_LEFT:return{enter:"v-toast--fade-in-down",leave:"v-toast--fade-out"};case h.BOTTOM:case h.BOTTOM_RIGHT:case h.BOTTOM_LEFT:return{enter:"v-toast--fade-in-up",leave:"v-toast--fade-out"}}}},beforeUnmount(){v.off("toast-clear",this.dismiss)}});var b=s(661);const S=(0,b.default)(y,[["render",c]]),I=function(){let x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return{open(E){let O=null;typeof E=="string"&&(O=E);const V=Object.assign({},{message:O},x,E);return{dismiss:f(S,V,document.body).ctx.dismiss}},clear(){v.emit("toast-clear")},success(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"success"},O))},error(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"error"},O))},info(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"info"},O))},warning(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"warning"},O))},default(E){let O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return this.open(Object.assign({},{message:E,type:"default"},O))}}},T={install:function(x){let E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},O=I(E);x.config.globalProperties.$toast=O,x.provide("$toast",O)}},w=T})(),o})())})(R5);var D5=R5.exports;const dQ=J0(D5),fQ=!1,T9e="mixo.io",pQ="https://app.mixo.io",hQ="mixo-admin";typeof window<"u"&&(window==null||window.localStorage.getItem("mixo-admin"));const AT={delay:2e3,position:"top"},gQ=({app:e})=>{e.use(dQ,AT)},mQ=Object.freeze(Object.defineProperty({__proto__:null,defaultToastOptions:AT,install:gQ},Symbol.toStringTag,{value:"Module"}));var vQ=Object.defineProperty,yQ=Object.defineProperties,_Q=Object.getOwnPropertyDescriptors,Yy=Object.getOwnPropertySymbols,N5=Object.prototype.hasOwnProperty,M5=Object.prototype.propertyIsEnumerable,y$=(e,t,n)=>t in e?vQ(e,t,{enumerable:!0,configurable:!0,writable:!0,value:n}):e[t]=n,cs=(e,t)=>{for(var n in t||(t={}))N5.call(t,n)&&y$(e,n,t[n]);if(Yy)for(var n of Yy(t))M5.call(t,n)&&y$(e,n,t[n]);return e},so=(e,t)=>yQ(e,_Q(t)),L5=(e,t)=>{var n={};for(var r in e)N5.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&Yy)for(var r of Yy(e))t.indexOf(r)<0&&M5.call(e,r)&&(n[r]=e[r]);return n},Wn=(e,t,n)=>(y$(e,typeof t!="symbol"?t+"":t,n),n),wu=(e,t,n)=>new Promise((r,i)=>{var s=l=>{try{a(n.next(l))}catch(u){i(u)}},o=l=>{try{a(n.throw(l))}catch(u){i(u)}},a=l=>l.done?r(l.value):Promise.resolve(l.value).then(s,o);a((n=n.apply(e,t)).next())});const bQ=({apiKey:e})=>{(function(t,n){var r=t.amplitude||{_q:[],_iq:{}},i=n.createElement("script");i.type="text/javascript",i.integrity="sha384-+EO59vL/X7v6VE2s6/F4HxfHlK0nDUVWKVg8K9oUlvffAeeaShVBmbORTC2D3UF+",i.crossOrigin="anonymous",i.async=!0,i.src="https://cdn.amplitude.com/libs/amplitude-8.17.0-min.gz.js",i.onload=function(){t.amplitude.runQueuedFunctions||console.log("[Amplitude] Error: could not load SDK"),amplitude.getInstance().init(e)};var s=n.getElementsByTagName("script")[0];s.parentNode.insertBefore(i,s);function o(g,m){g.prototype[m]=function(){return this._q.push([m].concat(Array.prototype.slice.call(arguments,0))),this}}for(var a=function(){return this._q=[],this},l=["add","append","clearAll","prepend","set","setOnce","unset","preInsert","postInsert","remove"],u=0;u<l.length;u++)o(a,l[u]);r.Identify=a;for(var c=function(){return this._q=[],this},d=["setProductId","setQuantity","setPrice","setRevenueType","setEventProperties"],f=0;f<d.length;f++)o(c,d[f]);r.Revenue=c;var p=["init","logEvent","logRevenue","setUserId","setUserProperties","setOptOut","setVersionName","setDomain","setDeviceId","enableTracking","setGlobalUserProperties","identify","clearUserProperties","setGroup","logRevenueV2","regenerateDeviceId","groupIdentify","onInit","logEventWithTimestamp","logEventWithGroups","setSessionId","resetSessionId"];function h(g){function m(y){g[y]=function(){g._q.push([y].concat(Array.prototype.slice.call(arguments,0)))}}for(var v=0;v<p.length;v++)m(p[v])}h(r),r.getInstance=function(g){return g=(!g||g.length===0?"$default_instance":g).toLowerCase(),Object.prototype.hasOwnProperty.call(r._iq,g)||(r._iq[g]={_q:[]},h(r._iq[g])),r._iq[g]},t.amplitude=r})(window,document)};var kT=(e=>(e.RECORDING_START_TIME="highlightRecordingStartTime",e.SEGMENT_LAST_SENT_HASH_KEY="HIGHLIGHT_SEGMENT_LAST_SENT_HASH_KEY",e.SESSION_DATA="sessionData",e.SESSION_SECURE_ID="sessionSecureID",e.USER_IDENTIFIER="highlightIdentifier",e.USER_OBJECT="highlightUserObject",e.PAYLOAD_ID="payloadId",e))(kT||{});const wQ=({projectToken:e})=>{if(window.mixpanel)return;(function(n,r){if(!r.__SV){var i,s;window.mixpanel=r,r._i=[],r.init=function(o,a,l){function u(f,p){var h=p.split(".");h.length==2&&(f=f[h[0]],p=h[1]),f[p]=function(){f.push([p].concat(Array.prototype.slice.call(arguments,0)))}}var c=r;for(typeof l<"u"?c=r[l]=[]:l="mixpanel",c.people=c.people||[],c.toString=function(f){var p="mixpanel";return l!=="mixpanel"&&(p+="."+l),f||(p+=" (stub)"),p},c.people.toString=function(){return c.toString(1)+".people (stub)"},i="disable time_event track track_pageview track_links track_forms track_with_groups add_group set_group remove_group register register_once alias unregister identify name_tag set_config reset opt_in_tracking opt_out_tracking has_opted_in_tracking has_opted_out_tracking clear_opt_in_out_tracking start_batch_senders people.set people.set_once people.unset people.increment people.append people.union people.track_charge people.clear_charges people.delete_user people.remove".split(" "),s=0;s<i.length;s++)u(c,i[s]);var d="set set_once union unset remove delete".split(" ");c.get_group=function(){function f(m){p[m]=function(){call2_args=arguments,call2=[m].concat(Array.prototype.slice.call(call2_args,0)),c.push([h,call2])}}for(var p={},h=["get_group"].concat(Array.prototype.slice.call(arguments,0)),g=0;g<d.length;g++)f(d[g]);return p},r._i.push([o,a,l])},r.__SV=1.2}})(document,window.mixpanel||[]);const t=document.createElement("script");t.src=EQ,document.head.appendChild(t),t.addEventListener("load",()=>{var n;(n=window.mixpanel)==null||n.init(e)})},EQ="https://cdn.mxpnl.com/libs/mixpanel-2-latest.min.js";function $Q(e,t,n){try{if(!(t in e))return()=>{};const r=e[t],i=n(r);return typeof i=="function"&&(i.prototype=i.prototype||{},Object.defineProperties(i,{__rrweb_original__:{enumerable:!1,value:r}})),e[t]=i,()=>{e[t]=r}}catch{return()=>{}}}function SQ(e){if(!e||!e.outerHTML)return"";let t="";for(;e.parentElement;){let n=e.localName;if(!n)break;n=n.toLowerCase();let r=e.parentElement,i=[];if(r.children&&r.children.length>0)for(let s=0;s<r.children.length;s++){let o=r.children[s];o.localName&&o.localName.toLowerCase&&o.localName.toLowerCase()===n&&i.push(o)}i.length>1&&(n+=":eq("+i.indexOf(e)+")"),t=n+(t?">"+t:""),e=r}return t}function _$(e){return Object.prototype.toString.call(e)==="[object Object]"}function F5(e,t){if(t===0)return!0;const n=Object.keys(e);for(const r of n)if(_$(e[r])&&F5(e[r],t-1))return!0;return!1}function rP(e,t){const n={numOfKeysLimit:50,depthOfLimit:4};Object.assign(n,t);const r=[],i=[];return JSON.stringify(e,function(a,l){if(r.length>0){const u=r.indexOf(this);~u?r.splice(u+1):r.push(this),~u?i.splice(u,1/0,a):i.push(a),~r.indexOf(l)&&(r[0]===l?l="[Circular ~]":l="[Circular ~."+i.slice(0,r.indexOf(l)).join(".")+"]")}else r.push(l);if(l==null)return l;if(s(l))return o(l);if(l instanceof Event){const u={};for(const c in l){const d=l[c];Array.isArray(d)?u[c]=SQ(d.length?d[0]:null):u[c]=d}return u}else{if(l instanceof Node)return l instanceof HTMLElement?l?l.outerHTML:"":l.nodeName;if(l instanceof Error)return l.name+": "+l.message}return l});function s(a){return _$(a)&&Object.keys(a).length>n.numOfKeysLimit||typeof a=="function"?!0:a instanceof Event&&a.isTrusted===!1?Object.keys(a).length===1:!!(_$(a)&&F5(a,n.depthOfLimit))}function o(a){let l=a.toString();return n.stringLengthLimit&&l.length>n.stringLengthLimit&&(l=`${l.slice(0,n.stringLengthLimit)}...`),l}}var B5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function U5(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var V5={exports:{}},l1={exports:{}},iP;function xQ(){return iP||(iP=1,function(e,t){(function(n,r){e.exports=r()})(B5,function(){function n(g){return!isNaN(parseFloat(g))&&isFinite(g)}function r(g){return g.charAt(0).toUpperCase()+g.substring(1)}function i(g){return function(){return this[g]}}var s=["isConstructor","isEval","isNative","isToplevel"],o=["columnNumber","lineNumber"],a=["fileName","functionName","source"],l=["args"],u=["evalOrigin"],c=s.concat(o,a,l,u);function d(g){if(g)for(var m=0;m<c.length;m++)g[c[m]]!==void 0&&this["set"+r(c[m])](g[c[m]])}d.prototype={getArgs:function(){return this.args},setArgs:function(g){if(Object.prototype.toString.call(g)!=="[object Array]")throw new TypeError("Args must be an Array");this.args=g},getEvalOrigin:function(){return this.evalOrigin},setEvalOrigin:function(g){if(g instanceof d)this.evalOrigin=g;else if(g instanceof Object)this.evalOrigin=new d(g);else throw new TypeError("Eval Origin must be an Object or StackFrame")},toString:function(){var g=this.getFileName()||"",m=this.getLineNumber()||"",v=this.getColumnNumber()||"",y=this.getFunctionName()||"";return this.getIsEval()?g?"[eval] ("+g+":"+m+":"+v+")":"[eval]:"+m+":"+v:y?y+" ("+g+":"+m+":"+v+")":g+":"+m+":"+v}},d.fromString=function(m){var v=m.indexOf("("),y=m.lastIndexOf(")"),b=m.substring(0,v),_=m.substring(v+1,y).split(","),S=m.substring(y+1);if(S.indexOf("@")===0)var I=/@(.+?)(?::(\d+))?(?::(\d+))?$/.exec(S,""),T=I[1],w=I[2],x=I[3];return new d({functionName:b,args:_||void 0,fileName:T,lineNumber:w||void 0,columnNumber:x||void 0})};for(var f=0;f<s.length;f++)d.prototype["get"+r(s[f])]=i(s[f]),d.prototype["set"+r(s[f])]=function(g){return function(m){this[g]=!!m}}(s[f]);for(var p=0;p<o.length;p++)d.prototype["get"+r(o[p])]=i(o[p]),d.prototype["set"+r(o[p])]=function(g){return function(m){if(!n(m))throw new TypeError(g+" must be a Number");this[g]=Number(m)}}(o[p]);for(var h=0;h<a.length;h++)d.prototype["get"+r(a[h])]=i(a[h]),d.prototype["set"+r(a[h])]=function(g){return function(m){this[g]=String(m)}}(a[h]);return d})}(l1)),l1.exports}(function(e,t){(function(n,r){e.exports=r(xQ())})(B5,function(r){var i=/(^|@)\S+:\d+/,s=/^\s*at .*(\S+:\d+|\(native\))/m,o=/^(eval@)?(\[native code])?$/;return{parse:function(l){if(typeof l.stacktrace<"u"||typeof l["opera#sourceloc"]<"u")return this.parseOpera(l);if(l.stack&&l.stack.match(s))return this.parseV8OrIE(l);if(l.stack)return this.parseFFOrSafari(l);throw new Error("Cannot parse given Error object")},extractLocation:function(l){if(l.indexOf(":")===-1)return[l];var u=/(.+?)(?::(\d+))?(?::(\d+))?$/,c=u.exec(l.replace(/[()]/g,""));return[c[1],c[2]||void 0,c[3]||void 0]},parseV8OrIE:function(l){var u=l.stack.split(`
`).filter(function(c){return!!c.match(s)},this);return u.map(function(c){c.indexOf("(eval ")>-1&&(c=c.replace(/eval code/g,"eval").replace(/(\(eval at [^()]*)|(\),.*$)/g,""));var d=c.replace(/^\s+/,"").replace(/\(eval code/g,"("),f=d.match(/ (\((.+):(\d+):(\d+)\)$)/);d=f?d.replace(f[0],""):d;var p=d.split(/\s+/).slice(1),h=this.extractLocation(f?f[1]:p.pop()),g=p.join(" ")||void 0,m=["eval","<anonymous>"].indexOf(h[0])>-1?void 0:h[0];return new r({functionName:g,fileName:m,lineNumber:h[1],columnNumber:h[2],source:c})},this)},parseFFOrSafari:function(l){var u=l.stack.split(`
`).filter(function(c){return!c.match(o)},this);return u.map(function(c){if(c.indexOf(" > eval")>-1&&(c=c.replace(/ line (\d+)(?: > eval line \d+)* > eval:\d+:\d+/g,":$1")),c.indexOf("@")===-1&&c.indexOf(":")===-1)return new r({functionName:c});var d=/((.*".+"[^@]*)?[^@]*)(?:@)/,f=c.match(d),p=f&&f[1]?f[1]:void 0,h=this.extractLocation(c.replace(d,""));return new r({functionName:p,fileName:h[0],lineNumber:h[1],columnNumber:h[2],source:c})},this)},parseOpera:function(l){return!l.stacktrace||l.message.indexOf(`
`)>-1&&l.message.split(`
`).length>l.stacktrace.split(`
`).length?this.parseOpera9(l):l.stack?this.parseOpera11(l):this.parseOpera10(l)},parseOpera9:function(l){for(var u=/Line (\d+).*script (?:in )?(\S+)/i,c=l.message.split(`
`),d=[],f=2,p=c.length;f<p;f+=2){var h=u.exec(c[f]);h&&d.push(new r({fileName:h[2],lineNumber:h[1],source:c[f]}))}return d},parseOpera10:function(l){for(var u=/Line (\d+).*script (?:in )?(\S+)(?:: In function (\S+))?$/i,c=l.stacktrace.split(`
`),d=[],f=0,p=c.length;f<p;f+=2){var h=u.exec(c[f]);h&&d.push(new r({functionName:h[3]||void 0,fileName:h[2],lineNumber:h[1],source:c[f]}))}return d},parseOpera11:function(l){var u=l.stack.split(`
`).filter(function(c){return!!c.match(i)&&!c.match(/^Error created at/)},this);return u.map(function(c){var d=c.split("@"),f=this.extractLocation(d.pop()),p=d.shift()||"",h=p.replace(/<anonymous function(: (\w+))?>/,"$2").replace(/\([^)]*\)/g,"")||void 0,g;p.match(/\(([^)]*)\)/)&&(g=p.replace(/^[^(]+\(([^)]*)\)$/,"$1"));var m=g===void 0||g==="[arguments not available]"?void 0:g.split(",");return new r({functionName:h,args:m,fileName:f[0],lineNumber:f[1],columnNumber:f[2],source:c})},this)}}})})(V5);var TQ=V5.exports;const b$=U5(TQ);function IQ(e,t){const n=t.logger;if(!n)return()=>{};let r;typeof n=="string"?r=window[n]:r=n;const i=[];if(t.level.includes("error")&&window){const o=a=>{const{message:l,error:u}=a;let c=[];u&&(c=b$.parse(u));const d=[rP(l,t.stringifyOptions)];e({type:"Error",trace:c,time:Date.now(),value:d})};window.addEventListener("error",o),i.push(()=>{window&&window.removeEventListener("error",o)})}for(const o of t.level)i.push(s(r,o));return()=>{i.forEach(o=>o())};function s(o,a){return o[a]?$Q(o,a,l=>(...u)=>{l.apply(this,u);try{const c=b$.parse(new Error),d=u.map(f=>rP(f,t.stringifyOptions));e({type:a,trace:c.slice(1),value:d,time:Date.now()})}catch(c){l("highlight logger error:",c,...u)}}):()=>{}}}var w$={exports:{}};(function(e,t){t=e.exports=n,t.getSerialize=r;function n(i,s,o,a){return JSON.stringify(i,r(s,a),o)}function r(i,s){var o=[],a=[];return s==null&&(s=function(l,u){return o[0]===u?"[Circular ~]":"[Circular ~."+a.slice(0,o.indexOf(u)).join(".")+"]"}),function(l,u){if(o.length>0){var c=o.indexOf(this);~c?o.splice(c+1):o.push(this),~c?a.splice(c,1/0,l):a.push(l),~o.indexOf(u)&&(u=s.call(this,l,u))}else o.push(u);return i==null?u:i.call(this,l,u)}}})(w$,w$.exports);var CQ=w$.exports;const H5=U5(CQ);function u1(e,t,n,r){var i,s,o,a;const l=b$.parse(r);t instanceof Error&&(t=t.message);const u=kQ(l);e({event:H5(t),type:"window.onerror",url:window.location.href,source:n??"",lineNumber:(i=u[0])!=null&&i.lineNumber?(s=u[0])==null?void 0:s.lineNumber:0,columnNumber:(o=u[0])!=null&&o.columnNumber?(a=u[0])==null?void 0:a.columnNumber:0,stackTrace:u,timestamp:new Date().toISOString()})}const AQ=e=>{if(typeof window>"u")return()=>{};const t=window.onerror=(i,s,o,a,l)=>{u1(e,i,s,l??Error())},n=window.onunhandledrejection=i=>{var s;if(i.reason){const o=i.promise;o.getStack?u1(e,i.reason,i.type,(s=o.getStack())!=null?s:Error()):u1(e,i.reason,i.type,Error())}},r=window.Promise.constructor;return window.Promise.constructor=function(i){this.promiseCreationError=new Error,r(i)},window.Promise.prototype.getStack=function(){return this.promiseCreationError},()=>{window.Promise.constructor=r,window.onunhandledrejection=n,window.onerror=t}},kQ=e=>{var t;if(e.length===0)return e;const n=e[0];return n.functionName==="console.error"&&((t=n.fileName)!=null&&t.includes("highlight.run"))||n.functionName==="new HighlightPromise"?e.slice(1):e},OQ=["assert","count","countReset","debug","dir","dirxml","error","group","groupCollapsed","groupEnd","info","log","table","time","timeEnd","timeLog","trace","warn"],sP=['["\\"Script error.\\""]','"Script error."','["\\"Load failed.\\""]','"Load failed."','["\\"Network request failed.\\""]','"Network request failed."','["\\"Document is not focused.\\""]','"Document is not focused."','["\\"Failed to fetch\\""]','"Failed to fetch"','[{"isTrusted":true}]','{"isTrusted":true}','["{}"]','"{}"','[""]','""','["\\"\\""]','""'],oP=["websocket error",'\\"ResizeObserver loop'],PQ=(e,t,n)=>{const r=j5(t,e.headers,n);return so(cs({},e),{headers:r})},RQ=(e,t,n)=>{const r=j5(t,e.headers,n);return so(cs({},e),{headers:r})},j5=(e,t,n)=>{var r,i;const s=cs({},t);return n?((r=Object.keys(s))==null||r.forEach(o=>{[...n].includes(o==null?void 0:o.toLowerCase())||(s[o]="[REDACTED]")}),s):((i=Object.keys(s))==null||i.forEach(o=>{[...DQ,...e].includes(o==null?void 0:o.toLowerCase())&&(s[o]="[REDACTED]")}),s)},DQ=["authorization","cookie","proxy-authorization","token"],NQ=["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"],W5="X-Highlight-Request",aP=e=>{let t=e;return!e.startsWith("https://")&&!e.startsWith("http://")&&(t=`${window.location.origin}${t}`),t.replace(/\/+$/,"")},lP=(e,t,n)=>{e.sort((a,l)=>a.responseEnd-l.responseEnd);const r={xmlhttprequest:{},others:{},fetch:{}},i=e.reduce((a,l)=>{const u=aP(l.name);return l.initiatorType===n?a[n][u]=[...a[n][u]||[],l]:a.others[u]=[...a.others[u]||[],l],a},r);let s={};s=t.reduce((a,l)=>{const u=aP(l.request.url);return a[u]=[...a[u]||[],l],a},s);for(let a in i[n]){const l=i[n][a],u=s[a];if(!u)continue;const c=Math.max(l.length-u.length,0);for(let d=c;d<l.length;d++)l[d]&&(l[d].requestResponsePair=u[d-c])}let o=[];for(let a in i)for(let l in i[a])o=o.concat(i[a][l]);return o.sort((a,l)=>a.fetchStart-l.fetchStart).map(a=>(a.toJSON=function(){return{initiatorType:this.initiatorType,startTime:this.startTime,responseEnd:this.responseEnd,startTimeAbs:window.performance.timeOrigin+this.startTime,responseEndAbs:window.performance.timeOrigin+this.responseEnd,name:this.name,transferSize:this.transferSize,encodedBodySize:this.encodedBodySize,requestResponsePairs:this.requestResponsePair}},a))},MQ=(e,t)=>e.toLocaleLowerCase().includes("https://pub.highlight.run")||e.toLocaleLowerCase().includes("highlight.run")||e.toLocaleLowerCase().includes(t),OT=(e,t,n)=>!MQ(e,t)||PT(e,n),PT=(e,t)=>{var n;let r=[];t===!0?(r=["localhost",/^\//],(n=window==null?void 0:window.location)!=null&&n.host&&r.push(window.location.host)):t instanceof Array&&(r=t);let i=!1;return r.forEach(s=>{e.match(s)&&(i=!0)}),i};function LQ(e){for(var t="",n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=n.length,i=0;i<e;i++)t+=n.charAt(Math.floor(Math.random()*r));return t}const RT=()=>LQ(10),q5=(e,t)=>e+"/"+t,FQ=(e,t,n,r,i,s,o)=>{const a=XMLHttpRequest.prototype,l=a.open,u=a.send,c=a.setRequestHeader;return a.open=function(d,f){return this._method=d,this._url=f,this._requestHeaders={},this._shouldRecordHeaderAndBody=!r.some(p=>f.toLowerCase().includes(p)),l.apply(this,arguments)},a.setRequestHeader=function(d,f){return this._requestHeaders[d]=f,c.apply(this,arguments)},a.send=function(d){if(!OT(this._url,t,n))return u.apply(this,arguments);const f=RT();PT(this._url,n)&&this.setRequestHeader(W5,q5(i,f));const p=this._shouldRecordHeaderAndBody,h={id:f,url:this._url,verb:this._method,headers:p?this._requestHeaders:{},body:void 0};if(p&&d){const g=uP(d,h.url);g&&(h.body=vu(g,s,o,h.headers))}return this.addEventListener("load",function(){return wu(this,null,function*(){const g={status:this.status,headers:{},body:void 0};if(p){const y=this.getAllResponseHeaders().trim().split(/[\r\n]+/),b={};if(y.forEach(function(_){const S=_.split(": "),I=S.shift();b[I]=S.join(": ")}),g.headers=b,d){const _=uP(d,h.url);_&&(h.body=vu(_,s,o,g.headers))}if(this.responseType===""||this.responseType==="text")g.body=vu(this.responseText,s,o,g.headers),g.size=this.responseText.length*8;else if(this.responseType==="blob"){if(this.response instanceof Blob)try{const _=yield this.response.text();g.body=vu(_,s,o,g.headers),g.size=this.response.size}catch{}}else try{g.body=vu(this.response,s,o,g.headers)}catch{}}e({request:h,response:g,urlBlocked:!p})})}),this.addEventListener("error",function(){return wu(this,null,function*(){const g={status:this.status,headers:void 0,body:void 0};e({request:h,response:g,urlBlocked:!1})})}),u.apply(this,arguments)},()=>{a.open=l,a.send=u,a.setRequestHeader=c}},uP=(e,t)=>{if(typeof e=="string"){if(!((t!=null&&t.includes("localhost")||t!=null&&t.includes("highlight.run"))&&e.includes("pushPayload")))return e}else if(typeof e=="object"||typeof e=="number"||typeof e=="boolean")return e.toString();return null},cP=64*1024,BQ={"application/json":64*1024*1024,"text/plain":64*1024*1024},vu=(e,t,n,r)=>{var i,s,o;let a=cP;if(r){let l="";typeof r.get=="function"?l=(i=r.get("content-type"))!=null?i:"":l=(s=r["content-type"])!=null?s:"";try{l=l.split(";")[0]}catch{}a=(o=BQ[l])!=null?o:cP}if(e){if(t)try{const l=JSON.parse(e);Object.keys(l).forEach(u=>{t.includes(u.toLocaleLowerCase())&&(l[u]="[REDACTED]")}),e=JSON.stringify(l)}catch{}if(n)try{const l=JSON.parse(e);Object.keys(l).forEach(u=>{n.includes(u.toLocaleLowerCase())||(l[u]="[REDACTED]")}),e=JSON.stringify(l)}catch{}}try{e=e.slice(0,a)}catch{}return e},UQ=(e,t,n,r,i,s,o)=>{const a=window._fetchProxy;return window._fetchProxy=function(l,u){const{method:c,url:d}=VQ(l,u);if(!OT(d,t,n))return a.call(this,l,u);const f=RT();if(PT(d,n)){u=u||{};let m=new Headers(u.headers);l instanceof Request&&[...l.headers].forEach(([v,y])=>m.set(v,y)),m.set(W5,q5(i,f)),u.headers=Object.fromEntries(m.entries())}const p={id:f,headers:{},body:void 0,url:d,verb:c},h=!r.some(m=>d.toLowerCase().includes(m));h&&(p.headers=Object.fromEntries(new Headers(u==null?void 0:u.headers).entries()),p.body=vu(u==null?void 0:u.body,s,o,u==null?void 0:u.headers));let g=a.call(this,l,u);return HQ(g,p,e,h,s,o),g},()=>{window._fetchProxy=a}},VQ=(e,t)=>{const n=t&&t.method||typeof e=="object"&&"method"in e&&e.method||"GET";let r;return typeof e=="object"?"url"in e&&e.url?r=e.url:r=e.toString():r=e,{method:n,url:r}},HQ=(e,t,n,r,i,s)=>{const o=a=>wu(void 0,null,function*(){let l={body:void 0,headers:void 0,status:0,size:0},u=!1;if("stack"in a||a instanceof Error)l=so(cs({},l),{body:a.message,status:0,size:void 0}),u=!0;else if("status"in a){if(l=so(cs({},l),{status:a.status}),r){let c;try{const f=a.clone().body;if(f){let p=f.getReader(),h=new TextDecoder,g,m="";for(;!(g=yield p.read()).done;){let v=g.value;m+=h.decode(v)}c=m,c=vu(c,i,s,a.headers)}else c=""}catch(d){c=`Unable to clone response: ${d}`}l.body=c,l.headers=Object.fromEntries(a.headers.entries()),l.size=c.length*8}u=!0}u&&n({request:t,response:l,urlBlocked:!r})});e.then(o).catch(()=>{})},jQ=(e,t,n)=>{const r=window._highlightWebSocketRequestCallback;window._highlightWebSocketRequestCallback=e;const i=window._highlightWebSocketEventCallback;return window._highlightWebSocketEventCallback=s=>{const o=s,a=L5(o,["message","size"]),u=n.some(c=>s.name.toLowerCase().includes(c))?a:s;t(u)},()=>{window._highlightWebSocketRequestCallback=r,window._highlightWebSocketEventCallback=i}},WQ=({xhrCallback:e,fetchCallback:t,webSocketRequestCallback:n,webSocketEventCallback:r,disableWebSocketRecording:i,headersToRedact:s,bodyKeysToRedact:o,backendUrl:a,tracingOrigins:l,urlBlocklist:u,sessionSecureID:c,bodyKeysToRecord:d,headerKeysToRecord:f})=>{const p=FQ(m=>{e(dP(m,s,f))},a,l,u,c,o,d),h=UQ(m=>{t(dP(m,s,f))},a,l,u,c,o,d),g=i?()=>{}:jQ(n,r,u);return()=>{p(),h(),g()}},dP=(e,t,n)=>{var r=e,{request:i,response:s}=r,o=L5(r,["request","response"]);return cs({request:PQ(i,t,n),response:RQ(s,t,n)},o)};class DT{constructor(t){Wn(this,"disableConsoleRecording"),Wn(this,"reportConsoleErrors"),Wn(this,"consoleMethodsToRecord"),Wn(this,"listeners"),Wn(this,"errors"),Wn(this,"messages"),Wn(this,"options"),Wn(this,"hasNetworkRecording",!0),Wn(this,"_backendUrl"),Wn(this,"disableNetworkRecording"),Wn(this,"enableRecordingNetworkContents"),Wn(this,"xhrNetworkContents"),Wn(this,"fetchNetworkContents"),Wn(this,"disableRecordingWebSocketContents"),Wn(this,"webSocketNetworkContents"),Wn(this,"webSocketEventContents"),Wn(this,"tracingOrigins"),Wn(this,"networkHeadersToRedact"),Wn(this,"networkBodyKeysToRedact"),Wn(this,"networkBodyKeysToRecord"),Wn(this,"networkHeaderKeysToRecord"),Wn(this,"urlBlocklist");var n;this.options=t,this.disableConsoleRecording=!!t.disableConsoleRecording,this.reportConsoleErrors=(n=t.reportConsoleErrors)!=null?n:!1,this.consoleMethodsToRecord=t.consoleMethodsToRecord||[...OQ],this.listeners=[],this.errors=[],this.messages=[]}isListening(){return this.listeners.length>0}startListening(){if(this.isListening())return;const t=this;this.disableConsoleRecording||this.listeners.push(IQ(n=>{var r,i,s;if(this.reportConsoleErrors&&(n.type==="Error"||n.type==="error")&&n.value&&n.trace){const o=H5(n.value);if(sP.includes(o)||oP.some(a=>o.includes(a)))return;t.errors.push({event:o,type:"console.error",url:window.location.href,source:(r=n.trace[0])!=null&&r.fileName?n.trace[0].fileName:"",lineNumber:(i=n.trace[0])!=null&&i.lineNumber?n.trace[0].lineNumber:0,columnNumber:(s=n.trace[0])!=null&&s.columnNumber?n.trace[0].columnNumber:0,stackTrace:n.trace,timestamp:new Date().toISOString()})}t.messages.push(n)},{level:this.consoleMethodsToRecord,logger:"console",stringifyOptions:{depthOfLimit:10,numOfKeysLimit:100,stringLengthLimit:1e3}})),this.listeners.push(AQ(n=>{sP.includes(n.event)||oP.some(r=>n.event.includes(r))||t.errors.push(n)})),DT.setupNetworkListener(this,this.options)}stopListening(){this.listeners.forEach(t=>t()),this.listeners=[]}static setupNetworkListener(t,n){var r,i,s,o,a,l,u,c,d,f,p;t._backendUrl=(n==null?void 0:n.backendUrl)||"https://pub.highlight.run",t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],t.networkHeadersToRedact=[],t.urlBlocklist=[],t.tracingOrigins=n.tracingOrigins||[],(n==null?void 0:n.disableNetworkRecording)!==void 0?(t.disableNetworkRecording=n==null?void 0:n.disableNetworkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[],t.networkBodyKeysToRecord=[],t.networkBodyKeysToRecord=[]):typeof(n==null?void 0:n.networkRecording)=="boolean"?(t.disableNetworkRecording=!n.networkRecording,t.enableRecordingNetworkContents=!1,t.disableRecordingWebSocketContents=!0,t.networkHeadersToRedact=[],t.networkBodyKeysToRedact=[],t.urlBlocklist=[]):(((r=n.networkRecording)==null?void 0:r.enabled)!==void 0?t.disableNetworkRecording=!n.networkRecording.enabled:t.disableNetworkRecording=!1,t.enableRecordingNetworkContents=((i=n.networkRecording)==null?void 0:i.recordHeadersAndBody)||!1,t.disableRecordingWebSocketContents=((s=n.networkRecording)==null?void 0:s.disableWebSocketEventRecordings)||!1,t.networkHeadersToRedact=((a=(o=n.networkRecording)==null?void 0:o.networkHeadersToRedact)==null?void 0:a.map(h=>h.toLowerCase()))||[],t.networkBodyKeysToRedact=((u=(l=n.networkRecording)==null?void 0:l.networkBodyKeysToRedact)==null?void 0:u.map(h=>h.toLowerCase()))||[],t.urlBlocklist=((d=(c=n.networkRecording)==null?void 0:c.urlBlocklist)==null?void 0:d.map(h=>h.toLowerCase()))||[],t.urlBlocklist=[...t.urlBlocklist,...NQ],t.networkHeaderKeysToRecord=(f=n.networkRecording)==null?void 0:f.headerKeysToRecord,t.networkHeaderKeysToRecord&&(t.networkHeadersToRedact=[],t.networkHeaderKeysToRecord=t.networkHeaderKeysToRecord.map(h=>h.toLocaleLowerCase())),t.networkBodyKeysToRecord=(p=n.networkRecording)==null?void 0:p.bodyKeysToRecord,t.networkBodyKeysToRecord&&(t.networkBodyKeysToRedact=[],t.networkBodyKeysToRecord=t.networkBodyKeysToRecord.map(h=>h.toLocaleLowerCase()))),!t.disableNetworkRecording&&t.enableRecordingNetworkContents&&t.listeners.push(WQ({xhrCallback:h=>{t.xhrNetworkContents.push(h)},fetchCallback:h=>{t.fetchNetworkContents.push(h)},webSocketRequestCallback:h=>{t.webSocketNetworkContents&&t.webSocketNetworkContents.push(h)},webSocketEventCallback:h=>{t.webSocketEventContents.push(h)},disableWebSocketRecording:t.disableRecordingWebSocketContents,headersToRedact:t.networkHeadersToRedact,bodyKeysToRedact:t.networkBodyKeysToRedact,backendUrl:t._backendUrl,tracingOrigins:t.tracingOrigins,urlBlocklist:t.urlBlocklist,sessionSecureID:n.sessionSecureID,headerKeysToRecord:t.networkHeaderKeysToRecord,bodyKeysToRecord:t.networkBodyKeysToRecord}))}static getRecordedNetworkResources(t,n){var r;let i=[],s=[];if(!t.disableNetworkRecording){const o=((r=window==null?void 0:window.performance)==null?void 0:r.timeOrigin)||0;i=performance.getEntriesByType("resource");const a=(n-o)*2;i=i.filter(l=>OT(l.name,t._backendUrl,t.tracingOrigins)).map(l=>so(cs({},l.toJSON()),{offsetStartTime:l.startTime-a,offsetResponseEnd:l.responseEnd-a,offsetFetchStart:l.fetchStart-a})),t.enableRecordingNetworkContents&&(i=lP(i,t.xhrNetworkContents,"xmlhttprequest"),i=lP(i,t.fetchNetworkContents,"fetch"))}return t.disableRecordingWebSocketContents||(s=t.webSocketNetworkContents||[]),[...i,...s]}static getRecordedWebSocketEvents(t){let n=[];return!t.disableNetworkRecording&&!t.disableRecordingWebSocketContents&&(n=t.webSocketEventContents),n}static clearRecordedNetworkResources(t){t.disableNetworkRecording||(t.xhrNetworkContents=[],t.fetchNetworkContents=[],t.webSocketNetworkContents=[],t.webSocketEventContents=[],performance.clearResourceTimings())}}const qQ=()=>{var e;const n="abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ0123456789";var r="";const i=typeof window<"u"&&((e=window.crypto)==null?void 0:e.getRandomValues),s=new Uint32Array(28);i&&window.crypto.getRandomValues(s);for(let o=0;o<28;o++)i?r+=n.charAt(s[o]%n.length):r+=n.charAt(Math.floor(Math.random()*n.length));return r},fP="8.0.0",zQ=1e3*55,KQ=()=>{let e=JSON.parse(window.sessionStorage.getItem(kT.SESSION_DATA)||"{}");if(e&&e.lastPushTime&&Date.now()-e.lastPushTime<zQ)return e},GQ=()=>{if(typeof window<"u"){if(typeof window._highlightFetchPatch<"u")return;window._originalFetch=window.fetch,window._fetchProxy=(e,t)=>window._originalFetch(e,t),window._highlightFetchPatch=(e,t)=>window._fetchProxy.call(window||global,e,t),window.fetch=window._highlightFetchPatch}},pP=()=>null,YQ=()=>{if(typeof window<"u"){if(typeof window._highlightWebSocketRequestCallback<"u")return;window._highlightWebSocketRequestCallback=pP,window._highlightWebSocketEventCallback=pP;const e=new Proxy(window.WebSocket,{construct(t,n){const r=RT(),i=new t(...n),s=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"open",name:i.url,startTime:c.timeStamp})},o=c=>{window._highlightWebSocketRequestCallback({socketId:r,initiatorType:"websocket",type:"close",name:i.url,requestEnd:c.timeStamp}),i.removeEventListener("open",s),i.removeEventListener("error",l),i.removeEventListener("message",a),i.removeEventListener("close",o)},a=c=>{const{data:d}=c,f=typeof d=="string"?c.data:void 0;let p;typeof d=="string"?p=d.length:d instanceof Blob?p=d.size:p=d.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"received",name:i.url,timeStamp:c.timeStamp,size:p,message:f})},l=c=>{window._highlightWebSocketEventCallback({socketId:r,type:"error",name:i.url,timeStamp:c.timeStamp,size:0})};i.addEventListener("open",s),i.addEventListener("error",l),i.addEventListener("message",a),i.addEventListener("close",o);const u=new Proxy(i.send,{apply:function(c,d,f){const p=f[0],h=typeof p=="string"?p:void 0;let g;typeof p=="string"?g=p.length:p instanceof Blob?g=p.size:g=p.byteLength||0,window._highlightWebSocketEventCallback({socketId:r,type:"sent",name:i.url,timeStamp:performance.now(),size:g,message:h}),c.apply(d,f)}});return i.send=u,i}});window.WebSocket=e}},XQ=()=>{var e,t;typeof chrome<"u"&&((e=chrome==null?void 0:chrome.runtime)!=null&&e.onMessage)&&((t=chrome==null?void 0:chrome.runtime)==null||t.onMessage.addListener((n,r,i)=>{const s=n.action;switch(console.log(`[highlight] received '${s}' event from extension.`),s){case"init":{const o="http://localhost:8080/dist/index.js";console.log("url",o),Dn.init(1,{debug:!0,scriptUrl:o}),Dn.getSessionURL().then(a=>{i({url:a})});break}case"stop":{Dn.stop(),i({success:!0});break}}return!0}))},Lo=(e,t)=>{console.warn(`highlight.run warning: (${e}): `,t)},hP=100;let cv=[],dv,bp,_n,fv,gP=!1;const Dn={options:void 0,init:(e,t)=>{var n,r,i,s,o,a,l,u;try{if(Dn.options=t,typeof window>"u"||typeof document>"u")return;if(!e){console.info("Highlight is not initializing because projectID was passed undefined.");return}let d=KQ(),f=qQ();if(d!=null&&d.sessionSecureID)f=d.sessionSecureID;else{const h=so(cs({},d),{projectID:+e,sessionSecureID:f});window.sessionStorage.setItem(kT.SESSION_DATA,JSON.stringify(h))}if(gP)return{sessionSecureID:f};gP=!0,bp=document.createElement("script");var c=t!=null&&t.scriptUrl?t.scriptUrl:`https://static.highlight.io/v${fP}/index.js`;bp.setAttribute("src",c),bp.setAttribute("type","text/javascript"),document.getElementsByTagName("head")[0].appendChild(bp);const p={organizationID:e,debug:t==null?void 0:t.debug,backendUrl:t==null?void 0:t.backendUrl,tracingOrigins:t==null?void 0:t.tracingOrigins,disableNetworkRecording:t==null?void 0:t.disableNetworkRecording,networkRecording:t==null?void 0:t.networkRecording,disableBackgroundRecording:t==null?void 0:t.disableBackgroundRecording,disableConsoleRecording:t==null?void 0:t.disableConsoleRecording,disableSessionRecording:t==null?void 0:t.disableSessionRecording,reportConsoleErrors:t==null?void 0:t.reportConsoleErrors,consoleMethodsToRecord:t==null?void 0:t.consoleMethodsToRecord,enableSegmentIntegration:t==null?void 0:t.enableSegmentIntegration,privacySetting:t==null?void 0:t.privacySetting,enableCanvasRecording:t==null?void 0:t.enableCanvasRecording,enablePerformanceRecording:t==null?void 0:t.enablePerformanceRecording,samplingStrategy:t==null?void 0:t.samplingStrategy,inlineImages:t==null?void 0:t.inlineImages,inlineStylesheet:t==null?void 0:t.inlineStylesheet,recordCrossOriginIframe:t==null?void 0:t.recordCrossOriginIframe,firstloadVersion:fP,environment:(t==null?void 0:t.environment)||"production",appVersion:t==null?void 0:t.version,serviceName:t==null?void 0:t.serviceName,sessionShortcut:t==null?void 0:t.sessionShortcut,sessionSecureID:f,storageMode:t==null?void 0:t.storageMode};return fv=new DT(p),t!=null&&t.manualStart||fv.startListening(),bp.addEventListener("load",()=>{const h=()=>{_n=new window.HighlightIO(p,fv),t!=null&&t.manualStart||_n.initialize()};if("HighlightIO"in window)h();else{const g=setInterval(()=>{"HighlightIO"in window&&(h(),clearInterval(g))},hP)}}),!((r=(n=t==null?void 0:t.integrations)==null?void 0:n.mixpanel)!=null&&r.disabled)&&((s=(i=t==null?void 0:t.integrations)==null?void 0:i.mixpanel)!=null&&s.projectToken)&&wQ(t.integrations.mixpanel),!((a=(o=t==null?void 0:t.integrations)==null?void 0:o.amplitude)!=null&&a.disabled)&&((u=(l=t==null?void 0:t.integrations)==null?void 0:l.amplitude)!=null&&u.apiKey)&&bQ(t.integrations.amplitude),{sessionSecureID:f}}catch(d){Lo("init",d)}},snapshot:e=>wu(void 0,null,function*(){try{if(_n&&_n.ready)return yield _n.snapshot(e)}catch(t){Lo("snapshot",t)}}),addSessionFeedback:({verbatim:e,userName:t,userEmail:n,timestampOverride:r})=>{try{Dn.onHighlightReady(()=>_n.addSessionFeedback({verbatim:e,timestamp:r||new Date().toISOString(),user_email:n,user_name:t}))}catch(i){Lo("error",i)}},consumeError:(e,t,n)=>{try{Dn.onHighlightReady(()=>_n.consumeCustomError(e,t,JSON.stringify(n)))}catch(r){Lo("error",r)}},error:(e,t)=>{try{Dn.onHighlightReady(()=>_n.pushCustomError(e,JSON.stringify(t)))}catch(n){Lo("error",n)}},track:(e,t={})=>{var n,r,i,s,o,a,l,u,c,d,f;try{Dn.onHighlightReady(()=>_n.addProperties(so(cs({},t),{event:e})));const p=_n==null?void 0:_n.getCurrentSessionURL();(i=(r=(n=Dn.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.track&&window.mixpanel.track(e,so(cs({},t),{highlightSessionURL:p})),(l=(a=(o=Dn.options)==null?void 0:o.integrations)==null?void 0:a.amplitude)!=null&&l.disabled||(u=window.amplitude)!=null&&u.getInstance&&window.amplitude.getInstance().logEvent(e,so(cs({},t),{highlightSessionURL:p})),(f=(d=(c=Dn.options)==null?void 0:c.integrations)==null?void 0:d.intercom)!=null&&f.disabled||window.Intercom&&window.Intercom("trackEvent",e,t)}catch(p){Lo("track",p)}},start:e=>{(_n==null?void 0:_n.state)==="Recording"?e!=null&&e.silent||console.warn("Highlight is already recording. Please `H.stop()` the current session before starting a new one."):(fv.startListening(),Dn.onHighlightReady(()=>wu(void 0,null,function*(){yield _n.initialize(e)}),{waitForReady:!1}))},stop:e=>{(_n==null?void 0:_n.state)!=="Recording"?e!=null&&e.silent||console.warn("Highlight is already stopped. Please call `H.start()`."):Dn.onHighlightReady(()=>_n.stopRecording(!0))},identify:(e,t={})=>{var n,r,i,s,o,a,l,u;try{Dn.onHighlightReady(()=>_n.identify(e,t))}catch(c){Lo("identify",c)}if((i=(r=(n=Dn.options)==null?void 0:n.integrations)==null?void 0:r.mixpanel)!=null&&i.disabled||(s=window.mixpanel)!=null&&s.identify&&(window.mixpanel.identify(typeof(t==null?void 0:t.email)=="string"?t==null?void 0:t.email:e),t&&(window.mixpanel.track("identify",t),window.mixpanel.people.set(t))),!((l=(a=(o=Dn.options)==null?void 0:o.integrations)==null?void 0:a.amplitude)!=null&&l.disabled)&&(u=window.amplitude)!=null&&u.getInstance&&(window.amplitude.getInstance().setUserId(e),Object.keys(t).length>0)){const c=Object.keys(t).reduce((d,f)=>(d.set(f,t[f]),d),new window.amplitude.Identify);window.amplitude.getInstance().identify(c)}},metrics:e=>{try{Dn.onHighlightReady(()=>_n.recordMetric(e.map(t=>so(cs({},t),{category:"Frontend"}))))}catch(t){Lo("metrics",t)}},getSessionURL:()=>new Promise((e,t)=>{Dn.onHighlightReady(()=>{const n=_n.getCurrentSessionURL();n?e(n):t(new Error("Unable to get session URL"))})}),getSessionDetails:()=>new Promise((e,t)=>{Dn.onHighlightReady(()=>{const n=_n.getCurrentSessionURL();if(n){const r=_n.getCurrentSessionTimestamp(),i=new Date().getTime(),s=new URL(n),o=new URL(n);o.searchParams.set("ts",((i-r)/1e3).toString()),e({url:s.toString(),urlWithTimestamp:o.toString()})}else t(new Error("Could not get session URL"))})}),onHighlightReady:(e,t)=>wu(void 0,null,function*(){try{_n&&((t==null?void 0:t.waitForReady)===!1||_n.ready)?yield e():(cv.push({options:t,func:e}),dv===void 0&&(dv=setInterval(()=>wu(void 0,null,function*(){var n;const r=[];for(const i of cv)_n&&(((n=i.options)==null?void 0:n.waitForReady)===!1||_n.ready)?yield i.func():r.push(i);cv=r,cv.length==0&&(clearInterval(dv),dv=void 0)}),hP)))}catch(n){Lo("onHighlightReady",n)}})};typeof window<"u"&&(window.H=Dn);XQ();GQ();YQ();const{VITE_APP_ENV:pv}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"758a0a4ad93468160f24fe350a2c4dc83e8d41ab",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_UNSPLASH_ACCESS_KEY:"2Z53wBSWJVEmkXRa81cfNdjIQazdP-K9wf_X_m5DIzQ",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let fr={};const hv=typeof window<"u"&&(window==null?void 0:window.localStorage.getItem("mixo-admin"))==="true";var yF,_F,bF,wF,EF;fr={...window==null?void 0:window.console},fr.error=(e,t)=>{pv==="production"&&!hv?Dn.consumeError(e,e==null?void 0:e.label,t):(console.group(":",(e==null?void 0:e.label)||"Error"),console.info(t),e&&console.error(e),console.groupEnd())},fr.log=pv==="production"&&!hv?()=>{}:(yF=window==null?void 0:window.console)==null?void 0:yF.log,fr.groupCollapsed=pv==="production"&&!hv?()=>{}:(_F=window==null?void 0:window.console)==null?void 0:_F.groupCollapsed,fr.groupEnd=pv==="production"&&!hv?()=>{}:(bF=window==null?void 0:window.console)==null?void 0:bF.groupEnd,fr.info=(wF=window==null?void 0:window.console)==null?void 0:wF.info,fr.warn=(EF=window==null?void 0:window.console)==null?void 0:EF.warn;const QQ={class:"absolute top-1.5 [line-height:0] [right:1vw]"},JQ={class:"overflow-hidden rounded-lg shadow-lg ring-1 ring-slate-300"},ZQ=Z("span",{class:"text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"},"Rewrite Text",-1),eJ=Z("span",{class:"text-xs bg-brand-alt px-2 rounded-full text-white flex-row-center font-mono font-semibold no-underline group-hover:no-underline"},"AI",-1),tJ=Z("span",{class:"text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"},"Reselect Image",-1),nJ=Z("span",{class:"text-xs bg-brand-alt px-2 rounded-full text-white flex-row-center font-mono font-semibold no-underline group-hover:no-underline"},"AI",-1),rJ={__name:"PreviewMenu",props:{editContent:{type:Boolean,default:!1},reselectImage:{type:Boolean,default:!1},editBrand:{type:Boolean,default:!1},rewriteContent:{type:Boolean,default:!1},mapping:{type:Object,default:()=>({section:"",field:"",index:null,pageDataMapping:null})},isUpdated:{type:Boolean,default:!1}},setup(e){const t=e;t.editContent&&!t.mapping.section&&fr.warn("PreviewMenu.vue: If editContent is set to true, then mapping.section must be provided",t),(t.rewriteContent||t.reselectImage)&&!t.mapping.pageDataMapping&&fr.warn("PreviewMenu.vue: If rewriteContent or reselectImage is set to true, then mapping.pageDataMapping must be provided",t);const n=D5.useToast(AT),r=(i,s)=>{s5.send(window==null?void 0:window.parent,i,t==null?void 0:t.mapping,pQ).catch(o=>{n.error("Something went wrong. Please try again."),console.error(o)}),s&&typeof s=="function"&&s()};return(i,s)=>{const o=eX,a=n5,l=qY,u=UY;return re(),Le("div",QQ,[we(ve(C5),{class:"relative"},{default:Ze(({open:c})=>[we(ve(_p),{class:Vr([c?"":"text-opacity-40 lg:text-opacity-60","group inline-flex items-center rounded-md bg-slate-100 px-0.5 shadow text-brand-primary focus:ring-brand-primary focus:outline-none focus:ring-1 focus:ring-offset-1 focus:ring-offset-slate-100/70 focus:bg-slate ring-1 ring-slate-200 hover:ring-brand-primary/40 hover:bg-slate-100 hover:text-opacity-70"])},{default:Ze(()=>[we(o,{class:"w-5 h-5"})]),_:2},1032,["class"]),we(Gu,{"enter-active-class":"transition duration-200 ease-out","enter-from-class":"translate-y-1 opacity-0","enter-to-class":"translate-y-0 opacity-100","leave-active-class":"transition duration-150 ease-in","leave-from-class":"translate-y-0 opacity-100","leave-to-class":"translate-y-1 opacity-0"},{default:Ze(()=>[we(ve(nQ),{class:"absolute right-0 z-10 pt-1 transform pr-0.5 sm:px-0 w-max"},{default:Ze(({close:d})=>[Z("div",JQ,[Z("div",{class:"flex flex-col relative gap-2 bg-white p-2 text-sm tracking-normal font-medium",onClick:s[0]||(s[0]=Ja(()=>{},["stop","prevent"]))},[e.rewriteContent?(re(),We(ve(_p),{key:0,type:"button",class:"group flex items-center gap-1",title:"AI will rewrite this selected content for you",onClick:Ja(f=>r("previewFrameRewriteContent",d),["stop","prevent"])},{default:Ze(()=>[we(a,{class:"w-4 h-4 text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"}),ZQ,eJ]),_:2},1032,["onClick"])):Xe("",!0),e.reselectImage?(re(),We(ve(_p),{key:1,class:"group flex items-center gap-1",type:"button",title:"AI will reselect another image for you",onClick:Ja(f=>r("previewFrameReselectImage",d),["stop","prevent"])},{default:Ze(()=>[we(a,{class:"w-4 h-4 text-brand-primary underline group-hover:no-underline group-hover:text-brand-secondary"}),tJ,nJ]),_:2},1032,["onClick"])):Xe("",!0),e.editContent?(re(),We(ve(_p),{key:2,class:"default-link flex items-center gap-1",type:"button",onClick:Ja(f=>r("previewFrameEditContent",d),["stop","prevent"])},{default:Ze(()=>[we(l,{class:"w-4 h-4"}),En(" Edit Content ")]),_:2},1032,["onClick"])):Xe("",!0),e.editBrand?(re(),We(ve(_p),{key:3,class:"default-link flex items-center gap-1",type:"button",onClick:Ja(f=>r("previewFrameEditBrand",d),["stop","prevent"])},{default:Ze(()=>[we(u,{class:"w-4 h-4"}),En(" Customize Brand ")]),_:2},1032,["onClick"])):Xe("",!0)])])]),_:1})]),_:1})]),_:1})])}}},mP=(e,t,n)=>{if(e.querySelector(".preview-menu-container"))return;const r=document.createElement("div");r.classList.add("preview-menu-container"),e.classList.add("preview-menu-wrapper"),e.classList.add("relative"),_T(rJ,{...t==null?void 0:t.value,isUpdated:n}).mount(r),e.appendChild(r)},iJ=async({app:e})=>{e.directive("preview",{updated(t,n){mP(t,n,!0)},mounted(t,n){mP(t,n,!1)}})},sJ=Object.freeze(Object.defineProperty({__proto__:null,install:iJ},Symbol.toStringTag,{value:"Module"}));/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z5={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ee=function(e,t){if(!e)throw Nf(t)},Nf=function(e){return new Error("Firebase Database ("+z5.SDK_VERSION+") INTERNAL ASSERT FAILED: "+e)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):(i&64512)===55296&&r+1<e.length&&(e.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(e.charCodeAt(++r)&1023),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},oJ=function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=e[n++],o=e[n++],a=e[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;t[r++]=String.fromCharCode(55296+(l>>10)),t[r++]=String.fromCharCode(56320+(l&1023))}else{const s=e[n++],o=e[n++];t[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return t.join("")},ib={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const s=e[i],o=i+1<e.length,a=o?e[i+1]:0,l=i+2<e.length,u=l?e[i+2]:0,c=s>>2,d=(s&3)<<4|a>>4;let f=(a&15)<<2|u>>6,p=u&63;l||(p=64,o||(f=64)),r.push(n[c],n[d],n[f],n[p])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(K5(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):oJ(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const s=n[e.charAt(i++)],a=i<e.length?n[e.charAt(i)]:0;++i;const u=i<e.length?n[e.charAt(i)]:64;++i;const d=i<e.length?n[e.charAt(i)]:64;if(++i,s==null||a==null||u==null||d==null)throw new aJ;const f=s<<2|a>>4;if(r.push(f),u!==64){const p=a<<4&240|u>>2;if(r.push(p),d!==64){const h=u<<6&192|d;r.push(h)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class aJ extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const G5=function(e){const t=K5(e);return ib.encodeByteArray(t,!0)},Xy=function(e){return G5(e).replace(/\./g,"")},Qy=function(e){try{return ib.decodeString(e,!0)}catch(t){console.error("base64Decode failed: ",t)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lJ(e){return Y5(void 0,e)}function Y5(e,t){if(!(t instanceof Object))return t;switch(t.constructor){case Date:const n=t;return new Date(n.getTime());case Object:e===void 0&&(e={});break;case Array:e=[];break;default:return t}for(const n in t)!t.hasOwnProperty(n)||!uJ(n)||(e[n]=Y5(e[n],t[n]));return e}function uJ(e){return e!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function X5(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cJ=()=>X5().__FIREBASE_DEFAULTS__,dJ=()=>{if(typeof process>"u"||typeof process.env>"u")return;const e={}.__FIREBASE_DEFAULTS__;if(e)return JSON.parse(e)},fJ=()=>{if(typeof document>"u")return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const t=e&&Qy(e[1]);return t&&JSON.parse(t)},NT=()=>{try{return cJ()||dJ()||fJ()}catch(e){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${e}`);return}},Q5=e=>{var t,n;return(n=(t=NT())===null||t===void 0?void 0:t.emulatorHosts)===null||n===void 0?void 0:n[e]},MT=e=>{const t=Q5(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error(`Invalid host ${t} with no separate hostname and port!`);const r=parseInt(t.substring(n+1),10);return t[0]==="["?[t.substring(1,n-1),r]:[t.substring(0,n),r]},J5=()=>{var e;return(e=NT())===null||e===void 0?void 0:e.config},Z5=e=>{var t;return(t=NT())===null||t===void 0?void 0:t[`_${e}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Al{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}wrapCallback(t){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof t=="function"&&(this.promise.catch(()=>{}),t.length===1?t(n):t(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eU(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=t||"demo-project",i=e.iat||0,s=e.sub||e.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},e),a="";return[Xy(JSON.stringify(n)),Xy(JSON.stringify(o)),a].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ti(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function LT(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(ti())}function tU(){const e=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof e=="object"&&e.id!==void 0}function nU(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function pJ(){const e=ti();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}function rU(){return z5.NODE_ADMIN===!0}function sb(){try{return typeof indexedDB=="object"}catch{return!1}}function iU(){return new Promise((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;t(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){t(n)}})}function hJ(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gJ="FirebaseError";class ss extends Error{constructor(t,n,r){super(n),this.code=t,this.customData=r,this.name=gJ,Object.setPrototypeOf(this,ss.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Hl.prototype.create)}}class Hl{constructor(t,n,r){this.service=t,this.serviceName=n,this.errors=r}create(t,...n){const r=n[0]||{},i=`${this.service}/${t}`,s=this.errors[t],o=s?mJ(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new ss(i,a,r)}}function mJ(e,t){return e.replace(vJ,(n,r)=>{const i=t[r];return i!=null?String(i):`<${r}?>`})}const vJ=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qh(e){return JSON.parse(e)}function pr(e){return JSON.stringify(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU=function(e){let t={},n={},r={},i="";try{const s=e.split(".");t=Qh(Qy(s[0])||""),n=Qh(Qy(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:t,claims:n,data:r,signature:i}},yJ=function(e){const t=sU(e),n=t.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},_J=function(e){const t=sU(e).claims;return typeof t=="object"&&t.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Sa(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function Zd(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]}function E$(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}function Jy(e,t,n){const r={};for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&(r[i]=t.call(n,e[i],i,e));return r}function Jh(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const s=e[i],o=t[i];if(vP(s)&&vP(o)){if(!Jh(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function vP(e){return e!==null&&typeof e=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mf(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach(i=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function zp(e){const t={};return e.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");t[decodeURIComponent(i)]=decodeURIComponent(s)}}),t}function Kp(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bJ{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let t=1;t<this.blockSize;++t)this.pad_[t]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(t,n){n||(n=0);const r=this.W_;if(typeof t=="string")for(let d=0;d<16;d++)r[d]=t.charCodeAt(n)<<24|t.charCodeAt(n+1)<<16|t.charCodeAt(n+2)<<8|t.charCodeAt(n+3),n+=4;else for(let d=0;d<16;d++)r[d]=t[n]<<24|t[n+1]<<16|t[n+2]<<8|t[n+3],n+=4;for(let d=16;d<80;d++){const f=r[d-3]^r[d-8]^r[d-14]^r[d-16];r[d]=(f<<1|f>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],u,c;for(let d=0;d<80;d++){d<40?d<20?(u=a^s&(o^a),c=1518500249):(u=s^o^a,c=1859775393):d<60?(u=s&o|a&(s|o),c=2400959708):(u=s^o^a,c=3395469782);const f=(i<<5|i>>>27)+u+l+c+r[d]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=f}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(t,n){if(t==null)return;n===void 0&&(n=t.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(t,i),i+=this.blockSize;if(typeof t=="string"){for(;i<n;)if(s[o]=t.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=t[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const t=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)t[r]=this.chain_[i]>>s&255,++r;return t}}function wJ(e,t){const n=new EJ(e,t);return n.subscribe.bind(n)}class EJ{constructor(t,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{t(this)}).catch(r=>{this.error(r)})}next(t){this.forEachObserver(n=>{n.next(t)})}error(t){this.forEachObserver(n=>{n.error(t)}),this.close(t)}complete(){this.forEachObserver(t=>{t.complete()}),this.close()}subscribe(t,n,r){let i;if(t===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");$J(t,["next","error","complete"])?i=t:i={next:t,error:n,complete:r},i.next===void 0&&(i.next=c1),i.error===void 0&&(i.error=c1),i.complete===void 0&&(i.complete=c1);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(t){this.observers===void 0||this.observers[t]===void 0||(delete this.observers[t],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(t){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,t)}sendOne(t,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[t]!==void 0)try{n(this.observers[t])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(t){this.finalized||(this.finalized=!0,t!==void 0&&(this.finalError=t),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function $J(e,t){if(typeof e!="object"||e===null)return!1;for(const n of t)if(n in e&&typeof e[n]=="function")return!0;return!1}function c1(){}function FT(e,t){return`${e} failed: ${t} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SJ=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,Ee(r<e.length,"Surrogate pair missing trail surrogate.");const o=e.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=i&63|128):i<65536?(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=i&63|128):(t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=i&63|128)}return t},ob=function(e){let t=0;for(let n=0;n<e.length;n++){const r=e.charCodeAt(n);r<128?t++:r<2048?t+=2:r>=55296&&r<=56319?(t+=4,n++):t+=3}return t};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xJ=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,e=>{const t=Math.random()*16|0;return(e==="x"?t:t&3|8).toString(16)})};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TJ=1e3,IJ=2,CJ=4*60*60*1e3,AJ=.5;function $$(e,t=TJ,n=IJ){const r=t*Math.pow(n,e),i=Math.round(AJ*r*(Math.random()-.5)*2);return Math.min(CJ,r+i)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nt(e){return e&&e._delegate?e._delegate:e}class ni{constructor(t,n,r){this.name=t,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(t){return this.instantiationMode=t,this}setMultipleInstances(t){return this.multipleInstances=t,this}setServiceProps(t){return this.serviceProps=t,this}setInstanceCreatedCallback(t){return this.onInstanceCreated=t,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const du="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kJ{constructor(t,n){this.name=t,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(t){const n=this.normalizeInstanceIdentifier(t);if(!this.instancesDeferred.has(n)){const r=new Al;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(t){var n;const r=this.normalizeInstanceIdentifier(t==null?void 0:t.identifier),i=(n=t==null?void 0:t.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(t){if(t.name!==this.name)throw Error(`Mismatching Component ${t.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=t,!!this.shouldAutoInitialize()){if(PJ(t))try{this.getOrInitializeService({instanceIdentifier:du})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(t=du){this.instancesDeferred.delete(t),this.instancesOptions.delete(t),this.instances.delete(t)}async delete(){const t=Array.from(this.instances.values());await Promise.all([...t.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...t.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(t=du){return this.instances.has(t)}getOptions(t=du){return this.instancesOptions.get(t)||{}}initialize(t={}){const{options:n={}}=t,r=this.normalizeInstanceIdentifier(t.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(t,n){var r;const i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(t),this.onInitCallbacks.set(i,s);const o=this.instances.get(i);return o&&t(o,i),()=>{s.delete(t)}}invokeOnInitCallbacks(t,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(t,n)}catch{}}getOrInitializeService({instanceIdentifier:t,options:n={}}){let r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:OJ(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch{}return r||null}normalizeInstanceIdentifier(t=du){return this.component?this.component.multipleInstances?t:du:t}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function OJ(e){return e===du?void 0:e}function PJ(e){return e.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RJ{constructor(t){this.name=t,this.providers=new Map}addComponent(t){const n=this.getProvider(t.name);if(n.isComponentSet())throw new Error(`Component ${t.name} has already been registered with ${this.name}`);n.setComponent(t)}addOrOverwriteComponent(t){this.getProvider(t.name).isComponentSet()&&this.providers.delete(t.name),this.addComponent(t)}getProvider(t){if(this.providers.has(t))return this.providers.get(t);const n=new kJ(t,this);return this.providers.set(t,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Bt;(function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"})(Bt||(Bt={}));const DJ={debug:Bt.DEBUG,verbose:Bt.VERBOSE,info:Bt.INFO,warn:Bt.WARN,error:Bt.ERROR,silent:Bt.SILENT},NJ=Bt.INFO,MJ={[Bt.DEBUG]:"log",[Bt.VERBOSE]:"log",[Bt.INFO]:"info",[Bt.WARN]:"warn",[Bt.ERROR]:"error"},LJ=(e,t,...n)=>{if(t<e.logLevel)return;const r=new Date().toISOString(),i=MJ[t];if(i)console[i](`[${r}]  ${e.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${t})`)};class Lf{constructor(t){this.name=t,this._logLevel=NJ,this._logHandler=LJ,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(t){if(!(t in Bt))throw new TypeError(`Invalid value "${t}" assigned to \`logLevel\``);this._logLevel=t}setLogLevel(t){this._logLevel=typeof t=="string"?DJ[t]:t}get logHandler(){return this._logHandler}set logHandler(t){if(typeof t!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t}get userLogHandler(){return this._userLogHandler}set userLogHandler(t){this._userLogHandler=t}debug(...t){this._userLogHandler&&this._userLogHandler(this,Bt.DEBUG,...t),this._logHandler(this,Bt.DEBUG,...t)}log(...t){this._userLogHandler&&this._userLogHandler(this,Bt.VERBOSE,...t),this._logHandler(this,Bt.VERBOSE,...t)}info(...t){this._userLogHandler&&this._userLogHandler(this,Bt.INFO,...t),this._logHandler(this,Bt.INFO,...t)}warn(...t){this._userLogHandler&&this._userLogHandler(this,Bt.WARN,...t),this._logHandler(this,Bt.WARN,...t)}error(...t){this._userLogHandler&&this._userLogHandler(this,Bt.ERROR,...t),this._logHandler(this,Bt.ERROR,...t)}}const FJ=(e,t)=>t.some(n=>e instanceof n);let yP,_P;function BJ(){return yP||(yP=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function UJ(){return _P||(_P=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const oU=new WeakMap,S$=new WeakMap,aU=new WeakMap,d1=new WeakMap,BT=new WeakMap;function VJ(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(hl(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&oU.set(n,e)}).catch(()=>{}),BT.set(t,e),t}function HJ(e){if(S$.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});S$.set(e,t)}let x$={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return S$.get(e);if(t==="objectStoreNames")return e.objectStoreNames||aU.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return hl(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function jJ(e){x$=e(x$)}function WJ(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(f1(this),t,...n);return aU.set(r,t.sort?t.sort():[t]),hl(r)}:UJ().includes(e)?function(...t){return e.apply(f1(this),t),hl(oU.get(this))}:function(...t){return hl(e.apply(f1(this),t))}}function qJ(e){return typeof e=="function"?WJ(e):(e instanceof IDBTransaction&&HJ(e),FJ(e,BJ())?new Proxy(e,x$):e)}function hl(e){if(e instanceof IDBRequest)return VJ(e);if(d1.has(e))return d1.get(e);const t=qJ(e);return t!==e&&(d1.set(e,t),BT.set(t,e)),t}const f1=e=>BT.get(e);function zJ(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=hl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(hl(o.result),l.oldVersion,l.newVersion,hl(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",u=>i(u.oldVersion,u.newVersion,u))}).catch(()=>{}),a}const KJ=["get","getKey","getAll","getAllKeys","count"],GJ=["put","add","delete","clear"],p1=new Map;function bP(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(p1.get(t))return p1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=GJ.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||KJ.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return p1.set(t,s),s}jJ(e=>({...e,get:(t,n,r)=>bP(t,n)||e.get(t,n,r),has:(t,n)=>!!bP(t,n)||e.has(t,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YJ{constructor(t){this.container=t}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(XJ(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function XJ(e){const t=e.getComponent();return(t==null?void 0:t.type)==="VERSION"}const T$="@firebase/app",wP="0.9.11";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xu=new Lf("@firebase/app"),QJ="@firebase/app-compat",JJ="@firebase/analytics-compat",ZJ="@firebase/analytics",eZ="@firebase/app-check-compat",tZ="@firebase/app-check",nZ="@firebase/auth",rZ="@firebase/auth-compat",iZ="@firebase/database",sZ="@firebase/database-compat",oZ="@firebase/functions",aZ="@firebase/functions-compat",lZ="@firebase/installations",uZ="@firebase/installations-compat",cZ="@firebase/messaging",dZ="@firebase/messaging-compat",fZ="@firebase/performance",pZ="@firebase/performance-compat",hZ="@firebase/remote-config",gZ="@firebase/remote-config-compat",mZ="@firebase/storage",vZ="@firebase/storage-compat",yZ="@firebase/firestore",_Z="@firebase/firestore-compat",bZ="firebase",wZ="9.22.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const I$="[DEFAULT]",EZ={[T$]:"fire-core",[QJ]:"fire-core-compat",[ZJ]:"fire-analytics",[JJ]:"fire-analytics-compat",[tZ]:"fire-app-check",[eZ]:"fire-app-check-compat",[nZ]:"fire-auth",[rZ]:"fire-auth-compat",[iZ]:"fire-rtdb",[sZ]:"fire-rtdb-compat",[oZ]:"fire-fn",[aZ]:"fire-fn-compat",[lZ]:"fire-iid",[uZ]:"fire-iid-compat",[cZ]:"fire-fcm",[dZ]:"fire-fcm-compat",[fZ]:"fire-perf",[pZ]:"fire-perf-compat",[hZ]:"fire-rc",[gZ]:"fire-rc-compat",[mZ]:"fire-gcs",[vZ]:"fire-gcs-compat",[yZ]:"fire-fst",[_Z]:"fire-fst-compat","fire-js":"fire-js",[bZ]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zh=new Map,C$=new Map;function $Z(e,t){try{e.container.addComponent(t)}catch(n){Xu.debug(`Component ${t.name} failed to register with FirebaseApp ${e.name}`,n)}}function fi(e){const t=e.name;if(C$.has(t))return Xu.debug(`There were multiple attempts to register component ${t}.`),!1;C$.set(t,e);for(const n of Zh.values())$Z(n,e);return!0}function Qs(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SZ={["no-app"]:"No Firebase App '{$appName}' has been created - call initializeApp() first",["bad-app-name"]:"Illegal App name: '{$appName}",["duplicate-app"]:"Firebase App named '{$appName}' already exists with different options or config",["app-deleted"]:"Firebase App named '{$appName}' already deleted",["no-options"]:"Need to provide options, when not being deployed to hosting via source.",["invalid-app-argument"]:"firebase.{$appName}() takes either no argument or a Firebase App instance.",["invalid-log-argument"]:"First argument to `onLog` must be null or a function.",["idb-open"]:"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.",["idb-get"]:"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.",["idb-set"]:"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.",["idb-delete"]:"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."},gl=new Hl("app","Firebase",SZ);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xZ{constructor(t,n,r){this._isDeleted=!1,this._options=Object.assign({},t),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new ni("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(t){this.checkDestroyed(),this._automaticDataCollectionEnabled=t}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(t){this._isDeleted=t}checkDestroyed(){if(this.isDeleted)throw gl.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jl=wZ;function lU(e,t={}){let n=e;typeof t!="object"&&(t={name:t});const r=Object.assign({name:I$,automaticDataCollectionEnabled:!1},t),i=r.name;if(typeof i!="string"||!i)throw gl.create("bad-app-name",{appName:String(i)});if(n||(n=J5()),!n)throw gl.create("no-options");const s=Zh.get(i);if(s){if(Jh(n,s.options)&&Jh(r,s.config))return s;throw gl.create("duplicate-app",{appName:i})}const o=new RJ(i);for(const l of C$.values())o.addComponent(l);const a=new xZ(n,r,o);return Zh.set(i,a),a}function Tc(e=I$){const t=Zh.get(e);if(!t&&e===I$&&J5())return lU();if(!t)throw gl.create("no-app",{appName:e});return t}function TZ(){return Array.from(Zh.values())}function mr(e,t,n){var r;let i=(r=EZ[e])!==null&&r!==void 0?r:e;n&&(i+=`-${n}`);const s=i.match(/\s|\//),o=t.match(/\s|\//);if(s||o){const a=[`Unable to register library "${i}" with version "${t}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${t}" contains illegal characters (whitespace or "/")`),Xu.warn(a.join(" "));return}fi(new ni(`${i}-version`,()=>({library:i,version:t}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IZ="firebase-heartbeat-database",CZ=1,eg="firebase-heartbeat-store";let h1=null;function uU(){return h1||(h1=zJ(IZ,CZ,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(eg)}}}).catch(e=>{throw gl.create("idb-open",{originalErrorMessage:e.message})})),h1}async function AZ(e){try{return await(await uU()).transaction(eg).objectStore(eg).get(cU(e))}catch(t){if(t instanceof ss)Xu.warn(t.message);else{const n=gl.create("idb-get",{originalErrorMessage:t==null?void 0:t.message});Xu.warn(n.message)}}}async function EP(e,t){try{const r=(await uU()).transaction(eg,"readwrite");await r.objectStore(eg).put(t,cU(e)),await r.done}catch(n){if(n instanceof ss)Xu.warn(n.message);else{const r=gl.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Xu.warn(r.message)}}}function cU(e){return`${e.name}!${e.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kZ=1024,OZ=30*24*60*60*1e3;class PZ{constructor(t){this.container=t,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new DZ(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=$P();if(this._heartbeatsCache===null&&(this._heartbeatsCache=await this._heartbeatsCachePromise),!(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some(i=>i.date===r)))return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(i=>{const s=new Date(i.date).valueOf();return Date.now()-s<=OZ}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache===null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$P(),{heartbeatsToSend:n,unsentEntries:r}=RZ(this._heartbeatsCache.heartbeats),i=Xy(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}}function $P(){return new Date().toISOString().substring(0,10)}function RZ(e,t=kZ){const n=[];let r=e.slice();for(const i of e){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),SP(n)>t){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),SP(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class DZ{constructor(t){this.app=t,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return sb()?iU().then(()=>!0).catch(()=>!1):!1}async read(){return await this._canUseIndexedDBPromise?await AZ(this.app)||{heartbeats:[]}:{heartbeats:[]}}async overwrite(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EP(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:t.heartbeats})}else return}async add(t){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return EP(this.app,{lastSentHeartbeatDate:(n=t.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...t.heartbeats]})}else return}}function SP(e){return Xy(JSON.stringify({version:2,heartbeats:e})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NZ(e){fi(new ni("platform-logger",t=>new YJ(t),"PRIVATE")),fi(new ni("heartbeat",t=>new PZ(t),"PRIVATE")),mr(T$,wP,e),mr(T$,wP,"esm2017"),mr("fire-js","")}NZ("");var MZ="firebase",LZ="9.22.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */mr(MZ,LZ,"app");const xP="@firebase/database",TP="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dU="";function FZ(e){dU=e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BZ{constructor(t){this.domStorage_=t,this.prefix_="firebase:"}set(t,n){n==null?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),pr(n))}get(t){const n=this.domStorage_.getItem(this.prefixedName_(t));return n==null?null:Qh(n)}remove(t){this.domStorage_.removeItem(this.prefixedName_(t))}prefixedName_(t){return this.prefix_+t}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UZ{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(t,n){n==null?delete this.cache_[t]:this.cache_[t]=n}get(t){return Sa(this.cache_,t)?this.cache_[t]:null}remove(t){delete this.cache_[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fU=function(e){try{if(typeof window<"u"&&typeof window[e]<"u"){const t=window[e];return t.setItem("firebase:sentinel","cache"),t.removeItem("firebase:sentinel"),new BZ(t)}}catch{}return new UZ},Eu=fU("localStorage"),A$=fU("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sd=new Lf("@firebase/database"),VZ=function(){let e=1;return function(){return e++}}(),pU=function(e){const t=SJ(e),n=new bJ;n.update(t);const r=n.digest();return ib.encodeByteArray(r)},nm=function(...e){let t="";for(let n=0;n<e.length;n++){const r=e[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?t+=nm.apply(null,r):typeof r=="object"?t+=pr(r):t+=r,t+=" "}return t};let Ru=null,IP=!0;const HZ=function(e,t){Ee(!t||e===!0||e===!1,"Can't turn on custom loggers persistently."),e===!0?(Sd.logLevel=Bt.VERBOSE,Ru=Sd.log.bind(Sd),t&&A$.set("logging_enabled",!0)):typeof e=="function"?Ru=e:(Ru=null,A$.remove("logging_enabled"))},Yr=function(...e){if(IP===!0&&(IP=!1,Ru===null&&A$.get("logging_enabled")===!0&&HZ(!0)),Ru){const t=nm.apply(null,e);Ru(t)}},rm=function(e){return function(...t){Yr(e,...t)}},k$=function(...e){const t="FIREBASE INTERNAL ERROR: "+nm(...e);Sd.error(t)},pa=function(...e){const t=`FIREBASE FATAL ERROR: ${nm(...e)}`;throw Sd.error(t),new Error(t)},Ai=function(...e){const t="FIREBASE WARNING: "+nm(...e);Sd.warn(t)},jZ=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Ai("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},hU=function(e){return typeof e=="number"&&(e!==e||e===Number.POSITIVE_INFINITY||e===Number.NEGATIVE_INFINITY)},WZ=function(e){if(document.readyState==="complete")e();else{let t=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}t||(t=!0,e())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},ef="[MIN_NAME]",Qu="[MAX_NAME]",Ff=function(e,t){if(e===t)return 0;if(e===ef||t===Qu)return-1;if(t===ef||e===Qu)return 1;{const n=CP(e),r=CP(t);return n!==null?r!==null?n-r===0?e.length-t.length:n-r:-1:r!==null?1:e<t?-1:1}},qZ=function(e,t){return e===t?0:e<t?-1:1},wp=function(e,t){if(t&&e in t)return t[e];throw new Error("Missing required key ("+e+") in object: "+pr(t))},UT=function(e){if(typeof e!="object"||e===null)return pr(e);const t=[];for(const r in e)t.push(r);t.sort();let n="{";for(let r=0;r<t.length;r++)r!==0&&(n+=","),n+=pr(t[r]),n+=":",n+=UT(e[t[r]]);return n+="}",n},gU=function(e,t){const n=e.length;if(n<=t)return[e];const r=[];for(let i=0;i<n;i+=t)i+t>n?r.push(e.substring(i,n)):r.push(e.substring(i,i+t));return r};function Li(e,t){for(const n in e)e.hasOwnProperty(n)&&t(n,e[n])}const mU=function(e){Ee(!hU(e),"Invalid JSON number");const t=11,n=52,r=(1<<t-1)-1;let i,s,o,a,l;e===0?(s=0,o=0,i=1/e===-1/0?1:0):(i=e<0,e=Math.abs(e),e>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(e)/Math.LN2),r),s=a+r,o=Math.round(e*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(e/Math.pow(2,1-r-n))));const u=[];for(l=n;l;l-=1)u.push(o%2?1:0),o=Math.floor(o/2);for(l=t;l;l-=1)u.push(s%2?1:0),s=Math.floor(s/2);u.push(i?1:0),u.reverse();const c=u.join("");let d="";for(l=0;l<64;l+=8){let f=parseInt(c.substr(l,8),2).toString(16);f.length===1&&(f="0"+f),d=d+f}return d.toLowerCase()},zZ=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},KZ=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function GZ(e,t){let n="Unknown Error";e==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":e==="permission_denied"?n="Client doesn't have permission to access the desired data.":e==="unavailable"&&(n="The service is unavailable");const r=new Error(e+" at "+t._path.toString()+": "+n);return r.code=e.toUpperCase(),r}const YZ=new RegExp("^-?(0*)\\d{1,10}$"),XZ=-2147483648,QZ=2147483647,CP=function(e){if(YZ.test(e)){const t=Number(e);if(t>=XZ&&t<=QZ)return t}return null},Bf=function(e){try{e()}catch(t){setTimeout(()=>{const n=t.stack||"";throw Ai("Exception was thrown by user callback.",n),t},Math.floor(0))}},JZ=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},ph=function(e,t){const n=setTimeout(e,t);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZZ{constructor(t,n){this.appName_=t,this.appCheckProvider=n,this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(t){return this.appCheck?this.appCheck.getToken(t):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){var n;(n=this.appCheckProvider)===null||n===void 0||n.get().then(r=>r.addTokenListener(t))}notifyForInvalidToken(){Ai(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eee{constructor(t,n,r){this.appName_=t,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(t){return this.auth_?this.auth_.getToken(t).catch(n=>n&&n.code==="auth/token-not-initialized"?(Yr("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(t).then(n,r):n(null)},0)})}addTokenChangeListener(t){this.auth_?this.auth_.addAuthTokenListener(t):this.authProvider_.get().then(n=>n.addAuthTokenListener(t))}removeTokenChangeListener(t){this.authProvider_.get().then(n=>n.removeAuthTokenListener(t))}notifyForInvalidToken(){let t='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Ai(t)}}class xd{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}xd.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VT="5",vU="v",yU="s",_U="r",bU="f",wU=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,EU="ls",$U="p",O$="ac",SU="websocket",xU="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TU{constructor(t,n,r,i,s=!1,o="",a=!1,l=!1){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this._host=t.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Eu.get("host:"+t)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&Eu.set("host:"+this._host,this.internalHost))}toString(){let t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t}toURLString(){const t=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${t}${this.host}/${n}`}}function tee(e){return e.host!==e.internalHost||e.isCustomHost()||e.includeNamespaceInQueryParams}function IU(e,t,n){Ee(typeof t=="string","typeof type must == string"),Ee(typeof n=="object","typeof params must == object");let r;if(t===SU)r=(e.secure?"wss://":"ws://")+e.internalHost+"/.ws?";else if(t===xU)r=(e.secure?"https://":"http://")+e.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+t);tee(e)&&(n.ns=e.namespace);const i=[];return Li(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nee{constructor(){this.counters_={}}incrementCounter(t,n=1){Sa(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=n}get(){return lJ(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g1={},m1={};function HT(e){const t=e.toString();return g1[t]||(g1[t]=new nee),g1[t]}function ree(e,t){const n=e.toString();return m1[n]||(m1[n]=t()),m1[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iee{constructor(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(t,n){this.closeAfterResponse=t,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(t,n){for(this.pendingResponses[t]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Bf(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AP="start",see="close",oee="pLPCommand",aee="pRTLPCB",CU="id",AU="pw",kU="ser",lee="cb",uee="seg",cee="ts",dee="d",fee="dframe",OU=1870,PU=30,pee=OU-PU,hee=25e3,gee=3e4;class dd{constructor(t,n,r,i,s,o,a){this.connId=t,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=rm(t),this.stats_=HT(n),this.urlFn=l=>(this.appCheckToken&&(l[O$]=this.appCheckToken),IU(n,xU,l))}open(t,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new iee(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(gee)),WZ(()=>{if(this.isClosed_)return;this.scriptTagHolder=new jT((...s)=>{const[o,a,l,u,c]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===AP)this.id=a,this.password=l;else if(o===see)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[AP]="t",r[kU]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[lee]=this.scriptTagHolder.uniqueCallbackIdentifier),r[vU]=VT,this.transportSessionId&&(r[yU]=this.transportSessionId),this.lastSessionId&&(r[EU]=this.lastSessionId),this.applicationId&&(r[$U]=this.applicationId),this.appCheckToken&&(r[O$]=this.appCheckToken),typeof location<"u"&&location.hostname&&wU.test(location.hostname)&&(r[_U]=bU);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){dd.forceAllow_=!0}static forceDisallow(){dd.forceDisallow_=!0}static isAvailable(){return dd.forceAllow_?!0:!dd.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!zZ()&&!KZ()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(t){const n=pr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=G5(n),i=gU(r,pee);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(t,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[fee]="t",r[CU]=t,r[AU]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(t){const n=pr(t).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class jT{constructor(t,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=VZ(),window[oee+this.uniqueCallbackIdentifier]=t,window[aee+this.uniqueCallbackIdentifier]=n,this.myIFrame=jT.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){Yr("frame writing exception"),a.stack&&Yr(a.stack),Yr(a)}}}static createIFrame_(){const t=document.createElement("iframe");if(t.style.display="none",document.body){document.body.appendChild(t);try{t.contentWindow.document||Yr("No IE domain setting required")}catch{const r=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const t=this.onDisconnect;t&&(this.onDisconnect=null,t())}startLongPoll(t,n){for(this.myID=t,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const t={};t[CU]=this.myID,t[AU]=this.myPW,t[kU]=this.currentSerial;let n=this.urlFn(t),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+PU+r.length<=OU;){const o=this.pendingSegs.shift();r=r+"&"+uee+i+"="+o.seg+"&"+cee+i+"="+o.ts+"&"+dee+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(t,n,r){this.pendingSegs.push({seg:t,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(t,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(hee)),s=()=>{clearTimeout(i),r()};this.addTag(t,s)}addTag(t,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=t,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{Yr("Long-poll script failed to load: "+t),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mee=16384,vee=45e3;let Zy=null;typeof MozWebSocket<"u"?Zy=MozWebSocket:typeof WebSocket<"u"&&(Zy=WebSocket);class Ds{constructor(t,n,r,i,s,o,a){this.connId=t,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=rm(this.connId),this.stats_=HT(n),this.connURL=Ds.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(t,n,r,i,s){const o={};return o[vU]=VT,typeof location<"u"&&location.hostname&&wU.test(location.hostname)&&(o[_U]=bU),n&&(o[yU]=n),r&&(o[EU]=r),i&&(o[O$]=i),s&&(o[$U]=s),IU(t,SU,o)}open(t,n){this.onDisconnect=n,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Eu.set("previous_websocket_failure",!0);try{let r;rU(),this.mySock=new Zy(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){Ds.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(t=!0)}return!t&&Zy!==null&&!Ds.forceDisallow_}static previouslyFailed(){return Eu.isInMemoryStorage||Eu.get("previous_websocket_failure")===!0}markConnectionHealthy(){Eu.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=Qh(n);this.onMessage(r)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if(Ee(this.frames===null,"We already have a frame buffer"),t.length<=6){const n=Number(t);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(this.mySock===null)return;const n=t.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(t){this.resetKeepAlive();const n=pr(t);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=gU(n,mee);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(vee))}sendString_(t){try{this.mySock.send(t)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}Ds.responsesRequiredToBeHealthy=2;Ds.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tg{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[dd,Ds]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const n=Ds&&Ds.isAvailable();let r=n&&!Ds.previouslyFailed();if(t.webSocketOnly&&(n||Ai("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[Ds];else{const i=this.transports_=[];for(const s of tg.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);tg.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}tg.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yee=6e4,_ee=5e3,bee=10*1024,wee=100*1024,v1="t",kP="d",Eee="s",OP="r",$ee="e",PP="o",RP="a",DP="n",NP="p",See="h";class xee{constructor(t,n,r,i,s,o,a,l,u,c){this.id=t,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=u,this.lastSessionId=c,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=rm("c:"+this.id+":"),this.transportManager_=new tg(n),this.log_("Connection created"),this.start_()}start_(){const t=this.transportManager_.initialTransport();this.conn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=t.healthyTimeout||0;i>0&&(this.healthyTimeout_=ph(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>wee?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>bee?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(t){return n=>{t===this.conn_?this.onConnectionLost_(n):t===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(t){return n=>{this.state_!==2&&(t===this.rx_?this.onPrimaryMessageReceived_(n):t===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(t){const n={t:"d",d:t};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(t){if(v1 in t){const n=t[v1];n===RP?this.upgradeIfSecondaryHealthy_():n===OP?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===PP&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(t){const n=wp("t",t),r=wp("d",t);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:NP,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:RP,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:DP,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(t){const n=wp("t",t),r=wp("d",t);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(t){this.onPrimaryResponse_(),this.onMessage_(t)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(t){const n=wp(v1,t);if(kP in t){const r=t[kP];if(n===See){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===DP){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Eee?this.onConnectionShutdown_(r):n===OP?this.onReset_(r):n===$ee?k$("Server Error: "+r):n===PP?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):k$("Unknown control packet command: "+n)}}onHandshake_(t){const n=t.ts,r=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),VT!==r&&Ai("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)}startUpgrade_(t){this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=t.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),ph(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(yee))}onReset_(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.host=t,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(t,n){this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):ph(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(_ee))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:NP,d:{}}}))}onSecondaryConnectionLost_(){const t=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===t||this.rx_===t)&&this.close()}onConnectionLost_(t){this.conn_=null,!t&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Eu.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(t){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(t)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RU{put(t,n,r,i){}merge(t,n,r,i){}refreshAuthToken(t){}refreshAppCheckToken(t){}onDisconnectPut(t,n,r){}onDisconnectMerge(t,n,r){}onDisconnectCancel(t,n){}reportStats(t){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DU{constructor(t){this.allowedEvents_=t,this.listeners_={},Ee(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}trigger(t,...n){if(Array.isArray(this.listeners_[t])){const r=[...this.listeners_[t]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(t,n,r){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:n,context:r});const i=this.getInitialEvent(t);i&&n.apply(r,i)}off(t,n,r){this.validateEventType_(t);const i=this.listeners_[t]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(t){Ee(this.allowedEvents_.find(n=>n===t),"Unknown event: "+t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e_ extends DU{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!LT()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new e_}getInitialEvent(t){return Ee(t==="online","Unknown event type: "+t),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MP=32,LP=768;class gn{constructor(t,n){if(n===void 0){this.pieces_=t.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=n}toString(){let t="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(t+="/"+this.pieces_[n]);return t||"/"}}function jt(){return new gn("")}function bt(e){return e.pieceNum_>=e.pieces_.length?null:e.pieces_[e.pieceNum_]}function kl(e){return e.pieces_.length-e.pieceNum_}function wn(e){let t=e.pieceNum_;return t<e.pieces_.length&&t++,new gn(e.pieces_,t)}function NU(e){return e.pieceNum_<e.pieces_.length?e.pieces_[e.pieces_.length-1]:null}function Tee(e){let t="";for(let n=e.pieceNum_;n<e.pieces_.length;n++)e.pieces_[n]!==""&&(t+="/"+encodeURIComponent(String(e.pieces_[n])));return t||"/"}function MU(e,t=0){return e.pieces_.slice(e.pieceNum_+t)}function LU(e){if(e.pieceNum_>=e.pieces_.length)return null;const t=[];for(let n=e.pieceNum_;n<e.pieces_.length-1;n++)t.push(e.pieces_[n]);return new gn(t,0)}function hr(e,t){const n=[];for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);if(t instanceof gn)for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);else{const r=t.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new gn(n,0)}function Tt(e){return e.pieceNum_>=e.pieces_.length}function ai(e,t){const n=bt(e),r=bt(t);if(n===null)return t;if(n===r)return ai(wn(e),wn(t));throw new Error("INTERNAL ERROR: innerPath ("+t+") is not within outerPath ("+e+")")}function WT(e,t){if(kl(e)!==kl(t))return!1;for(let n=e.pieceNum_,r=t.pieceNum_;n<=e.pieces_.length;n++,r++)if(e.pieces_[n]!==t.pieces_[r])return!1;return!0}function Ns(e,t){let n=e.pieceNum_,r=t.pieceNum_;if(kl(e)>kl(t))return!1;for(;n<e.pieces_.length;){if(e.pieces_[n]!==t.pieces_[r])return!1;++n,++r}return!0}class Iee{constructor(t,n){this.errorPrefix_=n,this.parts_=MU(t,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=ob(this.parts_[r]);FU(this)}}function Cee(e,t){e.parts_.length>0&&(e.byteLength_+=1),e.parts_.push(t),e.byteLength_+=ob(t),FU(e)}function Aee(e){const t=e.parts_.pop();e.byteLength_-=ob(t),e.parts_.length>0&&(e.byteLength_-=1)}function FU(e){if(e.byteLength_>LP)throw new Error(e.errorPrefix_+"has a key path longer than "+LP+" bytes ("+e.byteLength_+").");if(e.parts_.length>MP)throw new Error(e.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+MP+") or object contains a cycle "+fu(e))}function fu(e){return e.parts_.length===0?"":"in property '"+e.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT extends DU{constructor(){super(["visible"]);let t,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",t="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",t="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",t="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",t="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[t];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new qT}getInitialEvent(t){return Ee(t==="visible","Unknown event type: "+t),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ep=1e3,kee=60*5*1e3,FP=30*1e3,Oee=1.3,Pee=3e4,Ree="server_kill",BP=3;class ea extends RU{constructor(t,n,r,i,s,o,a,l){if(super(),this.repoInfo_=t,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=ea.nextPersistentConnectionId_++,this.log_=rm("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Ep,this.maxReconnectDelay_=kee,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!rU())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");qT.getInstance().on("visible",this.onVisible_,this),t.host.indexOf("fblocal")===-1&&e_.getInstance().on("online",this.onOnline_,this)}sendRequest(t,n,r){const i=++this.requestNumber_,s={r:i,a:t,b:n};this.log_(pr(s)),Ee(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(t){this.initConnection_();const n=new Al,i={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(t,n,r,i){this.initConnection_();const s=t._queryIdentifier,o=t._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),Ee(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),Ee(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:t,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(t){const n=this.outstandingGets_[t];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(t){const n=t.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";t.tag&&(s.q=n._queryObject,s.t=t.tag),s.h=t.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,u=a.s;ea.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===t&&(this.log_("listen response",a),u!=="ok"&&this.removeListen_(r,i),t.onComplete&&t.onComplete(u,l))})}static warnOnListenWarnings_(t,n){if(t&&typeof t=="object"&&Sa(t,"w")){const r=Zd(t,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Ai(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&t.length===40||_J(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=FP)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,n=yJ(t)?"auth":"gauth",r={cred:t};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===t&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const n=t.s,r=t.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(t,n){const r=t._path.toString(),i=t._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),Ee(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,t._queryObject,n)}sendUnlisten_(t,n,r,i){this.log_("Unlisten on "+t+" for "+n);const s={p:t},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:n,onComplete:r})}onDisconnectMerge(t,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,n,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:n,onComplete:r})}onDisconnectCancel(t,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(t,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+t,s),this.sendRequest(t,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(t,n,r,i){this.putInternal("p",t,n,r,i)}merge(t,n,r,i){this.putInternal("m",t,n,r,i)}putInternal(t,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(t){const n=this.outstandingPuts_[t].action,r=this.outstandingPuts_[t].request,i=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[t],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(t){if(this.connected_){const n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+pr(t));const n=t.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,n){this.log_("handleServerMessage",t,n),t==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):t==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):t==="c"?this.onListenRevoked_(n.p,n.q):t==="ac"?this.onAuthRevoked_(n.s,n.d):t==="apc"?this.onAppCheckRevoked_(n.s,n.d):t==="sd"?this.onSecurityDebugPacket_(n):k$("Unrecognized action received from server: "+pr(t)+`
Are you using the latest client?`)}onReady_(t,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(t),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){Ee(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Pee&&(this.reconnectDelay_=Ep),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const t=new Date().getTime()-this.lastConnectionAttemptTime_;let n=Math.max(0,this.reconnectDelay_-t);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*Oee)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+ea.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},u=function(d){Ee(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(d)};this.realtime_={close:l,sendRequest:u};const c=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[d,f]=await Promise.all([this.authTokenProvider_.getToken(c),this.appCheckTokenProvider_.getToken(c)]);o?Yr("getToken() completed but was canceled"):(Yr("getToken() completed. Creating connection."),this.authToken_=d&&d.accessToken,this.appCheckToken_=f&&f.token,a=new xee(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,t,n,r,p=>{Ai(p+" ("+this.repoInfo_.toString()+")"),this.interrupt(Ree)},s))}catch(d){this.log_("Failed to get token: "+d),o||(this.repoInfo_.nodeAdmin&&Ai(d),l())}}}interrupt(t){Yr("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Yr("Resuming connection for reason: "+t),delete this.interruptReasons_[t],E$(this.interruptReasons_)&&(this.reconnectDelay_=Ep,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const n=t-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const n=this.outstandingPuts_[t];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(t,n){let r;n?r=n.map(s=>UT(s)).join("$"):r="default";const i=this.removeListen_(t,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(t,n){const r=new gn(t).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(t,n){Yr("Auth token revoked: "+t+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(t==="invalid_token"||t==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=BP&&(this.reconnectDelay_=FP,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,n){Yr("App check token revoked: "+t+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(t==="invalid_token"||t==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=BP&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const n of t.values())this.sendListen_(n);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let n="js";t["sdk."+n+"."+dU.replace(/\./g,"-")]=1,LT()?t["framework.cordova"]=1:nU()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=e_.getInstance().currentlyOnline();return E$(this.interruptReasons_)&&t}}ea.nextPersistentConnectionId_=0;ea.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Et{constructor(t,n){this.name=t,this.node=n}static Wrap(t,n){return new Et(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ab{getCompare(){return this.compare.bind(this)}indexedValueChanged(t,n){const r=new Et(ef,t),i=new Et(ef,n);return this.compare(r,i)!==0}minPost(){return Et.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gv;class BU extends ab{static get __EMPTY_NODE(){return gv}static set __EMPTY_NODE(t){gv=t}compare(t,n){return Ff(t.name,n.name)}isDefinedOn(t){throw Nf("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(t,n){return!1}minPost(){return Et.MIN}maxPost(){return new Et(Qu,gv)}makePost(t,n){return Ee(typeof t=="string","KeyIndex indexValue must always be a string."),new Et(t,gv)}toString(){return".key"}}const Td=new BU;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mv{constructor(t,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!t.isEmpty();)if(t=t,o=n?r(t.key,n):1,i&&(o*=-1),o<0)this.isReverse_?t=t.left:t=t.right;else if(o===0){this.nodeStack_.push(t);break}else this.nodeStack_.push(t),this.isReverse_?t=t.right:t=t.left}getNext(){if(this.nodeStack_.length===0)return null;let t=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(t.key,t.value):n={key:t.key,value:t.value},this.isReverse_)for(t=t.left;!t.isEmpty();)this.nodeStack_.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack_.push(t),t=t.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}}}class Tr{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Tr.RED,this.left=i??Ti.EMPTY_NODE,this.right=s??Ti.EMPTY_NODE}copy(t,n,r,i,s){return new Tr(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Ti.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,n){let r,i;if(r=this,n(t,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(t,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(t,r.key)===0){if(r.right.isEmpty())return Ti.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(t,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,Tr.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,Tr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}Tr.RED=!0;Tr.BLACK=!1;class Dee{copy(t,n,r,i,s){return this}insert(t,n,r){return new Tr(t,n,null)}remove(t,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(t){return!1}reverseTraversal(t){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Ti{constructor(t,n=Ti.EMPTY_NODE){this.comparator_=t,this.root_=n}insert(t,n){return new Ti(this.comparator_,this.root_.insert(t,n,this.comparator_).copy(null,null,Tr.BLACK,null,null))}remove(t){return new Ti(this.comparator_,this.root_.remove(t,this.comparator_).copy(null,null,Tr.BLACK,null,null))}get(t){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(t,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(t){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(t,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(t){return this.root_.inorderTraversal(t)}reverseTraversal(t){return this.root_.reverseTraversal(t)}getIterator(t){return new mv(this.root_,null,this.comparator_,!1,t)}getIteratorFrom(t,n){return new mv(this.root_,t,this.comparator_,!1,n)}getReverseIteratorFrom(t,n){return new mv(this.root_,t,this.comparator_,!0,n)}getReverseIterator(t){return new mv(this.root_,null,this.comparator_,!0,t)}}Ti.EMPTY_NODE=new Dee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nee(e,t){return Ff(e.name,t.name)}function zT(e,t){return Ff(e,t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let P$;function Mee(e){P$=e}const UU=function(e){return typeof e=="number"?"number:"+mU(e):"string:"+e},VU=function(e){if(e.isLeafNode()){const t=e.val();Ee(typeof t=="string"||typeof t=="number"||typeof t=="object"&&Sa(t,".sv"),"Priority must be a string or number.")}else Ee(e===P$||e.isEmpty(),"priority of unexpected type.");Ee(e===P$||e.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UP;class Sr{constructor(t,n=Sr.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=n,this.lazyHash_=null,Ee(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),VU(this.priorityNode_)}static set __childrenNodeConstructor(t){UP=t}static get __childrenNodeConstructor(){return UP}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new Sr(this.value_,t)}getImmediateChild(t){return t===".priority"?this.priorityNode_:Sr.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Tt(t)?this:bt(t)===".priority"?this.priorityNode_:Sr.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,n){return null}updateImmediateChild(t,n){return t===".priority"?this.updatePriority(n):n.isEmpty()&&t!==".priority"?this:Sr.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,n).updatePriority(this.priorityNode_)}updateChild(t,n){const r=bt(t);return r===null?n:n.isEmpty()&&r!==".priority"?this:(Ee(r!==".priority"||kl(t)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,Sr.__childrenNodeConstructor.EMPTY_NODE.updateChild(wn(t),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,n){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+UU(this.priorityNode_.val())+":");const n=typeof this.value_;t+=n+":",n==="number"?t+=mU(this.value_):t+=this.value_,this.lazyHash_=pU(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===Sr.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof Sr.__childrenNodeConstructor?-1:(Ee(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const n=typeof t.value_,r=typeof this.value_,i=Sr.VALUE_TYPE_ORDER.indexOf(n),s=Sr.VALUE_TYPE_ORDER.indexOf(r);return Ee(i>=0,"Unknown leaf type: "+n),Ee(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(t){if(t===this)return!0;if(t.isLeafNode()){const n=t;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}Sr.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let HU,jU;function Lee(e){HU=e}function Fee(e){jU=e}class Bee extends ab{compare(t,n){const r=t.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Ff(t.name,n.name):s}isDefinedOn(t){return!t.getPriority().isEmpty()}indexedValueChanged(t,n){return!t.getPriority().equals(n.getPriority())}minPost(){return Et.MIN}maxPost(){return new Et(Qu,new Sr("[PRIORITY-POST]",jU))}makePost(t,n){const r=HU(t);return new Et(n,new Sr("[PRIORITY-POST]",r))}toString(){return".priority"}}const zn=new Bee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uee=Math.log(2);class Vee{constructor(t){const n=s=>parseInt(Math.log(s)/Uee,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(t+1),this.current_=this.count-1;const i=r(this.count);this.bits_=t+1&i}nextBitIsOne(){const t=!(this.bits_&1<<this.current_);return this.current_--,t}}const t_=function(e,t,n,r){e.sort(t);const i=function(l,u){const c=u-l;let d,f;if(c===0)return null;if(c===1)return d=e[l],f=n?n(d):d,new Tr(f,d.node,Tr.BLACK,null,null);{const p=parseInt(c/2,10)+l,h=i(l,p),g=i(p+1,u);return d=e[p],f=n?n(d):d,new Tr(f,d.node,Tr.BLACK,h,g)}},s=function(l){let u=null,c=null,d=e.length;const f=function(h,g){const m=d-h,v=d;d-=h;const y=i(m+1,v),b=e[m],_=n?n(b):b;p(new Tr(_,b.node,g,null,y))},p=function(h){u?(u.left=h,u=h):(c=h,u=h)};for(let h=0;h<l.count;++h){const g=l.nextBitIsOne(),m=Math.pow(2,l.count-(h+1));g?f(m,Tr.BLACK):(f(m,Tr.BLACK),f(m,Tr.RED))}return c},o=new Vee(e.length),a=s(o);return new Ti(r||t,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let y1;const jc={};class Ko{constructor(t,n){this.indexes_=t,this.indexSet_=n}static get Default(){return Ee(jc&&zn,"ChildrenNode.ts has not been loaded"),y1=y1||new Ko({".priority":jc},{".priority":zn}),y1}get(t){const n=Zd(this.indexes_,t);if(!n)throw new Error("No index defined for "+t);return n instanceof Ti?n:null}hasIndex(t){return Sa(this.indexSet_,t.toString())}addIndex(t,n){Ee(t!==Td,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(Et.Wrap);let o=s.getNext();for(;o;)i=i||t.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=t_(r,t.getCompare()):a=jc;const l=t.toString(),u=Object.assign({},this.indexSet_);u[l]=t;const c=Object.assign({},this.indexes_);return c[l]=a,new Ko(c,u)}addToIndexes(t,n){const r=Jy(this.indexes_,(i,s)=>{const o=Zd(this.indexSet_,s);if(Ee(o,"Missing index implementation for "+s),i===jc)if(o.isDefinedOn(t.node)){const a=[],l=n.getIterator(Et.Wrap);let u=l.getNext();for(;u;)u.name!==t.name&&a.push(u),u=l.getNext();return a.push(t),t_(a,o.getCompare())}else return jc;else{const a=n.get(t.name);let l=i;return a&&(l=l.remove(new Et(t.name,a))),l.insert(t,t.node)}});return new Ko(r,this.indexSet_)}removeFromIndexes(t,n){const r=Jy(this.indexes_,i=>{if(i===jc)return i;{const s=n.get(t.name);return s?i.remove(new Et(t.name,s)):i}});return new Ko(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $p;class Qe{constructor(t,n,r){this.children_=t,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&VU(this.priorityNode_),this.children_.isEmpty()&&Ee(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return $p||($p=new Qe(new Ti(zT),null,Ko.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||$p}updatePriority(t){return this.children_.isEmpty()?this:new Qe(this.children_,t,this.indexMap_)}getImmediateChild(t){if(t===".priority")return this.getPriority();{const n=this.children_.get(t);return n===null?$p:n}}getChild(t){const n=bt(t);return n===null?this:this.getImmediateChild(n).getChild(wn(t))}hasChild(t){return this.children_.get(t)!==null}updateImmediateChild(t,n){if(Ee(n,"We should always be passing snapshot nodes"),t===".priority")return this.updatePriority(n);{const r=new Et(t,n);let i,s;n.isEmpty()?(i=this.children_.remove(t),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(t,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?$p:this.priorityNode_;return new Qe(i,o,s)}}updateChild(t,n){const r=bt(t);if(r===null)return n;{Ee(bt(t)!==".priority"||kl(t)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(wn(t),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild(zn,(o,a)=>{n[o]=a.val(t),r++,s&&Qe.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!t&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return t&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let t="";this.getPriority().isEmpty()||(t+="priority:"+UU(this.getPriority().val())+":"),this.forEachChild(zn,(n,r)=>{const i=r.hash();i!==""&&(t+=":"+n+":"+i)}),this.lazyHash_=t===""?"":pU(t)}return this.lazyHash_}getPredecessorChildName(t,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new Et(t,n));return s?s.name:null}else return this.children_.getPredecessorKey(t)}getFirstChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(t){const n=this.getFirstChildName(t);return n?new Et(n,this.children_.get(n)):null}getLastChildName(t){const n=this.resolveIndex_(t);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(t){const n=this.getLastChildName(t);return n?new Et(n,this.children_.get(n)):null}forEachChild(t,n){const r=this.resolveIndex_(t);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(t,i=>i);{const i=this.children_.getIteratorFrom(t.name,Et.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(t,i=>i);{const i=this.children_.getReverseIteratorFrom(t.name,Et.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,t)>0;)i.getNext(),s=i.peek();return i}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===im?-1:0}withIndex(t){if(t===Td||this.indexMap_.hasIndex(t))return this;{const n=this.indexMap_.addIndex(t,this.children_);return new Qe(this.children_,this.priorityNode_,n)}}isIndexed(t){return t===Td||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const n=t;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator(zn),i=n.getIterator(zn);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(t){return t===Td?null:this.indexMap_.get(t.toString())}}Qe.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Hee extends Qe{constructor(){super(new Ti(zT),Qe.EMPTY_NODE,Ko.Default)}compareTo(t){return t===this?0:1}equals(t){return t===this}getPriority(){return this}getImmediateChild(t){return Qe.EMPTY_NODE}isEmpty(){return!1}}const im=new Hee;Object.defineProperties(Et,{MIN:{value:new Et(ef,Qe.EMPTY_NODE)},MAX:{value:new Et(Qu,im)}});BU.__EMPTY_NODE=Qe.EMPTY_NODE;Sr.__childrenNodeConstructor=Qe;Mee(im);Fee(im);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jee=!0;function Ir(e,t=null){if(e===null)return Qe.EMPTY_NODE;if(typeof e=="object"&&".priority"in e&&(t=e[".priority"]),Ee(t===null||typeof t=="string"||typeof t=="number"||typeof t=="object"&&".sv"in t,"Invalid priority type found: "+typeof t),typeof e=="object"&&".value"in e&&e[".value"]!==null&&(e=e[".value"]),typeof e!="object"||".sv"in e){const n=e;return new Sr(n,Ir(t))}if(!(e instanceof Array)&&jee){const n=[];let r=!1;if(Li(e,(o,a)=>{if(o.substring(0,1)!=="."){const l=Ir(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new Et(o,l)))}}),n.length===0)return Qe.EMPTY_NODE;const s=t_(n,Nee,o=>o.name,zT);if(r){const o=t_(n,zn.getCompare());return new Qe(s,Ir(t),new Ko({".priority":o},{".priority":zn}))}else return new Qe(s,Ir(t),Ko.Default)}else{let n=Qe.EMPTY_NODE;return Li(e,(r,i)=>{if(Sa(e,r)&&r.substring(0,1)!=="."){const s=Ir(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(Ir(t))}}Lee(Ir);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wee extends ab{constructor(t){super(),this.indexPath_=t,Ee(!Tt(t)&&bt(t)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(t){return t.getChild(this.indexPath_)}isDefinedOn(t){return!t.getChild(this.indexPath_).isEmpty()}compare(t,n){const r=this.extractChild(t.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Ff(t.name,n.name):s}makePost(t,n){const r=Ir(t),i=Qe.EMPTY_NODE.updateChild(this.indexPath_,r);return new Et(n,i)}maxPost(){const t=Qe.EMPTY_NODE.updateChild(this.indexPath_,im);return new Et(Qu,t)}toString(){return MU(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qee extends ab{compare(t,n){const r=t.node.compareTo(n.node);return r===0?Ff(t.name,n.name):r}isDefinedOn(t){return!0}indexedValueChanged(t,n){return!t.equals(n)}minPost(){return Et.MIN}maxPost(){return Et.MAX}makePost(t,n){const r=Ir(t);return new Et(n,r)}toString(){return".value"}}const zee=new qee;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(e){return{type:"value",snapshotNode:e}}function tf(e,t){return{type:"child_added",snapshotNode:t,childName:e}}function ng(e,t){return{type:"child_removed",snapshotNode:t,childName:e}}function rg(e,t,n){return{type:"child_changed",snapshotNode:t,childName:e,oldSnap:n}}function Kee(e,t){return{type:"child_moved",snapshotNode:t,childName:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(t){this.index_=t}updateChild(t,n,r,i,s,o){Ee(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=t.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?t.hasChild(n)?o.trackChildChange(ng(n,a)):Ee(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(tf(n,r)):o.trackChildChange(rg(n,r,a))),t.isLeafNode()&&r.isEmpty())?t:t.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(t,n,r){return r!=null&&(t.isLeafNode()||t.forEachChild(zn,(i,s)=>{n.hasChild(i)||r.trackChildChange(ng(i,s))}),n.isLeafNode()||n.forEachChild(zn,(i,s)=>{if(t.hasChild(i)){const o=t.getImmediateChild(i);o.equals(s)||r.trackChildChange(rg(i,s,o))}else r.trackChildChange(tf(i,s))})),n.withIndex(this.index_)}updatePriority(t,n){return t.isEmpty()?Qe.EMPTY_NODE:t.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ig{constructor(t){this.indexedFilter_=new KT(t.getIndex()),this.index_=t.getIndex(),this.startPost_=ig.getStartPost_(t),this.endPost_=ig.getEndPost_(t),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(t){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),t)<=0:this.index_.compare(this.getStartPost(),t)<0,r=this.endIsInclusive_?this.index_.compare(t,this.getEndPost())<=0:this.index_.compare(t,this.getEndPost())<0;return n&&r}updateChild(t,n,r,i,s,o){return this.matches(new Et(n,r))||(r=Qe.EMPTY_NODE),this.indexedFilter_.updateChild(t,n,r,i,s,o)}updateFullNode(t,n,r){n.isLeafNode()&&(n=Qe.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Qe.EMPTY_NODE);const s=this;return n.forEachChild(zn,(o,a)=>{s.matches(new Et(o,a))||(i=i.updateImmediateChild(o,Qe.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(t){if(t.hasStart()){const n=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),n)}else return t.getIndex().minPost()}static getEndPost_(t){if(t.hasEnd()){const n=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),n)}else return t.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gee{constructor(t){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new ig(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft(),this.startIsInclusive_=!t.startAfterSet_,this.endIsInclusive_=!t.endBeforeSet_}updateChild(t,n,r,i,s,o){return this.rangedFilter_.matches(new Et(n,r))||(r=Qe.EMPTY_NODE),t.getImmediateChild(n).equals(r)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,n,r,i,s,o):this.fullLimitUpdateChild_(t,n,r,s,o)}updateFullNode(t,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Qe.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Qe.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Qe.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Qe.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,r)}updatePriority(t,n){return t}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(t,n,r,i,s){let o;if(this.reverse_){const d=this.index_.getCompare();o=(f,p)=>d(p,f)}else o=this.index_.getCompare();const a=t;Ee(a.numChildren()===this.limit_,"");const l=new Et(n,r),u=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),c=this.rangedFilter_.matches(l);if(a.hasChild(n)){const d=a.getImmediateChild(n);let f=i.getChildAfterChild(this.index_,u,this.reverse_);for(;f!=null&&(f.name===n||a.hasChild(f.name));)f=i.getChildAfterChild(this.index_,f,this.reverse_);const p=f==null?1:o(f,l);if(c&&!r.isEmpty()&&p>=0)return s!=null&&s.trackChildChange(rg(n,r,d)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(ng(n,d));const g=a.updateImmediateChild(n,Qe.EMPTY_NODE);return f!=null&&this.rangedFilter_.matches(f)?(s!=null&&s.trackChildChange(tf(f.name,f.node)),g.updateImmediateChild(f.name,f.node)):g}}else return r.isEmpty()?t:c&&o(u,l)>=0?(s!=null&&(s.trackChildChange(ng(u.name,u.node)),s.trackChildChange(tf(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(u.name,Qe.EMPTY_NODE)):t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=zn}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return Ee(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return Ee(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:ef}hasEnd(){return this.endSet_}getIndexEndValue(){return Ee(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return Ee(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:Qu}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return Ee(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===zn}copy(){const t=new GT;return t.limitSet_=this.limitSet_,t.limit_=this.limit_,t.startSet_=this.startSet_,t.startAfterSet_=this.startAfterSet_,t.indexStartValue_=this.indexStartValue_,t.startNameSet_=this.startNameSet_,t.indexStartName_=this.indexStartName_,t.endSet_=this.endSet_,t.endBeforeSet_=this.endBeforeSet_,t.indexEndValue_=this.indexEndValue_,t.endNameSet_=this.endNameSet_,t.indexEndName_=this.indexEndName_,t.index_=this.index_,t.viewFrom_=this.viewFrom_,t}}function Yee(e){return e.loadsAllData()?new KT(e.getIndex()):e.hasLimit()?new Gee(e):new ig(e)}function VP(e){const t={};if(e.isDefault())return t;let n;if(e.index_===zn?n="$priority":e.index_===zee?n="$value":e.index_===Td?n="$key":(Ee(e.index_ instanceof Wee,"Unrecognized index type!"),n=e.index_.toString()),t.orderBy=pr(n),e.startSet_){const r=e.startAfterSet_?"startAfter":"startAt";t[r]=pr(e.indexStartValue_),e.startNameSet_&&(t[r]+=","+pr(e.indexStartName_))}if(e.endSet_){const r=e.endBeforeSet_?"endBefore":"endAt";t[r]=pr(e.indexEndValue_),e.endNameSet_&&(t[r]+=","+pr(e.indexEndName_))}return e.limitSet_&&(e.isViewFromLeft()?t.limitToFirst=e.limit_:t.limitToLast=e.limit_),t}function HP(e){const t={};if(e.startSet_&&(t.sp=e.indexStartValue_,e.startNameSet_&&(t.sn=e.indexStartName_),t.sin=!e.startAfterSet_),e.endSet_&&(t.ep=e.indexEndValue_,e.endNameSet_&&(t.en=e.indexEndName_),t.ein=!e.endBeforeSet_),e.limitSet_){t.l=e.limit_;let n=e.viewFrom_;n===""&&(e.isViewFromLeft()?n="l":n="r"),t.vf=n}return e.index_!==zn&&(t.i=e.index_.toString()),t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n_ extends RU{constructor(t,n,r,i){super(),this.repoInfo_=t,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=rm("p:rest:"),this.listens_={}}reportStats(t){throw new Error("Method not implemented.")}static getListenId_(t,n){return n!==void 0?"tag$"+n:(Ee(t._queryParams.isDefault(),"should have a tag if it's not a default query."),t._path.toString())}listen(t,n,r,i){const s=t._path.toString();this.log_("Listen called for "+s+" "+t._queryIdentifier);const o=n_.getListenId_(t,r),a={};this.listens_[o]=a;const l=VP(t._queryParams);this.restRequest_(s+".json",l,(u,c)=>{let d=c;if(u===404&&(d=null,u=null),u===null&&this.onDataUpdate_(s,d,!1,r),Zd(this.listens_,o)===a){let f;u?u===401?f="permission_denied":f="rest_error:"+u:f="ok",i(f,null)}})}unlisten(t,n){const r=n_.getListenId_(t,n);delete this.listens_[r]}get(t){const n=VP(t._queryParams),r=t._path.toString(),i=new Al;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(t){}restRequest_(t,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+t+"?ns="+this.repoInfo_.namespace+Mf(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=Qh(a.responseText)}catch{Ai("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Ai("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xee{constructor(){this.rootNode_=Qe.EMPTY_NODE}getNode(t){return this.rootNode_.getChild(t)}updateSnapshot(t,n){this.rootNode_=this.rootNode_.updateChild(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r_(){return{value:null,children:new Map}}function qU(e,t,n){if(Tt(t))e.value=n,e.children.clear();else if(e.value!==null)e.value=e.value.updateChild(t,n);else{const r=bt(t);e.children.has(r)||e.children.set(r,r_());const i=e.children.get(r);t=wn(t),qU(i,t,n)}}function R$(e,t,n){e.value!==null?n(t,e.value):Qee(e,(r,i)=>{const s=new gn(t.toString()+"/"+r);R$(i,s,n)})}function Qee(e,t){e.children.forEach((n,r)=>{t(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jee{constructor(t){this.collection_=t,this.last_=null}get(){const t=this.collection_.get(),n=Object.assign({},t);return this.last_&&Li(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=t,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jP=10*1e3,Zee=30*1e3,ete=5*60*1e3;class tte{constructor(t,n){this.server_=n,this.statsToReport_={},this.statsListener_=new Jee(t);const r=jP+(Zee-jP)*Math.random();ph(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const t=this.statsListener_.get(),n={};let r=!1;Li(t,(i,s)=>{s>0&&Sa(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),ph(this.reportStats_.bind(this),Math.floor(Math.random()*2*ete))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ms;(function(e){e[e.OVERWRITE=0]="OVERWRITE",e[e.MERGE=1]="MERGE",e[e.ACK_USER_WRITE=2]="ACK_USER_WRITE",e[e.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(Ms||(Ms={}));function zU(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function YT(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function XT(e){return{fromUser:!1,fromServer:!0,queryId:e,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i_{constructor(t,n,r){this.path=t,this.affectedTree=n,this.revert=r,this.type=Ms.ACK_USER_WRITE,this.source=zU()}operationForChild(t){if(Tt(this.path)){if(this.affectedTree.value!=null)return Ee(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new gn(t));return new i_(jt(),n,this.revert)}}else return Ee(bt(this.path)===t,"operationForChild called for unrelated child."),new i_(wn(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(t,n){this.source=t,this.path=n,this.type=Ms.LISTEN_COMPLETE}operationForChild(t){return Tt(this.path)?new sg(this.source,jt()):new sg(this.source,wn(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ju{constructor(t,n,r){this.source=t,this.path=n,this.snap=r,this.type=Ms.OVERWRITE}operationForChild(t){return Tt(this.path)?new Ju(this.source,jt(),this.snap.getImmediateChild(t)):new Ju(this.source,wn(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class og{constructor(t,n,r){this.source=t,this.path=n,this.children=r,this.type=Ms.MERGE}operationForChild(t){if(Tt(this.path)){const n=this.children.subtree(new gn(t));return n.isEmpty()?null:n.value?new Ju(this.source,jt(),n.value):new og(this.source,jt(),n)}else return Ee(bt(this.path)===t,"Can't get a merge for a child not on the path of the operation"),new og(this.source,wn(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ol{constructor(t,n,r){this.node_=t,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(t){if(Tt(t))return this.isFullyInitialized()&&!this.filtered_;const n=bt(t);return this.isCompleteForChild(n)}isCompleteForChild(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nte{constructor(t){this.query_=t,this.index_=this.query_._queryParams.getIndex()}}function rte(e,t,n,r){const i=[],s=[];return t.forEach(o=>{o.type==="child_changed"&&e.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Kee(o.childName,o.snapshotNode))}),Sp(e,i,"child_removed",t,r,n),Sp(e,i,"child_added",t,r,n),Sp(e,i,"child_moved",s,r,n),Sp(e,i,"child_changed",t,r,n),Sp(e,i,"value",t,r,n),i}function Sp(e,t,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>ste(e,a,l)),o.forEach(a=>{const l=ite(e,a,s);i.forEach(u=>{u.respondsTo(a.type)&&t.push(u.createEvent(l,e.query_))})})}function ite(e,t,n){return t.type==="value"||t.type==="child_removed"||(t.prevName=n.getPredecessorChildName(t.childName,t.snapshotNode,e.index_)),t}function ste(e,t,n){if(t.childName==null||n.childName==null)throw Nf("Should only compare child_ events.");const r=new Et(t.childName,t.snapshotNode),i=new Et(n.childName,n.snapshotNode);return e.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lb(e,t){return{eventCache:e,serverCache:t}}function hh(e,t,n,r){return lb(new Ol(t,n,r),e.serverCache)}function KU(e,t,n,r){return lb(e.eventCache,new Ol(t,n,r))}function s_(e){return e.eventCache.isFullyInitialized()?e.eventCache.getNode():null}function Zu(e){return e.serverCache.isFullyInitialized()?e.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _1;const ote=()=>(_1||(_1=new Ti(qZ)),_1);class An{constructor(t,n=ote()){this.value=t,this.children=n}static fromObject(t){let n=new An(null);return Li(t,(r,i)=>{n=n.set(new gn(r),i)}),n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(t,n){if(this.value!=null&&n(this.value))return{path:jt(),value:this.value};if(Tt(t))return null;{const r=bt(t),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(wn(t),n);return s!=null?{path:hr(new gn(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(t){return this.findRootMostMatchingPathAndValue(t,()=>!0)}subtree(t){if(Tt(t))return this;{const n=bt(t),r=this.children.get(n);return r!==null?r.subtree(wn(t)):new An(null)}}set(t,n){if(Tt(t))return new An(n,this.children);{const r=bt(t),s=(this.children.get(r)||new An(null)).set(wn(t),n),o=this.children.insert(r,s);return new An(this.value,o)}}remove(t){if(Tt(t))return this.children.isEmpty()?new An(null):new An(null,this.children);{const n=bt(t),r=this.children.get(n);if(r){const i=r.remove(wn(t));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new An(null):new An(this.value,s)}else return this}}get(t){if(Tt(t))return this.value;{const n=bt(t),r=this.children.get(n);return r?r.get(wn(t)):null}}setTree(t,n){if(Tt(t))return n;{const r=bt(t),s=(this.children.get(r)||new An(null)).setTree(wn(t),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new An(this.value,o)}}fold(t){return this.fold_(jt(),t)}fold_(t,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(hr(t,i),n)}),n(t,this.value,r)}findOnPath(t,n){return this.findOnPath_(t,jt(),n)}findOnPath_(t,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Tt(t))return null;{const s=bt(t),o=this.children.get(s);return o?o.findOnPath_(wn(t),hr(n,s),r):null}}foreachOnPath(t,n){return this.foreachOnPath_(t,jt(),n)}foreachOnPath_(t,n,r){if(Tt(t))return this;{this.value&&r(n,this.value);const i=bt(t),s=this.children.get(i);return s?s.foreachOnPath_(wn(t),hr(n,i),r):new An(null)}}foreach(t){this.foreach_(jt(),t)}foreach_(t,n){this.children.inorderTraversal((r,i)=>{i.foreach_(hr(t,r),n)}),this.value&&n(t,this.value)}foreachChild(t){this.children.inorderTraversal((n,r)=>{r.value&&t(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Us{constructor(t){this.writeTree_=t}static empty(){return new Us(new An(null))}}function gh(e,t,n){if(Tt(t))return new Us(new An(n));{const r=e.writeTree_.findRootMostValueAndPath(t);if(r!=null){const i=r.path;let s=r.value;const o=ai(i,t);return s=s.updateChild(o,n),new Us(e.writeTree_.set(i,s))}else{const i=new An(n),s=e.writeTree_.setTree(t,i);return new Us(s)}}}function WP(e,t,n){let r=e;return Li(n,(i,s)=>{r=gh(r,hr(t,i),s)}),r}function qP(e,t){if(Tt(t))return Us.empty();{const n=e.writeTree_.setTree(t,new An(null));return new Us(n)}}function D$(e,t){return Ic(e,t)!=null}function Ic(e,t){const n=e.writeTree_.findRootMostValueAndPath(t);return n!=null?e.writeTree_.get(n.path).getChild(ai(n.path,t)):null}function zP(e){const t=[],n=e.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild(zn,(r,i)=>{t.push(new Et(r,i))}):e.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&t.push(new Et(r,i.value))}),t}function ml(e,t){if(Tt(t))return e;{const n=Ic(e,t);return n!=null?new Us(new An(n)):new Us(e.writeTree_.subtree(t))}}function N$(e){return e.writeTree_.isEmpty()}function nf(e,t){return GU(jt(),e.writeTree_,t)}function GU(e,t,n){if(t.value!=null)return n.updateChild(e,t.value);{let r=null;return t.children.inorderTraversal((i,s)=>{i===".priority"?(Ee(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=GU(hr(e,i),s,n)}),!n.getChild(e).isEmpty()&&r!==null&&(n=n.updateChild(hr(e,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ub(e,t){return JU(t,e)}function ate(e,t,n,r,i){Ee(r>e.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),e.allWrites.push({path:t,snap:n,writeId:r,visible:i}),i&&(e.visibleWrites=gh(e.visibleWrites,t,n)),e.lastWriteId=r}function lte(e,t){for(let n=0;n<e.allWrites.length;n++){const r=e.allWrites[n];if(r.writeId===t)return r}return null}function ute(e,t){const n=e.allWrites.findIndex(a=>a.writeId===t);Ee(n>=0,"removeWrite called with nonexistent writeId.");const r=e.allWrites[n];e.allWrites.splice(n,1);let i=r.visible,s=!1,o=e.allWrites.length-1;for(;i&&o>=0;){const a=e.allWrites[o];a.visible&&(o>=n&&cte(a,r.path)?i=!1:Ns(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return dte(e),!0;if(r.snap)e.visibleWrites=qP(e.visibleWrites,r.path);else{const a=r.children;Li(a,l=>{e.visibleWrites=qP(e.visibleWrites,hr(r.path,l))})}return!0}else return!1}function cte(e,t){if(e.snap)return Ns(e.path,t);for(const n in e.children)if(e.children.hasOwnProperty(n)&&Ns(hr(e.path,n),t))return!0;return!1}function dte(e){e.visibleWrites=YU(e.allWrites,fte,jt()),e.allWrites.length>0?e.lastWriteId=e.allWrites[e.allWrites.length-1].writeId:e.lastWriteId=-1}function fte(e){return e.visible}function YU(e,t,n){let r=Us.empty();for(let i=0;i<e.length;++i){const s=e[i];if(t(s)){const o=s.path;let a;if(s.snap)Ns(n,o)?(a=ai(n,o),r=gh(r,a,s.snap)):Ns(o,n)&&(a=ai(o,n),r=gh(r,jt(),s.snap.getChild(a)));else if(s.children){if(Ns(n,o))a=ai(n,o),r=WP(r,a,s.children);else if(Ns(o,n))if(a=ai(o,n),Tt(a))r=WP(r,jt(),s.children);else{const l=Zd(s.children,bt(a));if(l){const u=l.getChild(wn(a));r=gh(r,jt(),u)}}}else throw Nf("WriteRecord should have .snap or .children")}}return r}function XU(e,t,n,r,i){if(!r&&!i){const s=Ic(e.visibleWrites,t);if(s!=null)return s;{const o=ml(e.visibleWrites,t);if(N$(o))return n;if(n==null&&!D$(o,jt()))return null;{const a=n||Qe.EMPTY_NODE;return nf(o,a)}}}else{const s=ml(e.visibleWrites,t);if(!i&&N$(s))return n;if(!i&&n==null&&!D$(s,jt()))return null;{const o=function(u){return(u.visible||i)&&(!r||!~r.indexOf(u.writeId))&&(Ns(u.path,t)||Ns(t,u.path))},a=YU(e.allWrites,o,t),l=n||Qe.EMPTY_NODE;return nf(a,l)}}}function pte(e,t,n){let r=Qe.EMPTY_NODE;const i=Ic(e.visibleWrites,t);if(i)return i.isLeafNode()||i.forEachChild(zn,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=ml(e.visibleWrites,t);return n.forEachChild(zn,(o,a)=>{const l=nf(ml(s,new gn(o)),a);r=r.updateImmediateChild(o,l)}),zP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=ml(e.visibleWrites,t);return zP(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function hte(e,t,n,r,i){Ee(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=hr(t,n);if(D$(e.visibleWrites,s))return null;{const o=ml(e.visibleWrites,s);return N$(o)?i.getChild(n):nf(o,i.getChild(n))}}function gte(e,t,n,r){const i=hr(t,n),s=Ic(e.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=ml(e.visibleWrites,i);return nf(o,r.getNode().getImmediateChild(n))}else return null}function mte(e,t){return Ic(e.visibleWrites,t)}function vte(e,t,n,r,i,s,o){let a;const l=ml(e.visibleWrites,t),u=Ic(l,jt());if(u!=null)a=u;else if(n!=null)a=nf(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const c=[],d=o.getCompare(),f=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let p=f.getNext();for(;p&&c.length<i;)d(p,r)!==0&&c.push(p),p=f.getNext();return c}else return[]}function yte(){return{visibleWrites:Us.empty(),allWrites:[],lastWriteId:-1}}function o_(e,t,n,r){return XU(e.writeTree,e.treePath,t,n,r)}function QT(e,t){return pte(e.writeTree,e.treePath,t)}function KP(e,t,n,r){return hte(e.writeTree,e.treePath,t,n,r)}function a_(e,t){return mte(e.writeTree,hr(e.treePath,t))}function _te(e,t,n,r,i,s){return vte(e.writeTree,e.treePath,t,n,r,i,s)}function JT(e,t,n){return gte(e.writeTree,e.treePath,t,n)}function QU(e,t){return JU(hr(e.treePath,t),e.writeTree)}function JU(e,t){return{treePath:e,writeTree:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bte{constructor(){this.changeMap=new Map}trackChildChange(t){const n=t.type,r=t.childName;Ee(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),Ee(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,rg(r,t.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,ng(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,tf(r,t.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,rg(r,t.snapshotNode,i.oldSnap));else throw Nf("Illegal combination of changes: "+t+" occurred after "+i)}else this.changeMap.set(r,t)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wte{getCompleteChild(t){return null}getChildAfterChild(t,n,r){return null}}const ZU=new wte;class ZT{constructor(t,n,r=null){this.writes_=t,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(t){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(t))return n.getNode().getImmediateChild(t);{const r=this.optCompleteServerCache_!=null?new Ol(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return JT(this.writes_,t,r)}}getChildAfterChild(t,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:Zu(this.viewCache_),s=_te(this.writes_,i,n,1,r,t);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ete(e){return{filter:e}}function $te(e,t){Ee(t.eventCache.getNode().isIndexed(e.filter.getIndex()),"Event snap not indexed"),Ee(t.serverCache.getNode().isIndexed(e.filter.getIndex()),"Server snap not indexed")}function Ste(e,t,n,r,i){const s=new bte;let o,a;if(n.type===Ms.OVERWRITE){const u=n;u.source.fromUser?o=M$(e,t,u.path,u.snap,r,i,s):(Ee(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered()&&!Tt(u.path),o=l_(e,t,u.path,u.snap,r,i,a,s))}else if(n.type===Ms.MERGE){const u=n;u.source.fromUser?o=Tte(e,t,u.path,u.children,r,i,s):(Ee(u.source.fromServer,"Unknown source."),a=u.source.tagged||t.serverCache.isFiltered(),o=L$(e,t,u.path,u.children,r,i,a,s))}else if(n.type===Ms.ACK_USER_WRITE){const u=n;u.revert?o=Ate(e,t,u.path,r,i,s):o=Ite(e,t,u.path,u.affectedTree,r,i,s)}else if(n.type===Ms.LISTEN_COMPLETE)o=Cte(e,t,n.path,r,s);else throw Nf("Unknown operation type: "+n.type);const l=s.getChanges();return xte(t,o,l),{viewCache:o,changes:l}}function xte(e,t,n){const r=t.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=s_(e);(n.length>0||!e.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(WU(s_(t)))}}function e4(e,t,n,r,i,s){const o=t.eventCache;if(a_(r,n)!=null)return t;{let a,l;if(Tt(n))if(Ee(t.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),t.serverCache.isFiltered()){const u=Zu(t),c=u instanceof Qe?u:Qe.EMPTY_NODE,d=QT(r,c);a=e.filter.updateFullNode(t.eventCache.getNode(),d,s)}else{const u=o_(r,Zu(t));a=e.filter.updateFullNode(t.eventCache.getNode(),u,s)}else{const u=bt(n);if(u===".priority"){Ee(kl(n)===1,"Can't have a priority with additional path components");const c=o.getNode();l=t.serverCache.getNode();const d=KP(r,n,c,l);d!=null?a=e.filter.updatePriority(c,d):a=o.getNode()}else{const c=wn(n);let d;if(o.isCompleteForChild(u)){l=t.serverCache.getNode();const f=KP(r,n,o.getNode(),l);f!=null?d=o.getNode().getImmediateChild(u).updateChild(c,f):d=o.getNode().getImmediateChild(u)}else d=JT(r,u,t.serverCache);d!=null?a=e.filter.updateChild(o.getNode(),u,d,c,i,s):a=o.getNode()}}return hh(t,a,o.isFullyInitialized()||Tt(n),e.filter.filtersNodes())}}function l_(e,t,n,r,i,s,o,a){const l=t.serverCache;let u;const c=o?e.filter:e.filter.getIndexedFilter();if(Tt(n))u=c.updateFullNode(l.getNode(),r,null);else if(c.filtersNodes()&&!l.isFiltered()){const p=l.getNode().updateChild(n,r);u=c.updateFullNode(l.getNode(),p,null)}else{const p=bt(n);if(!l.isCompleteForPath(n)&&kl(n)>1)return t;const h=wn(n),m=l.getNode().getImmediateChild(p).updateChild(h,r);p===".priority"?u=c.updatePriority(l.getNode(),m):u=c.updateChild(l.getNode(),p,m,h,ZU,null)}const d=KU(t,u,l.isFullyInitialized()||Tt(n),c.filtersNodes()),f=new ZT(i,d,s);return e4(e,d,n,i,f,a)}function M$(e,t,n,r,i,s,o){const a=t.eventCache;let l,u;const c=new ZT(i,t,s);if(Tt(n))u=e.filter.updateFullNode(t.eventCache.getNode(),r,o),l=hh(t,u,!0,e.filter.filtersNodes());else{const d=bt(n);if(d===".priority")u=e.filter.updatePriority(t.eventCache.getNode(),r),l=hh(t,u,a.isFullyInitialized(),a.isFiltered());else{const f=wn(n),p=a.getNode().getImmediateChild(d);let h;if(Tt(f))h=r;else{const g=c.getCompleteChild(d);g!=null?NU(f)===".priority"&&g.getChild(LU(f)).isEmpty()?h=g:h=g.updateChild(f,r):h=Qe.EMPTY_NODE}if(p.equals(h))l=t;else{const g=e.filter.updateChild(a.getNode(),d,h,f,c,o);l=hh(t,g,a.isFullyInitialized(),e.filter.filtersNodes())}}}return l}function GP(e,t){return e.eventCache.isCompleteForChild(t)}function Tte(e,t,n,r,i,s,o){let a=t;return r.foreach((l,u)=>{const c=hr(n,l);GP(t,bt(c))&&(a=M$(e,a,c,u,i,s,o))}),r.foreach((l,u)=>{const c=hr(n,l);GP(t,bt(c))||(a=M$(e,a,c,u,i,s,o))}),a}function YP(e,t,n){return n.foreach((r,i)=>{t=t.updateChild(r,i)}),t}function L$(e,t,n,r,i,s,o,a){if(t.serverCache.getNode().isEmpty()&&!t.serverCache.isFullyInitialized())return t;let l=t,u;Tt(n)?u=r:u=new An(null).setTree(n,r);const c=t.serverCache.getNode();return u.children.inorderTraversal((d,f)=>{if(c.hasChild(d)){const p=t.serverCache.getNode().getImmediateChild(d),h=YP(e,p,f);l=l_(e,l,new gn(d),h,i,s,o,a)}}),u.children.inorderTraversal((d,f)=>{const p=!t.serverCache.isCompleteForChild(d)&&f.value===null;if(!c.hasChild(d)&&!p){const h=t.serverCache.getNode().getImmediateChild(d),g=YP(e,h,f);l=l_(e,l,new gn(d),g,i,s,o,a)}}),l}function Ite(e,t,n,r,i,s,o){if(a_(i,n)!=null)return t;const a=t.serverCache.isFiltered(),l=t.serverCache;if(r.value!=null){if(Tt(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return l_(e,t,n,l.getNode().getChild(n),i,s,a,o);if(Tt(n)){let u=new An(null);return l.getNode().forEachChild(Td,(c,d)=>{u=u.set(new gn(c),d)}),L$(e,t,n,u,i,s,a,o)}else return t}else{let u=new An(null);return r.foreach((c,d)=>{const f=hr(n,c);l.isCompleteForPath(f)&&(u=u.set(c,l.getNode().getChild(f)))}),L$(e,t,n,u,i,s,a,o)}}function Cte(e,t,n,r,i){const s=t.serverCache,o=KU(t,s.getNode(),s.isFullyInitialized()||Tt(n),s.isFiltered());return e4(e,o,n,r,ZU,i)}function Ate(e,t,n,r,i,s){let o;if(a_(r,n)!=null)return t;{const a=new ZT(r,t,i),l=t.eventCache.getNode();let u;if(Tt(n)||bt(n)===".priority"){let c;if(t.serverCache.isFullyInitialized())c=o_(r,Zu(t));else{const d=t.serverCache.getNode();Ee(d instanceof Qe,"serverChildren would be complete if leaf node"),c=QT(r,d)}c=c,u=e.filter.updateFullNode(l,c,s)}else{const c=bt(n);let d=JT(r,c,t.serverCache);d==null&&t.serverCache.isCompleteForChild(c)&&(d=l.getImmediateChild(c)),d!=null?u=e.filter.updateChild(l,c,d,wn(n),a,s):t.eventCache.getNode().hasChild(c)?u=e.filter.updateChild(l,c,Qe.EMPTY_NODE,wn(n),a,s):u=l,u.isEmpty()&&t.serverCache.isFullyInitialized()&&(o=o_(r,Zu(t)),o.isLeafNode()&&(u=e.filter.updateFullNode(u,o,s)))}return o=t.serverCache.isFullyInitialized()||a_(r,jt())!=null,hh(t,u,o,e.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kte{constructor(t,n){this.query_=t,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new KT(r.getIndex()),s=Yee(r);this.processor_=Ete(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Qe.EMPTY_NODE,o.getNode(),null),u=s.updateFullNode(Qe.EMPTY_NODE,a.getNode(),null),c=new Ol(l,o.isFullyInitialized(),i.filtersNodes()),d=new Ol(u,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=lb(d,c),this.eventGenerator_=new nte(this.query_)}get query(){return this.query_}}function Ote(e){return e.viewCache_.serverCache.getNode()}function Pte(e){return s_(e.viewCache_)}function Rte(e,t){const n=Zu(e.viewCache_);return n&&(e.query._queryParams.loadsAllData()||!Tt(t)&&!n.getImmediateChild(bt(t)).isEmpty())?n.getChild(t):null}function XP(e){return e.eventRegistrations_.length===0}function Dte(e,t){e.eventRegistrations_.push(t)}function QP(e,t,n){const r=[];if(n){Ee(t==null,"A cancel should cancel all event registrations.");const i=e.query._path;e.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(t){let i=[];for(let s=0;s<e.eventRegistrations_.length;++s){const o=e.eventRegistrations_[s];if(!o.matches(t))i.push(o);else if(t.hasAnyCallback()){i=i.concat(e.eventRegistrations_.slice(s+1));break}}e.eventRegistrations_=i}else e.eventRegistrations_=[];return r}function JP(e,t,n,r){t.type===Ms.MERGE&&t.source.queryId!==null&&(Ee(Zu(e.viewCache_),"We should always have a full cache before handling merges"),Ee(s_(e.viewCache_),"Missing event cache, even though we have a server cache"));const i=e.viewCache_,s=Ste(e.processor_,i,t,n,r);return $te(e.processor_,s.viewCache),Ee(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),e.viewCache_=s.viewCache,t4(e,s.changes,s.viewCache.eventCache.getNode(),null)}function Nte(e,t){const n=e.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild(zn,(s,o)=>{r.push(tf(s,o))}),n.isFullyInitialized()&&r.push(WU(n.getNode())),t4(e,r,n.getNode(),t)}function t4(e,t,n,r){const i=r?[r]:e.eventRegistrations_;return rte(e.eventGenerator_,t,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let u_;class n4{constructor(){this.views=new Map}}function Mte(e){Ee(!u_,"__referenceConstructor has already been defined"),u_=e}function Lte(){return Ee(u_,"Reference.ts has not been loaded"),u_}function Fte(e){return e.views.size===0}function eI(e,t,n,r){const i=t.source.queryId;if(i!==null){const s=e.views.get(i);return Ee(s!=null,"SyncTree gave us an op for an invalid query."),JP(s,t,n,r)}else{let s=[];for(const o of e.views.values())s=s.concat(JP(o,t,n,r));return s}}function r4(e,t,n,r,i){const s=t._queryIdentifier,o=e.views.get(s);if(!o){let a=o_(n,i?r:null),l=!1;a?l=!0:r instanceof Qe?(a=QT(n,r),l=!1):(a=Qe.EMPTY_NODE,l=!1);const u=lb(new Ol(a,l,!1),new Ol(r,i,!1));return new kte(t,u)}return o}function Bte(e,t,n,r,i,s){const o=r4(e,t,r,i,s);return e.views.has(t._queryIdentifier)||e.views.set(t._queryIdentifier,o),Dte(o,n),Nte(o,n)}function Ute(e,t,n,r){const i=t._queryIdentifier,s=[];let o=[];const a=Pl(e);if(i==="default")for(const[l,u]of e.views.entries())o=o.concat(QP(u,n,r)),XP(u)&&(e.views.delete(l),u.query._queryParams.loadsAllData()||s.push(u.query));else{const l=e.views.get(i);l&&(o=o.concat(QP(l,n,r)),XP(l)&&(e.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!Pl(e)&&s.push(new(Lte())(t._repo,t._path)),{removed:s,events:o}}function i4(e){const t=[];for(const n of e.views.values())n.query._queryParams.loadsAllData()||t.push(n);return t}function vl(e,t){let n=null;for(const r of e.views.values())n=n||Rte(r,t);return n}function s4(e,t){if(t._queryParams.loadsAllData())return cb(e);{const r=t._queryIdentifier;return e.views.get(r)}}function o4(e,t){return s4(e,t)!=null}function Pl(e){return cb(e)!=null}function cb(e){for(const t of e.views.values())if(t.query._queryParams.loadsAllData())return t;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let c_;function Vte(e){Ee(!c_,"__referenceConstructor has already been defined"),c_=e}function Hte(){return Ee(c_,"Reference.ts has not been loaded"),c_}let jte=1;class ZP{constructor(t){this.listenProvider_=t,this.syncPointTree_=new An(null),this.pendingWriteTree_=yte(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function a4(e,t,n,r,i){return ate(e.pendingWriteTree_,t,n,r,i),i?om(e,new Ju(zU(),t,n)):[]}function $u(e,t,n=!1){const r=lte(e.pendingWriteTree_,t);if(ute(e.pendingWriteTree_,t)){let s=new An(null);return r.snap!=null?s=s.set(jt(),!0):Li(r.children,o=>{s=s.set(new gn(o),!0)}),om(e,new i_(r.path,s,n))}else return[]}function sm(e,t,n){return om(e,new Ju(YT(),t,n))}function Wte(e,t,n){const r=An.fromObject(n);return om(e,new og(YT(),t,r))}function qte(e,t){return om(e,new sg(YT(),t))}function zte(e,t,n){const r=nI(e,n);if(r){const i=rI(r),s=i.path,o=i.queryId,a=ai(s,t),l=new sg(XT(o),a);return iI(e,s,l)}else return[]}function d_(e,t,n,r,i=!1){const s=t._path,o=e.syncPointTree_.get(s);let a=[];if(o&&(t._queryIdentifier==="default"||o4(o,t))){const l=Ute(o,t,n,r);Fte(o)&&(e.syncPointTree_=e.syncPointTree_.remove(s));const u=l.removed;if(a=l.events,!i){const c=u.findIndex(f=>f._queryParams.loadsAllData())!==-1,d=e.syncPointTree_.findOnPath(s,(f,p)=>Pl(p));if(c&&!d){const f=e.syncPointTree_.subtree(s);if(!f.isEmpty()){const p=Yte(f);for(let h=0;h<p.length;++h){const g=p[h],m=g.query,v=d4(e,g);e.listenProvider_.startListening(mh(m),ag(e,m),v.hashFn,v.onComplete)}}}!d&&u.length>0&&!r&&(c?e.listenProvider_.stopListening(mh(t),null):u.forEach(f=>{const p=e.queryToTagMap.get(db(f));e.listenProvider_.stopListening(mh(f),p)}))}Xte(e,u)}return a}function l4(e,t,n,r){const i=nI(e,r);if(i!=null){const s=rI(i),o=s.path,a=s.queryId,l=ai(o,t),u=new Ju(XT(a),l,n);return iI(e,o,u)}else return[]}function Kte(e,t,n,r){const i=nI(e,r);if(i){const s=rI(i),o=s.path,a=s.queryId,l=ai(o,t),u=An.fromObject(n),c=new og(XT(a),l,u);return iI(e,o,c)}else return[]}function F$(e,t,n,r=!1){const i=t._path;let s=null,o=!1;e.syncPointTree_.foreachOnPath(i,(f,p)=>{const h=ai(f,i);s=s||vl(p,h),o=o||Pl(p)});let a=e.syncPointTree_.get(i);a?(o=o||Pl(a),s=s||vl(a,jt())):(a=new n4,e.syncPointTree_=e.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Qe.EMPTY_NODE,e.syncPointTree_.subtree(i).foreachChild((p,h)=>{const g=vl(h,jt());g&&(s=s.updateImmediateChild(p,g))}));const u=o4(a,t);if(!u&&!t._queryParams.loadsAllData()){const f=db(t);Ee(!e.queryToTagMap.has(f),"View does not exist, but we have a tag");const p=Qte();e.queryToTagMap.set(f,p),e.tagToQueryMap.set(p,f)}const c=ub(e.pendingWriteTree_,i);let d=Bte(a,t,n,c,s,l);if(!u&&!o&&!r){const f=s4(a,t);d=d.concat(Jte(e,t,f))}return d}function tI(e,t,n){const i=e.pendingWriteTree_,s=e.syncPointTree_.findOnPath(t,(o,a)=>{const l=ai(o,t),u=vl(a,l);if(u)return u});return XU(i,t,s,n,!0)}function Gte(e,t){const n=t._path;let r=null;e.syncPointTree_.foreachOnPath(n,(u,c)=>{const d=ai(u,n);r=r||vl(c,d)});let i=e.syncPointTree_.get(n);i?r=r||vl(i,jt()):(i=new n4,e.syncPointTree_=e.syncPointTree_.set(n,i));const s=r!=null,o=s?new Ol(r,!0,!1):null,a=ub(e.pendingWriteTree_,t._path),l=r4(i,t,a,s?o.getNode():Qe.EMPTY_NODE,s);return Pte(l)}function om(e,t){return u4(t,e.syncPointTree_,null,ub(e.pendingWriteTree_,jt()))}function u4(e,t,n,r){if(Tt(e.path))return c4(e,t,n,r);{const i=t.get(jt());n==null&&i!=null&&(n=vl(i,jt()));let s=[];const o=bt(e.path),a=e.operationForChild(o),l=t.children.get(o);if(l&&a){const u=n?n.getImmediateChild(o):null,c=QU(r,o);s=s.concat(u4(a,l,u,c))}return i&&(s=s.concat(eI(i,e,r,n))),s}}function c4(e,t,n,r){const i=t.get(jt());n==null&&i!=null&&(n=vl(i,jt()));let s=[];return t.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,u=QU(r,o),c=e.operationForChild(o);c&&(s=s.concat(c4(c,a,l,u)))}),i&&(s=s.concat(eI(i,e,r,n))),s}function d4(e,t){const n=t.query,r=ag(e,n);return{hashFn:()=>(Ote(t)||Qe.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?zte(e,n._path,r):qte(e,n._path);{const s=GZ(i,n);return d_(e,n,null,s)}}}}function ag(e,t){const n=db(t);return e.queryToTagMap.get(n)}function db(e){return e._path.toString()+"$"+e._queryIdentifier}function nI(e,t){return e.tagToQueryMap.get(t)}function rI(e){const t=e.indexOf("$");return Ee(t!==-1&&t<e.length-1,"Bad queryKey."),{queryId:e.substr(t+1),path:new gn(e.substr(0,t))}}function iI(e,t,n){const r=e.syncPointTree_.get(t);Ee(r,"Missing sync point for query tag that we're tracking");const i=ub(e.pendingWriteTree_,t);return eI(r,n,i,null)}function Yte(e){return e.fold((t,n,r)=>{if(n&&Pl(n))return[cb(n)];{let i=[];return n&&(i=i4(n)),Li(r,(s,o)=>{i=i.concat(o)}),i}})}function mh(e){return e._queryParams.loadsAllData()&&!e._queryParams.isDefault()?new(Hte())(e._repo,e._path):e}function Xte(e,t){for(let n=0;n<t.length;++n){const r=t[n];if(!r._queryParams.loadsAllData()){const i=db(r),s=e.queryToTagMap.get(i);e.queryToTagMap.delete(i),e.tagToQueryMap.delete(s)}}}function Qte(){return jte++}function Jte(e,t,n){const r=t._path,i=ag(e,t),s=d4(e,n),o=e.listenProvider_.startListening(mh(t),i,s.hashFn,s.onComplete),a=e.syncPointTree_.subtree(r);if(i)Ee(!Pl(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((u,c,d)=>{if(!Tt(u)&&c&&Pl(c))return[cb(c).query];{let f=[];return c&&(f=f.concat(i4(c).map(p=>p.query))),Li(d,(p,h)=>{f=f.concat(h)}),f}});for(let u=0;u<l.length;++u){const c=l[u];e.listenProvider_.stopListening(mh(c),ag(e,c))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sI{constructor(t){this.node_=t}getImmediateChild(t){const n=this.node_.getImmediateChild(t);return new sI(n)}node(){return this.node_}}class oI{constructor(t,n){this.syncTree_=t,this.path_=n}getImmediateChild(t){const n=hr(this.path_,t);return new oI(this.syncTree_,n)}node(){return tI(this.syncTree_,this.path_)}}const Zte=function(e){return e=e||{},e.timestamp=e.timestamp||new Date().getTime(),e},eR=function(e,t,n){if(!e||typeof e!="object")return e;if(Ee(".sv"in e,"Unexpected leaf node or priority contents"),typeof e[".sv"]=="string")return ene(e[".sv"],t,n);if(typeof e[".sv"]=="object")return tne(e[".sv"],t);Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2))},ene=function(e,t,n){switch(e){case"timestamp":return n.timestamp;default:Ee(!1,"Unexpected server value: "+e)}},tne=function(e,t,n){e.hasOwnProperty("increment")||Ee(!1,"Unexpected server value: "+JSON.stringify(e,null,2));const r=e.increment;typeof r!="number"&&Ee(!1,"Unexpected increment value: "+r);const i=t.node();if(Ee(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},nne=function(e,t,n,r){return aI(t,new oI(n,e),r)},f4=function(e,t,n){return aI(e,new sI(t),n)};function aI(e,t,n){const r=e.getPriority().val(),i=eR(r,t.getImmediateChild(".priority"),n);let s;if(e.isLeafNode()){const o=e,a=eR(o.getValue(),t,n);return a!==o.getValue()||i!==o.getPriority().val()?new Sr(a,Ir(i)):e}else{const o=e;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new Sr(i))),o.forEachChild(zn,(a,l)=>{const u=aI(l,t.getImmediateChild(a),n);u!==l&&(s=s.updateImmediateChild(a,u))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lI{constructor(t="",n=null,r={children:{},childCount:0}){this.name=t,this.parent=n,this.node=r}}function uI(e,t){let n=t instanceof gn?t:new gn(t),r=e,i=bt(n);for(;i!==null;){const s=Zd(r.node.children,i)||{children:{},childCount:0};r=new lI(i,r,s),n=wn(n),i=bt(n)}return r}function Uf(e){return e.node.value}function p4(e,t){e.node.value=t,B$(e)}function h4(e){return e.node.childCount>0}function rne(e){return Uf(e)===void 0&&!h4(e)}function fb(e,t){Li(e.node.children,(n,r)=>{t(new lI(n,e,r))})}function g4(e,t,n,r){n&&!r&&t(e),fb(e,i=>{g4(i,t,!0,r)}),n&&r&&t(e)}function ine(e,t,n){let r=n?e:e.parent;for(;r!==null;){if(t(r))return!0;r=r.parent}return!1}function am(e){return new gn(e.parent===null?e.name:am(e.parent)+"/"+e.name)}function B$(e){e.parent!==null&&sne(e.parent,e.name,e)}function sne(e,t,n){const r=rne(n),i=Sa(e.node.children,t);r&&i?(delete e.node.children[t],e.node.childCount--,B$(e)):!r&&!i&&(e.node.children[t]=n.node,e.node.childCount++,B$(e))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const one=/[\[\].#$\/\u0000-\u001F\u007F]/,ane=/[\[\].#$\u0000-\u001F\u007F]/,b1=10*1024*1024,m4=function(e){return typeof e=="string"&&e.length!==0&&!one.test(e)},v4=function(e){return typeof e=="string"&&e.length!==0&&!ane.test(e)},lne=function(e){return e&&(e=e.replace(/^\/*\.info(\/|$)/,"/")),v4(e)},une=function(e,t,n,r){r&&t===void 0||cI(FT(e,"value"),t,n)},cI=function(e,t,n){const r=n instanceof gn?new Iee(n,e):n;if(t===void 0)throw new Error(e+"contains undefined "+fu(r));if(typeof t=="function")throw new Error(e+"contains a function "+fu(r)+" with contents = "+t.toString());if(hU(t))throw new Error(e+"contains "+t.toString()+" "+fu(r));if(typeof t=="string"&&t.length>b1/3&&ob(t)>b1)throw new Error(e+"contains a string greater than "+b1+" utf8 bytes "+fu(r)+" ('"+t.substring(0,50)+"...')");if(t&&typeof t=="object"){let i=!1,s=!1;if(Li(t,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!m4(o)))throw new Error(e+" contains an invalid key ("+o+") "+fu(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Cee(r,o),cI(e,a,r),Aee(r)}),i&&s)throw new Error(e+' contains ".value" child '+fu(r)+" in addition to actual children.")}},y4=function(e,t,n,r){if(!(r&&n===void 0)&&!v4(n))throw new Error(FT(e,t)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},cne=function(e,t,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),y4(e,t,n,r)},_4=function(e,t){if(bt(t)===".info")throw new Error(e+" failed = Can't modify data under /.info/")},dne=function(e,t){const n=t.path.toString();if(typeof t.repoInfo.host!="string"||t.repoInfo.host.length===0||!m4(t.repoInfo.namespace)&&t.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!lne(n))throw new Error(FT(e,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fne{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function dI(e,t){let n=null;for(let r=0;r<t.length;r++){const i=t[r],s=i.getPath();n!==null&&!WT(s,n.path)&&(e.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&e.eventLists_.push(n)}function b4(e,t,n){dI(e,n),w4(e,r=>WT(r,t))}function mo(e,t,n){dI(e,n),w4(e,r=>Ns(r,t)||Ns(t,r))}function w4(e,t){e.recursionDepth_++;let n=!0;for(let r=0;r<e.eventLists_.length;r++){const i=e.eventLists_[r];if(i){const s=i.path;t(s)?(pne(e.eventLists_[r]),e.eventLists_[r]=null):n=!1}}n&&(e.eventLists_=[]),e.recursionDepth_--}function pne(e){for(let t=0;t<e.events.length;t++){const n=e.events[t];if(n!==null){e.events[t]=null;const r=n.getEventRunner();Ru&&Yr("event: "+n.toString()),Bf(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hne="repo_interrupt",gne=25;class mne{constructor(t,n,r,i){this.repoInfo_=t,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new fne,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=r_(),this.transactionQueueTree_=new lI,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function vne(e,t,n){if(e.stats_=HT(e.repoInfo_),e.forceRestClient_||JZ())e.server_=new n_(e.repoInfo_,(r,i,s,o)=>{tR(e,r,i,s,o)},e.authTokenProvider_,e.appCheckProvider_),setTimeout(()=>nR(e,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{pr(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}e.persistentConnection_=new ea(e.repoInfo_,t,(r,i,s,o)=>{tR(e,r,i,s,o)},r=>{nR(e,r)},r=>{_ne(e,r)},e.authTokenProvider_,e.appCheckProvider_,n),e.server_=e.persistentConnection_}e.authTokenProvider_.addTokenChangeListener(r=>{e.server_.refreshAuthToken(r)}),e.appCheckProvider_.addTokenChangeListener(r=>{e.server_.refreshAppCheckToken(r.token)}),e.statsReporter_=ree(e.repoInfo_,()=>new tte(e.stats_,e.server_)),e.infoData_=new Xee,e.infoSyncTree_=new ZP({startListening:(r,i,s,o)=>{let a=[];const l=e.infoData_.getNode(r._path);return l.isEmpty()||(a=sm(e.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),pI(e,"connected",!1),e.serverSyncTree_=new ZP({startListening:(r,i,s,o)=>(e.server_.listen(r,s,i,(a,l)=>{const u=o(a,l);mo(e.eventQueue_,r._path,u)}),[]),stopListening:(r,i)=>{e.server_.unlisten(r,i)}})}function yne(e){const n=e.infoData_.getNode(new gn(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function fI(e){return Zte({timestamp:yne(e)})}function tR(e,t,n,r,i){e.dataUpdateCount++;const s=new gn(t);n=e.interceptServerDataCallback_?e.interceptServerDataCallback_(t,n):n;let o=[];if(i)if(r){const l=Jy(n,u=>Ir(u));o=Kte(e.serverSyncTree_,s,l,i)}else{const l=Ir(n);o=l4(e.serverSyncTree_,s,l,i)}else if(r){const l=Jy(n,u=>Ir(u));o=Wte(e.serverSyncTree_,s,l)}else{const l=Ir(n);o=sm(e.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=hb(e,s)),mo(e.eventQueue_,a,o)}function nR(e,t){pI(e,"connected",t),t===!1&&Ene(e)}function _ne(e,t){Li(t,(n,r)=>{pI(e,n,r)})}function pI(e,t,n){const r=new gn("/.info/"+t),i=Ir(n);e.infoData_.updateSnapshot(r,i);const s=sm(e.infoSyncTree_,r,i);mo(e.eventQueue_,r,s)}function E4(e){return e.nextWriteId_++}function bne(e,t,n){const r=Gte(e.serverSyncTree_,t);return r!=null?Promise.resolve(r):e.server_.get(t).then(i=>{const s=Ir(i).withIndex(t._queryParams.getIndex());F$(e.serverSyncTree_,t,n,!0);let o;if(t._queryParams.loadsAllData())o=sm(e.serverSyncTree_,t._path,s);else{const a=ag(e.serverSyncTree_,t);o=l4(e.serverSyncTree_,t._path,s,a)}return mo(e.eventQueue_,t._path,o),d_(e.serverSyncTree_,t,n,null,!0),s},i=>(pb(e,"get for query "+pr(t)+" failed: "+i),Promise.reject(new Error(i))))}function wne(e,t,n,r,i){pb(e,"set",{path:t.toString(),value:n,priority:r});const s=fI(e),o=Ir(n,r),a=tI(e.serverSyncTree_,t),l=f4(o,a,s),u=E4(e),c=a4(e.serverSyncTree_,t,l,u,!0);dI(e.eventQueue_,c),e.server_.put(t.toString(),o.val(!0),(f,p)=>{const h=f==="ok";h||Ai("set at "+t+" failed: "+f);const g=$u(e.serverSyncTree_,u,!h);mo(e.eventQueue_,t,g),xne(e,i,f,p)});const d=I4(e,t);hb(e,d),mo(e.eventQueue_,d,[])}function Ene(e){pb(e,"onDisconnectEvents");const t=fI(e),n=r_();R$(e.onDisconnect_,jt(),(i,s)=>{const o=nne(i,s,e.serverSyncTree_,t);qU(n,i,o)});let r=[];R$(n,jt(),(i,s)=>{r=r.concat(sm(e.serverSyncTree_,i,s));const o=I4(e,i);hb(e,o)}),e.onDisconnect_=r_(),mo(e.eventQueue_,jt(),r)}function $ne(e,t,n){let r;bt(t._path)===".info"?r=F$(e.infoSyncTree_,t,n):r=F$(e.serverSyncTree_,t,n),b4(e.eventQueue_,t._path,r)}function rR(e,t,n){let r;bt(t._path)===".info"?r=d_(e.infoSyncTree_,t,n):r=d_(e.serverSyncTree_,t,n),b4(e.eventQueue_,t._path,r)}function Sne(e){e.persistentConnection_&&e.persistentConnection_.interrupt(hne)}function pb(e,...t){let n="";e.persistentConnection_&&(n=e.persistentConnection_.id+":"),Yr(n,...t)}function xne(e,t,n,r){t&&Bf(()=>{if(n==="ok")t(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,t(o)}})}function $4(e,t,n){return tI(e.serverSyncTree_,t,n)||Qe.EMPTY_NODE}function hI(e,t=e.transactionQueueTree_){if(t||gb(e,t),Uf(t)){const n=x4(e,t);Ee(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&Tne(e,am(t),n)}else h4(t)&&fb(t,n=>{hI(e,n)})}function Tne(e,t,n){const r=n.map(u=>u.currentWriteId),i=$4(e,t,r);let s=i;const o=i.hash();for(let u=0;u<n.length;u++){const c=n[u];Ee(c.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=1,c.retryCount++;const d=ai(t,c.path);s=s.updateChild(d,c.currentOutputSnapshotRaw)}const a=s.val(!0),l=t;e.server_.put(l.toString(),a,u=>{pb(e,"transaction put response",{path:l.toString(),status:u});let c=[];if(u==="ok"){const d=[];for(let f=0;f<n.length;f++)n[f].status=2,c=c.concat($u(e.serverSyncTree_,n[f].currentWriteId)),n[f].onComplete&&d.push(()=>n[f].onComplete(null,!0,n[f].currentOutputSnapshotResolved)),n[f].unwatcher();gb(e,uI(e.transactionQueueTree_,t)),hI(e,e.transactionQueueTree_),mo(e.eventQueue_,t,c);for(let f=0;f<d.length;f++)Bf(d[f])}else{if(u==="datastale")for(let d=0;d<n.length;d++)n[d].status===3?n[d].status=4:n[d].status=0;else{Ai("transaction at "+l.toString()+" failed: "+u);for(let d=0;d<n.length;d++)n[d].status=4,n[d].abortReason=u}hb(e,t)}},o)}function hb(e,t){const n=S4(e,t),r=am(n),i=x4(e,n);return Ine(e,i,r),r}function Ine(e,t,n){if(t.length===0)return;const r=[];let i=[];const o=t.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<t.length;a++){const l=t[a],u=ai(n,l.path);let c=!1,d;if(Ee(u!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)c=!0,d=l.abortReason,i=i.concat($u(e.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=gne)c=!0,d="maxretry",i=i.concat($u(e.serverSyncTree_,l.currentWriteId,!0));else{const f=$4(e,l.path,o);l.currentInputSnapshot=f;const p=t[a].update(f.val());if(p!==void 0){cI("transaction failed: Data returned ",p,l.path);let h=Ir(p);typeof p=="object"&&p!=null&&Sa(p,".priority")||(h=h.updatePriority(f.getPriority()));const m=l.currentWriteId,v=fI(e),y=f4(h,f,v);l.currentOutputSnapshotRaw=h,l.currentOutputSnapshotResolved=y,l.currentWriteId=E4(e),o.splice(o.indexOf(m),1),i=i.concat(a4(e.serverSyncTree_,l.path,y,l.currentWriteId,l.applyLocally)),i=i.concat($u(e.serverSyncTree_,m,!0))}else c=!0,d="nodata",i=i.concat($u(e.serverSyncTree_,l.currentWriteId,!0))}mo(e.eventQueue_,n,i),i=[],c&&(t[a].status=2,function(f){setTimeout(f,Math.floor(0))}(t[a].unwatcher),t[a].onComplete&&(d==="nodata"?r.push(()=>t[a].onComplete(null,!1,t[a].currentInputSnapshot)):r.push(()=>t[a].onComplete(new Error(d),!1,null))))}gb(e,e.transactionQueueTree_);for(let a=0;a<r.length;a++)Bf(r[a]);hI(e,e.transactionQueueTree_)}function S4(e,t){let n,r=e.transactionQueueTree_;for(n=bt(t);n!==null&&Uf(r)===void 0;)r=uI(r,n),t=wn(t),n=bt(t);return r}function x4(e,t){const n=[];return T4(e,t,n),n.sort((r,i)=>r.order-i.order),n}function T4(e,t,n){const r=Uf(t);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);fb(t,i=>{T4(e,i,n)})}function gb(e,t){const n=Uf(t);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,p4(t,n.length>0?n:void 0)}fb(t,r=>{gb(e,r)})}function I4(e,t){const n=am(S4(e,t)),r=uI(e.transactionQueueTree_,t);return ine(r,i=>{w1(e,i)}),w1(e,r),g4(r,i=>{w1(e,i)}),n}function w1(e,t){const n=Uf(t);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(Ee(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(Ee(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat($u(e.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?p4(t,void 0):n.length=s+1,mo(e.eventQueue_,am(t),i);for(let o=0;o<r.length;o++)Bf(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cne(e){let t="";const n=e.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}t+="/"+i}return t}function Ane(e){const t={};e.charAt(0)==="?"&&(e=e.substring(1));for(const n of e.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?t[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Ai(`Invalid query segment '${n}' in query '${e}'`)}return t}const iR=function(e,t){const n=kne(e),r=n.namespace;n.domain==="firebase.com"&&pa(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&pa("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||jZ();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new TU(n.host,n.secure,r,i,t,"",r!==n.subdomain),path:new gn(n.pathString)}},kne=function(e){let t="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof e=="string"){let u=e.indexOf("//");u>=0&&(a=e.substring(0,u-1),e=e.substring(u+2));let c=e.indexOf("/");c===-1&&(c=e.length);let d=e.indexOf("?");d===-1&&(d=e.length),t=e.substring(0,Math.min(c,d)),c<d&&(i=Cne(e.substring(c,d)));const f=Ane(e.substring(Math.min(e.length,d)));u=t.indexOf(":"),u>=0?(o=a==="https"||a==="wss",l=parseInt(t.substring(u+1),10)):u=t.length;const p=t.slice(0,u);if(p.toLowerCase()==="localhost")n="localhost";else if(p.split(".").length<=2)n=p;else{const h=t.indexOf(".");r=t.substring(0,h).toLowerCase(),n=t.substring(h+1),s=r}"ns"in f&&(s=f.ns)}return{host:t,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C4{constructor(t,n,r,i){this.eventType=t,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const t=this.snapshot.ref;return this.eventType==="value"?t._path:t.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+pr(this.snapshot.exportVal())}}class A4{constructor(t,n,r){this.eventRegistration=t,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k4{constructor(t,n){this.snapshotCallback=t,this.cancelCallback=n}onValue(t,n){this.snapshotCallback.call(null,t,n)}onCancel(t){return Ee(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,t)}get hasCancelCallback(){return!!this.cancelCallback}matches(t){return this.snapshotCallback===t.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===t.snapshotCallback.userCallback&&this.snapshotCallback.context===t.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI{constructor(t,n,r,i){this._repo=t,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Tt(this._path)?null:NU(this._path)}get ref(){return new To(this._repo,this._path)}get _queryIdentifier(){const t=HP(this._queryParams),n=UT(t);return n==="{}"?"default":n}get _queryObject(){return HP(this._queryParams)}isEqual(t){if(t=Nt(t),!(t instanceof gI))return!1;const n=this._repo===t._repo,r=WT(this._path,t._path),i=this._queryIdentifier===t._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Tee(this._path)}}class To extends gI{constructor(t,n){super(t,n,new GT,!1)}get parent(){const t=LU(this._path);return t===null?null:new To(this._repo,t)}get root(){let t=this;for(;t.parent!==null;)t=t.parent;return t}}class rf{constructor(t,n,r){this._node=t,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(t){const n=new gn(t),r=f_(this.ref,t);return new rf(this._node.getChild(n),r,zn)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(t){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>t(new rf(i,f_(this.ref,r),zn)))}hasChild(t){const n=new gn(t);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function I9e(e,t){return e=Nt(e),e._checkNotDeleted("ref"),t!==void 0?f_(e._root,t):e._root}function f_(e,t){return e=Nt(e),bt(e._path)===null?cne("child","path",t,!1):y4("child","path",t,!1),new To(e._repo,hr(e._path,t))}function C9e(e){return _4("remove",e._path),One(e,null)}function One(e,t){e=Nt(e),_4("set",e._path),une("set",t,e._path,!1);const n=new Al;return wne(e._repo,e._path,t,null,n.wrapCallback(()=>{})),n.promise}function A9e(e){e=Nt(e);const t=new k4(()=>{}),n=new mb(t);return bne(e._repo,e,n).then(r=>new rf(r,new To(e._repo,e._path),e._queryParams.getIndex()))}class mb{constructor(t){this.callbackContext=t}respondsTo(t){return t==="value"}createEvent(t,n){const r=n._queryParams.getIndex();return new C4("value",this,new rf(t.snapshotNode,new To(n._repo,n._path),r))}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,null)}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new A4(this,t,n):null}matches(t){return t instanceof mb?!t.callbackContext||!this.callbackContext?!0:t.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}class mI{constructor(t,n){this.eventType=t,this.callbackContext=n}respondsTo(t){let n=t==="children_added"?"child_added":t;return n=n==="children_removed"?"child_removed":n,this.eventType===n}createCancelEvent(t,n){return this.callbackContext.hasCancelCallback?new A4(this,t,n):null}createEvent(t,n){Ee(t.childName!=null,"Child events should have a childName.");const r=f_(new To(n._repo,n._path),t.childName),i=n._queryParams.getIndex();return new C4(t.type,this,new rf(t.snapshotNode,r,i),t.prevName)}getEventRunner(t){return t.getEventType()==="cancel"?()=>this.callbackContext.onCancel(t.error):()=>this.callbackContext.onValue(t.snapshot,t.prevName)}matches(t){return t instanceof mI?this.eventType===t.eventType&&(!this.callbackContext||!t.callbackContext||this.callbackContext.matches(t.callbackContext)):!1}hasAnyCallback(){return!!this.callbackContext}}function Pne(e,t,n,r,i){let s;if(typeof r=="object"&&(s=void 0,i=r),typeof r=="function"&&(s=r),i&&i.onlyOnce){const l=n,u=(c,d)=>{rR(e._repo,e,a),l(c,d)};u.userCallback=n.userCallback,u.context=n.context,n=u}const o=new k4(n,s||void 0),a=t==="value"?new mb(o):new mI(t,o);return $ne(e._repo,e,a),()=>rR(e._repo,e,a)}function k9e(e,t,n,r){return Pne(e,"value",t,n,r)}Mte(To);Vte(To);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rne="FIREBASE_DATABASE_EMULATOR_HOST",U$={};let Dne=!1;function Nne(e,t,n,r){e.repoInfo_=new TU(`${t}:${n}`,!1,e.repoInfo_.namespace,e.repoInfo_.webSocketOnly,e.repoInfo_.nodeAdmin,e.repoInfo_.persistenceKey,e.repoInfo_.includeNamespaceInQueryParams,!0),r&&(e.authTokenProvider_=r)}function Mne(e,t,n,r,i){let s=r||e.options.databaseURL;s===void 0&&(e.options.projectId||pa("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Yr("Using default host for project ",e.options.projectId),s=`${e.options.projectId}-default-rtdb.firebaseio.com`);let o=iR(s,i),a=o.repoInfo,l,u;typeof process<"u"&&process.env&&(u=process.env[Rne]),u?(l=!0,s=`http://${u}?ns=${a.namespace}`,o=iR(s,i),a=o.repoInfo):l=!o.repoInfo.secure;const c=i&&l?new xd(xd.OWNER):new eee(e.name,e.options,t);dne("Invalid Firebase Database URL",o),Tt(o.path)||pa("Database URL must point to the root of a Firebase Database (not including a child path).");const d=Fne(a,e,c,new ZZ(e.name,n));return new Bne(d,e)}function Lne(e,t){const n=U$[t];(!n||n[e.key]!==e)&&pa(`Database ${t}(${e.repoInfo_}) has already been deleted.`),Sne(e),delete n[e.key]}function Fne(e,t,n,r){let i=U$[t.name];i||(i={},U$[t.name]=i);let s=i[e.toURLString()];return s&&pa("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new mne(e,Dne,n,r),i[e.toURLString()]=s,s}class Bne{constructor(t,n){this._repoInternal=t,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(vne(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new To(this._repo,jt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(Lne(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(t){this._rootInternal===null&&pa("Cannot call "+t+" on a deleted database.")}}function Une(e=Tc(),t){const n=Qs(e,"database").getImmediate({identifier:t});if(!n._instanceStarted){const r=MT("database");r&&Vne(n,...r)}return n}function Vne(e,t,n,r={}){e=Nt(e),e._checkNotDeleted("useEmulator"),e._instanceStarted&&pa("Cannot call useEmulator() after instance has already been initialized.");const i=e._repoInternal;let s;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&pa('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),s=new xd(xd.OWNER);else if(r.mockUserToken){const o=typeof r.mockUserToken=="string"?r.mockUserToken:eU(r.mockUserToken,e.app.options.projectId);s=new xd(o)}Nne(i,t,n,s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hne(e){FZ(jl),fi(new ni("database",(t,{instanceIdentifier:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("auth-internal"),s=t.getProvider("app-check-internal");return Mne(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),mr(xP,TP,e),mr(xP,TP,"esm2017")}ea.prototype.simpleListen=function(e,t){this.sendRequest("q",{p:e},t)};ea.prototype.echo=function(e,t){this.sendRequest("echo",{d:e},t)};Hne();var jne=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Re,vI=vI||{},rt=jne||self;function vb(e){var t=typeof e;return t=t!="object"?t:e?Array.isArray(e)?"array":t:"null",t=="array"||t=="object"&&typeof e.length=="number"}function lm(e){var t=typeof e;return t=="object"&&e!=null||t=="function"}function Wne(e){return Object.prototype.hasOwnProperty.call(e,E1)&&e[E1]||(e[E1]=++qne)}var E1="closure_uid_"+(1e9*Math.random()>>>0),qne=0;function zne(e,t,n){return e.call.apply(e.bind,arguments)}function Kne(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),e.apply(t,i)}}return function(){return e.apply(t,arguments)}}function Zr(e,t,n){return Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?Zr=zne:Zr=Kne,Zr.apply(null,arguments)}function vv(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var r=n.slice();return r.push.apply(r,arguments),e.apply(this,r)}}function Nr(e,t){function n(){}n.prototype=t.prototype,e.$=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.ac=function(r,i,s){for(var o=Array(arguments.length-2),a=2;a<arguments.length;a++)o[a-2]=arguments[a];return t.prototype[i].apply(r,o)}}function Wl(){this.s=this.s,this.o=this.o}var Gne=0;Wl.prototype.s=!1;Wl.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),Gne!=0)&&Wne(this)};Wl.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const O4=Array.prototype.indexOf?function(e,t){return Array.prototype.indexOf.call(e,t,void 0)}:function(e,t){if(typeof e=="string")return typeof t!="string"||t.length!=1?-1:e.indexOf(t,0);for(let n=0;n<e.length;n++)if(n in e&&e[n]===t)return n;return-1};function yI(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function sR(e,t){for(let n=1;n<arguments.length;n++){const r=arguments[n];if(vb(r)){const i=e.length||0,s=r.length||0;e.length=i+s;for(let o=0;o<s;o++)e[i+o]=r[o]}else e.push(r)}}function ei(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}ei.prototype.h=function(){this.defaultPrevented=!0};var Yne=function(){if(!rt.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{rt.addEventListener("test",()=>{},t),rt.removeEventListener("test",()=>{},t)}catch{}return e}();function lg(e){return/^[\s\xa0]*$/.test(e)}function yb(){var e=rt.navigator;return e&&(e=e.userAgent)?e:""}function oo(e){return yb().indexOf(e)!=-1}function _I(e){return _I[" "](e),e}_I[" "]=function(){};function Xne(e,t){var n=Hre;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}var Qne=oo("Opera"),sf=oo("Trident")||oo("MSIE"),P4=oo("Edge"),V$=P4||sf,R4=oo("Gecko")&&!(yb().toLowerCase().indexOf("webkit")!=-1&&!oo("Edge"))&&!(oo("Trident")||oo("MSIE"))&&!oo("Edge"),Jne=yb().toLowerCase().indexOf("webkit")!=-1&&!oo("Edge");function D4(){var e=rt.document;return e?e.documentMode:void 0}var H$;e:{var $1="",S1=function(){var e=yb();if(R4)return/rv:([^\);]+)(\)|;)/.exec(e);if(P4)return/Edge\/([\d\.]+)/.exec(e);if(sf)return/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(e);if(Jne)return/WebKit\/(\S+)/.exec(e);if(Qne)return/(?:Version)[ \/]?(\S+)/.exec(e)}();if(S1&&($1=S1?S1[1]:""),sf){var x1=D4();if(x1!=null&&x1>parseFloat($1)){H$=String(x1);break e}}H$=$1}var j$;if(rt.document&&sf){var oR=D4();j$=oR||parseInt(H$,10)||void 0}else j$=void 0;var Zne=j$;function ug(e,t){if(ei.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(R4){e:{try{_I(t.nodeName);var i=!0;break e}catch{}i=!1}i||(t=null)}}else n=="mouseover"?t=e.fromElement:n=="mouseout"&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=r.clientX!==void 0?r.clientX:r.pageX,this.clientY=r.clientY!==void 0?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=e.clientX!==void 0?e.clientX:e.pageX,this.clientY=e.clientY!==void 0?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType=typeof e.pointerType=="string"?e.pointerType:ere[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&ug.$.h.call(this)}}Nr(ug,ei);var ere={2:"touch",3:"pen",4:"mouse"};ug.prototype.h=function(){ug.$.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var um="closure_listenable_"+(1e6*Math.random()|0),tre=0;function nre(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.la=i,this.key=++tre,this.fa=this.ia=!1}function _b(e){e.fa=!0,e.listener=null,e.proxy=null,e.src=null,e.la=null}function bI(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function rre(e,t){for(const n in e)t.call(void 0,e[n],n,e)}function N4(e){const t={};for(const n in e)t[n]=e[n];return t}const aR="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function M4(e,t){let n,r;for(let i=1;i<arguments.length;i++){r=arguments[i];for(n in r)e[n]=r[n];for(let s=0;s<aR.length;s++)n=aR[s],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function bb(e){this.src=e,this.g={},this.h=0}bb.prototype.add=function(e,t,n,r,i){var s=e.toString();e=this.g[s],e||(e=this.g[s]=[],this.h++);var o=q$(e,t,r,i);return-1<o?(t=e[o],n||(t.ia=!1)):(t=new nre(t,this.src,s,!!r,i),t.ia=n,e.push(t)),t};function W$(e,t){var n=t.type;if(n in e.g){var r=e.g[n],i=O4(r,t),s;(s=0<=i)&&Array.prototype.splice.call(r,i,1),s&&(_b(t),e.g[n].length==0&&(delete e.g[n],e.h--))}}function q$(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.fa&&s.listener==t&&s.capture==!!n&&s.la==r)return i}return-1}var wI="closure_lm_"+(1e6*Math.random()|0),T1={};function L4(e,t,n,r,i){if(r&&r.once)return B4(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)L4(e,t[s],n,r,i);return null}return n=SI(n),e&&e[um]?e.O(t,n,lm(r)?!!r.capture:!!r,i):F4(e,t,n,!1,r,i)}function F4(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=lm(i)?!!i.capture:!!i,a=$I(e);if(a||(e[wI]=a=new bb(e)),n=a.add(t,n,r,o,s),n.proxy)return n;if(r=ire(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)Yne||(i=o),i===void 0&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(V4(t.toString()),r);else if(e.addListener&&e.removeListener)e.addListener(r);else throw Error("addEventListener and attachEvent are unavailable.");return n}function ire(){function e(n){return t.call(e.src,e.listener,n)}const t=sre;return e}function B4(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)B4(e,t[s],n,r,i);return null}return n=SI(n),e&&e[um]?e.P(t,n,lm(r)?!!r.capture:!!r,i):F4(e,t,n,!0,r,i)}function U4(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)U4(e,t[s],n,r,i);else r=lm(r)?!!r.capture:!!r,n=SI(n),e&&e[um]?(e=e.i,t=String(t).toString(),t in e.g&&(s=e.g[t],n=q$(s,n,r,i),-1<n&&(_b(s[n]),Array.prototype.splice.call(s,n,1),s.length==0&&(delete e.g[t],e.h--)))):e&&(e=$I(e))&&(t=e.g[t.toString()],e=-1,t&&(e=q$(t,n,r,i)),(n=-1<e?t[e]:null)&&EI(n))}function EI(e){if(typeof e!="number"&&e&&!e.fa){var t=e.src;if(t&&t[um])W$(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(V4(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=$I(t))?(W$(n,e),n.h==0&&(n.src=null,t[wI]=null)):_b(e)}}}function V4(e){return e in T1?T1[e]:T1[e]="on"+e}function sre(e,t){if(e.fa)e=!0;else{t=new ug(t,this);var n=e.listener,r=e.la||e.src;e.ia&&EI(e),e=n.call(r,t)}return e}function $I(e){return e=e[wI],e instanceof bb?e:null}var I1="__closure_events_fn_"+(1e9*Math.random()>>>0);function SI(e){return typeof e=="function"?e:(e[I1]||(e[I1]=function(t){return e.handleEvent(t)}),e[I1])}function Rr(){Wl.call(this),this.i=new bb(this),this.S=this,this.J=null}Nr(Rr,Wl);Rr.prototype[um]=!0;Rr.prototype.removeEventListener=function(e,t,n,r){U4(this,e,t,n,r)};function Ur(e,t){var n,r=e.J;if(r)for(n=[];r;r=r.J)n.push(r);if(e=e.S,r=t.type||t,typeof t=="string")t=new ei(t,e);else if(t instanceof ei)t.target=t.target||e;else{var i=t;t=new ei(r,e),M4(t,i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var o=t.g=n[s];i=yv(o,r,!0,t)&&i}if(o=t.g=e,i=yv(o,r,!0,t)&&i,i=yv(o,r,!1,t)&&i,n)for(s=0;s<n.length;s++)o=t.g=n[s],i=yv(o,r,!1,t)&&i}Rr.prototype.N=function(){if(Rr.$.N.call(this),this.i){var e=this.i,t;for(t in e.g){for(var n=e.g[t],r=0;r<n.length;r++)_b(n[r]);delete e.g[t],e.h--}}this.J=null};Rr.prototype.O=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)};Rr.prototype.P=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};function yv(e,t,n,r){if(t=e.i.g[String(t)],!t)return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var o=t[s];if(o&&!o.fa&&o.capture==n){var a=o.listener,l=o.la||o.src;o.ia&&W$(e.i,o),i=a.call(l,r)!==!1&&i}}return i&&!r.defaultPrevented}var xI=rt.JSON.stringify;class ore{constructor(t,n){this.i=t,this.j=n,this.h=0,this.g=null}get(){let t;return 0<this.h?(this.h--,t=this.g,this.g=t.next,t.next=null):t=this.i(),t}}function are(){var e=TI;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}class lre{constructor(){this.h=this.g=null}add(t,n){const r=H4.get();r.set(t,n),this.h?this.h.next=r:this.g=r,this.h=r}}var H4=new ore(()=>new ure,e=>e.reset());class ure{constructor(){this.next=this.g=this.h=null}set(t,n){this.h=t,this.g=n,this.next=null}reset(){this.next=this.g=this.h=null}}function cre(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function dre(e){rt.setTimeout(()=>{throw e},0)}let cg,dg=!1,TI=new lre,j4=()=>{const e=rt.Promise.resolve(void 0);cg=()=>{e.then(fre)}};var fre=()=>{for(var e;e=are();){try{e.h.call(e.g)}catch(n){dre(n)}var t=H4;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}dg=!1};function wb(e,t){Rr.call(this),this.h=e||1,this.g=t||rt,this.j=Zr(this.qb,this),this.l=Date.now()}Nr(wb,Rr);Re=wb.prototype;Re.ga=!1;Re.T=null;Re.qb=function(){if(this.ga){var e=Date.now()-this.l;0<e&&e<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-e):(this.T&&(this.g.clearTimeout(this.T),this.T=null),Ur(this,"tick"),this.ga&&(II(this),this.start()))}};Re.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())};function II(e){e.ga=!1,e.T&&(e.g.clearTimeout(e.T),e.T=null)}Re.N=function(){wb.$.N.call(this),II(this),delete this.g};function CI(e,t,n){if(typeof e=="function")n&&(e=Zr(e,n));else if(e&&typeof e.handleEvent=="function")e=Zr(e.handleEvent,e);else throw Error("Invalid listener argument");return 2147483647<Number(t)?-1:rt.setTimeout(e,t||0)}function W4(e){e.g=CI(()=>{e.g=null,e.i&&(e.i=!1,W4(e))},e.j);const t=e.h;e.h=null,e.m.apply(null,t)}class pre extends Wl{constructor(t,n){super(),this.m=t,this.j=n,this.h=null,this.i=!1,this.g=null}l(t){this.h=arguments,this.g?this.i=!0:W4(this)}N(){super.N(),this.g&&(rt.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function fg(e){Wl.call(this),this.h=e,this.g={}}Nr(fg,Wl);var lR=[];function q4(e,t,n,r){Array.isArray(n)||(n&&(lR[0]=n.toString()),n=lR);for(var i=0;i<n.length;i++){var s=L4(t,n[i],r||e.handleEvent,!1,e.h||e);if(!s)break;e.g[s.key]=s}}function z4(e){bI(e.g,function(t,n){this.g.hasOwnProperty(n)&&EI(t)},e),e.g={}}fg.prototype.N=function(){fg.$.N.call(this),z4(this)};fg.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};function Eb(){this.g=!0}Eb.prototype.Ea=function(){this.g=!1};function hre(e,t,n,r,i,s){e.info(function(){if(e.g)if(s)for(var o="",a=s.split("&"),l=0;l<a.length;l++){var u=a[l].split("=");if(1<u.length){var c=u[0];u=u[1];var d=c.split("_");o=2<=d.length&&d[1]=="type"?o+(c+"="+u+"&"):o+(c+"=redacted&")}}else o=null;else o=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+`
`+n+`
`+o})}function gre(e,t,n,r,i,s,o){e.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+`
`+n+`
`+s+" "+o})}function fd(e,t,n,r){e.info(function(){return"XMLHTTP TEXT ("+t+"): "+vre(e,n)+(r?" "+r:"")})}function mre(e,t){e.info(function(){return"TIMEOUT: "+t})}Eb.prototype.info=function(){};function vre(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n){for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if(s!="noop"&&s!="stop"&&s!="close")for(var o=1;o<i.length;o++)i[o]=""}}}}return xI(n)}catch{return t}}var Cc={},uR=null;function $b(){return uR=uR||new Rr}Cc.Ta="serverreachability";function K4(e){ei.call(this,Cc.Ta,e)}Nr(K4,ei);function pg(e){const t=$b();Ur(t,new K4(t))}Cc.STAT_EVENT="statevent";function G4(e,t){ei.call(this,Cc.STAT_EVENT,e),this.stat=t}Nr(G4,ei);function li(e){const t=$b();Ur(t,new G4(t,e))}Cc.Ua="timingevent";function Y4(e,t){ei.call(this,Cc.Ua,e),this.size=t}Nr(Y4,ei);function cm(e,t){if(typeof e!="function")throw Error("Fn must not be null and must be a function");return rt.setTimeout(function(){e()},t)}var Sb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},X4={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function AI(){}AI.prototype.h=null;function cR(e){return e.h||(e.h=e.i())}function Q4(){}var dm={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kI(){ei.call(this,"d")}Nr(kI,ei);function OI(){ei.call(this,"c")}Nr(OI,ei);var z$;function xb(){}Nr(xb,AI);xb.prototype.g=function(){return new XMLHttpRequest};xb.prototype.i=function(){return{}};z$=new xb;function fm(e,t,n,r){this.l=e,this.j=t,this.m=n,this.W=r||1,this.U=new fg(this),this.P=yre,e=V$?125:void 0,this.V=new wb(e),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new J4}function J4(){this.i=null,this.g="",this.h=!1}var yre=45e3,K$={},p_={};Re=fm.prototype;Re.setTimeout=function(e){this.P=e};function G$(e,t,n){e.L=1,e.v=Ib(ha(t)),e.s=n,e.S=!0,Z4(e,null)}function Z4(e,t){e.G=Date.now(),pm(e),e.A=ha(e.v);var n=e.A,r=e.W;Array.isArray(r)||(r=[String(r)]),a3(n.i,"t",r),e.C=0,n=e.l.J,e.h=new J4,e.g=C3(e.l,n?t:null,!e.s),0<e.O&&(e.M=new pre(Zr(e.Pa,e,e.g),e.O)),q4(e.U,e.g,"readystatechange",e.nb),t=e.I?N4(e.I):{},e.s?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ha(e.A,e.u,e.s,t)):(e.u="GET",e.g.ha(e.A,e.u,null,t)),pg(),hre(e.j,e.u,e.A,e.m,e.W,e.s)}Re.nb=function(e){e=e.target;const t=this.M;t&&ao(e)==3?t.l():this.Pa(e)};Re.Pa=function(e){try{if(e==this.g)e:{const c=ao(this.g);var t=this.g.Ia();const d=this.g.da();if(!(3>c)&&(c!=3||V$||this.g&&(this.h.h||this.g.ja()||hR(this.g)))){this.J||c!=4||t==7||(t==8||0>=d?pg(3):pg(2)),Tb(this);var n=this.g.da();this.ca=n;t:if(e3(this)){var r=hR(this.g);e="";var i=r.length,s=ao(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Su(this),vh(this);var o="";break t}this.h.i=new rt.TextDecoder}for(t=0;t<i;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:s&&t==i-1});r.splice(0,i),this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.ja();if(this.i=n==200,gre(this.j,this.u,this.A,this.m,this.W,c,n),this.i){if(this.aa&&!this.K){t:{if(this.g){var a,l=this.g;if((a=l.g?l.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!lg(a)){var u=a;break t}}u=null}if(n=u)fd(this.j,this.m,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Y$(this,n);else{this.i=!1,this.o=3,li(12),Su(this),vh(this);break e}}this.S?(t3(this,c,o),V$&&this.i&&c==3&&(q4(this.U,this.V,"tick",this.mb),this.V.start())):(fd(this.j,this.m,o,null),Y$(this,o)),c==4&&Su(this),this.i&&!this.J&&(c==4?S3(this.l,this):(this.i=!1,pm(this)))}else Bre(this.g),n==400&&0<o.indexOf("Unknown SID")?(this.o=3,li(12)):(this.o=0,li(13)),Su(this),vh(this)}}}catch{}finally{}};function e3(e){return e.g?e.u=="GET"&&e.L!=2&&e.l.Ha:!1}function t3(e,t,n){let r=!0,i;for(;!e.J&&e.C<n.length;)if(i=_re(e,n),i==p_){t==4&&(e.o=4,li(14),r=!1),fd(e.j,e.m,null,"[Incomplete Response]");break}else if(i==K$){e.o=4,li(15),fd(e.j,e.m,n,"[Invalid Chunk]"),r=!1;break}else fd(e.j,e.m,i,null),Y$(e,i);e3(e)&&i!=p_&&i!=K$&&(e.h.g="",e.C=0),t!=4||n.length!=0||e.h.h||(e.o=1,li(16),r=!1),e.i=e.i&&r,r?0<n.length&&!e.ba&&(e.ba=!0,t=e.l,t.g==e&&t.ca&&!t.M&&(t.l.info("Great, no buffering proxy detected. Bytes received: "+n.length),LI(t),t.M=!0,li(11))):(fd(e.j,e.m,n,"[Invalid Chunked Response]"),Su(e),vh(e))}Re.mb=function(){if(this.g){var e=ao(this.g),t=this.g.ja();this.C<t.length&&(Tb(this),t3(this,e,t),this.i&&e!=4&&pm(this))}};function _re(e,t){var n=e.C,r=t.indexOf(`
`,n);return r==-1?p_:(n=Number(t.substring(n,r)),isNaN(n)?K$:(r+=1,r+n>t.length?p_:(t=t.slice(r,r+n),e.C=r+n,t)))}Re.cancel=function(){this.J=!0,Su(this)};function pm(e){e.Y=Date.now()+e.P,n3(e,e.P)}function n3(e,t){if(e.B!=null)throw Error("WatchDog timer not null");e.B=cm(Zr(e.lb,e),t)}function Tb(e){e.B&&(rt.clearTimeout(e.B),e.B=null)}Re.lb=function(){this.B=null;const e=Date.now();0<=e-this.Y?(mre(this.j,this.A),this.L!=2&&(pg(),li(17)),Su(this),this.o=2,vh(this)):n3(this,this.Y-e)};function vh(e){e.l.H==0||e.J||S3(e.l,e)}function Su(e){Tb(e);var t=e.M;t&&typeof t.sa=="function"&&t.sa(),e.M=null,II(e.V),z4(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.sa())}function Y$(e,t){try{var n=e.l;if(n.H!=0&&(n.g==e||X$(n.i,e))){if(!e.K&&X$(n.i,e)&&n.H==3){try{var r=n.Ja.g.parse(t)}catch{r=null}if(Array.isArray(r)&&r.length==3){var i=r;if(i[0]==0){e:if(!n.u){if(n.g)if(n.g.G+3e3<e.G)m_(n),kb(n);else break e;MI(n),li(18)}}else n.Fa=i[1],0<n.Fa-n.V&&37500>i[2]&&n.G&&n.A==0&&!n.v&&(n.v=cm(Zr(n.ib,n),6e3));if(1>=c3(n.i)&&n.oa){try{n.oa()}catch{}n.oa=void 0}}else xu(n,11)}else if((e.K||n.g==e)&&m_(n),!lg(t))for(i=n.Ja.g.parse(t),t=0;t<i.length;t++){let u=i[t];if(n.V=u[0],u=u[1],n.H==2)if(u[0]=="c"){n.K=u[1],n.pa=u[2];const c=u[3];c!=null&&(n.ra=c,n.l.info("VER="+n.ra));const d=u[4];d!=null&&(n.Ga=d,n.l.info("SVER="+n.Ga));const f=u[5];f!=null&&typeof f=="number"&&0<f&&(r=1.5*f,n.L=r,n.l.info("backChannelRequestTimeoutMs_="+r)),r=n;const p=e.g;if(p){const h=p.g?p.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(h){var s=r.i;s.g||h.indexOf("spdy")==-1&&h.indexOf("quic")==-1&&h.indexOf("h2")==-1||(s.j=s.l,s.g=new Set,s.h&&(PI(s,s.h),s.h=null))}if(r.F){const g=p.g?p.g.getResponseHeader("X-HTTP-Session-Id"):null;g&&(r.Da=g,On(r.I,r.F,g))}}n.H=3,n.h&&n.h.Ba(),n.ca&&(n.S=Date.now()-e.G,n.l.info("Handshake RTT: "+n.S+"ms")),r=n;var o=e;if(r.wa=I3(r,r.J?r.pa:null,r.Y),o.K){d3(r.i,o);var a=o,l=r.L;l&&a.setTimeout(l),a.B&&(Tb(a),pm(a)),r.g=o}else E3(r);0<n.j.length&&Ob(n)}else u[0]!="stop"&&u[0]!="close"||xu(n,7);else n.H==3&&(u[0]=="stop"||u[0]=="close"?u[0]=="stop"?xu(n,7):NI(n):u[0]!="noop"&&n.h&&n.h.Aa(u),n.A=0)}}pg(4)}catch{}}function bre(e){if(e.Z&&typeof e.Z=="function")return e.Z();if(typeof Map<"u"&&e instanceof Map||typeof Set<"u"&&e instanceof Set)return Array.from(e.values());if(typeof e=="string")return e.split("");if(vb(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}t=[],n=0;for(r in e)t[n++]=e[r];return t}function wre(e){if(e.ta&&typeof e.ta=="function")return e.ta();if(!e.Z||typeof e.Z!="function"){if(typeof Map<"u"&&e instanceof Map)return Array.from(e.keys());if(!(typeof Set<"u"&&e instanceof Set)){if(vb(e)||typeof e=="string"){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}function r3(e,t){if(e.forEach&&typeof e.forEach=="function")e.forEach(t,void 0);else if(vb(e)||typeof e=="string")Array.prototype.forEach.call(e,t,void 0);else for(var n=wre(e),r=bre(e),i=r.length,s=0;s<i;s++)t.call(void 0,r[s],n&&n[s],e)}var i3=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Ere(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}function Du(e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,e instanceof Du){this.h=e.h,h_(this,e.j),this.s=e.s,this.g=e.g,g_(this,e.m),this.l=e.l;var t=e.i,n=new hg;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),dR(this,n),this.o=e.o}else e&&(t=String(e).match(i3))?(this.h=!1,h_(this,t[1]||"",!0),this.s=Gp(t[2]||""),this.g=Gp(t[3]||"",!0),g_(this,t[4]),this.l=Gp(t[5]||"",!0),dR(this,t[6]||"",!0),this.o=Gp(t[7]||"")):(this.h=!1,this.i=new hg(null,this.h))}Du.prototype.toString=function(){var e=[],t=this.j;t&&e.push(Yp(t,fR,!0),":");var n=this.g;return(n||t=="file")&&(e.push("//"),(t=this.s)&&e.push(Yp(t,fR,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.m,n!=null&&e.push(":",String(n))),(n=this.l)&&(this.g&&n.charAt(0)!="/"&&e.push("/"),e.push(Yp(n,n.charAt(0)=="/"?xre:Sre,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.o)&&e.push("#",Yp(n,Ire)),e.join("")};function ha(e){return new Du(e)}function h_(e,t,n){e.j=n?Gp(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function g_(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.m=t}else e.m=null}function dR(e,t,n){t instanceof hg?(e.i=t,Cre(e.i,e.h)):(n||(t=Yp(t,Tre)),e.i=new hg(t,e.h))}function On(e,t,n){e.i.set(t,n)}function Ib(e){return On(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function Gp(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function Yp(e,t,n){return typeof e=="string"?(e=encodeURI(e).replace(t,$re),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function $re(e){return e=e.charCodeAt(0),"%"+(e>>4&15).toString(16)+(e&15).toString(16)}var fR=/[#\/\?@]/g,Sre=/[#\?:]/g,xre=/[#\?]/g,Tre=/[#\?@]/g,Ire=/#/g;function hg(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function ql(e){e.g||(e.g=new Map,e.h=0,e.i&&Ere(e.i,function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)}))}Re=hg.prototype;Re.add=function(e,t){ql(this),this.i=null,e=Vf(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this};function s3(e,t){ql(e),t=Vf(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function o3(e,t){return ql(e),t=Vf(e,t),e.g.has(t)}Re.forEach=function(e,t){ql(this),this.g.forEach(function(n,r){n.forEach(function(i){e.call(t,i,r,this)},this)},this)};Re.ta=function(){ql(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let s=0;s<i.length;s++)n.push(t[r])}return n};Re.Z=function(e){ql(this);let t=[];if(typeof e=="string")o3(this,e)&&(t=t.concat(this.g.get(Vf(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t};Re.set=function(e,t){return ql(this),this.i=null,e=Vf(this,e),o3(this,e)&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this};Re.get=function(e,t){return e?(e=this.Z(e),0<e.length?String(e[0]):t):t};function a3(e,t,n){s3(e,t),0<n.length&&(e.i=null,e.g.set(Vf(e,t),yI(n)),e.h+=n.length)}Re.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),o=this.Z(r);for(r=0;r<o.length;r++){var i=s;o[r]!==""&&(i+="="+encodeURIComponent(String(o[r]))),e.push(i)}}return this.i=e.join("&")};function Vf(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Cre(e,t){t&&!e.j&&(ql(e),e.i=null,e.g.forEach(function(n,r){var i=r.toLowerCase();r!=i&&(s3(this,r),a3(this,i,n))},e)),e.j=t}var Are=class{constructor(t,n){this.g=t,this.map=n}};function l3(e){this.l=e||kre,rt.PerformanceNavigationTiming?(e=rt.performance.getEntriesByType("navigation"),e=0<e.length&&(e[0].nextHopProtocol=="hq"||e[0].nextHopProtocol=="h2")):e=!!(rt.g&&rt.g.Ka&&rt.g.Ka()&&rt.g.Ka().ec),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}var kre=10;function u3(e){return e.h?!0:e.g?e.g.size>=e.j:!1}function c3(e){return e.h?1:e.g?e.g.size:0}function X$(e,t){return e.h?e.h==t:e.g?e.g.has(t):!1}function PI(e,t){e.g?e.g.add(t):e.h=t}function d3(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}l3.prototype.cancel=function(){if(this.i=f3(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const e of this.g.values())e.cancel();this.g.clear()}};function f3(e){if(e.h!=null)return e.i.concat(e.h.F);if(e.g!=null&&e.g.size!==0){let t=e.i;for(const n of e.g.values())t=t.concat(n.F);return t}return yI(e.i)}var Ore=class{stringify(t){return rt.JSON.stringify(t,void 0)}parse(t){return rt.JSON.parse(t,void 0)}};function Pre(){this.g=new Ore}function Rre(e,t,n){const r=n||"";try{r3(e,function(i,s){let o=i;lm(i)&&(o=xI(i)),t.push(r+s+"="+encodeURIComponent(o))})}catch(i){throw t.push(r+"type="+encodeURIComponent("_badmap")),i}}function Dre(e,t){const n=new Eb;if(rt.Image){const r=new Image;r.onload=vv(_v,n,r,"TestLoadImage: loaded",!0,t),r.onerror=vv(_v,n,r,"TestLoadImage: error",!1,t),r.onabort=vv(_v,n,r,"TestLoadImage: abort",!1,t),r.ontimeout=vv(_v,n,r,"TestLoadImage: timeout",!1,t),rt.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=e}else t(!1)}function _v(e,t,n,r,i){try{t.onload=null,t.onerror=null,t.onabort=null,t.ontimeout=null,i(r)}catch{}}function hm(e){this.l=e.fc||null,this.j=e.ob||!1}Nr(hm,AI);hm.prototype.g=function(){return new Cb(this.l,this.j)};hm.prototype.i=function(e){return function(){return e}}({});function Cb(e,t){Rr.call(this),this.F=e,this.u=t,this.m=void 0,this.readyState=RI,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}Nr(Cb,Rr);var RI=0;Re=Cb.prototype;Re.open=function(e,t){if(this.readyState!=RI)throw this.abort(),Error("Error reopening a connection");this.C=e,this.B=t,this.readyState=1,gg(this)};Re.send=function(e){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.v,method:this.C,credentials:this.m,cache:void 0};e&&(t.body=e),(this.F||rt).fetch(new Request(this.B,t)).then(this.$a.bind(this),this.ka.bind(this))};Re.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,gm(this)),this.readyState=RI};Re.$a=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,gg(this)),this.g&&(this.readyState=3,gg(this),this.g)))if(this.responseType==="arraybuffer")e.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof rt.ReadableStream<"u"&&"body"in e){if(this.j=e.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;p3(this)}else e.text().then(this.Za.bind(this),this.ka.bind(this))};function p3(e){e.j.read().then(e.Xa.bind(e)).catch(e.ka.bind(e))}Re.Xa=function(e){if(this.g){if(this.u&&e.value)this.response.push(e.value);else if(!this.u){var t=e.value?e.value:new Uint8Array(0);(t=this.A.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?gm(this):gg(this),this.readyState==3&&p3(this)}};Re.Za=function(e){this.g&&(this.response=this.responseText=e,gm(this))};Re.Ya=function(e){this.g&&(this.response=e,gm(this))};Re.ka=function(){this.g&&gm(this)};function gm(e){e.readyState=4,e.l=null,e.j=null,e.A=null,gg(e)}Re.setRequestHeader=function(e,t){this.v.append(e,t)};Re.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""};Re.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join(`\r
`)};function gg(e){e.onreadystatechange&&e.onreadystatechange.call(e)}Object.defineProperty(Cb.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(e){this.m=e?"include":"same-origin"}});var Nre=rt.JSON.parse;function Yn(e){Rr.call(this),this.headers=new Map,this.u=e||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=h3,this.L=this.M=!1}Nr(Yn,Rr);var h3="",Mre=/^https?$/i,Lre=["POST","PUT"];Re=Yn.prototype;Re.Oa=function(e){this.M=e};Re.ha=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+e);t=t?t.toUpperCase():"GET",this.I=e,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():z$.g(),this.C=this.u?cR(this.u):cR(z$),this.g.onreadystatechange=Zr(this.La,this);try{this.G=!0,this.g.open(t,String(e),!0),this.G=!1}catch(s){pR(this,s);return}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)n.set(i,r[i]);else if(typeof r.keys=="function"&&typeof r.get=="function")for(const s of r.keys())n.set(s,r.get(s));else throw Error("Unknown input type for opt_headers: "+String(r));r=Array.from(n.keys()).find(s=>s.toLowerCase()=="content-type"),i=rt.FormData&&e instanceof rt.FormData,!(0<=O4(Lre,t))||r||i||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[s,o]of n)this.g.setRequestHeader(s,o);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{v3(this),0<this.B&&((this.L=Fre(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Zr(this.ua,this)):this.A=CI(this.ua,this.B,this)),this.v=!0,this.g.send(e),this.v=!1}catch(s){pR(this,s)}};function Fre(e){return sf&&typeof e.timeout=="number"&&e.ontimeout!==void 0}Re.ua=function(){typeof vI<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,Ur(this,"timeout"),this.abort(8))};function pR(e,t){e.h=!1,e.g&&(e.l=!0,e.g.abort(),e.l=!1),e.j=t,e.m=5,g3(e),Ab(e)}function g3(e){e.F||(e.F=!0,Ur(e,"complete"),Ur(e,"error"))}Re.abort=function(e){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=e||7,Ur(this,"complete"),Ur(this,"abort"),Ab(this))};Re.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),Ab(this,!0)),Yn.$.N.call(this)};Re.La=function(){this.s||(this.G||this.v||this.l?m3(this):this.kb())};Re.kb=function(){m3(this)};function m3(e){if(e.h&&typeof vI<"u"&&(!e.C[1]||ao(e)!=4||e.da()!=2)){if(e.v&&ao(e)==4)CI(e.La,0,e);else if(Ur(e,"readystatechange"),ao(e)==4){e.h=!1;try{const o=e.da();e:switch(o){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var r;if(r=o===0){var i=String(e.I).match(i3)[1]||null;!i&&rt.self&&rt.self.location&&(i=rt.self.location.protocol.slice(0,-1)),r=!Mre.test(i?i.toLowerCase():"")}n=r}if(n)Ur(e,"complete"),Ur(e,"success");else{e.m=6;try{var s=2<ao(e)?e.g.statusText:""}catch{s=""}e.j=s+" ["+e.da()+"]",g3(e)}}finally{Ab(e)}}}}function Ab(e,t){if(e.g){v3(e);const n=e.g,r=e.C[0]?()=>{}:null;e.g=null,e.C=null,t||Ur(e,"ready");try{n.onreadystatechange=r}catch{}}}function v3(e){e.g&&e.L&&(e.g.ontimeout=null),e.A&&(rt.clearTimeout(e.A),e.A=null)}Re.isActive=function(){return!!this.g};function ao(e){return e.g?e.g.readyState:0}Re.da=function(){try{return 2<ao(this)?this.g.status:-1}catch{return-1}};Re.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}};Re.Wa=function(e){if(this.g){var t=this.g.responseText;return e&&t.indexOf(e)==0&&(t=t.substring(e.length)),Nre(t)}};function hR(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.K){case h3:case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch{return null}}function Bre(e){const t={};e=(e.g&&2<=ao(e)&&e.g.getAllResponseHeaders()||"").split(`\r
`);for(let r=0;r<e.length;r++){if(lg(e[r]))continue;var n=cre(e[r]);const i=n[0];if(n=n[1],typeof n!="string")continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}rre(t,function(r){return r.join(", ")})}Re.Ia=function(){return this.m};Re.Sa=function(){return typeof this.j=="string"?this.j:String(this.j)};function y3(e){let t="";return bI(e,function(n,r){t+=r,t+=":",t+=n,t+=`\r
`}),t}function DI(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=y3(n),typeof e=="string"?n!=null&&encodeURIComponent(String(n)):On(e,t,n))}function xp(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function _3(e){this.Ga=0,this.j=[],this.l=new Eb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=xp("failFast",!1,e),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=xp("baseRetryDelayMs",5e3,e),this.hb=xp("retryDelaySeedMs",1e4,e),this.eb=xp("forwardChannelMaxRetries",2,e),this.xa=xp("forwardChannelRequestTimeoutMs",2e4,e),this.va=e&&e.xmlHttpFactory||void 0,this.Ha=e&&e.dc||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.i=new l3(e&&e.concurrentRequestLimit),this.Ja=new Pre,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=e&&e.bc||!1,e&&e.Ea&&this.l.Ea(),e&&e.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&e&&e.detectBufferingProxy||!1,this.qa=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.qa=e.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}Re=_3.prototype;Re.ra=8;Re.H=1;function NI(e){if(b3(e),e.H==3){var t=e.W++,n=ha(e.I);if(On(n,"SID",e.K),On(n,"RID",t),On(n,"TYPE","terminate"),mm(e,n),t=new fm(e,e.l,t),t.L=2,t.v=Ib(ha(n)),n=!1,rt.navigator&&rt.navigator.sendBeacon)try{n=rt.navigator.sendBeacon(t.v.toString(),"")}catch{}!n&&rt.Image&&(new Image().src=t.v,n=!0),n||(t.g=C3(t.l,null),t.g.ha(t.v)),t.G=Date.now(),pm(t)}T3(e)}function kb(e){e.g&&(LI(e),e.g.cancel(),e.g=null)}function b3(e){kb(e),e.u&&(rt.clearTimeout(e.u),e.u=null),m_(e),e.i.cancel(),e.m&&(typeof e.m=="number"&&rt.clearTimeout(e.m),e.m=null)}function Ob(e){if(!u3(e.i)&&!e.m){e.m=!0;var t=e.Na;cg||j4(),dg||(cg(),dg=!0),TI.add(t,e),e.C=0}}function Ure(e,t){return c3(e.i)>=e.i.j-(e.m?1:0)?!1:e.m?(e.j=t.F.concat(e.j),!0):e.H==1||e.H==2||e.C>=(e.cb?0:e.eb)?!1:(e.m=cm(Zr(e.Na,e,t),x3(e,e.C)),e.C++,!0)}Re.Na=function(e){if(this.m)if(this.m=null,this.H==1){if(!e){this.W=Math.floor(1e5*Math.random()),e=this.W++;const i=new fm(this,this.l,e);let s=this.s;if(this.U&&(s?(s=N4(s),M4(s,this.U)):s=this.U),this.o!==null||this.O||(i.I=s,s=null),this.P)e:{for(var t=0,n=0;n<this.j.length;n++){t:{var r=this.j[n];if("__data__"in r.map&&(r=r.map.__data__,typeof r=="string")){r=r.length;break t}r=void 0}if(r===void 0)break;if(t+=r,4096<t){t=n;break e}if(t===4096||n===this.j.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=w3(this,i,t),n=ha(this.I),On(n,"RID",e),On(n,"CVER",22),this.F&&On(n,"X-HTTP-Session-Id",this.F),mm(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(y3(s)))+"&"+t:this.o&&DI(n,this.o,s)),PI(this.i,i),this.bb&&On(n,"TYPE","init"),this.P?(On(n,"$req",t),On(n,"SID","null"),i.aa=!0,G$(i,n,null)):G$(i,n,t),this.H=2}}else this.H==3&&(e?gR(this,e):this.j.length==0||u3(this.i)||gR(this))};function gR(e,t){var n;t?n=t.m:n=e.W++;const r=ha(e.I);On(r,"SID",e.K),On(r,"RID",n),On(r,"AID",e.V),mm(e,r),e.o&&e.s&&DI(r,e.o,e.s),n=new fm(e,e.l,n,e.C+1),e.o===null&&(n.I=e.s),t&&(e.j=t.F.concat(e.j)),t=w3(e,n,1e3),n.setTimeout(Math.round(.5*e.xa)+Math.round(.5*e.xa*Math.random())),PI(e.i,n),G$(n,r,t)}function mm(e,t){e.na&&bI(e.na,function(n,r){On(t,r,n)}),e.h&&r3({},function(n,r){On(t,r,n)})}function w3(e,t,n){n=Math.min(e.j.length,n);var r=e.h?Zr(e.h.Va,e.h,e):null;e:{var i=e.j;let s=-1;for(;;){const o=["count="+n];s==-1?0<n?(s=i[0].g,o.push("ofs="+s)):s=0:o.push("ofs="+s);let a=!0;for(let l=0;l<n;l++){let u=i[l].g;const c=i[l].map;if(u-=s,0>u)s=Math.max(0,i[l].g-100),a=!1;else try{Rre(c,o,"req"+u+"_")}catch{r&&r(c)}}if(a){r=o.join("&");break e}}}return e=e.j.splice(0,n),t.F=e,r}function E3(e){if(!e.g&&!e.u){e.ba=1;var t=e.Ma;cg||j4(),dg||(cg(),dg=!0),TI.add(t,e),e.A=0}}function MI(e){return e.g||e.u||3<=e.A?!1:(e.ba++,e.u=cm(Zr(e.Ma,e),x3(e,e.A)),e.A++,!0)}Re.Ma=function(){if(this.u=null,$3(this),this.ca&&!(this.M||this.g==null||0>=this.S)){var e=2*this.S;this.l.info("BP detection timer enabled: "+e),this.B=cm(Zr(this.jb,this),e)}};Re.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,li(10),kb(this),$3(this))};function LI(e){e.B!=null&&(rt.clearTimeout(e.B),e.B=null)}function $3(e){e.g=new fm(e,e.l,"rpc",e.ba),e.o===null&&(e.g.I=e.s),e.g.O=0;var t=ha(e.wa);On(t,"RID","rpc"),On(t,"SID",e.K),On(t,"AID",e.V),On(t,"CI",e.G?"0":"1"),!e.G&&e.qa&&On(t,"TO",e.qa),On(t,"TYPE","xmlhttp"),mm(e,t),e.o&&e.s&&DI(t,e.o,e.s),e.L&&e.g.setTimeout(e.L);var n=e.g;e=e.pa,n.L=1,n.v=Ib(ha(t)),n.s=null,n.S=!0,Z4(n,e)}Re.ib=function(){this.v!=null&&(this.v=null,kb(this),MI(this),li(19))};function m_(e){e.v!=null&&(rt.clearTimeout(e.v),e.v=null)}function S3(e,t){var n=null;if(e.g==t){m_(e),LI(e),e.g=null;var r=2}else if(X$(e.i,t))n=t.F,d3(e.i,t),r=1;else return;if(e.H!=0){if(t.i)if(r==1){n=t.s?t.s.length:0,t=Date.now()-t.G;var i=e.C;r=$b(),Ur(r,new Y4(r,n)),Ob(e)}else E3(e);else if(i=t.o,i==3||i==0&&0<t.ca||!(r==1&&Ure(e,t)||r==2&&MI(e)))switch(n&&0<n.length&&(t=e.i,t.i=t.i.concat(n)),i){case 1:xu(e,5);break;case 4:xu(e,10);break;case 3:xu(e,6);break;default:xu(e,2)}}}function x3(e,t){let n=e.ab+Math.floor(Math.random()*e.hb);return e.isActive()||(n*=2),n*t}function xu(e,t){if(e.l.info("Error code "+t),t==2){var n=null;e.h&&(n=null);var r=Zr(e.pb,e);n||(n=new Du("//www.google.com/images/cleardot.gif"),rt.location&&rt.location.protocol=="http"||h_(n,"https"),Ib(n)),Dre(n.toString(),r)}else li(2);e.H=0,e.h&&e.h.za(t),T3(e),b3(e)}Re.pb=function(e){e?(this.l.info("Successfully pinged google.com"),li(2)):(this.l.info("Failed to ping google.com"),li(1))};function T3(e){if(e.H=0,e.ma=[],e.h){const t=f3(e.i);(t.length!=0||e.j.length!=0)&&(sR(e.ma,t),sR(e.ma,e.j),e.i.i.length=0,yI(e.j),e.j.length=0),e.h.ya()}}function I3(e,t,n){var r=n instanceof Du?ha(n):new Du(n);if(r.g!="")t&&(r.g=t+"."+r.g),g_(r,r.m);else{var i=rt.location;r=i.protocol,t=t?t+"."+i.hostname:i.hostname,i=+i.port;var s=new Du(null);r&&h_(s,r),t&&(s.g=t),i&&g_(s,i),n&&(s.l=n),r=s}return n=e.F,t=e.Da,n&&t&&On(r,n,t),On(r,"VER",e.ra),mm(e,r),r}function C3(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return t=n&&e.Ha&&!e.va?new Yn(new hm({ob:!0})):new Yn(e.va),t.Oa(e.J),t}Re.isActive=function(){return!!this.h&&this.h.isActive(this)};function A3(){}Re=A3.prototype;Re.Ba=function(){};Re.Aa=function(){};Re.za=function(){};Re.ya=function(){};Re.isActive=function(){return!0};Re.Va=function(){};function v_(){if(sf&&!(10<=Number(Zne)))throw Error("Environmental error: no available transport.")}v_.prototype.g=function(e,t){return new Qi(e,t)};function Qi(e,t){Rr.call(this),this.g=new _3(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.s=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.Ca&&(e?e["X-WebChannel-Client-Profile"]=t.Ca:e={"X-WebChannel-Client-Profile":t.Ca}),this.g.U=e,(e=t&&t.cc)&&!lg(e)&&(this.g.o=e),this.A=t&&t.supportsCrossDomainXhr||!1,this.v=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!lg(t)&&(this.g.F=t,e=this.h,e!==null&&t in e&&(e=this.h,t in e&&delete e[t])),this.j=new Hf(this)}Nr(Qi,Rr);Qi.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var e=this.g,t=this.l,n=this.h||void 0;li(0),e.Y=t,e.na=n||{},e.G=e.aa,e.I=I3(e,null,e.Y),Ob(e)};Qi.prototype.close=function(){NI(this.g)};Qi.prototype.u=function(e){var t=this.g;if(typeof e=="string"){var n={};n.__data__=e,e=n}else this.v&&(n={},n.__data__=xI(e),e=n);t.j.push(new Are(t.fb++,e)),t.H==3&&Ob(t)};Qi.prototype.N=function(){this.g.h=null,delete this.j,NI(this.g),delete this.g,Qi.$.N.call(this)};function k3(e){kI.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=t!==null&&e in t?t[e]:void 0),this.data=t}else this.data=e}Nr(k3,kI);function O3(){OI.call(this),this.status=1}Nr(O3,OI);function Hf(e){this.g=e}Nr(Hf,A3);Hf.prototype.Ba=function(){Ur(this.g,"a")};Hf.prototype.Aa=function(e){Ur(this.g,new k3(e))};Hf.prototype.za=function(e){Ur(this.g,new O3)};Hf.prototype.ya=function(){Ur(this.g,"b")};function Vre(){this.blockSize=-1}function zs(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}Nr(zs,Vre);zs.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0};function C1(e,t,n){n||(n=0);var r=Array(16);if(typeof t=="string")for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],o=t+(s^n&(i^s))+r[0]+3614090360&4294967295;t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[1]+3905402710&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[2]+606105819&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[3]+3250441966&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[4]+4118548399&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[5]+1200080426&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[6]+2821735955&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[7]+4249261313&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[8]+1770035416&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[9]+2336552879&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[10]+4294925233&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[11]+2304563134&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(s^n&(i^s))+r[12]+1804603682&4294967295,t=n+(o<<7&4294967295|o>>>25),o=s+(i^t&(n^i))+r[13]+4254626195&4294967295,s=t+(o<<12&4294967295|o>>>20),o=i+(n^s&(t^n))+r[14]+2792965006&4294967295,i=s+(o<<17&4294967295|o>>>15),o=n+(t^i&(s^t))+r[15]+1236535329&4294967295,n=i+(o<<22&4294967295|o>>>10),o=t+(i^s&(n^i))+r[1]+4129170786&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[6]+3225465664&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[11]+643717713&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[0]+3921069994&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[5]+3593408605&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[10]+38016083&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[15]+3634488961&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[4]+3889429448&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[9]+568446438&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[14]+3275163606&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[3]+4107603335&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[8]+1163531501&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(i^s&(n^i))+r[13]+2850285829&4294967295,t=n+(o<<5&4294967295|o>>>27),o=s+(n^i&(t^n))+r[2]+4243563512&4294967295,s=t+(o<<9&4294967295|o>>>23),o=i+(t^n&(s^t))+r[7]+1735328473&4294967295,i=s+(o<<14&4294967295|o>>>18),o=n+(s^t&(i^s))+r[12]+2368359562&4294967295,n=i+(o<<20&4294967295|o>>>12),o=t+(n^i^s)+r[5]+4294588738&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[8]+2272392833&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[11]+1839030562&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[14]+4259657740&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[1]+2763975236&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[4]+1272893353&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[7]+4139469664&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[10]+3200236656&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[13]+681279174&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[0]+3936430074&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[3]+3572445317&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[6]+76029189&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(n^i^s)+r[9]+3654602809&4294967295,t=n+(o<<4&4294967295|o>>>28),o=s+(t^n^i)+r[12]+3873151461&4294967295,s=t+(o<<11&4294967295|o>>>21),o=i+(s^t^n)+r[15]+530742520&4294967295,i=s+(o<<16&4294967295|o>>>16),o=n+(i^s^t)+r[2]+3299628645&4294967295,n=i+(o<<23&4294967295|o>>>9),o=t+(i^(n|~s))+r[0]+4096336452&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[7]+1126891415&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[14]+2878612391&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[5]+4237533241&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[12]+1700485571&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[3]+2399980690&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[10]+4293915773&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[1]+2240044497&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[8]+1873313359&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[15]+4264355552&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[6]+2734768916&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[13]+1309151649&4294967295,n=i+(o<<21&4294967295|o>>>11),o=t+(i^(n|~s))+r[4]+4149444226&4294967295,t=n+(o<<6&4294967295|o>>>26),o=s+(n^(t|~i))+r[11]+3174756917&4294967295,s=t+(o<<10&4294967295|o>>>22),o=i+(t^(s|~n))+r[2]+718787259&4294967295,i=s+(o<<15&4294967295|o>>>17),o=n+(s^(i|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(o<<21&4294967295|o>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}zs.prototype.j=function(e,t){t===void 0&&(t=e.length);for(var n=t-this.blockSize,r=this.m,i=this.h,s=0;s<t;){if(i==0)for(;s<=n;)C1(this,e,s),s+=this.blockSize;if(typeof e=="string"){for(;s<t;)if(r[i++]=e.charCodeAt(s++),i==this.blockSize){C1(this,r),i=0;break}}else for(;s<t;)if(r[i++]=e[s++],i==this.blockSize){C1(this,r),i=0;break}}this.h=i,this.i+=t};zs.prototype.l=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.i;for(t=e.length-8;t<e.length;++t)e[t]=n&255,n/=256;for(this.j(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};function nn(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=e[i]|0;r&&s==t||(n[i]=s,r=!1)}this.g=n}var Hre={};function FI(e){return-128<=e&&128>e?Xne(e,function(t){return new nn([t|0],0>t?-1:0)}):new nn([e|0],0>e?-1:0)}function lo(e){if(isNaN(e)||!isFinite(e))return Id;if(0>e)return Br(lo(-e));for(var t=[],n=1,r=0;e>=n;r++)t[r]=e/n|0,n*=Q$;return new nn(t,0)}function P3(e,t){if(e.length==0)throw Error("number format error: empty string");if(t=t||10,2>t||36<t)throw Error("radix out of range: "+t);if(e.charAt(0)=="-")return Br(P3(e.substring(1),t));if(0<=e.indexOf("-"))throw Error('number format error: interior "-" character');for(var n=lo(Math.pow(t,8)),r=Id,i=0;i<e.length;i+=8){var s=Math.min(8,e.length-i),o=parseInt(e.substring(i,i+s),t);8>s?(s=lo(Math.pow(t,s)),r=r.R(s).add(lo(o))):(r=r.R(n),r=r.add(lo(o)))}return r}var Q$=4294967296,Id=FI(0),J$=FI(1),mR=FI(16777216);Re=nn.prototype;Re.ea=function(){if(ds(this))return-Br(this).ea();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.D(n);e+=(0<=r?r:Q$+r)*t,t*=Q$}return e};Re.toString=function(e){if(e=e||10,2>e||36<e)throw Error("radix out of range: "+e);if(Go(this))return"0";if(ds(this))return"-"+Br(this).toString(e);for(var t=lo(Math.pow(e,6)),n=this,r="";;){var i=__(n,t).g;n=y_(n,i.R(t));var s=((0<n.g.length?n.g[0]:n.h)>>>0).toString(e);if(n=i,Go(n))return s+r;for(;6>s.length;)s="0"+s;r=s+r}};Re.D=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h};function Go(e){if(e.h!=0)return!1;for(var t=0;t<e.g.length;t++)if(e.g[t]!=0)return!1;return!0}function ds(e){return e.h==-1}Re.X=function(e){return e=y_(this,e),ds(e)?-1:Go(e)?0:1};function Br(e){for(var t=e.g.length,n=[],r=0;r<t;r++)n[r]=~e.g[r];return new nn(n,~e.h).add(J$)}Re.abs=function(){return ds(this)?Br(this):this};Re.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0,i=0;i<=t;i++){var s=r+(this.D(i)&65535)+(e.D(i)&65535),o=(s>>>16)+(this.D(i)>>>16)+(e.D(i)>>>16);r=o>>>16,s&=65535,o&=65535,n[i]=o<<16|s}return new nn(n,n[n.length-1]&-2147483648?-1:0)};function y_(e,t){return e.add(Br(t))}Re.R=function(e){if(Go(this)||Go(e))return Id;if(ds(this))return ds(e)?Br(this).R(Br(e)):Br(Br(this).R(e));if(ds(e))return Br(this.R(Br(e)));if(0>this.X(mR)&&0>e.X(mR))return lo(this.ea()*e.ea());for(var t=this.g.length+e.g.length,n=[],r=0;r<2*t;r++)n[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<e.g.length;i++){var s=this.D(r)>>>16,o=this.D(r)&65535,a=e.D(i)>>>16,l=e.D(i)&65535;n[2*r+2*i]+=o*l,bv(n,2*r+2*i),n[2*r+2*i+1]+=s*l,bv(n,2*r+2*i+1),n[2*r+2*i+1]+=o*a,bv(n,2*r+2*i+1),n[2*r+2*i+2]+=s*a,bv(n,2*r+2*i+2)}for(r=0;r<t;r++)n[r]=n[2*r+1]<<16|n[2*r];for(r=t;r<2*t;r++)n[r]=0;return new nn(n,0)};function bv(e,t){for(;(e[t]&65535)!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function Tp(e,t){this.g=e,this.h=t}function __(e,t){if(Go(t))throw Error("division by zero");if(Go(e))return new Tp(Id,Id);if(ds(e))return t=__(Br(e),t),new Tp(Br(t.g),Br(t.h));if(ds(t))return t=__(e,Br(t)),new Tp(Br(t.g),t.h);if(30<e.g.length){if(ds(e)||ds(t))throw Error("slowDivide_ only works with positive integers.");for(var n=J$,r=t;0>=r.X(e);)n=vR(n),r=vR(r);var i=Wc(n,1),s=Wc(r,1);for(r=Wc(r,2),n=Wc(n,2);!Go(r);){var o=s.add(r);0>=o.X(e)&&(i=i.add(n),s=o),r=Wc(r,1),n=Wc(n,1)}return t=y_(e,i.R(t)),new Tp(i,t)}for(i=Id;0<=e.X(t);){for(n=Math.max(1,Math.floor(e.ea()/t.ea())),r=Math.ceil(Math.log(n)/Math.LN2),r=48>=r?1:Math.pow(2,r-48),s=lo(n),o=s.R(t);ds(o)||0<o.X(e);)n-=r,s=lo(n),o=s.R(t);Go(s)&&(s=J$),i=i.add(s),e=y_(e,o)}return new Tp(i,e)}Re.gb=function(e){return __(this,e).h};Re.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)&e.D(r);return new nn(n,this.h&e.h)};Re.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)|e.D(r);return new nn(n,this.h|e.h)};Re.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],r=0;r<t;r++)n[r]=this.D(r)^e.D(r);return new nn(n,this.h^e.h)};function vR(e){for(var t=e.g.length+1,n=[],r=0;r<t;r++)n[r]=e.D(r)<<1|e.D(r-1)>>>31;return new nn(n,e.h)}function Wc(e,t){var n=t>>5;t%=32;for(var r=e.g.length-n,i=[],s=0;s<r;s++)i[s]=0<t?e.D(s+n)>>>t|e.D(s+n+1)<<32-t:e.D(s+n);return new nn(i,e.h)}v_.prototype.createWebChannel=v_.prototype.g;Qi.prototype.send=Qi.prototype.u;Qi.prototype.open=Qi.prototype.m;Qi.prototype.close=Qi.prototype.close;Sb.NO_ERROR=0;Sb.TIMEOUT=8;Sb.HTTP_ERROR=6;X4.COMPLETE="complete";Q4.EventType=dm;dm.OPEN="a";dm.CLOSE="b";dm.ERROR="c";dm.MESSAGE="d";Rr.prototype.listen=Rr.prototype.O;Yn.prototype.listenOnce=Yn.prototype.P;Yn.prototype.getLastError=Yn.prototype.Sa;Yn.prototype.getLastErrorCode=Yn.prototype.Ia;Yn.prototype.getStatus=Yn.prototype.da;Yn.prototype.getResponseJson=Yn.prototype.Wa;Yn.prototype.getResponseText=Yn.prototype.ja;Yn.prototype.send=Yn.prototype.ha;Yn.prototype.setWithCredentials=Yn.prototype.Oa;zs.prototype.digest=zs.prototype.l;zs.prototype.reset=zs.prototype.reset;zs.prototype.update=zs.prototype.j;nn.prototype.add=nn.prototype.add;nn.prototype.multiply=nn.prototype.R;nn.prototype.modulo=nn.prototype.gb;nn.prototype.compare=nn.prototype.X;nn.prototype.toNumber=nn.prototype.ea;nn.prototype.toString=nn.prototype.toString;nn.prototype.getBits=nn.prototype.D;nn.fromNumber=lo;nn.fromString=P3;var jre=function(){return new v_},Wre=function(){return $b()},A1=Sb,qre=X4,zre=Cc,yR={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},Kre=hm,wv=Q4,Gre=Yn,Yre=zs,Cd=nn;const _R="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kr=class{constructor(t){this.uid=t}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(t){return t.uid===this.uid}};Kr.UNAUTHENTICATED=new Kr(null),Kr.GOOGLE_CREDENTIALS=new Kr("google-credentials-uid"),Kr.FIRST_PARTY=new Kr("first-party-uid"),Kr.MOCK_USER=new Kr("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jf="9.22.1";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ec=new Lf("@firebase/firestore");function bR(){return ec.logLevel}function He(e,...t){if(ec.logLevel<=Bt.DEBUG){const n=t.map(BI);ec.debug(`Firestore (${jf}): ${e}`,...n)}}function ga(e,...t){if(ec.logLevel<=Bt.ERROR){const n=t.map(BI);ec.error(`Firestore (${jf}): ${e}`,...n)}}function of(e,...t){if(ec.logLevel<=Bt.WARN){const n=t.map(BI);ec.warn(`Firestore (${jf}): ${e}`,...n)}}function BI(e){if(typeof e=="string")return e;try{return t=e,JSON.stringify(t)}catch{return e}/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/var t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tt(e="Unexpected state"){const t=`FIRESTORE (${jf}) INTERNAL ASSERTION FAILED: `+e;throw ga(t),new Error(t)}function Pn(e,t){e||tt()}function ct(e,t){return e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const le={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};let Ne=class extends ss{constructor(t,n){super(t,n),this.code=t,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ta=class{constructor(){this.promise=new Promise((t,n)=>{this.resolve=t,this.reject=n})}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let R3=class{constructor(t,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${t}`)}},Xre=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(t,n){t.enqueueRetryable(()=>n(Kr.UNAUTHENTICATED))}shutdown(){}},Qre=class{constructor(t){this.token=t,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(t,n){this.changeListener=n,t.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},Jre=class{constructor(t){this.t=t,this.currentUser=Kr.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(t,n){let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new ta;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new ta,t.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;t.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{He("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.auth.addAuthTokenListener(this.o),o()};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(He("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new ta)}},0),o()}getToken(){const t=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==t?(He("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Pn(typeof r.accessToken=="string"),new R3(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const t=this.auth&&this.auth.getUid();return Pn(t===null||typeof t=="string"),new Kr(t)}},Zre=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r,this.type="FirstParty",this.user=Kr.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const t=this.p();return t&&this.g.set("Authorization",t),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}},eie=class{constructor(t,n,r){this.h=t,this.l=n,this.m=r}getToken(){return Promise.resolve(new Zre(this.h,this.l,this.m))}start(t,n){t.enqueueRetryable(()=>n(Kr.FIRST_PARTY))}shutdown(){}invalidateToken(){}},tie=class{constructor(t){this.value=t,this.type="AppCheck",this.headers=new Map,t&&t.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},nie=class{constructor(t){this.I=t,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(t,n){const r=s=>{s.error!=null&&He("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.T;return this.T=s.token,He("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{t.enqueueRetryable(()=>r(s))};const i=s=>{He("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.appCheck.addTokenListener(this.o)};this.I.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.I.getImmediate({optional:!0});s?i(s):He("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const t=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(t).then(n=>n?(Pn(typeof n.token=="string"),this.T=n.token,new tie(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rie(e){const t=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&typeof t.getRandomValues=="function")t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let D3=class{static A(){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/t.length)*t.length;let r="";for(;r.length<20;){const i=rie(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=t.charAt(i[s]%t.length))}return r}};function zt(e,t){return e<t?-1:e>t?1:0}function af(e,t,n){return e.length===t.length&&e.every((r,i)=>n(r,t[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ui=class ly{constructor(t,n){if(this.seconds=t,this.nanoseconds=n,n<0)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Ne(le.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(t<-62135596800)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t);if(t>=253402300800)throw new Ne(le.INVALID_ARGUMENT,"Timestamp seconds out of range: "+t)}static now(){return ly.fromMillis(Date.now())}static fromDate(t){return ly.fromMillis(t.getTime())}static fromMillis(t){const n=Math.floor(t/1e3),r=Math.floor(1e6*(t-1e3*n));return new ly(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(t){return this.seconds===t.seconds?zt(this.nanoseconds,t.nanoseconds):zt(this.seconds,t.seconds)}isEqual(t){return t.seconds===this.seconds&&t.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const t=this.seconds- -62135596800;return String(t).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vt=class uy{constructor(t){this.timestamp=t}static fromTimestamp(t){return new uy(t)}static min(){return new uy(new ui(0,0))}static max(){return new uy(new ui(253402300799,999999999))}compareTo(t){return this.timestamp._compareTo(t.timestamp)}isEqual(t){return this.timestamp.isEqual(t.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let N3=class Z${constructor(t,n,r){n===void 0?n=0:n>t.length&&tt(),r===void 0?r=t.length-n:r>t.length-n&&tt(),this.segments=t,this.offset=n,this.len=r}get length(){return this.len}isEqual(t){return Z$.comparator(this,t)===0}child(t){const n=this.segments.slice(this.offset,this.limit());return t instanceof Z$?t.forEach(r=>{n.push(r)}):n.push(t),this.construct(n)}limit(){return this.offset+this.length}popFirst(t){return t=t===void 0?1:t,this.construct(this.segments,this.offset+t,this.length-t)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(t){return this.segments[this.offset+t]}isEmpty(){return this.length===0}isPrefixOf(t){if(t.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}isImmediateParentOf(t){if(this.length+1!==t.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==t.get(n))return!1;return!0}forEach(t){for(let n=this.offset,r=this.limit();n<r;n++)t(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(t,n){const r=Math.min(t.length,n.length);for(let i=0;i<r;i++){const s=t.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return t.length<n.length?-1:t.length>n.length?1:0}},er=class cy extends N3{construct(t,n,r){return new cy(t,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...t){const n=[];for(const r of t){if(r.indexOf("//")>=0)throw new Ne(le.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new cy(n)}static emptyPath(){return new cy([])}};const iie=/^[_a-zA-Z][_a-zA-Z0-9]*$/;let vo=class td extends N3{construct(t,n,r){return new td(t,n,r)}static isValidIdentifier(t){return iie.test(t)}canonicalString(){return this.toArray().map(t=>(t=t.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),td.isValidIdentifier(t)||(t="`"+t+"`"),t)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new td(["__name__"])}static fromServerFormat(t){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Ne(le.INVALID_ARGUMENT,`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<t.length;){const a=t[i];if(a==="\\"){if(i+1===t.length)throw new Ne(le.INVALID_ARGUMENT,"Path has trailing escape character: "+t);const l=t[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Ne(le.INVALID_ARGUMENT,"Path has invalid escape sequence: "+t);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Ne(le.INVALID_ARGUMENT,"Unterminated ` in path: "+t);return new td(n)}static emptyPath(){return new td([])}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Je=class Xp{constructor(t){this.path=t}static fromPath(t){return new Xp(er.fromString(t))}static fromName(t){return new Xp(er.fromString(t).popFirst(5))}static empty(){return new Xp(er.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(t){return this.path.length>=2&&this.path.get(this.path.length-2)===t}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(t){return t!==null&&er.comparator(this.path,t.path)===0}toString(){return this.path.toString()}static comparator(t,n){return er.comparator(t.path,n.path)}static isDocumentKey(t){return t.length%2==0}static fromSegments(t){return new Xp(new er(t.slice()))}};function sie(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=vt.fromTimestamp(r===1e9?new ui(n+1,0):new ui(n,r));return new mg(i,Je.empty(),t)}function oie(e){return new mg(e.readTime,e.key,-1)}let mg=class eS{constructor(t,n,r){this.readTime=t,this.documentKey=n,this.largestBatchId=r}static min(){return new eS(vt.min(),Je.empty(),-1)}static max(){return new eS(vt.max(),Je.empty(),-1)}};function aie(e,t){let n=e.readTime.compareTo(t.readTime);return n!==0?n:(n=Je.comparator(e.documentKey,t.documentKey),n!==0?n:zt(e.largestBatchId,t.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lie="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";let uie=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(t){this.onCommittedListeners.push(t)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(t=>t())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vm(e){if(e.code!==le.FAILED_PRECONDITION||e.message!==lie)throw e;He("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Oe=class bi{constructor(t){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,t(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(t){return this.next(void 0,t)}next(t,n){return this.callbackAttached&&tt(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(t,this.result):new bi((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(t,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((t,n)=>{this.next(t,n)})}wrapUserFunction(t){try{const n=t();return n instanceof bi?n:bi.resolve(n)}catch(n){return bi.reject(n)}}wrapSuccess(t,n){return t?this.wrapUserFunction(()=>t(n)):bi.resolve(n)}wrapFailure(t,n){return t?this.wrapUserFunction(()=>t(n)):bi.reject(n)}static resolve(t){return new bi((n,r)=>{n(t)})}static reject(t){return new bi((n,r)=>{r(t)})}static waitFor(t){return new bi((n,r)=>{let i=0,s=0,o=!1;t.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},l=>r(l))}),o=!0,s===i&&n()})}static or(t){let n=bi.resolve(!1);for(const r of t)n=n.next(i=>i?bi.resolve(i):r());return n}static forEach(t,n){const r=[];return t.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(t,n){return new bi((r,i)=>{const s=t.length,o=new Array(s);let a=0;for(let l=0;l<s;l++){const u=l;n(t[u]).next(c=>{o[u]=c,++a,a===s&&r(o)},c=>i(c))}})}static doWhile(t,n){return new bi((r,i)=>{const s=()=>{t()===!0?n().next(()=>{s()},i):r()};s()})}};function ym(e){return e.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let UI=class{constructor(t,n){this.previousValue=t,n&&(n.sequenceNumberHandler=r=>this.ot(r),this.ut=r=>n.writeSequenceNumber(r))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}};UI.ct=-1;function Pb(e){return e==null}function b_(e){return e===0&&1/e==-1/0}function cie(e){return typeof e=="number"&&Number.isInteger(e)&&!b_(e)&&e<=Number.MAX_SAFE_INTEGER&&e>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function Ac(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function M3(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cr=class tS{constructor(t,n){this.comparator=t,this.root=n||yl.EMPTY}insert(t,n){return new tS(this.comparator,this.root.insert(t,n,this.comparator).copy(null,null,yl.BLACK,null,null))}remove(t){return new tS(this.comparator,this.root.remove(t,this.comparator).copy(null,null,yl.BLACK,null,null))}get(t){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(t,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(t){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(t,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(t){return this.root.inorderTraversal(t)}forEach(t){this.inorderTraversal((n,r)=>(t(n,r),!1))}toString(){const t=[];return this.inorderTraversal((n,r)=>(t.push(`${n}:${r}`),!1)),`{${t.join(", ")}}`}reverseTraversal(t){return this.root.reverseTraversal(t)}getIterator(){return new Ev(this.root,null,this.comparator,!1)}getIteratorFrom(t){return new Ev(this.root,t,this.comparator,!1)}getReverseIterator(){return new Ev(this.root,null,this.comparator,!0)}getReverseIteratorFrom(t){return new Ev(this.root,t,this.comparator,!0)}},Ev=class{constructor(t,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!t.isEmpty();)if(s=n?r(t.key,n):1,n&&i&&(s*=-1),s<0)t=this.isReverse?t.left:t.right;else{if(s===0){this.nodeStack.push(t);break}this.nodeStack.push(t),t=this.isReverse?t.right:t.left}}getNext(){let t=this.nodeStack.pop();const n={key:t.key,value:t.value};if(this.isReverse)for(t=t.left;!t.isEmpty();)this.nodeStack.push(t),t=t.right;else for(t=t.right;!t.isEmpty();)this.nodeStack.push(t),t=t.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const t=this.nodeStack[this.nodeStack.length-1];return{key:t.key,value:t.value}}},yl=class Ho{constructor(t,n,r,i,s){this.key=t,this.value=n,this.color=r??Ho.RED,this.left=i??Ho.EMPTY,this.right=s??Ho.EMPTY,this.size=this.left.size+1+this.right.size}copy(t,n,r,i,s){return new Ho(t??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,n,r){let i=this;const s=r(t,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(t,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(t,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Ho.EMPTY;let t=this;return t.left.isRed()||t.left.left.isRed()||(t=t.moveRedLeft()),t=t.copy(null,null,null,t.left.removeMin(),null),t.fixUp()}remove(t,n){let r,i=this;if(n(t,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(t,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(t,i.key)===0){if(i.right.isEmpty())return Ho.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(t,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let t=this;return t.right.isRed()&&!t.left.isRed()&&(t=t.rotateLeft()),t.left.isRed()&&t.left.left.isRed()&&(t=t.rotateRight()),t.left.isRed()&&t.right.isRed()&&(t=t.colorFlip()),t}moveRedLeft(){let t=this.colorFlip();return t.right.left.isRed()&&(t=t.copy(null,null,null,null,t.right.rotateRight()),t=t.rotateLeft(),t=t.colorFlip()),t}moveRedRight(){let t=this.colorFlip();return t.left.left.isRed()&&(t=t.rotateRight(),t=t.colorFlip()),t}rotateLeft(){const t=this.copy(null,null,Ho.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight(){const t=this.copy(null,null,Ho.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip(){const t=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,n)}checkMaxDepth(){const t=this.check();return Math.pow(2,t)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw tt();const t=this.left.check();if(t!==this.right.check())throw tt();return t+(this.isRed()?0:1)}};yl.EMPTY=null,yl.RED=!0,yl.BLACK=!1;yl.EMPTY=new class{constructor(){this.size=0}get key(){throw tt()}get value(){throw tt()}get color(){throw tt()}get left(){throw tt()}get right(){throw tt()}copy(e,t,n,r,i){return this}insert(e,t,n){return new yl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Yi=class nS{constructor(t){this.comparator=t,this.data=new cr(this.comparator)}has(t){return this.data.get(t)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(t){return this.data.indexOf(t)}forEach(t){this.data.inorderTraversal((n,r)=>(t(n),!1))}forEachInRange(t,n){const r=this.data.getIteratorFrom(t[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,t[1])>=0)return;n(i.key)}}forEachWhile(t,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!t(r.getNext().key))return}firstAfterOrEqual(t){const n=this.data.getIteratorFrom(t);return n.hasNext()?n.getNext().key:null}getIterator(){return new ER(this.data.getIterator())}getIteratorFrom(t){return new ER(this.data.getIteratorFrom(t))}add(t){return this.copy(this.data.remove(t).insert(t,!0))}delete(t){return this.has(t)?this.copy(this.data.remove(t)):this}isEmpty(){return this.data.isEmpty()}unionWith(t){let n=this;return n.size<t.size&&(n=t,t=this),t.forEach(r=>{n=n.add(r)}),n}isEqual(t){if(!(t instanceof nS)||this.size!==t.size)return!1;const n=this.data.getIterator(),r=t.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const t=[];return this.forEach(n=>{t.push(n)}),t}toString(){const t=[];return this.forEach(n=>t.push(n)),"SortedSet("+t.toString()+")"}copy(t){const n=new nS(this.comparator);return n.data=t,n}},ER=class{constructor(t){this.iter=t}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let uo=class rS{constructor(t){this.fields=t,t.sort(vo.comparator)}static empty(){return new rS([])}unionWith(t){let n=new Yi(vo.comparator);for(const r of this.fields)n=n.add(r);for(const r of t)n=n.add(r);return new rS(n.toArray())}covers(t){for(const n of this.fields)if(n.isPrefixOf(t))return!0;return!1}isEqual(t){return af(this.fields,t.fields,(n,r)=>n.isEqual(r))}};/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let L3=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ji=class iS{constructor(t){this.binaryString=t}static fromBase64String(t){const n=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new L3("Invalid base64 string: "+i):i}}(t);return new iS(n)}static fromUint8Array(t){const n=function(r){let i="";for(let s=0;s<r.length;++s)i+=String.fromCharCode(r[s]);return i}(t);return new iS(n)}[Symbol.iterator](){let t=0;return{next:()=>t<this.binaryString.length?{value:this.binaryString.charCodeAt(t++),done:!1}:{value:void 0,done:!0}}}toBase64(){return t=this.binaryString,btoa(t);var t}toUint8Array(){return function(t){const n=new Uint8Array(t.length);for(let r=0;r<t.length;r++)n[r]=t.charCodeAt(r);return n}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(t){return zt(this.binaryString,t.binaryString)}isEqual(t){return this.binaryString===t.binaryString}};Ji.EMPTY_BYTE_STRING=new Ji("");const die=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Rl(e){if(Pn(!!e),typeof e=="string"){let t=0;const n=die.exec(e);if(Pn(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),t=Number(i)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:ar(e.seconds),nanos:ar(e.nanos)}}function ar(e){return typeof e=="number"?e:typeof e=="string"?Number(e):0}function tc(e){return typeof e=="string"?Ji.fromBase64String(e):Ji.fromUint8Array(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VI(e){var t,n;return((n=(((t=e==null?void 0:e.mapValue)===null||t===void 0?void 0:t.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function HI(e){const t=e.mapValue.fields.__previous_value__;return VI(t)?HI(t):t}function vg(e){const t=Rl(e.mapValue.fields.__local_write_time__.timestampValue);return new ui(t.seconds,t.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let fie=class{constructor(t,n,r,i,s,o,a,l,u){this.databaseId=t,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=u}},F3=class sS{constructor(t,n){this.projectId=t,this.database=n||"(default)"}static empty(){return new sS("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(t){return t instanceof sS&&t.projectId===this.projectId&&t.database===this.database}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $v={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function nc(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?VI(e)?4:pie(e)?9007199254740991:10:tt()}function yo(e,t){if(e===t)return!0;const n=nc(e);if(n!==nc(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return vg(e).isEqual(vg(t));case 3:return function(r,i){if(typeof r.timestampValue=="string"&&typeof i.timestampValue=="string"&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const s=Rl(r.timestampValue),o=Rl(i.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(r,i){return tc(r.bytesValue).isEqual(tc(i.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(r,i){return ar(r.geoPointValue.latitude)===ar(i.geoPointValue.latitude)&&ar(r.geoPointValue.longitude)===ar(i.geoPointValue.longitude)}(e,t);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return ar(r.integerValue)===ar(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const s=ar(r.doubleValue),o=ar(i.doubleValue);return s===o?b_(s)===b_(o):isNaN(s)&&isNaN(o)}return!1}(e,t);case 9:return af(e.arrayValue.values||[],t.arrayValue.values||[],yo);case 10:return function(r,i){const s=r.mapValue.fields||{},o=i.mapValue.fields||{};if(wR(s)!==wR(o))return!1;for(const a in s)if(s.hasOwnProperty(a)&&(o[a]===void 0||!yo(s[a],o[a])))return!1;return!0}(e,t);default:return tt()}}function yg(e,t){return(e.values||[]).find(n=>yo(n,t))!==void 0}function lf(e,t){if(e===t)return 0;const n=nc(e),r=nc(t);if(n!==r)return zt(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return zt(e.booleanValue,t.booleanValue);case 2:return function(i,s){const o=ar(i.integerValue||i.doubleValue),a=ar(s.integerValue||s.doubleValue);return o<a?-1:o>a?1:o===a?0:isNaN(o)?isNaN(a)?0:-1:1}(e,t);case 3:return $R(e.timestampValue,t.timestampValue);case 4:return $R(vg(e),vg(t));case 5:return zt(e.stringValue,t.stringValue);case 6:return function(i,s){const o=tc(i),a=tc(s);return o.compareTo(a)}(e.bytesValue,t.bytesValue);case 7:return function(i,s){const o=i.split("/"),a=s.split("/");for(let l=0;l<o.length&&l<a.length;l++){const u=zt(o[l],a[l]);if(u!==0)return u}return zt(o.length,a.length)}(e.referenceValue,t.referenceValue);case 8:return function(i,s){const o=zt(ar(i.latitude),ar(s.latitude));return o!==0?o:zt(ar(i.longitude),ar(s.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return function(i,s){const o=i.values||[],a=s.values||[];for(let l=0;l<o.length&&l<a.length;++l){const u=lf(o[l],a[l]);if(u)return u}return zt(o.length,a.length)}(e.arrayValue,t.arrayValue);case 10:return function(i,s){if(i===$v.mapValue&&s===$v.mapValue)return 0;if(i===$v.mapValue)return 1;if(s===$v.mapValue)return-1;const o=i.fields||{},a=Object.keys(o),l=s.fields||{},u=Object.keys(l);a.sort(),u.sort();for(let c=0;c<a.length&&c<u.length;++c){const d=zt(a[c],u[c]);if(d!==0)return d;const f=lf(o[a[c]],l[u[c]]);if(f!==0)return f}return zt(a.length,u.length)}(e.mapValue,t.mapValue);default:throw tt()}}function $R(e,t){if(typeof e=="string"&&typeof t=="string"&&e.length===t.length)return zt(e,t);const n=Rl(e),r=Rl(t),i=zt(n.seconds,r.seconds);return i!==0?i:zt(n.nanos,r.nanos)}function uf(e){return oS(e)}function oS(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(r){const i=Rl(r);return`time(${i.seconds},${i.nanos})`}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?tc(e.bytesValue).toBase64():"referenceValue"in e?(n=e.referenceValue,Je.fromName(n).toString()):"geoPointValue"in e?`geo(${(t=e.geoPointValue).latitude},${t.longitude})`:"arrayValue"in e?function(r){let i="[",s=!0;for(const o of r.values||[])s?s=!1:i+=",",i+=oS(o);return i+"]"}(e.arrayValue):"mapValue"in e?function(r){const i=Object.keys(r.fields||{}).sort();let s="{",o=!0;for(const a of i)o?o=!1:s+=",",s+=`${a}:${oS(r.fields[a])}`;return s+"}"}(e.mapValue):tt();var t,n}function SR(e,t){return{referenceValue:`projects/${e.projectId}/databases/${e.database}/documents/${t.path.canonicalString()}`}}function aS(e){return!!e&&"integerValue"in e}function jI(e){return!!e&&"arrayValue"in e}function xR(e){return!!e&&"nullValue"in e}function TR(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function dy(e){return!!e&&"mapValue"in e}function yh(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&typeof e.timestampValue=="object")return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return Ac(e.mapValue.fields,(n,r)=>t.mapValue.fields[n]=yh(r)),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=yh(e.arrayValue.values[n]);return t}return Object.assign({},e)}function pie(e){return(((e.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $i{constructor(t){this.value=t}static empty(){return new $i({mapValue:{}})}field(t){if(t.isEmpty())return this.value;{let n=this.value;for(let r=0;r<t.length-1;++r)if(n=(n.mapValue.fields||{})[t.get(r)],!dy(n))return null;return n=(n.mapValue.fields||{})[t.lastSegment()],n||null}}set(t,n){this.getFieldsMap(t.popLast())[t.lastSegment()]=yh(n)}setAll(t){let n=vo.emptyPath(),r={},i=[];t.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=yh(o):i.push(a.lastSegment())});const s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(t){const n=this.field(t.popLast());dy(n)&&n.mapValue.fields&&delete n.mapValue.fields[t.lastSegment()]}isEqual(t){return yo(this.value,t.value)}getFieldsMap(t){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<t.length;++r){let i=n.mapValue.fields[t.get(r)];dy(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[t.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(t,n,r){Ac(n,(i,s)=>t[i]=s);for(const i of r)delete t[i]}clone(){return new $i(yh(this.value))}}function B3(e){const t=[];return Ac(e.fields,(n,r)=>{const i=new vo([n]);if(dy(r)){const s=B3(r.mapValue).fields;if(s.length===0)t.push(i);else for(const o of s)t.push(i.child(o))}else t.push(i)}),new uo(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xr{constructor(t,n,r,i,s,o,a){this.key=t,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(t){return new Xr(t,0,vt.min(),vt.min(),vt.min(),$i.empty(),0)}static newFoundDocument(t,n,r,i){return new Xr(t,1,n,vt.min(),r,i,0)}static newNoDocument(t,n){return new Xr(t,2,n,vt.min(),vt.min(),$i.empty(),0)}static newUnknownDocument(t,n){return new Xr(t,3,n,vt.min(),vt.min(),$i.empty(),2)}convertToFoundDocument(t,n){return!this.createTime.isEqual(vt.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=t),this.version=t,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(t){return this.version=t,this.documentType=2,this.data=$i.empty(),this.documentState=0,this}convertToUnknownDocument(t){return this.version=t,this.documentType=3,this.data=$i.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=vt.min(),this}setReadTime(t){return this.readTime=t,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(t){return t instanceof Xr&&this.key.isEqual(t.key)&&this.version.isEqual(t.version)&&this.documentType===t.documentType&&this.documentState===t.documentState&&this.data.isEqual(t.data)}mutableCopy(){return new Xr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w_{constructor(t,n){this.position=t,this.inclusive=n}}function IR(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],o=e.position[i];if(s.field.isKeyField()?r=Je.comparator(Je.fromName(o.referenceValue),n.key):r=lf(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function CR(e,t){if(e===null)return t===null;if(t===null||e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!yo(e.position[n],t.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ad{constructor(t,n="asc"){this.field=t,this.dir=n}}function hie(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let U3=class{},Ar=class V3 extends U3{constructor(t,n,r){super(),this.field=t,this.op=n,this.value=r}static create(t,n,r){return t.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(t,n,r):new mie(t,n,r):n==="array-contains"?new _ie(t,r):n==="in"?new bie(t,r):n==="not-in"?new wie(t,r):n==="array-contains-any"?new Eie(t,r):new V3(t,n,r)}static createKeyFieldInFilter(t,n,r){return n==="in"?new vie(t,r):new yie(t,r)}matches(t){const n=t.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(lf(n,this.value)):n!==null&&nc(this.value)===nc(n)&&this.matchesComparison(lf(n,this.value))}matchesComparison(t){switch(this.op){case"<":return t<0;case"<=":return t<=0;case"==":return t===0;case"!=":return t!==0;case">":return t>0;case">=":return t>=0;default:return tt()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}},ma=class H3 extends U3{constructor(t,n){super(),this.filters=t,this.op=n,this.lt=null}static create(t,n){return new H3(t,n)}matches(t){return j3(this)?this.filters.find(n=>!n.matches(t))===void 0:this.filters.find(n=>n.matches(t))!==void 0}getFlattenedFilters(){return this.lt!==null||(this.lt=this.filters.reduce((t,n)=>t.concat(n.getFlattenedFilters()),[])),this.lt}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const t=this.ft(n=>n.isInequality());return t!==null?t.field:null}ft(t){for(const n of this.getFlattenedFilters())if(t(n))return n;return null}};function j3(e){return e.op==="and"}function W3(e){return gie(e)&&j3(e)}function gie(e){for(const t of e.filters)if(t instanceof ma)return!1;return!0}function lS(e){if(e instanceof Ar)return e.field.canonicalString()+e.op.toString()+uf(e.value);if(W3(e))return e.filters.map(t=>lS(t)).join(",");{const t=e.filters.map(n=>lS(n)).join(",");return`${e.op}(${t})`}}function q3(e,t){return e instanceof Ar?function(n,r){return r instanceof Ar&&n.op===r.op&&n.field.isEqual(r.field)&&yo(n.value,r.value)}(e,t):e instanceof ma?function(n,r){return r instanceof ma&&n.op===r.op&&n.filters.length===r.filters.length?n.filters.reduce((i,s,o)=>i&&q3(s,r.filters[o]),!0):!1}(e,t):void tt()}function z3(e){return e instanceof Ar?function(t){return`${t.field.canonicalString()} ${t.op} ${uf(t.value)}`}(e):e instanceof ma?function(t){return t.op.toString()+" {"+t.getFilters().map(z3).join(" ,")+"}"}(e):"Filter"}let mie=class extends Ar{constructor(t,n,r){super(t,n,r),this.key=Je.fromName(r.referenceValue)}matches(t){const n=Je.comparator(t.key,this.key);return this.matchesComparison(n)}},vie=class extends Ar{constructor(t,n){super(t,"in",n),this.keys=K3("in",n)}matches(t){return this.keys.some(n=>n.isEqual(t.key))}},yie=class extends Ar{constructor(t,n){super(t,"not-in",n),this.keys=K3("not-in",n)}matches(t){return!this.keys.some(n=>n.isEqual(t.key))}};function K3(e,t){var n;return(((n=t.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Je.fromName(r.referenceValue))}let _ie=class extends Ar{constructor(t,n){super(t,"array-contains",n)}matches(t){const n=t.data.field(this.field);return jI(n)&&yg(n.arrayValue,this.value)}},bie=class extends Ar{constructor(t,n){super(t,"in",n)}matches(t){const n=t.data.field(this.field);return n!==null&&yg(this.value.arrayValue,n)}},wie=class extends Ar{constructor(t,n){super(t,"not-in",n)}matches(t){if(yg(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=t.data.field(this.field);return n!==null&&!yg(this.value.arrayValue,n)}},Eie=class extends Ar{constructor(t,n){super(t,"array-contains-any",n)}matches(t){const n=t.data.field(this.field);return!(!jI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>yg(this.value.arrayValue,r))}};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $ie=class{constructor(t,n=null,r=[],i=[],s=null,o=null,a=null){this.path=t,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.dt=null}};function AR(e,t=null,n=[],r=[],i=null,s=null,o=null){return new $ie(e,t,n,r,i,s,o)}function WI(e){const t=ct(e);if(t.dt===null){let n=t.path.canonicalString();t.collectionGroup!==null&&(n+="|cg:"+t.collectionGroup),n+="|f:",n+=t.filters.map(r=>lS(r)).join(","),n+="|ob:",n+=t.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Pb(t.limit)||(n+="|l:",n+=t.limit),t.startAt&&(n+="|lb:",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>uf(r)).join(",")),t.endAt&&(n+="|ub:",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>uf(r)).join(",")),t.dt=n}return t.dt}function qI(e,t){if(e.limit!==t.limit||e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!hie(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!q3(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!CR(e.startAt,t.startAt)&&CR(e.endAt,t.endAt)}function uS(e){return Je.isDocumentKey(e.path)&&e.collectionGroup===null&&e.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Wf=class{constructor(t,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=t,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.wt=null,this._t=null,this.startAt,this.endAt}};function Sie(e,t,n,r,i,s,o,a){return new Wf(e,t,n,r,i,s,o,a)}function Rb(e){return new Wf(e)}function kR(e){return e.filters.length===0&&e.limit===null&&e.startAt==null&&e.endAt==null&&(e.explicitOrderBy.length===0||e.explicitOrderBy.length===1&&e.explicitOrderBy[0].field.isKeyField())}function zI(e){return e.explicitOrderBy.length>0?e.explicitOrderBy[0].field:null}function Db(e){for(const t of e.filters){const n=t.getFirstInequalityField();if(n!==null)return n}return null}function G3(e){return e.collectionGroup!==null}function kd(e){const t=ct(e);if(t.wt===null){t.wt=[];const n=Db(t),r=zI(t);if(n!==null&&r===null)n.isKeyField()||t.wt.push(new Ad(n)),t.wt.push(new Ad(vo.keyField(),"asc"));else{let i=!1;for(const s of t.explicitOrderBy)t.wt.push(s),s.field.isKeyField()&&(i=!0);if(!i){const s=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc";t.wt.push(new Ad(vo.keyField(),s))}}}return t.wt}function va(e){const t=ct(e);if(!t._t)if(t.limitType==="F")t._t=AR(t.path,t.collectionGroup,kd(t),t.filters,t.limit,t.startAt,t.endAt);else{const n=[];for(const s of kd(t)){const o=s.dir==="desc"?"asc":"desc";n.push(new Ad(s.field,o))}const r=t.endAt?new w_(t.endAt.position,t.endAt.inclusive):null,i=t.startAt?new w_(t.startAt.position,t.startAt.inclusive):null;t._t=AR(t.path,t.collectionGroup,n,t.filters,t.limit,r,i)}return t._t}function cS(e,t){t.getFirstInequalityField(),Db(e);const n=e.filters.concat([t]);return new Wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),n,e.limit,e.limitType,e.startAt,e.endAt)}function E_(e,t,n){return new Wf(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function Nb(e,t){return qI(va(e),va(t))&&e.limitType===t.limitType}function Y3(e){return`${WI(va(e))}|lt:${e.limitType}`}function dS(e){return`Query(target=${function(t){let n=t.path.canonicalString();return t.collectionGroup!==null&&(n+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(n+=`, filters: [${t.filters.map(r=>z3(r)).join(", ")}]`),Pb(t.limit)||(n+=", limit: "+t.limit),t.orderBy.length>0&&(n+=`, orderBy: [${t.orderBy.map(r=>function(i){return`${i.field.canonicalString()} (${i.dir})`}(r)).join(", ")}]`),t.startAt&&(n+=", startAt: ",n+=t.startAt.inclusive?"b:":"a:",n+=t.startAt.position.map(r=>uf(r)).join(",")),t.endAt&&(n+=", endAt: ",n+=t.endAt.inclusive?"a:":"b:",n+=t.endAt.position.map(r=>uf(r)).join(",")),`Target(${n})`}(va(e))}; limitType=${e.limitType})`}function Mb(e,t){return t.isFoundDocument()&&function(n,r){const i=r.key.path;return n.collectionGroup!==null?r.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(i):Je.isDocumentKey(n.path)?n.path.isEqual(i):n.path.isImmediateParentOf(i)}(e,t)&&function(n,r){for(const i of kd(n))if(!i.field.isKeyField()&&r.data.field(i.field)===null)return!1;return!0}(e,t)&&function(n,r){for(const i of n.filters)if(!i.matches(r))return!1;return!0}(e,t)&&function(n,r){return!(n.startAt&&!function(i,s,o){const a=IR(i,s,o);return i.inclusive?a<=0:a<0}(n.startAt,kd(n),r)||n.endAt&&!function(i,s,o){const a=IR(i,s,o);return i.inclusive?a>=0:a>0}(n.endAt,kd(n),r))}(e,t)}function xie(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function X3(e){return(t,n)=>{let r=!1;for(const i of kd(e)){const s=Tie(i,t,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function Tie(e,t,n){const r=e.field.isKeyField()?Je.comparator(t.key,n.key):function(i,s,o){const a=s.data.field(i),l=o.data.field(i);return a!==null&&l!==null?lf(a,l):tt()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return tt()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qf=class{constructor(t,n){this.mapKeyFn=t,this.equalsFn=n,this.inner={},this.innerSize=0}get(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,t))return s}}has(t){return this.get(t)!==void 0}set(t,n){const r=this.mapKeyFn(t),i=this.inner[r];if(i===void 0)return this.inner[r]=[[t,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],t))return void(i[s]=[t,n]);i.push([t,n]),this.innerSize++}delete(t){const n=this.mapKeyFn(t),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],t))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(t){Ac(this.inner,(n,r)=>{for(const[i,s]of r)t(i,s)})}isEmpty(){return M3(this.inner)}size(){return this.innerSize}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iie=new cr(Je.comparator);function ya(){return Iie}const Q3=new cr(Je.comparator);function Qp(...e){let t=Q3;for(const n of e)t=t.insert(n.key,n);return t}function J3(e){let t=Q3;return e.forEach((n,r)=>t=t.insert(n,r.overlayedDocument)),t}function Tu(){return _h()}function Z3(){return _h()}function _h(){return new qf(e=>e.toString(),(e,t)=>e.isEqual(t))}const Cie=new cr(Je.comparator),Aie=new Yi(Je.comparator);function Ct(...e){let t=Aie;for(const n of e)t=t.add(n);return t}const kie=new Yi(zt);function Oie(){return kie}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eV(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:b_(t)?"-0":t}}function tV(e){return{integerValue:""+e}}function Pie(e,t){return cie(t)?tV(t):eV(e,t)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Lb=class{constructor(){this._=void 0}};function Rie(e,t,n){return e instanceof $_?function(r,i){const s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&VI(i)&&(i=HI(i)),i&&(s.fields.__previous_value__=i),{mapValue:s}}(n,t):e instanceof _g?rV(e,t):e instanceof bg?iV(e,t):function(r,i){const s=nV(r,i),o=OR(s)+OR(r.gt);return aS(s)&&aS(r.gt)?tV(o):eV(r.serializer,o)}(e,t)}function Die(e,t,n){return e instanceof _g?rV(e,t):e instanceof bg?iV(e,t):n}function nV(e,t){return e instanceof S_?aS(n=t)||function(r){return!!r&&"doubleValue"in r}(n)?t:{integerValue:0}:null;var n}let $_=class extends Lb{},_g=class extends Lb{constructor(t){super(),this.elements=t}};function rV(e,t){const n=sV(t);for(const r of e.elements)n.some(i=>yo(i,r))||n.push(r);return{arrayValue:{values:n}}}let bg=class extends Lb{constructor(t){super(),this.elements=t}};function iV(e,t){let n=sV(t);for(const r of e.elements)n=n.filter(i=>!yo(i,r));return{arrayValue:{values:n}}}let S_=class extends Lb{constructor(t,n){super(),this.serializer=t,this.gt=n}};function OR(e){return ar(e.integerValue||e.doubleValue)}function sV(e){return jI(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}function Nie(e,t){return e.field.isEqual(t.field)&&function(n,r){return n instanceof _g&&r instanceof _g||n instanceof bg&&r instanceof bg?af(n.elements,r.elements,yo):n instanceof S_&&r instanceof S_?yo(n.gt,r.gt):n instanceof $_&&r instanceof $_}(e.transform,t.transform)}let Mie=class{constructor(t,n){this.version=t,this.transformResults=n}},Od=class fy{constructor(t,n){this.updateTime=t,this.exists=n}static none(){return new fy}static exists(t){return new fy(void 0,t)}static updateTime(t){return new fy(t)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(t){return this.exists===t.exists&&(this.updateTime?!!t.updateTime&&this.updateTime.isEqual(t.updateTime):!t.updateTime)}};function py(e,t){return e.updateTime!==void 0?t.isFoundDocument()&&t.version.isEqual(e.updateTime):e.exists===void 0||e.exists===t.isFoundDocument()}let Fb=class{};function oV(e,t){if(!e.hasLocalMutations||t&&t.fields.length===0)return null;if(t===null)return e.isNoDocument()?new lV(e.key,Od.none()):new _m(e.key,e.data,Od.none());{const n=e.data,r=$i.empty();let i=new Yi(vo.comparator);for(let s of t.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new zl(e.key,r,new uo(i.toArray()),Od.none())}}function Lie(e,t,n){e instanceof _m?function(r,i,s){const o=r.value.clone(),a=RR(r.fieldTransforms,i,s.transformResults);o.setAll(a),i.convertToFoundDocument(s.version,o).setHasCommittedMutations()}(e,t,n):e instanceof zl?function(r,i,s){if(!py(r.precondition,i))return void i.convertToUnknownDocument(s.version);const o=RR(r.fieldTransforms,i,s.transformResults),a=i.data;a.setAll(aV(r)),a.setAll(o),i.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(e,t,n):function(r,i,s){i.convertToNoDocument(s.version).setHasCommittedMutations()}(0,t,n)}function bh(e,t,n,r){return e instanceof _m?function(i,s,o,a){if(!py(i.precondition,s))return o;const l=i.value.clone(),u=DR(i.fieldTransforms,a,s);return l.setAll(u),s.convertToFoundDocument(s.version,l).setHasLocalMutations(),null}(e,t,n,r):e instanceof zl?function(i,s,o,a){if(!py(i.precondition,s))return o;const l=DR(i.fieldTransforms,a,s),u=s.data;return u.setAll(aV(i)),u.setAll(l),s.convertToFoundDocument(s.version,u).setHasLocalMutations(),o===null?null:o.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(c=>c.field))}(e,t,n,r):function(i,s,o){return py(i.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o}(e,t,n)}function Fie(e,t){let n=null;for(const r of e.fieldTransforms){const i=t.data.field(r.field),s=nV(r.transform,i||null);s!=null&&(n===null&&(n=$i.empty()),n.set(r.field,s))}return n||null}function PR(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(n,r){return n===void 0&&r===void 0||!(!n||!r)&&af(n,r,(i,s)=>Nie(i,s))}(e.fieldTransforms,t.fieldTransforms)&&(e.type===0?e.value.isEqual(t.value):e.type!==1||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}let _m=class extends Fb{constructor(t,n,r,i=[]){super(),this.key=t,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},zl=class extends Fb{constructor(t,n,r,i,s=[]){super(),this.key=t,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function aV(e){const t=new Map;return e.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}}),t}function RR(e,t,n){const r=new Map;Pn(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],o=s.transform,a=t.data.field(s.field);r.set(s.field,Die(o,a,n[i]))}return r}function DR(e,t,n){const r=new Map;for(const i of e){const s=i.transform,o=n.data.field(i.field);r.set(i.field,Rie(s,o,t))}return r}let lV=class extends Fb{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},Bie=class extends Fb{constructor(t,n){super(),this.key=t,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Uie=class{constructor(t,n,r,i){this.batchId=t,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(t,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(t.key)&&Lie(s,t,r[i])}}applyToLocalView(t,n){for(const r of this.baseMutations)r.key.isEqual(t.key)&&(n=bh(r,t,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(t.key)&&(n=bh(r,t,n,this.localWriteTime));return n}applyToLocalDocumentSet(t,n){const r=Z3();return this.mutations.forEach(i=>{const s=t.get(i.key),o=s.overlayedDocument;let a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;const l=oV(o,a);l!==null&&r.set(i.key,l),o.isValidDocument()||o.convertToNoDocument(vt.min())}),r}keys(){return this.mutations.reduce((t,n)=>t.add(n.key),Ct())}isEqual(t){return this.batchId===t.batchId&&af(this.mutations,t.mutations,(n,r)=>PR(n,r))&&af(this.baseMutations,t.baseMutations,(n,r)=>PR(n,r))}},Vie=class uV{constructor(t,n,r,i){this.batch=t,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(t,n,r){Pn(t.mutations.length===r.length);let i=Cie;const s=t.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new uV(t,n,r,i)}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hie=class{constructor(t,n){this.largestBatchId=t,this.mutation=n}getKey(){return this.mutation.key}isEqual(t){return t!==null&&this.mutation===t.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jie=class{constructor(t,n){this.count=t,this.unchangedNames=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var or,Dt;function Wie(e){switch(e){default:return tt();case le.CANCELLED:case le.UNKNOWN:case le.DEADLINE_EXCEEDED:case le.RESOURCE_EXHAUSTED:case le.INTERNAL:case le.UNAVAILABLE:case le.UNAUTHENTICATED:return!1;case le.INVALID_ARGUMENT:case le.NOT_FOUND:case le.ALREADY_EXISTS:case le.PERMISSION_DENIED:case le.FAILED_PRECONDITION:case le.ABORTED:case le.OUT_OF_RANGE:case le.UNIMPLEMENTED:case le.DATA_LOSS:return!0}}function cV(e){if(e===void 0)return ga("GRPC error has no .code"),le.UNKNOWN;switch(e){case or.OK:return le.OK;case or.CANCELLED:return le.CANCELLED;case or.UNKNOWN:return le.UNKNOWN;case or.DEADLINE_EXCEEDED:return le.DEADLINE_EXCEEDED;case or.RESOURCE_EXHAUSTED:return le.RESOURCE_EXHAUSTED;case or.INTERNAL:return le.INTERNAL;case or.UNAVAILABLE:return le.UNAVAILABLE;case or.UNAUTHENTICATED:return le.UNAUTHENTICATED;case or.INVALID_ARGUMENT:return le.INVALID_ARGUMENT;case or.NOT_FOUND:return le.NOT_FOUND;case or.ALREADY_EXISTS:return le.ALREADY_EXISTS;case or.PERMISSION_DENIED:return le.PERMISSION_DENIED;case or.FAILED_PRECONDITION:return le.FAILED_PRECONDITION;case or.ABORTED:return le.ABORTED;case or.OUT_OF_RANGE:return le.OUT_OF_RANGE;case or.UNIMPLEMENTED:return le.UNIMPLEMENTED;case or.DATA_LOSS:return le.DATA_LOSS;default:return tt()}}(Dt=or||(or={}))[Dt.OK=0]="OK",Dt[Dt.CANCELLED=1]="CANCELLED",Dt[Dt.UNKNOWN=2]="UNKNOWN",Dt[Dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Dt[Dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Dt[Dt.NOT_FOUND=5]="NOT_FOUND",Dt[Dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Dt[Dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Dt[Dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Dt[Dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Dt[Dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Dt[Dt.ABORTED=10]="ABORTED",Dt[Dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Dt[Dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Dt[Dt.INTERNAL=13]="INTERNAL",Dt[Dt.UNAVAILABLE=14]="UNAVAILABLE",Dt[Dt.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qie=class dV{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return Sv}static getOrCreateInstance(){return Sv===null&&(Sv=new dV),Sv}onExistenceFilterMismatch(t){const n=Symbol();return this.onExistenceFilterMismatchCallbacks.set(n,t),()=>this.onExistenceFilterMismatchCallbacks.delete(n)}notifyOnExistenceFilterMismatch(t){this.onExistenceFilterMismatchCallbacks.forEach(n=>n(t))}},Sv=null;/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zie(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kie=new Cd([4294967295,4294967295],0);function NR(e){const t=zie().encode(e),n=new Yre;return n.update(t),new Uint8Array(n.digest())}function MR(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Cd([n,r],0),new Cd([i,s],0)]}let Gie=class fV{constructor(t,n,r){if(this.bitmap=t,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Jp(`Invalid padding: ${n}`);if(r<0)throw new Jp(`Invalid hash count: ${r}`);if(t.length>0&&this.hashCount===0)throw new Jp(`Invalid hash count: ${r}`);if(t.length===0&&n!==0)throw new Jp(`Invalid padding when bitmap length is 0: ${n}`);this.It=8*t.length-n,this.Tt=Cd.fromNumber(this.It)}Et(t,n,r){let i=t.add(n.multiply(Cd.fromNumber(r)));return i.compare(Kie)===1&&(i=new Cd([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Tt).toNumber()}At(t){return(this.bitmap[Math.floor(t/8)]&1<<t%8)!=0}vt(t){if(this.It===0)return!1;const n=NR(t),[r,i]=MR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);if(!this.At(o))return!1}return!0}static create(t,n,r){const i=t%8==0?0:8-t%8,s=new Uint8Array(Math.ceil(t/8)),o=new fV(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(t){if(this.It===0)return;const n=NR(t),[r,i]=MR(n);for(let s=0;s<this.hashCount;s++){const o=this.Et(r,i,s);this.Rt(o)}}Rt(t){const n=Math.floor(t/8),r=t%8;this.bitmap[n]|=1<<r}},Jp=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pV=class hV{constructor(t,n,r,i,s){this.snapshotVersion=t,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(t,n,r){const i=new Map;return i.set(t,KI.createSynthesizedTargetChangeForCurrentChange(t,n,r)),new hV(vt.min(),i,new cr(zt),ya(),Ct())}},KI=class gV{constructor(t,n,r,i,s){this.resumeToken=t,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(t,n,r){return new gV(r,n,Ct(),Ct(),Ct())}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let hy=class{constructor(t,n,r,i){this.Pt=t,this.removedTargetIds=n,this.key=r,this.bt=i}},mV=class{constructor(t,n){this.targetId=t,this.Vt=n}},vV=class{constructor(t,n,r=Ji.EMPTY_BYTE_STRING,i=null){this.state=t,this.targetIds=n,this.resumeToken=r,this.cause=i}};class LR{constructor(){this.St=0,this.Dt=BR(),this.Ct=Ji.EMPTY_BYTE_STRING,this.xt=!1,this.Nt=!0}get current(){return this.xt}get resumeToken(){return this.Ct}get kt(){return this.St!==0}get Mt(){return this.Nt}$t(t){t.approximateByteSize()>0&&(this.Nt=!0,this.Ct=t)}Ot(){let t=Ct(),n=Ct(),r=Ct();return this.Dt.forEach((i,s)=>{switch(s){case 0:t=t.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:tt()}}),new KI(this.Ct,this.xt,t,n,r)}Ft(){this.Nt=!1,this.Dt=BR()}Bt(t,n){this.Nt=!0,this.Dt=this.Dt.insert(t,n)}Lt(t){this.Nt=!0,this.Dt=this.Dt.remove(t)}qt(){this.St+=1}Ut(){this.St-=1}Kt(){this.Nt=!0,this.xt=!0}}let Yie=class{constructor(t){this.Gt=t,this.Qt=new Map,this.jt=ya(),this.zt=FR(),this.Wt=new cr(zt)}Ht(t){for(const n of t.Pt)t.bt&&t.bt.isFoundDocument()?this.Jt(n,t.bt):this.Yt(n,t.key,t.bt);for(const n of t.removedTargetIds)this.Yt(n,t.key,t.bt)}Xt(t){this.forEachTarget(t,n=>{const r=this.Zt(n);switch(t.state){case 0:this.te(n)&&r.$t(t.resumeToken);break;case 1:r.Ut(),r.kt||r.Ft(),r.$t(t.resumeToken);break;case 2:r.Ut(),r.kt||this.removeTarget(n);break;case 3:this.te(n)&&(r.Kt(),r.$t(t.resumeToken));break;case 4:this.te(n)&&(this.ee(n),r.$t(t.resumeToken));break;default:tt()}})}forEachTarget(t,n){t.targetIds.length>0?t.targetIds.forEach(n):this.Qt.forEach((r,i)=>{this.te(i)&&n(i)})}ne(t){var n;const r=t.targetId,i=t.Vt.count,s=this.se(r);if(s){const o=s.target;if(uS(o))if(i===0){const a=new Je(o.path);this.Yt(r,a,Xr.newNoDocument(a,vt.min()))}else Pn(i===1);else{const a=this.ie(r);if(a!==i){const l=this.re(t,a);if(l!==0){this.ee(r);const u=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Wt=this.Wt.insert(r,u)}(n=qie.instance)===null||n===void 0||n.notifyOnExistenceFilterMismatch(function(u,c,d){var f,p,h,g,m,v;const y={localCacheCount:c,existenceFilterCount:d.count},b=d.unchangedNames;return b&&(y.bloomFilter={applied:u===0,hashCount:(f=b==null?void 0:b.hashCount)!==null&&f!==void 0?f:0,bitmapLength:(g=(h=(p=b==null?void 0:b.bits)===null||p===void 0?void 0:p.bitmap)===null||h===void 0?void 0:h.length)!==null&&g!==void 0?g:0,padding:(v=(m=b==null?void 0:b.bits)===null||m===void 0?void 0:m.padding)!==null&&v!==void 0?v:0}),y}(l,a,t.Vt))}}}}re(t,n){const{unchangedNames:r,count:i}=t.Vt;if(!r||!r.bits)return 1;const{bits:{bitmap:s="",padding:o=0},hashCount:a=0}=r;let l,u;try{l=tc(s).toUint8Array()}catch(c){if(c instanceof L3)return of("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw c}try{u=new Gie(l,o,a)}catch(c){return of(c instanceof Jp?"BloomFilter error: ":"Applying bloom filter failed: ",c),1}return u.It===0?1:i!==n-this.oe(t.targetId,u)?2:0}oe(t,n){const r=this.Gt.getRemoteKeysForTarget(t);let i=0;return r.forEach(s=>{const o=this.Gt.ue(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;n.vt(a)||(this.Yt(t,s,null),i++)}),i}ce(t){const n=new Map;this.Qt.forEach((s,o)=>{const a=this.se(o);if(a){if(s.current&&uS(a.target)){const l=new Je(a.target.path);this.jt.get(l)!==null||this.ae(o,l)||this.Yt(o,l,Xr.newNoDocument(l,t))}s.Mt&&(n.set(o,s.Ot()),s.Ft())}});let r=Ct();this.zt.forEach((s,o)=>{let a=!0;o.forEachWhile(l=>{const u=this.se(l);return!u||u.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.jt.forEach((s,o)=>o.setReadTime(t));const i=new pV(t,n,this.Wt,this.jt,r);return this.jt=ya(),this.zt=FR(),this.Wt=new cr(zt),i}Jt(t,n){if(!this.te(t))return;const r=this.ae(t,n.key)?2:0;this.Zt(t).Bt(n.key,r),this.jt=this.jt.insert(n.key,n),this.zt=this.zt.insert(n.key,this.he(n.key).add(t))}Yt(t,n,r){if(!this.te(t))return;const i=this.Zt(t);this.ae(t,n)?i.Bt(n,1):i.Lt(n),this.zt=this.zt.insert(n,this.he(n).delete(t)),r&&(this.jt=this.jt.insert(n,r))}removeTarget(t){this.Qt.delete(t)}ie(t){const n=this.Zt(t).Ot();return this.Gt.getRemoteKeysForTarget(t).size+n.addedDocuments.size-n.removedDocuments.size}qt(t){this.Zt(t).qt()}Zt(t){let n=this.Qt.get(t);return n||(n=new LR,this.Qt.set(t,n)),n}he(t){let n=this.zt.get(t);return n||(n=new Yi(zt),this.zt=this.zt.insert(t,n)),n}te(t){const n=this.se(t)!==null;return n||He("WatchChangeAggregator","Detected inactive target",t),n}se(t){const n=this.Qt.get(t);return n&&n.kt?null:this.Gt.le(t)}ee(t){this.Qt.set(t,new LR),this.Gt.getRemoteKeysForTarget(t).forEach(n=>{this.Yt(t,n,null)})}ae(t,n){return this.Gt.getRemoteKeysForTarget(t).has(n)}};function FR(){return new cr(Je.comparator)}function BR(){return new cr(Je.comparator)}const Xie=(()=>({asc:"ASCENDING",desc:"DESCENDING"}))(),Qie=(()=>({"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"}))(),Jie=(()=>({and:"AND",or:"OR"}))();let Zie=class{constructor(t,n){this.databaseId=t,this.useProto3Json=n}};function fS(e,t){return e.useProto3Json||Pb(t)?t:{value:t}}function x_(e,t){return e.useProto3Json?`${new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+t.nanoseconds).slice(-9)}Z`:{seconds:""+t.seconds,nanos:t.nanoseconds}}function yV(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function ese(e,t){return x_(e,t.toTimestamp())}function fo(e){return Pn(!!e),vt.fromTimestamp(function(t){const n=Rl(t);return new ui(n.seconds,n.nanos)}(e))}function GI(e,t){return function(n){return new er(["projects",n.projectId,"databases",n.database])}(e).child("documents").child(t).canonicalString()}function _V(e){const t=er.fromString(e);return Pn($V(t)),t}function pS(e,t){return GI(e.databaseId,t.path)}function k1(e,t){const n=_V(t);if(n.get(1)!==e.databaseId.projectId)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new Ne(le.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Je(bV(n))}function hS(e,t){return GI(e.databaseId,t)}function tse(e){const t=_V(e);return t.length===4?er.emptyPath():bV(t)}function gS(e){return new er(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function bV(e){return Pn(e.length>4&&e.get(4)==="documents"),e.popFirst(5)}function UR(e,t,n){return{name:pS(e,t),fields:n.value.mapValue.fields}}function nse(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(l){return l==="NO_CHANGE"?0:l==="ADD"?1:l==="REMOVE"?2:l==="CURRENT"?3:l==="RESET"?4:tt()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(l,u){return l.useProto3Json?(Pn(u===void 0||typeof u=="string"),Ji.fromBase64String(u||"")):(Pn(u===void 0||u instanceof Uint8Array),Ji.fromUint8Array(u||new Uint8Array))}(e,t.targetChange.resumeToken),o=t.targetChange.cause,a=o&&function(l){const u=l.code===void 0?le.UNKNOWN:cV(l.code);return new Ne(u,l.message||"")}(o);n=new vV(r,i,s,a||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=k1(e,r.document.name),s=fo(r.document.updateTime),o=r.document.createTime?fo(r.document.createTime):vt.min(),a=new $i({mapValue:{fields:r.document.fields}}),l=Xr.newFoundDocument(i,s,o,a),u=r.targetIds||[],c=r.removedTargetIds||[];n=new hy(u,c,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=k1(e,r.document),s=r.readTime?fo(r.readTime):vt.min(),o=Xr.newNoDocument(i,s),a=r.removedTargetIds||[];n=new hy([],a,o.key,o)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=k1(e,r.document),s=r.removedTargetIds||[];n=new hy([],s,i,null)}else{if(!("filter"in t))return tt();{t.filter;const r=t.filter;r.targetId;const{count:i=0,unchangedNames:s}=r,o=new jie(i,s),a=r.targetId;n=new mV(a,o)}}return n}function rse(e,t){let n;if(t instanceof _m)n={update:UR(e,t.key,t.value)};else if(t instanceof lV)n={delete:pS(e,t.key)};else if(t instanceof zl)n={update:UR(e,t.key,t.data),updateMask:fse(t.fieldMask)};else{if(!(t instanceof Bie))return tt();n={verify:pS(e,t.key)}}return t.fieldTransforms.length>0&&(n.updateTransforms=t.fieldTransforms.map(r=>function(i,s){const o=s.transform;if(o instanceof $_)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof _g)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof bg)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof S_)return{fieldPath:s.field.canonicalString(),increment:o.gt};throw tt()}(0,r))),t.precondition.isNone||(n.currentDocument=function(r,i){return i.updateTime!==void 0?{updateTime:ese(r,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:tt()}(e,t.precondition)),n}function ise(e,t){return e&&e.length>0?(Pn(t!==void 0),e.map(n=>function(r,i){let s=r.updateTime?fo(r.updateTime):fo(i);return s.isEqual(vt.min())&&(s=fo(i)),new Mie(s,r.transformResults||[])}(n,t))):[]}function sse(e,t){return{documents:[hS(e,t.path)]}}function ose(e,t){const n={structuredQuery:{}},r=t.path;t.collectionGroup!==null?(n.parent=hS(e,r),n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(n.parent=hS(e,r.popLast()),n.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(l){if(l.length!==0)return EV(ma.create(l,"and"))}(t.filters);i&&(n.structuredQuery.where=i);const s=function(l){if(l.length!==0)return l.map(u=>function(c){return{field:nd(c.field),direction:use(c.dir)}}(u))}(t.orderBy);s&&(n.structuredQuery.orderBy=s);const o=fS(e,t.limit);var a;return o!==null&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt={before:(a=t.startAt).inclusive,values:a.position}),t.endAt&&(n.structuredQuery.endAt=function(l){return{before:!l.inclusive,values:l.position}}(t.endAt)),n}function ase(e){let t=tse(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){Pn(r===1);const c=n.from[0];c.allDescendants?i=c.collectionId:t=t.child(c.collectionId)}let s=[];n.where&&(s=function(c){const d=wV(c);return d instanceof ma&&W3(d)?d.getFilters():[d]}(n.where));let o=[];n.orderBy&&(o=n.orderBy.map(c=>function(d){return new Ad(rd(d.field),function(f){switch(f){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(d.direction))}(c)));let a=null;n.limit&&(a=function(c){let d;return d=typeof c=="object"?c.value:c,Pb(d)?null:d}(n.limit));let l=null;n.startAt&&(l=function(c){const d=!!c.before,f=c.values||[];return new w_(f,d)}(n.startAt));let u=null;return n.endAt&&(u=function(c){const d=!c.before,f=c.values||[];return new w_(f,d)}(n.endAt)),Sie(t,i,o,s,a,"F",l,u)}function lse(e,t){const n=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return tt()}}(t.purpose);return n==null?null:{"goog-listen-tags":n}}function wV(e){return e.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const n=rd(t.unaryFilter.field);return Ar.create(n,"==",{doubleValue:NaN});case"IS_NULL":const r=rd(t.unaryFilter.field);return Ar.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=rd(t.unaryFilter.field);return Ar.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=rd(t.unaryFilter.field);return Ar.create(s,"!=",{nullValue:"NULL_VALUE"});default:return tt()}}(e):e.fieldFilter!==void 0?function(t){return Ar.create(rd(t.fieldFilter.field),function(n){switch(n){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return tt()}}(t.fieldFilter.op),t.fieldFilter.value)}(e):e.compositeFilter!==void 0?function(t){return ma.create(t.compositeFilter.filters.map(n=>wV(n)),function(n){switch(n){case"AND":return"and";case"OR":return"or";default:return tt()}}(t.compositeFilter.op))}(e):tt()}function use(e){return Xie[e]}function cse(e){return Qie[e]}function dse(e){return Jie[e]}function nd(e){return{fieldPath:e.canonicalString()}}function rd(e){return vo.fromServerFormat(e.fieldPath)}function EV(e){return e instanceof Ar?function(t){if(t.op==="=="){if(TR(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NAN"}};if(xR(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(TR(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NAN"}};if(xR(t.value))return{unaryFilter:{field:nd(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:nd(t.field),op:cse(t.op),value:t.value}}}(e):e instanceof ma?function(t){const n=t.getFilters().map(r=>EV(r));return n.length===1?n[0]:{compositeFilter:{op:dse(t.op),filters:n}}}(e):tt()}function fse(e){const t=[];return e.fields.forEach(n=>t.push(n.canonicalString())),{fieldPaths:t}}function $V(e){return e.length>=4&&e.get(0)==="projects"&&e.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let YI=class Zp{constructor(t,n,r,i,s=vt.min(),o=vt.min(),a=Ji.EMPTY_BYTE_STRING,l=null){this.target=t,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(t){return new Zp(this.target,this.targetId,this.purpose,t,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(t,n){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,t,null)}withExpectedCount(t){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,t)}withLastLimboFreeSnapshotVersion(t){return new Zp(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,t,this.resumeToken,this.expectedCount)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let pse=class{constructor(t){this.fe=t}};function hse(e){const t=ase({parent:e.parent,structuredQuery:e.structuredQuery});return e.limitType==="LAST"?E_(t,t.limit,"L"):t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let gse=class{constructor(){this.rn=new mse}addToCollectionParentIndex(t,n){return this.rn.add(n),Oe.resolve()}getCollectionParents(t,n){return Oe.resolve(this.rn.getEntries(n))}addFieldIndex(t,n){return Oe.resolve()}deleteFieldIndex(t,n){return Oe.resolve()}getDocumentsMatchingTarget(t,n){return Oe.resolve(null)}getIndexType(t,n){return Oe.resolve(0)}getFieldIndexes(t,n){return Oe.resolve([])}getNextCollectionGroupToUpdate(t){return Oe.resolve(null)}getMinOffset(t,n){return Oe.resolve(mg.min())}getMinOffsetFromCollectionGroup(t,n){return Oe.resolve(mg.min())}updateCollectionGroup(t,n,r){return Oe.resolve()}updateIndexEntries(t,n){return Oe.resolve()}},mse=class{constructor(){this.index={}}add(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n]||new Yi(er.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(t){const n=t.lastSegment(),r=t.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(t){return(this.index[t]||new Yi(er.comparator)).toArray()}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mS=class vS{constructor(t){this.Nn=t}next(){return this.Nn+=2,this.Nn}static kn(){return new vS(0)}static Mn(){return new vS(-1)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let vse=class{constructor(){this.changes=new qf(t=>t.toString(),(t,n)=>t.isEqual(n)),this.changesApplied=!1}addEntry(t){this.assertNotApplied(),this.changes.set(t.key,t)}removeEntry(t,n){this.assertNotApplied(),this.changes.set(t,Xr.newInvalidDocument(t).setReadTime(n))}getEntry(t,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?Oe.resolve(r):this.getFromCache(t,n)}getEntries(t,n){return this.getAllFromCache(t,n)}apply(t){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(t)}assertNotApplied(){}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let yse=class{constructor(t,n){this.overlayedDocument=t,this.mutatedFields=n}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let _se=class{constructor(t,n,r,i){this.remoteDocumentCache=t,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(t,n){let r=null;return this.documentOverlayCache.getOverlay(t,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(t,n))).next(i=>(r!==null&&bh(r.mutation,i,uo.empty(),ui.now()),i))}getDocuments(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.getLocalViewOfDocuments(t,r,Ct()).next(()=>r))}getLocalViewOfDocuments(t,n,r=Ct()){const i=Tu();return this.populateOverlays(t,i,n).next(()=>this.computeViews(t,n,i,r).next(s=>{let o=Qp();return s.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(t,n){const r=Tu();return this.populateOverlays(t,r,n).next(()=>this.computeViews(t,n,r,Ct()))}populateOverlays(t,n,r){const i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(t,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(t,n,r,i){let s=ya();const o=_h(),a=_h();return n.forEach((l,u)=>{const c=r.get(u.key);i.has(u.key)&&(c===void 0||c.mutation instanceof zl)?s=s.insert(u.key,u):c!==void 0?(o.set(u.key,c.mutation.getFieldMask()),bh(c.mutation,u,c.mutation.getFieldMask(),ui.now())):o.set(u.key,uo.empty())}),this.recalculateAndSaveOverlays(t,s).next(l=>(l.forEach((u,c)=>o.set(u,c)),n.forEach((u,c)=>{var d;return a.set(u,new yse(c,(d=o.get(u))!==null&&d!==void 0?d:null))}),a))}recalculateAndSaveOverlays(t,n){const r=_h();let i=new cr((o,a)=>o-a),s=Ct();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(t,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const u=n.get(l);if(u===null)return;let c=r.get(l)||uo.empty();c=a.applyToLocalView(u,c),r.set(l,c);const d=(i.get(a.batchId)||Ct()).add(l);i=i.insert(a.batchId,d)})}).next(()=>{const o=[],a=i.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),u=l.key,c=l.value,d=Z3();c.forEach(f=>{if(!s.has(f)){const p=oV(n.get(f),r.get(f));p!==null&&d.set(f,p),s=s.add(f)}}),o.push(this.documentOverlayCache.saveOverlays(t,u,d))}return Oe.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(t,n){return this.remoteDocumentCache.getEntries(t,n).next(r=>this.recalculateAndSaveOverlays(t,r))}getDocumentsMatchingQuery(t,n,r){return function(i){return Je.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(t,n.path):G3(n)?this.getDocumentsMatchingCollectionGroupQuery(t,n,r):this.getDocumentsMatchingCollectionQuery(t,n,r)}getNextDocuments(t,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(t,n,r,i).next(s=>{const o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(t,n,r.largestBatchId,i-s.size):Oe.resolve(Tu());let a=-1,l=s;return o.next(u=>Oe.forEach(u,(c,d)=>(a<d.largestBatchId&&(a=d.largestBatchId),s.get(c)?Oe.resolve():this.remoteDocumentCache.getEntry(t,c).next(f=>{l=l.insert(c,f)}))).next(()=>this.populateOverlays(t,u,s)).next(()=>this.computeViews(t,l,u,Ct())).next(c=>({batchId:a,changes:J3(c)})))})}getDocumentsMatchingDocumentQuery(t,n){return this.getDocument(t,new Je(n)).next(r=>{let i=Qp();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(t,n,r){const i=n.collectionGroup;let s=Qp();return this.indexManager.getCollectionParents(t,i).next(o=>Oe.forEach(o,a=>{const l=function(u,c){return new Wf(c,null,u.explicitOrderBy.slice(),u.filters.slice(),u.limit,u.limitType,u.startAt,u.endAt)}(n,a.child(i));return this.getDocumentsMatchingCollectionQuery(t,l,r).next(u=>{u.forEach((c,d)=>{s=s.insert(c,d)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(t,n.path,r.largestBatchId).next(s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(t,n,r,i))).next(s=>{i.forEach((a,l)=>{const u=l.getKey();s.get(u)===null&&(s=s.insert(u,Xr.newInvalidDocument(u)))});let o=Qp();return s.forEach((a,l)=>{const u=i.get(a);u!==void 0&&bh(u.mutation,l,uo.empty(),ui.now()),Mb(n,l)&&(o=o.insert(a,l))}),o})}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bse=class{constructor(t){this.serializer=t,this.cs=new Map,this.hs=new Map}getBundleMetadata(t,n){return Oe.resolve(this.cs.get(n))}saveBundleMetadata(t,n){var r;return this.cs.set(n.id,{id:(r=n).id,version:r.version,createTime:fo(r.createTime)}),Oe.resolve()}getNamedQuery(t,n){return Oe.resolve(this.hs.get(n))}saveNamedQuery(t,n){return this.hs.set(n.name,function(r){return{name:r.name,query:hse(r.bundledQuery),readTime:fo(r.readTime)}}(n)),Oe.resolve()}};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let wse=class{constructor(){this.overlays=new cr(Je.comparator),this.ls=new Map}getOverlay(t,n){return Oe.resolve(this.overlays.get(n))}getOverlays(t,n){const r=Tu();return Oe.forEach(n,i=>this.getOverlay(t,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(t,n,r){return r.forEach((i,s)=>{this.we(t,n,s)}),Oe.resolve()}removeOverlaysForBatchId(t,n,r){const i=this.ls.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.ls.delete(r)),Oe.resolve()}getOverlaysForCollection(t,n,r){const i=Tu(),s=n.length+1,o=new Je(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,u=l.getKey();if(!n.isPrefixOf(u.path))break;u.path.length===s&&l.largestBatchId>r&&i.set(l.getKey(),l)}return Oe.resolve(i)}getOverlaysForCollectionGroup(t,n,r,i){let s=new cr((u,c)=>u-c);const o=this.overlays.getIterator();for(;o.hasNext();){const u=o.getNext().value;if(u.getKey().getCollectionGroup()===n&&u.largestBatchId>r){let c=s.get(u.largestBatchId);c===null&&(c=Tu(),s=s.insert(u.largestBatchId,c)),c.set(u.getKey(),u)}}const a=Tu(),l=s.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((u,c)=>a.set(u,c)),!(a.size()>=i)););return Oe.resolve(a)}we(t,n,r){const i=this.overlays.get(r.key);if(i!==null){const o=this.ls.get(i.largestBatchId).delete(r.key);this.ls.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new Hie(n,r));let s=this.ls.get(n);s===void 0&&(s=Ct(),this.ls.set(n,s)),this.ls.set(n,s.add(r.key))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XI=class{constructor(){this.fs=new Yi(xr.ds),this.ws=new Yi(xr._s)}isEmpty(){return this.fs.isEmpty()}addReference(t,n){const r=new xr(t,n);this.fs=this.fs.add(r),this.ws=this.ws.add(r)}gs(t,n){t.forEach(r=>this.addReference(r,n))}removeReference(t,n){this.ys(new xr(t,n))}ps(t,n){t.forEach(r=>this.removeReference(r,n))}Is(t){const n=new Je(new er([])),r=new xr(n,t),i=new xr(n,t+1),s=[];return this.ws.forEachInRange([r,i],o=>{this.ys(o),s.push(o.key)}),s}Ts(){this.fs.forEach(t=>this.ys(t))}ys(t){this.fs=this.fs.delete(t),this.ws=this.ws.delete(t)}Es(t){const n=new Je(new er([])),r=new xr(n,t),i=new xr(n,t+1);let s=Ct();return this.ws.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(t){const n=new xr(t,0),r=this.fs.firstAfterOrEqual(n);return r!==null&&t.isEqual(r.key)}},xr=class{constructor(t,n){this.key=t,this.As=n}static ds(t,n){return Je.comparator(t.key,n.key)||zt(t.As,n.As)}static _s(t,n){return zt(t.As,n.As)||Je.comparator(t.key,n.key)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ese=class{constructor(t,n){this.indexManager=t,this.referenceDelegate=n,this.mutationQueue=[],this.vs=1,this.Rs=new Yi(xr.ds)}checkEmpty(t){return Oe.resolve(this.mutationQueue.length===0)}addMutationBatch(t,n,r,i){const s=this.vs;this.vs++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new Uie(s,n,r,i);this.mutationQueue.push(o);for(const a of i)this.Rs=this.Rs.add(new xr(a.key,s)),this.indexManager.addToCollectionParentIndex(t,a.key.path.popLast());return Oe.resolve(o)}lookupMutationBatch(t,n){return Oe.resolve(this.Ps(n))}getNextMutationBatchAfterBatchId(t,n){const r=n+1,i=this.bs(r),s=i<0?0:i;return Oe.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return Oe.resolve(this.mutationQueue.length===0?-1:this.vs-1)}getAllMutationBatches(t){return Oe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(t,n){const r=new xr(n,0),i=new xr(n,Number.POSITIVE_INFINITY),s=[];return this.Rs.forEachInRange([r,i],o=>{const a=this.Ps(o.As);s.push(a)}),Oe.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(t,n){let r=new Yi(zt);return n.forEach(i=>{const s=new xr(i,0),o=new xr(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([s,o],a=>{r=r.add(a.As)})}),Oe.resolve(this.Vs(r))}getAllMutationBatchesAffectingQuery(t,n){const r=n.path,i=r.length+1;let s=r;Je.isDocumentKey(s)||(s=s.child(""));const o=new xr(new Je(s),0);let a=new Yi(zt);return this.Rs.forEachWhile(l=>{const u=l.key.path;return!!r.isPrefixOf(u)&&(u.length===i&&(a=a.add(l.As)),!0)},o),Oe.resolve(this.Vs(a))}Vs(t){const n=[];return t.forEach(r=>{const i=this.Ps(r);i!==null&&n.push(i)}),n}removeMutationBatch(t,n){Pn(this.Ss(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Rs;return Oe.forEach(n.mutations,i=>{const s=new xr(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(t,i.key)}).next(()=>{this.Rs=r})}Cn(t){}containsKey(t,n){const r=new xr(n,0),i=this.Rs.firstAfterOrEqual(r);return Oe.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(t){return this.mutationQueue.length,Oe.resolve()}Ss(t,n){return this.bs(t)}bs(t){return this.mutationQueue.length===0?0:t-this.mutationQueue[0].batchId}Ps(t){const n=this.bs(t);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $se=class{constructor(t){this.Ds=t,this.docs=new cr(Je.comparator),this.size=0}setIndexManager(t){this.indexManager=t}addEntry(t,n){const r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Ds(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(t,r.path.popLast())}removeEntry(t){const n=this.docs.get(t);n&&(this.docs=this.docs.remove(t),this.size-=n.size)}getEntry(t,n){const r=this.docs.get(n);return Oe.resolve(r?r.document.mutableCopy():Xr.newInvalidDocument(n))}getEntries(t,n){let r=ya();return n.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Xr.newInvalidDocument(i))}),Oe.resolve(r)}getDocumentsMatchingQuery(t,n,r,i){let s=ya();const o=n.path,a=new Je(o.child("")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:u,value:{document:c}}=l.getNext();if(!o.isPrefixOf(u.path))break;u.path.length>o.length+1||aie(oie(c),r)<=0||(i.has(c.key)||Mb(n,c))&&(s=s.insert(c.key,c.mutableCopy()))}return Oe.resolve(s)}getAllFromCollectionGroup(t,n,r,i){tt()}Cs(t,n){return Oe.forEach(this.docs,r=>n(r))}newChangeBuffer(t){return new Sse(this)}getSize(t){return Oe.resolve(this.size)}};class Sse extends vse{constructor(t){super(),this.os=t}applyChanges(t){const n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.os.addEntry(t,i)):this.os.removeEntry(r)}),Oe.waitFor(n)}getFromCache(t,n){return this.os.getEntry(t,n)}getAllFromCache(t,n){return this.os.getEntries(t,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xse=class{constructor(t){this.persistence=t,this.xs=new qf(n=>WI(n),qI),this.lastRemoteSnapshotVersion=vt.min(),this.highestTargetId=0,this.Ns=0,this.ks=new XI,this.targetCount=0,this.Ms=mS.kn()}forEachTarget(t,n){return this.xs.forEach((r,i)=>n(i)),Oe.resolve()}getLastRemoteSnapshotVersion(t){return Oe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(t){return Oe.resolve(this.Ns)}allocateTargetId(t){return this.highestTargetId=this.Ms.next(),Oe.resolve(this.highestTargetId)}setTargetsMetadata(t,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Ns&&(this.Ns=n),Oe.resolve()}Fn(t){this.xs.set(t.target,t);const n=t.targetId;n>this.highestTargetId&&(this.Ms=new mS(n),this.highestTargetId=n),t.sequenceNumber>this.Ns&&(this.Ns=t.sequenceNumber)}addTargetData(t,n){return this.Fn(n),this.targetCount+=1,Oe.resolve()}updateTargetData(t,n){return this.Fn(n),Oe.resolve()}removeTargetData(t,n){return this.xs.delete(n.target),this.ks.Is(n.targetId),this.targetCount-=1,Oe.resolve()}removeTargets(t,n,r){let i=0;const s=[];return this.xs.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.xs.delete(o),s.push(this.removeMatchingKeysForTargetId(t,a.targetId)),i++)}),Oe.waitFor(s).next(()=>i)}getTargetCount(t){return Oe.resolve(this.targetCount)}getTargetData(t,n){const r=this.xs.get(n)||null;return Oe.resolve(r)}addMatchingKeys(t,n,r){return this.ks.gs(n,r),Oe.resolve()}removeMatchingKeys(t,n,r){this.ks.ps(n,r);const i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(t,o))}),Oe.waitFor(s)}removeMatchingKeysForTargetId(t,n){return this.ks.Is(n),Oe.resolve()}getMatchingKeysForTargetId(t,n){const r=this.ks.Es(n);return Oe.resolve(r)}containsKey(t,n){return Oe.resolve(this.ks.containsKey(n))}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Tse=class{constructor(t,n){this.$s={},this.overlays={},this.Os=new UI(0),this.Fs=!1,this.Fs=!0,this.referenceDelegate=t(this),this.Bs=new xse(this),this.indexManager=new gse,this.remoteDocumentCache=function(r){return new $se(r)}(r=>this.referenceDelegate.Ls(r)),this.serializer=new pse(n),this.qs=new bse(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Fs=!1,Promise.resolve()}get started(){return this.Fs}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(t){return this.indexManager}getDocumentOverlayCache(t){let n=this.overlays[t.toKey()];return n||(n=new wse,this.overlays[t.toKey()]=n),n}getMutationQueue(t,n){let r=this.$s[t.toKey()];return r||(r=new Ese(n,this.referenceDelegate),this.$s[t.toKey()]=r),r}getTargetCache(){return this.Bs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.qs}runTransaction(t,n,r){He("MemoryPersistence","Starting transaction:",t);const i=new Ise(this.Os.next());return this.referenceDelegate.Us(),r(i).next(s=>this.referenceDelegate.Ks(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Gs(t,n){return Oe.or(Object.values(this.$s).map(r=>()=>r.containsKey(t,n)))}};class Ise extends uie{constructor(t){super(),this.currentSequenceNumber=t}}class QI{constructor(t){this.persistence=t,this.Qs=new XI,this.js=null}static zs(t){return new QI(t)}get Ws(){if(this.js)return this.js;throw tt()}addReference(t,n,r){return this.Qs.addReference(r,n),this.Ws.delete(r.toString()),Oe.resolve()}removeReference(t,n,r){return this.Qs.removeReference(r,n),this.Ws.add(r.toString()),Oe.resolve()}markPotentiallyOrphaned(t,n){return this.Ws.add(n.toString()),Oe.resolve()}removeTarget(t,n){this.Qs.Is(n.targetId).forEach(i=>this.Ws.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(t,n.targetId).next(i=>{i.forEach(s=>this.Ws.add(s.toString()))}).next(()=>r.removeTargetData(t,n))}Us(){this.js=new Set}Ks(t){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return Oe.forEach(this.Ws,r=>{const i=Je.fromPath(r);return this.Hs(t,i).next(s=>{s||n.removeEntry(i,vt.min())})}).next(()=>(this.js=null,n.apply(t)))}updateLimboDocument(t,n){return this.Hs(t,n).next(r=>{r?this.Ws.delete(n.toString()):this.Ws.add(n.toString())})}Ls(t){return 0}Hs(t,n){return Oe.or([()=>Oe.resolve(this.Qs.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(t,n),()=>this.persistence.Gs(t,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JI{constructor(t,n,r,i){this.targetId=t,this.fromCache=n,this.Fi=r,this.Bi=i}static Li(t,n){let r=Ct(),i=Ct();for(const s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new JI(t,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cse{constructor(){this.qi=!1}initialize(t,n){this.Ui=t,this.indexManager=n,this.qi=!0}getDocumentsMatchingQuery(t,n,r,i){return this.Ki(t,n).next(s=>s||this.Gi(t,n,i,r)).next(s=>s||this.Qi(t,n))}Ki(t,n){if(kR(n))return Oe.resolve(null);let r=va(n);return this.indexManager.getIndexType(t,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=E_(n,null,"F"),r=va(n)),this.indexManager.getDocumentsMatchingTarget(t,r).next(s=>{const o=Ct(...s);return this.Ui.getDocuments(t,o).next(a=>this.indexManager.getMinOffset(t,r).next(l=>{const u=this.ji(n,a);return this.zi(n,u,o,l.readTime)?this.Ki(t,E_(n,null,"F")):this.Wi(t,u,n,l)}))})))}Gi(t,n,r,i){return kR(n)||i.isEqual(vt.min())?this.Qi(t,n):this.Ui.getDocuments(t,r).next(s=>{const o=this.ji(n,s);return this.zi(n,o,r,i)?this.Qi(t,n):(bR()<=Bt.DEBUG&&He("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),dS(n)),this.Wi(t,o,n,sie(i,-1)))})}ji(t,n){let r=new Yi(X3(t));return n.forEach((i,s)=>{Mb(t,s)&&(r=r.add(s))}),r}zi(t,n,r,i){if(t.limit===null)return!1;if(r.size!==n.size)return!0;const s=t.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Qi(t,n){return bR()<=Bt.DEBUG&&He("QueryEngine","Using full collection scan to execute query:",dS(n)),this.Ui.getDocumentsMatchingQuery(t,n,mg.min())}Wi(t,n,r,i){return this.Ui.getDocumentsMatchingQuery(t,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ase{constructor(t,n,r,i){this.persistence=t,this.Hi=n,this.serializer=i,this.Ji=new cr(zt),this.Yi=new qf(s=>WI(s),qI),this.Xi=new Map,this.Zi=t.getRemoteDocumentCache(),this.Bs=t.getTargetCache(),this.qs=t.getBundleCache(),this.tr(r)}tr(t){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(t),this.indexManager=this.persistence.getIndexManager(t),this.mutationQueue=this.persistence.getMutationQueue(t,this.indexManager),this.localDocuments=new _se(this.Zi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Zi.setIndexManager(this.indexManager),this.Hi.initialize(this.localDocuments,this.indexManager)}collectGarbage(t){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>t.collect(n,this.Ji))}}function kse(e,t,n,r){return new Ase(e,t,n,r)}async function SV(e,t){const n=ct(e);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.tr(t),n.mutationQueue.getAllMutationBatches(r))).next(s=>{const o=[],a=[];let l=Ct();for(const u of i){o.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}for(const u of s){a.push(u.batchId);for(const c of u.mutations)l=l.add(c.key)}return n.localDocuments.getDocuments(r,l).next(u=>({er:u,removedBatchIds:o,addedBatchIds:a}))})})}function Ose(e,t){const n=ct(e);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=t.batch.keys(),s=n.Zi.newChangeBuffer({trackRemovals:!0});return function(o,a,l,u){const c=l.batch,d=c.keys();let f=Oe.resolve();return d.forEach(p=>{f=f.next(()=>u.getEntry(a,p)).next(h=>{const g=l.docVersions.get(p);Pn(g!==null),h.version.compareTo(g)<0&&(c.applyToRemoteDocument(h,l),h.isValidDocument()&&(h.setReadTime(l.commitVersion),u.addEntry(h)))})}),f.next(()=>o.mutationQueue.removeMutationBatch(a,c))}(n,r,t,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,t.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(o){let a=Ct();for(let l=0;l<o.mutationResults.length;++l)o.mutationResults[l].transformResults.length>0&&(a=a.add(o.batch.mutations[l].key));return a}(t))).next(()=>n.localDocuments.getDocuments(r,i))})}function xV(e){const t=ct(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",n=>t.Bs.getLastRemoteSnapshotVersion(n))}function Pse(e,t){const n=ct(e),r=t.snapshotVersion;let i=n.Ji;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{const o=n.Zi.newChangeBuffer({trackRemovals:!0});i=n.Ji;const a=[];t.targetChanges.forEach((c,d)=>{const f=i.get(d);if(!f)return;a.push(n.Bs.removeMatchingKeys(s,c.removedDocuments,d).next(()=>n.Bs.addMatchingKeys(s,c.addedDocuments,d)));let p=f.withSequenceNumber(s.currentSequenceNumber);t.targetMismatches.get(d)!==null?p=p.withResumeToken(Ji.EMPTY_BYTE_STRING,vt.min()).withLastLimboFreeSnapshotVersion(vt.min()):c.resumeToken.approximateByteSize()>0&&(p=p.withResumeToken(c.resumeToken,r)),i=i.insert(d,p),function(h,g,m){return h.resumeToken.approximateByteSize()===0||g.snapshotVersion.toMicroseconds()-h.snapshotVersion.toMicroseconds()>=3e8?!0:m.addedDocuments.size+m.modifiedDocuments.size+m.removedDocuments.size>0}(f,p,c)&&a.push(n.Bs.updateTargetData(s,p))});let l=ya(),u=Ct();if(t.documentUpdates.forEach(c=>{t.resolvedLimboDocuments.has(c)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,c))}),a.push(Rse(s,o,t.documentUpdates).next(c=>{l=c.nr,u=c.sr})),!r.isEqual(vt.min())){const c=n.Bs.getLastRemoteSnapshotVersion(s).next(d=>n.Bs.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(c)}return Oe.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,l,u)).next(()=>l)}).then(s=>(n.Ji=i,s))}function Rse(e,t,n){let r=Ct(),i=Ct();return n.forEach(s=>r=r.add(s)),t.getEntries(e,r).next(s=>{let o=ya();return n.forEach((a,l)=>{const u=s.get(a);l.isFoundDocument()!==u.isFoundDocument()&&(i=i.add(a)),l.isNoDocument()&&l.version.isEqual(vt.min())?(t.removeEntry(a,l.readTime),o=o.insert(a,l)):!u.isValidDocument()||l.version.compareTo(u.version)>0||l.version.compareTo(u.version)===0&&u.hasPendingWrites?(t.addEntry(l),o=o.insert(a,l)):He("LocalStore","Ignoring outdated watch update for ",a,". Current version:",u.version," Watch version:",l.version)}),{nr:o,sr:i}})}function Dse(e,t){const n=ct(e);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(t===void 0&&(t=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,t)))}function Nse(e,t){const n=ct(e);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Bs.getTargetData(r,t).next(s=>s?(i=s,Oe.resolve(i)):n.Bs.allocateTargetId(r).next(o=>(i=new YI(t,o,"TargetPurposeListen",r.currentSequenceNumber),n.Bs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=n.Ji.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.Ji=n.Ji.insert(r.targetId,r),n.Yi.set(t,r.targetId)),r})}async function yS(e,t,n){const r=ct(e),i=r.Ji.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i))}catch(o){if(!ym(o))throw o;He("LocalStore",`Failed to update sequence numbers for target ${t}: ${o}`)}r.Ji=r.Ji.remove(t),r.Yi.delete(i.target)}function VR(e,t,n){const r=ct(e);let i=vt.min(),s=Ct();return r.persistence.runTransaction("Execute query","readonly",o=>function(a,l,u){const c=ct(a),d=c.Yi.get(u);return d!==void 0?Oe.resolve(c.Ji.get(d)):c.Bs.getTargetData(l,u)}(r,o,va(t)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Bs.getMatchingKeysForTargetId(o,a.targetId).next(l=>{s=l})}).next(()=>r.Hi.getDocumentsMatchingQuery(o,t,n?i:vt.min(),n?s:Ct())).next(a=>(Mse(r,xie(t),a),{documents:a,ir:s})))}function Mse(e,t,n){let r=e.Xi.get(t)||vt.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),e.Xi.set(t,r)}class HR{constructor(){this.activeTargetIds=Oie()}lr(t){this.activeTargetIds=this.activeTargetIds.add(t)}dr(t){this.activeTargetIds=this.activeTargetIds.delete(t)}hr(){const t={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(t)}}class Lse{constructor(){this.Hr=new HR,this.Jr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(t){}updateMutationState(t,n,r){}addLocalQueryTarget(t){return this.Hr.lr(t),this.Jr[t]||"not-current"}updateQueryState(t,n,r){this.Jr[t]=n}removeLocalQueryTarget(t){this.Hr.dr(t)}isLocalQueryTarget(t){return this.Hr.activeTargetIds.has(t)}clearQueryState(t){delete this.Jr[t]}getAllActiveQueryTargets(){return this.Hr.activeTargetIds}isActiveQueryTarget(t){return this.Hr.activeTargetIds.has(t)}start(){return this.Hr=new HR,Promise.resolve()}handleUserChange(t,n,r){}setOnlineState(t){}shutdown(){}writeSequenceNumber(t){}notifyBundleLoaded(t){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fse{Yr(t){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jR{constructor(){this.Xr=()=>this.Zr(),this.eo=()=>this.no(),this.so=[],this.io()}Yr(t){this.so.push(t)}shutdown(){window.removeEventListener("online",this.Xr),window.removeEventListener("offline",this.eo)}io(){window.addEventListener("online",this.Xr),window.addEventListener("offline",this.eo)}Zr(){He("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const t of this.so)t(0)}no(){He("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const t of this.so)t(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xv=null;function O1(){return xv===null?xv=268435456+Math.round(2147483648*Math.random()):xv++,"0x"+xv.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bse={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Use{constructor(t){this.ro=t.ro,this.oo=t.oo}uo(t){this.co=t}ao(t){this.ho=t}onMessage(t){this.lo=t}close(){this.oo()}send(t){this.ro(t)}fo(){this.co()}wo(t){this.ho(t)}_o(t){this.lo(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qr="WebChannelConnection";class Vse extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const n=t.ssl?"https":"http";this.mo=n+"://"+t.host,this.yo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get po(){return!1}Io(t,n,r,i,s){const o=O1(),a=this.To(t,n);He("RestConnection",`Sending RPC '${t}' ${o}:`,a,r);const l={};return this.Eo(l,i,s),this.Ao(t,a,l,r).then(u=>(He("RestConnection",`Received RPC '${t}' ${o}: `,u),u),u=>{throw of("RestConnection",`RPC '${t}' ${o} failed with error: `,u,"url: ",a,"request:",r),u})}vo(t,n,r,i,s,o){return this.Io(t,n,r,i,s)}Eo(t,n,r){t["X-Goog-Api-Client"]="gl-js/ fire/"+jf,t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((i,s)=>t[s]=i),r&&r.headers.forEach((i,s)=>t[s]=i)}To(t,n){const r=Bse[t];return`${this.mo}/v1/${n}:${r}`}}{constructor(t){super(t),this.forceLongPolling=t.forceLongPolling,this.autoDetectLongPolling=t.autoDetectLongPolling,this.useFetchStreams=t.useFetchStreams,this.longPollingOptions=t.longPollingOptions}Ao(t,n,r,i){const s=O1();return new Promise((o,a)=>{const l=new Gre;l.setWithCredentials(!0),l.listenOnce(qre.COMPLETE,()=>{try{switch(l.getLastErrorCode()){case A1.NO_ERROR:const c=l.getResponseJson();He(qr,`XHR for RPC '${t}' ${s} received:`,JSON.stringify(c)),o(c);break;case A1.TIMEOUT:He(qr,`RPC '${t}' ${s} timed out`),a(new Ne(le.DEADLINE_EXCEEDED,"Request time out"));break;case A1.HTTP_ERROR:const d=l.getStatus();if(He(qr,`RPC '${t}' ${s} failed with status:`,d,"response text:",l.getResponseText()),d>0){let f=l.getResponseJson();Array.isArray(f)&&(f=f[0]);const p=f==null?void 0:f.error;if(p&&p.status&&p.message){const h=function(g){const m=g.toLowerCase().replace(/_/g,"-");return Object.values(le).indexOf(m)>=0?m:le.UNKNOWN}(p.status);a(new Ne(h,p.message))}else a(new Ne(le.UNKNOWN,"Server responded with status "+l.getStatus()))}else a(new Ne(le.UNAVAILABLE,"Connection failed."));break;default:tt()}}finally{He(qr,`RPC '${t}' ${s} completed.`)}});const u=JSON.stringify(i);He(qr,`RPC '${t}' ${s} sending request:`,i),l.send(n,"POST",u,r,15)})}Ro(t,n,r){const i=O1(),s=[this.mo,"/","google.firestore.v1.Firestore","/",t,"/channel"],o=jre(),a=Wre(),l={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},u=this.longPollingOptions.timeoutSeconds;u!==void 0&&(l.longPollingTimeout=Math.round(1e3*u)),this.useFetchStreams&&(l.xmlHttpFactory=new Kre({})),this.Eo(l.initMessageHeaders,n,r),l.encodeInitMessageHeaders=!0;const c=s.join("");He(qr,`Creating RPC '${t}' stream ${i}: ${c}`,l);const d=o.createWebChannel(c,l);let f=!1,p=!1;const h=new Use({ro:m=>{p?He(qr,`Not sending because RPC '${t}' stream ${i} is closed:`,m):(f||(He(qr,`Opening RPC '${t}' stream ${i} transport.`),d.open(),f=!0),He(qr,`RPC '${t}' stream ${i} sending:`,m),d.send(m))},oo:()=>d.close()}),g=(m,v,y)=>{m.listen(v,b=>{try{y(b)}catch(_){setTimeout(()=>{throw _},0)}})};return g(d,wv.EventType.OPEN,()=>{p||He(qr,`RPC '${t}' stream ${i} transport opened.`)}),g(d,wv.EventType.CLOSE,()=>{p||(p=!0,He(qr,`RPC '${t}' stream ${i} transport closed`),h.wo())}),g(d,wv.EventType.ERROR,m=>{p||(p=!0,of(qr,`RPC '${t}' stream ${i} transport errored:`,m),h.wo(new Ne(le.UNAVAILABLE,"The operation could not be completed")))}),g(d,wv.EventType.MESSAGE,m=>{var v;if(!p){const y=m.data[0];Pn(!!y);const b=y,_=b.error||((v=b[0])===null||v===void 0?void 0:v.error);if(_){He(qr,`RPC '${t}' stream ${i} received error:`,_);const S=_.status;let I=function(w){const x=or[w];if(x!==void 0)return cV(x)}(S),T=_.message;I===void 0&&(I=le.INTERNAL,T="Unknown error status: "+S+" with message "+_.message),p=!0,h.wo(new Ne(I,T)),d.close()}else He(qr,`RPC '${t}' stream ${i} received:`,y),h._o(y)}}),g(a,zre.STAT_EVENT,m=>{m.stat===yR.PROXY?He(qr,`RPC '${t}' stream ${i} detected buffering proxy`):m.stat===yR.NOPROXY&&He(qr,`RPC '${t}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{h.fo()},0),h}}function P1(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Bb(e){return new Zie(e,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TV{constructor(t,n,r=1e3,i=1.5,s=6e4){this.ii=t,this.timerId=n,this.Po=r,this.bo=i,this.Vo=s,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(t){this.cancel();const n=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,n-r);i>0&&He("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),t())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){this.Do!==null&&(this.Do.skipDelay(),this.Do=null)}cancel(){this.Do!==null&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IV{constructor(t,n,r,i,s,o,a,l){this.ii=t,this.$o=r,this.Oo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.Fo=0,this.Bo=null,this.Lo=null,this.stream=null,this.qo=new TV(t,n)}Uo(){return this.state===1||this.state===5||this.Ko()}Ko(){return this.state===2||this.state===3}start(){this.state!==4?this.auth():this.Go()}async stop(){this.Uo()&&await this.close(0)}Qo(){this.state=0,this.qo.reset()}jo(){this.Ko()&&this.Bo===null&&(this.Bo=this.ii.enqueueAfterDelay(this.$o,6e4,()=>this.zo()))}Wo(t){this.Ho(),this.stream.send(t)}async zo(){if(this.Ko())return this.close(0)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}Jo(){this.Lo&&(this.Lo.cancel(),this.Lo=null)}async close(t,n){this.Ho(),this.Jo(),this.qo.cancel(),this.Fo++,t!==4?this.qo.reset():n&&n.code===le.RESOURCE_EXHAUSTED?(ga(n.toString()),ga("Using maximum backoff delay to prevent overloading the backend."),this.qo.xo()):n&&n.code===le.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.Yo(),this.stream.close(),this.stream=null),this.state=t,await this.listener.ao(n)}Yo(){}auth(){this.state=1;const t=this.Xo(this.Fo),n=this.Fo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Fo===n&&this.Zo(r,i)},r=>{t(()=>{const i=new Ne(le.UNKNOWN,"Fetching auth token failed: "+r.message);return this.tu(i)})})}Zo(t,n){const r=this.Xo(this.Fo);this.stream=this.eu(t,n),this.stream.uo(()=>{r(()=>(this.state=2,this.Lo=this.ii.enqueueAfterDelay(this.Oo,1e4,()=>(this.Ko()&&(this.state=3),Promise.resolve())),this.listener.uo()))}),this.stream.ao(i=>{r(()=>this.tu(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Go(){this.state=5,this.qo.No(async()=>{this.state=0,this.start()})}tu(t){return He("PersistentStream",`close with error: ${t}`),this.stream=null,this.close(4,t)}Xo(t){return n=>{this.ii.enqueueAndForget(()=>this.Fo===t?n():(He("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class Hse extends IV{constructor(t,n,r,i,s,o){super(t,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}eu(t,n){return this.connection.Ro("Listen",t,n)}onMessage(t){this.qo.reset();const n=nse(this.serializer,t),r=function(i){if(!("targetChange"in i))return vt.min();const s=i.targetChange;return s.targetIds&&s.targetIds.length?vt.min():s.readTime?fo(s.readTime):vt.min()}(t);return this.listener.nu(n,r)}su(t){const n={};n.database=gS(this.serializer),n.addTarget=function(i,s){let o;const a=s.target;if(o=uS(a)?{documents:sse(i,a)}:{query:ose(i,a)},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=yV(i,s.resumeToken);const l=fS(i,s.expectedCount);l!==null&&(o.expectedCount=l)}else if(s.snapshotVersion.compareTo(vt.min())>0){o.readTime=x_(i,s.snapshotVersion.toTimestamp());const l=fS(i,s.expectedCount);l!==null&&(o.expectedCount=l)}return o}(this.serializer,t);const r=lse(this.serializer,t);r&&(n.labels=r),this.Wo(n)}iu(t){const n={};n.database=gS(this.serializer),n.removeTarget=t,this.Wo(n)}}class jse extends IV{constructor(t,n,r,i,s,o){super(t,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s,this.ru=!1}get ou(){return this.ru}start(){this.ru=!1,this.lastStreamToken=void 0,super.start()}Yo(){this.ru&&this.uu([])}eu(t,n){return this.connection.Ro("Write",t,n)}onMessage(t){if(Pn(!!t.streamToken),this.lastStreamToken=t.streamToken,this.ru){this.qo.reset();const n=ise(t.writeResults,t.commitTime),r=fo(t.commitTime);return this.listener.cu(r,n)}return Pn(!t.writeResults||t.writeResults.length===0),this.ru=!0,this.listener.au()}hu(){const t={};t.database=gS(this.serializer),this.Wo(t)}uu(t){const n={streamToken:this.lastStreamToken,writes:t.map(r=>rse(this.serializer,r))};this.Wo(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wse extends class{}{constructor(t,n,r,i){super(),this.authCredentials=t,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.lu=!1}fu(){if(this.lu)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.")}Io(t,n,r){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,s])=>this.connection.Io(t,n,r,i,s)).catch(i=>{throw i.name==="FirebaseError"?(i.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new Ne(le.UNKNOWN,i.toString())})}vo(t,n,r,i){return this.fu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.vo(t,n,r,s,o,i)).catch(s=>{throw s.name==="FirebaseError"?(s.code===le.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new Ne(le.UNKNOWN,s.toString())})}terminate(){this.lu=!0}}class qse{constructor(t,n){this.asyncQueue=t,this.onlineStateHandler=n,this.state="Unknown",this.wu=0,this._u=null,this.mu=!0}gu(){this.wu===0&&(this.yu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.pu("Backend didn't respond within 10 seconds."),this.yu("Offline"),Promise.resolve())))}Iu(t){this.state==="Online"?this.yu("Unknown"):(this.wu++,this.wu>=1&&(this.Tu(),this.pu(`Connection failed 1 times. Most recent error: ${t.toString()}`),this.yu("Offline")))}set(t){this.Tu(),this.wu=0,t==="Online"&&(this.mu=!1),this.yu(t)}yu(t){t!==this.state&&(this.state=t,this.onlineStateHandler(t))}pu(t){const n=`Could not reach Cloud Firestore backend. ${t}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.mu?(ga(n),this.mu=!1):He("OnlineStateTracker",n)}Tu(){this._u!==null&&(this._u.cancel(),this._u=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zse{constructor(t,n,r,i,s){this.localStore=t,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Eu=[],this.Au=new Map,this.vu=new Set,this.Ru=[],this.Pu=s,this.Pu.Yr(o=>{r.enqueueAndForget(async()=>{kc(this)&&(He("RemoteStore","Restarting streams for network reachability change."),await async function(a){const l=ct(a);l.vu.add(4),await bm(l),l.bu.set("Unknown"),l.vu.delete(4),await Ub(l)}(this))})}),this.bu=new qse(r,i)}}async function Ub(e){if(kc(e))for(const t of e.Ru)await t(!0)}async function bm(e){for(const t of e.Ru)await t(!1)}function CV(e,t){const n=ct(e);n.Au.has(t.targetId)||(n.Au.set(t.targetId,t),tC(n)?eC(n):zf(n).Ko()&&ZI(n,t))}function AV(e,t){const n=ct(e),r=zf(n);n.Au.delete(t),r.Ko()&&kV(n,t),n.Au.size===0&&(r.Ko()?r.jo():kc(n)&&n.bu.set("Unknown"))}function ZI(e,t){if(e.Vu.qt(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(vt.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}zf(e).su(t)}function kV(e,t){e.Vu.qt(t),zf(e).iu(t)}function eC(e){e.Vu=new Yie({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),le:t=>e.Au.get(t)||null,ue:()=>e.datastore.serializer.databaseId}),zf(e).start(),e.bu.gu()}function tC(e){return kc(e)&&!zf(e).Uo()&&e.Au.size>0}function kc(e){return ct(e).vu.size===0}function OV(e){e.Vu=void 0}async function Kse(e){e.Au.forEach((t,n)=>{ZI(e,t)})}async function Gse(e,t){OV(e),tC(e)?(e.bu.Iu(t),eC(e)):e.bu.set("Unknown")}async function Yse(e,t,n){if(e.bu.set("Online"),t instanceof vV&&t.state===2&&t.cause)try{await async function(r,i){const s=i.cause;for(const o of i.targetIds)r.Au.has(o)&&(await r.remoteSyncer.rejectListen(o,s),r.Au.delete(o),r.Vu.removeTarget(o))}(e,t)}catch(r){He("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),r),await T_(e,r)}else if(t instanceof hy?e.Vu.Ht(t):t instanceof mV?e.Vu.ne(t):e.Vu.Xt(t),!n.isEqual(vt.min()))try{const r=await xV(e.localStore);n.compareTo(r)>=0&&await function(i,s){const o=i.Vu.ce(s);return o.targetChanges.forEach((a,l)=>{if(a.resumeToken.approximateByteSize()>0){const u=i.Au.get(l);u&&i.Au.set(l,u.withResumeToken(a.resumeToken,s))}}),o.targetMismatches.forEach((a,l)=>{const u=i.Au.get(a);if(!u)return;i.Au.set(a,u.withResumeToken(Ji.EMPTY_BYTE_STRING,u.snapshotVersion)),kV(i,a);const c=new YI(u.target,a,l,u.sequenceNumber);ZI(i,c)}),i.remoteSyncer.applyRemoteEvent(o)}(e,n)}catch(r){He("RemoteStore","Failed to raise snapshot:",r),await T_(e,r)}}async function T_(e,t,n){if(!ym(t))throw t;e.vu.add(1),await bm(e),e.bu.set("Offline"),n||(n=()=>xV(e.localStore)),e.asyncQueue.enqueueRetryable(async()=>{He("RemoteStore","Retrying IndexedDB access"),await n(),e.vu.delete(1),await Ub(e)})}function PV(e,t){return t().catch(n=>T_(e,n,t))}async function Vb(e){const t=ct(e),n=Dl(t);let r=t.Eu.length>0?t.Eu[t.Eu.length-1].batchId:-1;for(;Xse(t);)try{const i=await Dse(t.localStore,r);if(i===null){t.Eu.length===0&&n.jo();break}r=i.batchId,Qse(t,i)}catch(i){await T_(t,i)}RV(t)&&DV(t)}function Xse(e){return kc(e)&&e.Eu.length<10}function Qse(e,t){e.Eu.push(t);const n=Dl(e);n.Ko()&&n.ou&&n.uu(t.mutations)}function RV(e){return kc(e)&&!Dl(e).Uo()&&e.Eu.length>0}function DV(e){Dl(e).start()}async function Jse(e){Dl(e).hu()}async function Zse(e){const t=Dl(e);for(const n of e.Eu)t.uu(n.mutations)}async function eoe(e,t,n){const r=e.Eu.shift(),i=Vie.from(r,t,n);await PV(e,()=>e.remoteSyncer.applySuccessfulWrite(i)),await Vb(e)}async function toe(e,t){t&&Dl(e).ou&&await async function(n,r){if(i=r.code,Wie(i)&&i!==le.ABORTED){const s=n.Eu.shift();Dl(n).Qo(),await PV(n,()=>n.remoteSyncer.rejectFailedWrite(s.batchId,r)),await Vb(n)}var i}(e,t),RV(e)&&DV(e)}async function WR(e,t){const n=ct(e);n.asyncQueue.verifyOperationInProgress(),He("RemoteStore","RemoteStore received new credentials");const r=kc(n);n.vu.add(3),await bm(n),r&&n.bu.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.vu.delete(3),await Ub(n)}async function noe(e,t){const n=ct(e);t?(n.vu.delete(2),await Ub(n)):t||(n.vu.add(2),await bm(n),n.bu.set("Unknown"))}function zf(e){return e.Su||(e.Su=function(t,n,r){const i=ct(t);return i.fu(),new Hse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:Kse.bind(null,e),ao:Gse.bind(null,e),nu:Yse.bind(null,e)}),e.Ru.push(async t=>{t?(e.Su.Qo(),tC(e)?eC(e):e.bu.set("Unknown")):(await e.Su.stop(),OV(e))})),e.Su}function Dl(e){return e.Du||(e.Du=function(t,n,r){const i=ct(t);return i.fu(),new jse(n,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(e.datastore,e.asyncQueue,{uo:Jse.bind(null,e),ao:toe.bind(null,e),au:Zse.bind(null,e),cu:eoe.bind(null,e)}),e.Ru.push(async t=>{t?(e.Du.Qo(),await Vb(e)):(await e.Du.stop(),e.Eu.length>0&&(He("RemoteStore",`Stopping write stream with ${e.Eu.length} pending writes`),e.Eu=[]))})),e.Du}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let roe=class NV{constructor(t,n,r,i,s){this.asyncQueue=t,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new ta,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}static createAndSchedule(t,n,r,i,s){const o=Date.now()+r,a=new NV(t,n,o,i,s);return a.start(r),a}start(t){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),t)}skipDelay(){return this.handleDelayElapsed()}cancel(t){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Ne(le.CANCELLED,"Operation cancelled"+(t?": "+t:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(t=>this.deferred.resolve(t))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function nC(e,t){if(ga("AsyncQueue",`${t}: ${e}`),ym(e))return new Ne(le.UNAVAILABLE,`${t}: ${e}`);throw e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let MV=class gy{constructor(t){this.comparator=t?(n,r)=>t(n,r)||Je.comparator(n.key,r.key):(n,r)=>Je.comparator(n.key,r.key),this.keyedMap=Qp(),this.sortedSet=new cr(this.comparator)}static emptySet(t){return new gy(t.comparator)}has(t){return this.keyedMap.get(t)!=null}get(t){return this.keyedMap.get(t)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(t){const n=this.keyedMap.get(t);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(t){this.sortedSet.inorderTraversal((n,r)=>(t(n),!1))}add(t){const n=this.delete(t.key);return n.copy(n.keyedMap.insert(t.key,t),n.sortedSet.insert(t,null))}delete(t){const n=this.get(t);return n?this.copy(this.keyedMap.remove(t),this.sortedSet.remove(n)):this}isEqual(t){if(!(t instanceof gy)||this.size!==t.size)return!1;const n=this.sortedSet.getIterator(),r=t.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){const t=[];return this.forEach(n=>{t.push(n.toString())}),t.length===0?"DocumentSet ()":`DocumentSet (
  `+t.join(`  
`)+`
)`}copy(t,n){const r=new gy;return r.comparator=this.comparator,r.keyedMap=t,r.sortedSet=n,r}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let qR=class{constructor(){this.Cu=new cr(Je.comparator)}track(t){const n=t.doc.key,r=this.Cu.get(n);r?t.type!==0&&r.type===3?this.Cu=this.Cu.insert(n,t):t.type===3&&r.type!==1?this.Cu=this.Cu.insert(n,{type:r.type,doc:t.doc}):t.type===2&&r.type===2?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):t.type===2&&r.type===0?this.Cu=this.Cu.insert(n,{type:0,doc:t.doc}):t.type===1&&r.type===0?this.Cu=this.Cu.remove(n):t.type===1&&r.type===2?this.Cu=this.Cu.insert(n,{type:1,doc:r.doc}):t.type===0&&r.type===1?this.Cu=this.Cu.insert(n,{type:2,doc:t.doc}):tt():this.Cu=this.Cu.insert(n,t)}xu(){const t=[];return this.Cu.inorderTraversal((n,r)=>{t.push(r)}),t}};class cf{constructor(t,n,r,i,s,o,a,l,u){this.query=t,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=u}static fromInitialDocuments(t,n,r,i,s){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new cf(t,n,MV.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(t){if(!(this.fromCache===t.fromCache&&this.hasCachedResults===t.hasCachedResults&&this.syncStateChanged===t.syncStateChanged&&this.mutatedKeys.isEqual(t.mutatedKeys)&&Nb(this.query,t.query)&&this.docs.isEqual(t.docs)&&this.oldDocs.isEqual(t.oldDocs)))return!1;const n=this.docChanges,r=t.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ioe{constructor(){this.Nu=void 0,this.listeners=[]}}let soe=class{constructor(){this.queries=new qf(t=>Y3(t),Nb),this.onlineState="Unknown",this.ku=new Set}};async function rC(e,t){const n=ct(e),r=t.query;let i=!1,s=n.queries.get(r);if(s||(i=!0,s=new ioe),i)try{s.Nu=await n.onListen(r)}catch(o){const a=nC(o,`Initialization of query '${dS(t.query)}' failed`);return void t.onError(a)}n.queries.set(r,s),s.listeners.push(t),t.Mu(n.onlineState),s.Nu&&t.$u(s.Nu)&&sC(n)}async function iC(e,t){const n=ct(e),r=t.query;let i=!1;const s=n.queries.get(r);if(s){const o=s.listeners.indexOf(t);o>=0&&(s.listeners.splice(o,1),i=s.listeners.length===0)}if(i)return n.queries.delete(r),n.onUnlisten(r)}function ooe(e,t){const n=ct(e);let r=!1;for(const i of t){const s=i.query,o=n.queries.get(s);if(o){for(const a of o.listeners)a.$u(i)&&(r=!0);o.Nu=i}}r&&sC(n)}function aoe(e,t,n){const r=ct(e),i=r.queries.get(t);if(i)for(const s of i.listeners)s.onError(n);r.queries.delete(t)}function sC(e){e.ku.forEach(t=>{t.next()})}class oC{constructor(t,n,r){this.query=t,this.Ou=n,this.Fu=!1,this.Bu=null,this.onlineState="Unknown",this.options=r||{}}$u(t){if(!this.options.includeMetadataChanges){const r=[];for(const i of t.docChanges)i.type!==3&&r.push(i);t=new cf(t.query,t.docs,t.oldDocs,r,t.mutatedKeys,t.fromCache,t.syncStateChanged,!0,t.hasCachedResults)}let n=!1;return this.Fu?this.Lu(t)&&(this.Ou.next(t),n=!0):this.qu(t,this.onlineState)&&(this.Uu(t),n=!0),this.Bu=t,n}onError(t){this.Ou.error(t)}Mu(t){this.onlineState=t;let n=!1;return this.Bu&&!this.Fu&&this.qu(this.Bu,t)&&(this.Uu(this.Bu),n=!0),n}qu(t,n){if(!t.fromCache)return!0;const r=n!=="Offline";return(!this.options.Ku||!r)&&(!t.docs.isEmpty()||t.hasCachedResults||n==="Offline")}Lu(t){if(t.docChanges.length>0)return!0;const n=this.Bu&&this.Bu.hasPendingWrites!==t.hasPendingWrites;return!(!t.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}Uu(t){t=cf.fromInitialDocuments(t.query,t.docs,t.mutatedKeys,t.fromCache,t.hasCachedResults),this.Fu=!0,this.Ou.next(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LV{constructor(t){this.key=t}}let FV=class{constructor(t){this.key=t}},loe=class{constructor(t,n){this.query=t,this.Yu=n,this.Xu=null,this.hasCachedResults=!1,this.current=!1,this.Zu=Ct(),this.mutatedKeys=Ct(),this.tc=X3(t),this.ec=new MV(this.tc)}get nc(){return this.Yu}sc(t,n){const r=n?n.ic:new qR,i=n?n.ec:this.ec;let s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1;const l=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,u=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(t.inorderTraversal((c,d)=>{const f=i.get(c),p=Mb(this.query,d)?d:null,h=!!f&&this.mutatedKeys.has(f.key),g=!!p&&(p.hasLocalMutations||this.mutatedKeys.has(p.key)&&p.hasCommittedMutations);let m=!1;f&&p?f.data.isEqual(p.data)?h!==g&&(r.track({type:3,doc:p}),m=!0):this.rc(f,p)||(r.track({type:2,doc:p}),m=!0,(l&&this.tc(p,l)>0||u&&this.tc(p,u)<0)&&(a=!0)):!f&&p?(r.track({type:0,doc:p}),m=!0):f&&!p&&(r.track({type:1,doc:f}),m=!0,(l||u)&&(a=!0)),m&&(p?(o=o.add(p),s=g?s.add(c):s.delete(c)):(o=o.delete(c),s=s.delete(c)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const c=this.query.limitType==="F"?o.last():o.first();o=o.delete(c.key),s=s.delete(c.key),r.track({type:1,doc:c})}return{ec:o,ic:r,zi:a,mutatedKeys:s}}rc(t,n){return t.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(t,n,r){const i=this.ec;this.ec=t.ec,this.mutatedKeys=t.mutatedKeys;const s=t.ic.xu();s.sort((u,c)=>function(d,f){const p=h=>{switch(h){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return tt()}};return p(d)-p(f)}(u.type,c.type)||this.tc(u.doc,c.doc)),this.oc(r);const o=n?this.uc():[],a=this.Zu.size===0&&this.current?1:0,l=a!==this.Xu;return this.Xu=a,s.length!==0||l?{snapshot:new cf(this.query,t.ec,i,s,t.mutatedKeys,a===0,l,!1,!!r&&r.resumeToken.approximateByteSize()>0),cc:o}:{cc:o}}Mu(t){return this.current&&t==="Offline"?(this.current=!1,this.applyChanges({ec:this.ec,ic:new qR,mutatedKeys:this.mutatedKeys,zi:!1},!1)):{cc:[]}}ac(t){return!this.Yu.has(t)&&!!this.ec.has(t)&&!this.ec.get(t).hasLocalMutations}oc(t){t&&(t.addedDocuments.forEach(n=>this.Yu=this.Yu.add(n)),t.modifiedDocuments.forEach(n=>{}),t.removedDocuments.forEach(n=>this.Yu=this.Yu.delete(n)),this.current=t.current)}uc(){if(!this.current)return[];const t=this.Zu;this.Zu=Ct(),this.ec.forEach(r=>{this.ac(r.key)&&(this.Zu=this.Zu.add(r.key))});const n=[];return t.forEach(r=>{this.Zu.has(r)||n.push(new FV(r))}),this.Zu.forEach(r=>{t.has(r)||n.push(new LV(r))}),n}hc(t){this.Yu=t.ir,this.Zu=Ct();const n=this.sc(t.documents);return this.applyChanges(n,!0)}lc(){return cf.fromInitialDocuments(this.query,this.ec,this.mutatedKeys,this.Xu===0,this.hasCachedResults)}};class uoe{constructor(t,n,r){this.query=t,this.targetId=n,this.view=r}}class coe{constructor(t){this.key=t,this.fc=!1}}class doe{constructor(t,n,r,i,s,o){this.localStore=t,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.dc={},this.wc=new qf(a=>Y3(a),Nb),this._c=new Map,this.mc=new Set,this.gc=new cr(Je.comparator),this.yc=new Map,this.Ic=new XI,this.Tc={},this.Ec=new Map,this.Ac=mS.Mn(),this.onlineState="Unknown",this.vc=void 0}get isPrimaryClient(){return this.vc===!0}}async function foe(e,t){const n=Eoe(e);let r,i;const s=n.wc.get(t);if(s)r=s.targetId,n.sharedClientState.addLocalQueryTarget(r),i=s.view.lc();else{const o=await Nse(n.localStore,va(t)),a=n.sharedClientState.addLocalQueryTarget(o.targetId);r=o.targetId,i=await poe(n,t,r,a==="current",o.resumeToken),n.isPrimaryClient&&CV(n.remoteStore,o)}return i}async function poe(e,t,n,r,i){e.Rc=(d,f,p)=>async function(h,g,m,v){let y=g.view.sc(m);y.zi&&(y=await VR(h.localStore,g.query,!1).then(({documents:S})=>g.view.sc(S,y)));const b=v&&v.targetChanges.get(g.targetId),_=g.view.applyChanges(y,h.isPrimaryClient,b);return KR(h,g.targetId,_.cc),_.snapshot}(e,d,f,p);const s=await VR(e.localStore,t,!0),o=new loe(t,s.ir),a=o.sc(s.documents),l=KI.createSynthesizedTargetChangeForCurrentChange(n,r&&e.onlineState!=="Offline",i),u=o.applyChanges(a,e.isPrimaryClient,l);KR(e,n,u.cc);const c=new uoe(t,n,o);return e.wc.set(t,c),e._c.has(n)?e._c.get(n).push(t):e._c.set(n,[t]),u.snapshot}async function hoe(e,t){const n=ct(e),r=n.wc.get(t),i=n._c.get(r.targetId);if(i.length>1)return n._c.set(r.targetId,i.filter(s=>!Nb(s,t))),void n.wc.delete(t);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(r.targetId),n.sharedClientState.isActiveQueryTarget(r.targetId)||await yS(n.localStore,r.targetId,!1).then(()=>{n.sharedClientState.clearQueryState(r.targetId),AV(n.remoteStore,r.targetId),_S(n,r.targetId)}).catch(vm)):(_S(n,r.targetId),await yS(n.localStore,r.targetId,!0))}async function goe(e,t,n){const r=$oe(e);try{const i=await function(s,o){const a=ct(s),l=ui.now(),u=o.reduce((f,p)=>f.add(p.key),Ct());let c,d;return a.persistence.runTransaction("Locally write mutations","readwrite",f=>{let p=ya(),h=Ct();return a.Zi.getEntries(f,u).next(g=>{p=g,p.forEach((m,v)=>{v.isValidDocument()||(h=h.add(m))})}).next(()=>a.localDocuments.getOverlayedDocuments(f,p)).next(g=>{c=g;const m=[];for(const v of o){const y=Fie(v,c.get(v.key).overlayedDocument);y!=null&&m.push(new zl(v.key,y,B3(y.value.mapValue),Od.exists(!0)))}return a.mutationQueue.addMutationBatch(f,l,m,o)}).next(g=>{d=g;const m=g.applyToLocalDocumentSet(c,h);return a.documentOverlayCache.saveOverlays(f,g.batchId,m)})}).then(()=>({batchId:d.batchId,changes:J3(c)}))}(r.localStore,t);r.sharedClientState.addPendingMutation(i.batchId),function(s,o,a){let l=s.Tc[s.currentUser.toKey()];l||(l=new cr(zt)),l=l.insert(o,a),s.Tc[s.currentUser.toKey()]=l}(r,i.batchId,n),await wm(r,i.changes),await Vb(r.remoteStore)}catch(i){const s=nC(i,"Failed to persist write");n.reject(s)}}async function BV(e,t){const n=ct(e);try{const r=await Pse(n.localStore,t);t.targetChanges.forEach((i,s)=>{const o=n.yc.get(s);o&&(Pn(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.fc=!0:i.modifiedDocuments.size>0?Pn(o.fc):i.removedDocuments.size>0&&(Pn(o.fc),o.fc=!1))}),await wm(n,r,t)}catch(r){await vm(r)}}function zR(e,t,n){const r=ct(e);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.wc.forEach((s,o)=>{const a=o.view.Mu(t);a.snapshot&&i.push(a.snapshot)}),function(s,o){const a=ct(s);a.onlineState=o;let l=!1;a.queries.forEach((u,c)=>{for(const d of c.listeners)d.Mu(o)&&(l=!0)}),l&&sC(a)}(r.eventManager,t),i.length&&r.dc.nu(i),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function moe(e,t,n){const r=ct(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.yc.get(t),s=i&&i.key;if(s){let o=new cr(Je.comparator);o=o.insert(s,Xr.newNoDocument(s,vt.min()));const a=Ct().add(s),l=new pV(vt.min(),new Map,new cr(zt),o,a);await BV(r,l),r.gc=r.gc.remove(s),r.yc.delete(t),aC(r)}else await yS(r.localStore,t,!1).then(()=>_S(r,t,n)).catch(vm)}async function voe(e,t){const n=ct(e),r=t.batch.batchId;try{const i=await Ose(n.localStore,t);VV(n,r,null),UV(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await wm(n,i)}catch(i){await vm(i)}}async function yoe(e,t,n){const r=ct(e);try{const i=await function(s,o){const a=ct(s);return a.persistence.runTransaction("Reject batch","readwrite-primary",l=>{let u;return a.mutationQueue.lookupMutationBatch(l,o).next(c=>(Pn(c!==null),u=c.keys(),a.mutationQueue.removeMutationBatch(l,c))).next(()=>a.mutationQueue.performConsistencyCheck(l)).next(()=>a.documentOverlayCache.removeOverlaysForBatchId(l,u,o)).next(()=>a.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(l,u)).next(()=>a.localDocuments.getDocuments(l,u))})}(r.localStore,t);VV(r,t,n),UV(r,t),r.sharedClientState.updateMutationState(t,"rejected",n),await wm(r,i)}catch(i){await vm(i)}}function UV(e,t){(e.Ec.get(t)||[]).forEach(n=>{n.resolve()}),e.Ec.delete(t)}function VV(e,t,n){const r=ct(e);let i=r.Tc[r.currentUser.toKey()];if(i){const s=i.get(t);s&&(n?s.reject(n):s.resolve(),i=i.remove(t)),r.Tc[r.currentUser.toKey()]=i}}function _S(e,t,n=null){e.sharedClientState.removeLocalQueryTarget(t);for(const r of e._c.get(t))e.wc.delete(r),n&&e.dc.Pc(r,n);e._c.delete(t),e.isPrimaryClient&&e.Ic.Is(t).forEach(r=>{e.Ic.containsKey(r)||HV(e,r)})}function HV(e,t){e.mc.delete(t.path.canonicalString());const n=e.gc.get(t);n!==null&&(AV(e.remoteStore,n),e.gc=e.gc.remove(t),e.yc.delete(n),aC(e))}function KR(e,t,n){for(const r of n)r instanceof LV?(e.Ic.addReference(r.key,t),_oe(e,r)):r instanceof FV?(He("SyncEngine","Document no longer in limbo: "+r.key),e.Ic.removeReference(r.key,t),e.Ic.containsKey(r.key)||HV(e,r.key)):tt()}function _oe(e,t){const n=t.key,r=n.path.canonicalString();e.gc.get(n)||e.mc.has(r)||(He("SyncEngine","New document in limbo: "+n),e.mc.add(r),aC(e))}function aC(e){for(;e.mc.size>0&&e.gc.size<e.maxConcurrentLimboResolutions;){const t=e.mc.values().next().value;e.mc.delete(t);const n=new Je(er.fromString(t)),r=e.Ac.next();e.yc.set(r,new coe(n)),e.gc=e.gc.insert(n,r),CV(e.remoteStore,new YI(va(Rb(n.path)),r,"TargetPurposeLimboResolution",UI.ct))}}async function wm(e,t,n){const r=ct(e),i=[],s=[],o=[];r.wc.isEmpty()||(r.wc.forEach((a,l)=>{o.push(r.Rc(l,t,n).then(u=>{if((u||n)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(l.targetId,u!=null&&u.fromCache?"not-current":"current"),u){i.push(u);const c=JI.Li(l.targetId,u);s.push(c)}}))}),await Promise.all(o),r.dc.nu(i),await async function(a,l){const u=ct(a);try{await u.persistence.runTransaction("notifyLocalViewChanges","readwrite",c=>Oe.forEach(l,d=>Oe.forEach(d.Fi,f=>u.persistence.referenceDelegate.addReference(c,d.targetId,f)).next(()=>Oe.forEach(d.Bi,f=>u.persistence.referenceDelegate.removeReference(c,d.targetId,f)))))}catch(c){if(!ym(c))throw c;He("LocalStore","Failed to update sequence numbers: "+c)}for(const c of l){const d=c.targetId;if(!c.fromCache){const f=u.Ji.get(d),p=f.snapshotVersion,h=f.withLastLimboFreeSnapshotVersion(p);u.Ji=u.Ji.insert(d,h)}}}(r.localStore,s))}async function boe(e,t){const n=ct(e);if(!n.currentUser.isEqual(t)){He("SyncEngine","User change. New user:",t.toKey());const r=await SV(n.localStore,t);n.currentUser=t,function(i,s){i.Ec.forEach(o=>{o.forEach(a=>{a.reject(new Ne(le.CANCELLED,s))})}),i.Ec.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,r.removedBatchIds,r.addedBatchIds),await wm(n,r.er)}}function woe(e,t){const n=ct(e),r=n.yc.get(t);if(r&&r.fc)return Ct().add(r.key);{let i=Ct();const s=n._c.get(t);if(!s)return i;for(const o of s){const a=n.wc.get(o);i=i.unionWith(a.view.nc)}return i}}function Eoe(e){const t=ct(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=BV.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=woe.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=moe.bind(null,t),t.dc.nu=ooe.bind(null,t.eventManager),t.dc.Pc=aoe.bind(null,t.eventManager),t}function $oe(e){const t=ct(e);return t.remoteStore.remoteSyncer.applySuccessfulWrite=voe.bind(null,t),t.remoteStore.remoteSyncer.rejectFailedWrite=yoe.bind(null,t),t}let GR=class{constructor(){this.synchronizeTabs=!1}async initialize(t){this.serializer=Bb(t.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(t),this.persistence=this.createPersistence(t),await this.persistence.start(),this.localStore=this.createLocalStore(t),this.gcScheduler=this.createGarbageCollectionScheduler(t,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(t,this.localStore)}createGarbageCollectionScheduler(t,n){return null}createIndexBackfillerScheduler(t,n){return null}createLocalStore(t){return kse(this.persistence,new Cse,t.initialUser,this.serializer)}createPersistence(t){return new Tse(QI.zs,this.serializer)}createSharedClientState(t){return new Lse}async terminate(){this.gcScheduler&&this.gcScheduler.stop(),await this.sharedClientState.shutdown(),await this.persistence.shutdown()}},Soe=class{async initialize(t,n){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>zR(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=boe.bind(null,this.syncEngine),await noe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(t){return new soe}createDatastore(t){const n=Bb(t.databaseInfo.databaseId),r=(i=t.databaseInfo,new Vse(i));var i;return function(s,o,a,l){return new Wse(s,o,a,l)}(t.authCredentials,t.appCheckCredentials,r,n)}createRemoteStore(t){return n=this.localStore,r=this.datastore,i=t.asyncQueue,s=a=>zR(this.syncEngine,a,0),o=jR.D()?new jR:new Fse,new zse(n,r,i,s,o);var n,r,i,s,o}createSyncEngine(t,n){return function(r,i,s,o,a,l,u){const c=new doe(r,i,s,o,a,l);return u&&(c.vc=!0),c}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,n)}terminate(){return async function(t){const n=ct(t);He("RemoteStore","RemoteStore shutting down."),n.vu.add(5),await bm(n),n.Pu.shutdown(),n.bu.set("Unknown")}(this.remoteStore)}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let lC=class{constructor(t){this.observer=t,this.muted=!1}next(t){this.observer.next&&this.Sc(this.observer.next,t)}error(t){this.observer.error?this.Sc(this.observer.error,t):ga("Uncaught Error in snapshot listener:",t.toString())}Dc(){this.muted=!0}Sc(t,n){this.muted||setTimeout(()=>{this.muted||t(n)},0)}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xoe=class{constructor(t,n,r,i){this.authCredentials=t,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Kr.UNAUTHENTICATED,this.clientId=D3.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,async s=>{He("FirestoreClient","Received user=",s.uid),await this.authCredentialListener(s),this.user=s}),this.appCheckCredentials.start(r,s=>(He("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}async getConfiguration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(t){this.authCredentialListener=t}setAppCheckTokenChangeListener(t){this.appCheckCredentialListener=t}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Ne(le.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const t=new ta;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),t.resolve()}catch(n){const r=nC(n,"Failed to shutdown persistence");t.reject(r)}}),t.promise}};async function R1(e,t){e.asyncQueue.verifyOperationInProgress(),He("FirestoreClient","Initializing OfflineComponentProvider");const n=await e.getConfiguration();await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener(async i=>{r.isEqual(i)||(await SV(t.localStore,i),r=i)}),t.persistence.setDatabaseDeletedListener(()=>e.terminate()),e._offlineComponents=t}async function YR(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Ioe(e);He("FirestoreClient","Initializing OnlineComponentProvider");const r=await e.getConfiguration();await t.initialize(n,r),e.setCredentialChangeListener(i=>WR(t.remoteStore,i)),e.setAppCheckTokenChangeListener((i,s)=>WR(t.remoteStore,s)),e._onlineComponents=t}function Toe(e){return e.name==="FirebaseError"?e.code===le.FAILED_PRECONDITION||e.code===le.UNIMPLEMENTED:!(typeof DOMException<"u"&&e instanceof DOMException)||e.code===22||e.code===20||e.code===11}async function Ioe(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){He("FirestoreClient","Using user provided OfflineComponentProvider");try{await R1(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!Toe(n))throw n;of("Error using user provided cache. Falling back to memory cache: "+n),await R1(e,new GR)}}else He("FirestoreClient","Using default OfflineComponentProvider"),await R1(e,new GR);return e._offlineComponents}async function jV(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(He("FirestoreClient","Using user provided OnlineComponentProvider"),await YR(e,e._uninitializedComponentsProvider._online)):(He("FirestoreClient","Using default OnlineComponentProvider"),await YR(e,new Soe))),e._onlineComponents}function Coe(e){return jV(e).then(t=>t.syncEngine)}async function I_(e){const t=await jV(e),n=t.eventManager;return n.onListen=foe.bind(null,t.syncEngine),n.onUnlisten=hoe.bind(null,t.syncEngine),n}function Aoe(e,t,n={}){const r=new ta;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lC({next:d=>{s.enqueueAndForget(()=>iC(i,c));const f=d.docs.has(o);!f&&d.fromCache?l.reject(new Ne(le.UNAVAILABLE,"Failed to get document because the client is offline.")):f&&d.fromCache&&a&&a.source==="server"?l.reject(new Ne(le.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new oC(Rb(o.path),u,{includeMetadataChanges:!0,Ku:!0});return rC(i,c)}(await I_(e),e.asyncQueue,t,n,r)),r.promise}function koe(e,t,n={}){const r=new ta;return e.asyncQueue.enqueueAndForget(async()=>function(i,s,o,a,l){const u=new lC({next:d=>{s.enqueueAndForget(()=>iC(i,c)),d.fromCache&&a.source==="server"?l.reject(new Ne(le.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):l.resolve(d)},error:d=>l.reject(d)}),c=new oC(o,u,{includeMetadataChanges:!0,Ku:!0});return rC(i,c)}(await I_(e),e.asyncQueue,t,n,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WV(e){const t={};return e.timeoutSeconds!==void 0&&(t.timeoutSeconds=e.timeoutSeconds),t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XR=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qV(e,t,n){if(!n)throw new Ne(le.INVALID_ARGUMENT,`Function ${e}() cannot be called with an empty ${t}.`)}function Ooe(e,t,n,r){if(t===!0&&r===!0)throw new Ne(le.INVALID_ARGUMENT,`${e} and ${n} cannot be used together.`)}function QR(e){if(!Je.isDocumentKey(e))throw new Ne(le.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${e} has ${e.length}.`)}function JR(e){if(Je.isDocumentKey(e))throw new Ne(le.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${e} has ${e.length}.`)}function Hb(e){if(e===void 0)return"undefined";if(e===null)return"null";if(typeof e=="string")return e.length>20&&(e=`${e.substring(0,20)}...`),JSON.stringify(e);if(typeof e=="number"||typeof e=="boolean")return""+e;if(typeof e=="object"){if(e instanceof Array)return"an array";{const t=function(n){return n.constructor?n.constructor.name:null}(e);return t?`a custom ${t} object`:"an object"}}return typeof e=="function"?"a function":tt()}function Vs(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new Ne(le.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hb(e);throw new Ne(le.INVALID_ARGUMENT,`Expected type '${t.name}', but it was: ${n}`)}}return e}function Poe(e,t){if(t<=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${e}() requires a positive number, but it was: ${t}.`)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZR{constructor(t){var n,r;if(t.host===void 0){if(t.ssl!==void 0)throw new Ne(le.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=t.host,this.ssl=(n=t.ssl)===null||n===void 0||n;if(this.credentials=t.credentials,this.ignoreUndefinedProperties=!!t.ignoreUndefinedProperties,this.cache=t.localCache,t.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(t.cacheSizeBytes!==-1&&t.cacheSizeBytes<1048576)throw new Ne(le.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=t.cacheSizeBytes}Ooe("experimentalForceLongPolling",t.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",t.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!t.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:t.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!t.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=WV((r=t.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(i){if(i.timeoutSeconds!==void 0){if(isNaN(i.timeoutSeconds))throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new Ne(le.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!t.useFetchStreams}isEqual(t){return this.host===t.host&&this.ssl===t.ssl&&this.credentials===t.credentials&&this.cacheSizeBytes===t.cacheSizeBytes&&this.experimentalForceLongPolling===t.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===t.experimentalAutoDetectLongPolling&&(n=this.experimentalLongPollingOptions,r=t.experimentalLongPollingOptions,n.timeoutSeconds===r.timeoutSeconds)&&this.ignoreUndefinedProperties===t.ignoreUndefinedProperties&&this.useFetchStreams===t.useFetchStreams;var n,r}}class jb{constructor(t,n,r,i){this._authCredentials=t,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ZR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Ne(le.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(t){if(this._settingsFrozen)throw new Ne(le.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ZR(t),t.credentials!==void 0&&(this._authCredentials=function(n){if(!n)return new Xre;switch(n.type){case"firstParty":return new eie(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new Ne(le.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(t.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const n=XR.get(t);n&&(He("ComponentProvider","Removing Datastore"),XR.delete(t),n.terminate())}(this),Promise.resolve()}}function Roe(e,t,n,r={}){var i;const s=(e=Vs(e,jb))._getSettings();if(s.host!=="firestore.googleapis.com"&&s.host!==t&&of("Host has been set in both settings() and useEmulator(), emulator host will be used"),e._setSettings(Object.assign(Object.assign({},s),{host:`${t}:${n}`,ssl:!1})),r.mockUserToken){let o,a;if(typeof r.mockUserToken=="string")o=r.mockUserToken,a=Kr.MOCK_USER;else{o=eU(r.mockUserToken,(i=e._app)===null||i===void 0?void 0:i.options.projectId);const l=r.mockUserToken.sub||r.mockUserToken.user_id;if(!l)throw new Ne(le.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");a=new Kr(l)}e._authCredentials=new Qre(new R3(o,a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(t,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=t}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new _l(this.firestore,this.converter,this._key.path.popLast())}withConverter(t){return new ci(this.firestore,t,this._key)}}class xa{constructor(t,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=t}withConverter(t){return new xa(this.firestore,t,this._query)}}class _l extends xa{constructor(t,n,r){super(t,n,Rb(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const t=this._path.popLast();return t.isEmpty()?null:new ci(this.firestore,null,new Je(t))}withConverter(t){return new _l(this.firestore,t,this._path)}}function Xqe(e,t,...n){if(e=Nt(e),qV("collection","path",t),e instanceof jb){const r=er.fromString(t,...n);return JR(r),new _l(e,null,r)}{if(!(e instanceof ci||e instanceof _l))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(er.fromString(t,...n));return JR(r),new _l(e.firestore,null,r)}}function uC(e,t,...n){if(e=Nt(e),arguments.length===1&&(t=D3.A()),qV("doc","path",t),e instanceof jb){const r=er.fromString(t,...n);return QR(r),new ci(e,null,new Je(r))}{if(!(e instanceof ci||e instanceof _l))throw new Ne(le.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=e._path.child(er.fromString(t,...n));return QR(r),new ci(e.firestore,e instanceof _l?e.converter:null,new Je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Doe{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new TV(this,"async_queue_retry"),this.Xc=()=>{const n=P1();n&&He("AsyncQueue","Visibility state changed to "+n.visibilityState),this.qo.Mo()};const t=P1();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(t){this.enqueue(t)}enqueueAndForgetEvenWhileRestricted(t){this.Zc(),this.ta(t)}enterRestrictedMode(t){if(!this.jc){this.jc=!0,this.Jc=t||!1;const n=P1();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Xc)}}enqueue(t){if(this.Zc(),this.jc)return new Promise(()=>{});const n=new ta;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(t().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(t){this.enqueueAndForget(()=>(this.Qc.push(t),this.ea()))}async ea(){if(this.Qc.length!==0){try{await this.Qc[0](),this.Qc.shift(),this.qo.reset()}catch(t){if(!ym(t))throw t;He("AsyncQueue","Operation failed with retryable error: "+t)}this.Qc.length>0&&this.qo.No(()=>this.ea())}}ta(t){const n=this.Gc.then(()=>(this.Hc=!0,t().catch(r=>{this.Wc=r,this.Hc=!1;const i=function(s){let o=s.message||"";return s.stack&&(o=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),o}(r);throw ga("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Hc=!1,r))));return this.Gc=n,n}enqueueAfterDelay(t,n,r){this.Zc(),this.Yc.indexOf(t)>-1&&(n=0);const i=roe.createAndSchedule(this,t,n,r,s=>this.na(s));return this.zc.push(i),i}Zc(){this.Wc&&tt()}verifyOperationInProgress(){}async sa(){let t;do t=this.Gc,await t;while(t!==this.Gc)}ia(t){for(const n of this.zc)if(n.timerId===t)return!0;return!1}ra(t){return this.sa().then(()=>{this.zc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.zc)if(n.skipDelay(),t!=="all"&&n.timerId===t)break;return this.sa()})}oa(t){this.Yc.push(t)}na(t){const n=this.zc.indexOf(t);this.zc.splice(n,1)}}function eD(e){return function(t,n){if(typeof t!="object"||t===null)return!1;const r=t;for(const i of n)if(i in r&&typeof r[i]=="function")return!0;return!1}(e,["next","error","complete"])}class rc extends jb{constructor(t,n,r,i){super(t,n,r,i),this.type="firestore",this._queue=new Doe,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||zV(this),this._firestoreClient.terminate()}}function Noe(e,t){const n=typeof e=="object"?e:Tc(),r=typeof e=="string"?e:t||"(default)",i=Qs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=MT("firestore");s&&Roe(i,...s)}return i}function Wb(e){return e._firestoreClient||zV(e),e._firestoreClient.verifyNotTerminated(),e._firestoreClient}function zV(e){var t,n,r;const i=e._freezeSettings(),s=function(o,a,l,u){return new fie(o,a,l,u.host,u.ssl,u.experimentalForceLongPolling,u.experimentalAutoDetectLongPolling,WV(u.experimentalLongPollingOptions),u.useFetchStreams)}(e._databaseId,((t=e._app)===null||t===void 0?void 0:t.options.appId)||"",e._persistenceKey,i);e._firestoreClient=new xoe(e._authCredentials,e._appCheckCredentials,e._queue,s),!((n=i.cache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.cache)===null||r===void 0)&&r._onlineComponentProvider)&&(e._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class df{constructor(t){this._byteString=t}static fromBase64String(t){try{return new df(Ji.fromBase64String(t))}catch(n){throw new Ne(le.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(t){return new df(Ji.fromUint8Array(t))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(t){return this._byteString.isEqual(t._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qb{constructor(...t){for(let n=0;n<t.length;++n)if(t[n].length===0)throw new Ne(le.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vo(t)}isEqual(t){return this._internalPath.isEqual(t._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cC{constructor(t){this._methodName=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dC{constructor(t,n){if(!isFinite(t)||t<-90||t>90)throw new Ne(le.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+t);if(!isFinite(n)||n<-180||n>180)throw new Ne(le.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=t,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(t){return this._lat===t._lat&&this._long===t._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(t){return zt(this._lat,t._lat)||zt(this._long,t._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Moe=/^__.*__$/;class Loe{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return this.fieldMask!==null?new zl(t,this.data,this.fieldMask,n,this.fieldTransforms):new _m(t,this.data,n,this.fieldTransforms)}}class KV{constructor(t,n,r){this.data=t,this.fieldMask=n,this.fieldTransforms=r}toMutation(t,n){return new zl(t,this.data,this.fieldMask,n,this.fieldTransforms)}}function GV(e){switch(e){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw tt()}}class fC{constructor(t,n,r,i,s,o){this.settings=t,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.ua(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get ca(){return this.settings.ca}aa(t){return new fC(Object.assign(Object.assign({},this.settings),t),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}ha(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.fa(t),i}da(t){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(t),i=this.aa({path:r,la:!1});return i.ua(),i}wa(t){return this.aa({path:void 0,la:!0})}_a(t){return C_(t,this.settings.methodName,this.settings.ma||!1,this.path,this.settings.ga)}contains(t){return this.fieldMask.find(n=>t.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>t.isPrefixOf(n.field))!==void 0}ua(){if(this.path)for(let t=0;t<this.path.length;t++)this.fa(this.path.get(t))}fa(t){if(t.length===0)throw this._a("Document fields must not be empty");if(GV(this.ca)&&Moe.test(t))throw this._a('Document fields cannot begin and end with "__"')}}class Foe{constructor(t,n,r){this.databaseId=t,this.ignoreUndefinedProperties=n,this.serializer=r||Bb(t)}ya(t,n,r,i=!1){return new fC({ca:t,methodName:n,ga:r,path:vo.emptyPath(),la:!1,ma:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function pC(e){const t=e._freezeSettings(),n=Bb(e._databaseId);return new Foe(e._databaseId,!!t.ignoreUndefinedProperties,n)}function Boe(e,t,n,r,i,s={}){const o=e.ya(s.merge||s.mergeFields?2:0,t,n,i);hC("Data must be an object, but it was:",o,r);const a=QV(r,o);let l,u;if(s.merge)l=new uo(o.fieldMask),u=o.fieldTransforms;else if(s.mergeFields){const c=[];for(const d of s.mergeFields){const f=bS(t,d,n);if(!o.contains(f))throw new Ne(le.INVALID_ARGUMENT,`Field '${f}' is specified in your field mask but missing from your input data.`);ZV(c,f)||c.push(f)}l=new uo(c),u=o.fieldTransforms.filter(d=>l.covers(d.field))}else l=null,u=o.fieldTransforms;return new Loe(new $i(a),l,u)}let YV=class XV extends cC{_toFieldTransform(t){if(t.ca!==2)throw t.ca===1?t._a(`${this._methodName}() can only appear at the top level of your update data`):t._a(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return t.fieldMask.push(t.path),null}isEqual(t){return t instanceof XV}};function Uoe(e,t,n,r){const i=e.ya(1,t,n);hC("Data must be an object, but it was:",i,r);const s=[],o=$i.empty();Ac(r,(l,u)=>{const c=gC(t,l,n);u=Nt(u);const d=i.da(c);if(u instanceof YV)s.push(c);else{const f=Em(u,d);f!=null&&(s.push(c),o.set(c,f))}});const a=new uo(s);return new KV(o,a,i.fieldTransforms)}function Voe(e,t,n,r,i,s){const o=e.ya(1,t,n),a=[bS(t,r,n)],l=[i];if(s.length%2!=0)throw new Ne(le.INVALID_ARGUMENT,`Function ${t}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let f=0;f<s.length;f+=2)a.push(bS(t,s[f])),l.push(s[f+1]);const u=[],c=$i.empty();for(let f=a.length-1;f>=0;--f)if(!ZV(u,a[f])){const p=a[f];let h=l[f];h=Nt(h);const g=o.da(p);if(h instanceof YV)u.push(p);else{const m=Em(h,g);m!=null&&(u.push(p),c.set(p,m))}}const d=new uo(u);return new KV(c,d,o.fieldTransforms)}function Hoe(e,t,n,r=!1){return Em(n,e.ya(r?4:3,t))}function Em(e,t){if(JV(e=Nt(e)))return hC("Unsupported field value:",t,e),QV(e,t);if(e instanceof cC)return function(n,r){if(!GV(r.ca))throw r._a(`${n._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${n._methodName}() is not currently supported inside arrays`);const i=n._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(e,t),null;if(e===void 0&&t.ignoreUndefinedProperties)return null;if(t.path&&t.fieldMask.push(t.path),e instanceof Array){if(t.settings.la&&t.ca!==4)throw t._a("Nested arrays are not supported");return function(n,r){const i=[];let s=0;for(const o of n){let a=Em(o,r.wa(s));a==null&&(a={nullValue:"NULL_VALUE"}),i.push(a),s++}return{arrayValue:{values:i}}}(e,t)}return function(n,r){if((n=Nt(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Pie(r.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const i=ui.fromDate(n);return{timestampValue:x_(r.serializer,i)}}if(n instanceof ui){const i=new ui(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:x_(r.serializer,i)}}if(n instanceof dC)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof df)return{bytesValue:yV(r.serializer,n._byteString)};if(n instanceof ci){const i=r.databaseId,s=n.firestore._databaseId;if(!s.isEqual(i))throw r._a(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:GI(n.firestore._databaseId||r.databaseId,n._key.path)}}throw r._a(`Unsupported field value: ${Hb(n)}`)}(e,t)}function QV(e,t){const n={};return M3(e)?t.path&&t.path.length>0&&t.fieldMask.push(t.path):Ac(e,(r,i)=>{const s=Em(i,t.ha(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function JV(e){return!(typeof e!="object"||e===null||e instanceof Array||e instanceof Date||e instanceof ui||e instanceof dC||e instanceof df||e instanceof ci||e instanceof cC)}function hC(e,t,n){if(!JV(n)||!function(r){return typeof r=="object"&&r!==null&&(Object.getPrototypeOf(r)===Object.prototype||Object.getPrototypeOf(r)===null)}(n)){const r=Hb(n);throw r==="an object"?t._a(e+" a custom object"):t._a(e+" "+r)}}function bS(e,t,n){if((t=Nt(t))instanceof qb)return t._internalPath;if(typeof t=="string")return gC(e,t);throw C_("Field path arguments must be of type string or ",e,!1,void 0,n)}const joe=new RegExp("[~\\*/\\[\\]]");function gC(e,t,n){if(t.search(joe)>=0)throw C_(`Invalid field path (${t}). Paths must not contain '~', '*', '/', '[', or ']'`,e,!1,void 0,n);try{return new qb(...t.split("."))._internalPath}catch{throw C_(`Invalid field path (${t}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,e,!1,void 0,n)}}function C_(e,t,n,r,i){const s=r&&!r.isEmpty(),o=i!==void 0;let a=`Function ${t}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(s||o)&&(l+=" (found",s&&(l+=` in field ${r}`),o&&(l+=` in document ${i}`),l+=")"),new Ne(le.INVALID_ARGUMENT,a+e+l)}function ZV(e,t){return e.some(n=>n.isEqual(t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let eH=class{constructor(t,n,r,i,s){this._firestore=t,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new ci(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const t=new Woe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(t)}return this._userDataWriter.convertValue(this._document.data.value)}}get(t){if(this._document){const n=this._document.data.field(zb("DocumentSnapshot.get",t));if(n!==null)return this._userDataWriter.convertValue(n)}}},Woe=class extends eH{data(){return super.data()}};function zb(e,t){return typeof t=="string"?gC(e,t):t instanceof qb?t._internalPath:t._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tH(e){if(e.limitType==="L"&&e.explicitOrderBy.length===0)throw new Ne(le.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}let mC=class{},vC=class extends mC{};function tze(e,t,...n){let r=[];t instanceof mC&&r.push(t),r=r.concat(n),function(i){const s=i.filter(a=>a instanceof qoe).length,o=i.filter(a=>a instanceof nH).length;if(s>1||s>0&&o>0)throw new Ne(le.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)e=i._apply(e);return e}let nH=class rH extends vC{constructor(t,n,r){super(),this._field=t,this._op=n,this._value=r,this.type="where"}static _create(t,n,r){return new rH(t,n,r)}_apply(t){const n=this._parse(t);return aH(t._query,n),new xa(t.firestore,t.converter,cS(t._query,n))}_parse(t){const n=pC(t.firestore);return function(i,s,o,a,l,u,c){let d;if(l.isKeyField()){if(u==="array-contains"||u==="array-contains-any")throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. You can't perform '${u}' queries on documentId().`);if(u==="in"||u==="not-in"){nD(c,u);const f=[];for(const p of c)f.push(tD(a,i,p));d={arrayValue:{values:f}}}else d=tD(a,i,c)}else u!=="in"&&u!=="not-in"&&u!=="array-contains-any"||nD(c,u),d=Hoe(o,s,c,u==="in"||u==="not-in");return Ar.create(l,u,d)}(t._query,"where",n,t.firestore._databaseId,this._field,this._op,this._value)}};function nze(e,t,n){const r=t,i=zb("where",e);return nH._create(i,r,n)}let qoe=class iH extends mC{constructor(t,n){super(),this.type=t,this._queryConstraints=n}static _create(t,n){return new iH(t,n)}_parse(t){const n=this._queryConstraints.map(r=>r._parse(t)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ma.create(n,this._getOperator())}_apply(t){const n=this._parse(t);return n.getFilters().length===0?t:(function(r,i){let s=r;const o=i.getFlattenedFilters();for(const a of o)aH(s,a),s=cS(s,a)}(t._query,n),new xa(t.firestore,t.converter,cS(t._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}},zoe=class sH extends vC{constructor(t,n){super(),this._field=t,this._direction=n,this.type="orderBy"}static _create(t,n){return new sH(t,n)}_apply(t){const n=function(r,i,s){if(r.startAt!==null)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(r.endAt!==null)throw new Ne(le.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const o=new Ad(i,s);return function(a,l){if(zI(a)===null){const u=Db(a);u!==null&&lH(a,u,l.field)}}(r,o),o}(t._query,this._field,this._direction);return new xa(t.firestore,t.converter,function(r,i){const s=r.explicitOrderBy.concat([i]);return new Wf(r.path,r.collectionGroup,s,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(t._query,n))}};function rze(e,t="asc"){const n=t,r=zb("orderBy",e);return zoe._create(r,n)}let Koe=class oH extends vC{constructor(t,n,r){super(),this.type=t,this._limit=n,this._limitType=r}static _create(t,n,r){return new oH(t,n,r)}_apply(t){return new xa(t.firestore,t.converter,E_(t._query,this._limit,this._limitType))}};function ize(e){return Poe("limit",e),Koe._create("limit",e,"F")}function tD(e,t,n){if(typeof(n=Nt(n))=="string"){if(n==="")throw new Ne(le.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!G3(t)&&n.indexOf("/")!==-1)throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=t.path.child(er.fromString(n));if(!Je.isDocumentKey(r))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return SR(e,new Je(r))}if(n instanceof ci)return SR(e,n._key);throw new Ne(le.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hb(n)}.`)}function nD(e,t){if(!Array.isArray(e)||e.length===0)throw new Ne(le.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${t.toString()}' filters.`)}function aH(e,t){if(t.isInequality()){const r=Db(e),i=t.field;if(r!==null&&!r.isEqual(i))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const s=zI(e);s!==null&&lH(e,i,s)}const n=function(r,i){for(const s of r)for(const o of s.getFlattenedFilters())if(i.indexOf(o.op)>=0)return o.op;return null}(e.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(t.op));if(n!==null)throw n===t.op?new Ne(le.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${t.op.toString()}' filter.`):new Ne(le.INVALID_ARGUMENT,`Invalid query. You cannot use '${t.op.toString()}' filters with '${n.toString()}' filters.`)}function lH(e,t,n){if(!n.isEqual(t))throw new Ne(le.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${t.toString()}' and so you must also use '${t.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${n.toString()}' instead.`)}let Goe=class{convertValue(t,n="none"){switch(nc(t)){case 0:return null;case 1:return t.booleanValue;case 2:return ar(t.integerValue||t.doubleValue);case 3:return this.convertTimestamp(t.timestampValue);case 4:return this.convertServerTimestamp(t,n);case 5:return t.stringValue;case 6:return this.convertBytes(tc(t.bytesValue));case 7:return this.convertReference(t.referenceValue);case 8:return this.convertGeoPoint(t.geoPointValue);case 9:return this.convertArray(t.arrayValue,n);case 10:return this.convertObject(t.mapValue,n);default:throw tt()}}convertObject(t,n){return this.convertObjectMap(t.fields,n)}convertObjectMap(t,n="none"){const r={};return Ac(t,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertGeoPoint(t){return new dC(ar(t.latitude),ar(t.longitude))}convertArray(t,n){return(t.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(t,n){switch(n){case"previous":const r=HI(t);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(vg(t));default:return null}}convertTimestamp(t){const n=Rl(t);return new ui(n.seconds,n.nanos)}convertDocumentKey(t,n){const r=er.fromString(t);Pn($V(r));const i=new F3(r.get(1),r.get(3)),s=new Je(r.popFirst(5));return i.isEqual(n)||ga(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yoe(e,t,n){let r;return r=e?n&&(n.merge||n.mergeFields)?e.toFirestore(t,n):e.toFirestore(t):t,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(t,n){this.hasPendingWrites=t,this.fromCache=n}isEqual(t){return this.hasPendingWrites===t.hasPendingWrites&&this.fromCache===t.fromCache}}class uH extends eH{constructor(t,n,r,i,s,o){super(t,n,r,i,o),this._firestore=t,this._firestoreImpl=t,this.metadata=s}exists(){return super.exists()}data(t={}){if(this._document){if(this._converter){const n=new my(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,t)}return this._userDataWriter.convertValue(this._document.data.value,t.serverTimestamps)}}get(t,n={}){if(this._document){const r=this._document.data.field(zb("DocumentSnapshot.get",t));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class my extends uH{data(t={}){return super.data(t)}}class cH{constructor(t,n,r,i){this._firestore=t,this._userDataWriter=n,this._snapshot=i,this.metadata=new eh(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const t=[];return this.forEach(n=>t.push(n)),t}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(t,n){this._snapshot.docs.forEach(r=>{t.call(n,new my(this._firestore,this._userDataWriter,r.key,r,new eh(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(t={}){const n=!!t.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Ne(le.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let s=0;return r._snapshot.docChanges.map(o=>{const a=new my(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);return o.doc,{type:"added",doc:a,oldIndex:-1,newIndex:s++}})}{let s=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(o=>i||o.type!==3).map(o=>{const a=new my(r._firestore,r._userDataWriter,o.doc.key,o.doc,new eh(r._snapshot.mutatedKeys.has(o.doc.key),r._snapshot.fromCache),r.query.converter);let l=-1,u=-1;return o.type!==0&&(l=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),u=s.indexOf(o.doc.key)),{type:Xoe(o.type),doc:a,oldIndex:l,newIndex:u}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function Xoe(e){switch(e){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return tt()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qoe(e){e=Vs(e,ci);const t=Vs(e.firestore,rc);return Aoe(Wb(t),e._key).then(n=>fH(t,e,n))}class yC extends Goe{constructor(t){super(),this.firestore=t}convertBytes(t){return new df(t)}convertReference(t){const n=this.convertDocumentKey(t,this.firestore._databaseId);return new ci(this.firestore,null,n)}}function oze(e){e=Vs(e,xa);const t=Vs(e.firestore,rc),n=Wb(t),r=new yC(t);return tH(e._query),koe(n,e._query).then(i=>new cH(t,r,e,i))}function Joe(e,t,n,...r){e=Vs(e,ci);const i=Vs(e.firestore,rc),s=pC(i);let o;return o=typeof(t=Nt(t))=="string"||t instanceof qb?Voe(s,"updateDoc",e._key,t,n,r):Uoe(s,"updateDoc",e._key,t),dH(i,[o.toMutation(e._key,Od.exists(!0))])}function aze(e,t){const n=Vs(e.firestore,rc),r=uC(e),i=Yoe(e.converter,t);return dH(n,[Boe(pC(e.firestore),"addDoc",r._key,i,e.converter!==null,{}).toMutation(r._key,Od.exists(!1))]).then(()=>r)}function Zoe(e,...t){var n,r,i;e=Nt(e);let s={includeMetadataChanges:!1},o=0;typeof t[o]!="object"||eD(t[o])||(s=t[o],o++);const a={includeMetadataChanges:s.includeMetadataChanges};if(eD(t[o])){const d=t[o];t[o]=(n=d.next)===null||n===void 0?void 0:n.bind(d),t[o+1]=(r=d.error)===null||r===void 0?void 0:r.bind(d),t[o+2]=(i=d.complete)===null||i===void 0?void 0:i.bind(d)}let l,u,c;if(e instanceof ci)u=Vs(e.firestore,rc),c=Rb(e._key.path),l={next:d=>{t[o]&&t[o](fH(u,e,d))},error:t[o+1],complete:t[o+2]};else{const d=Vs(e,xa);u=Vs(d.firestore,rc),c=d._query;const f=new yC(u);l={next:p=>{t[o]&&t[o](new cH(u,f,d,p))},error:t[o+1],complete:t[o+2]},tH(e._query)}return function(d,f,p,h){const g=new lC(h),m=new oC(f,g,p);return d.asyncQueue.enqueueAndForget(async()=>rC(await I_(d),m)),()=>{g.Dc(),d.asyncQueue.enqueueAndForget(async()=>iC(await I_(d),m))}}(Wb(u),c,a,l)}function dH(e,t){return function(n,r){const i=new ta;return n.asyncQueue.enqueueAndForget(async()=>goe(await Coe(n),r,i)),i.promise}(Wb(e),t)}function fH(e,t,n){const r=n.docs.get(t._key),i=new yC(e);return new uH(e,i,t._key,r,new eh(n.hasPendingWrites,n.fromCache),t.converter)}(function(e,t=!0){(function(n){jf=n})(jl),fi(new ni("firestore",(n,{instanceIdentifier:r,options:i})=>{const s=n.getProvider("app").getImmediate(),o=new rc(new Jre(n.getProvider("auth-internal")),new nie(n.getProvider("app-check-internal")),function(a,l){if(!Object.prototype.hasOwnProperty.apply(a.options,["projectId"]))throw new Ne(le.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new F3(a.options.projectId,l)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),o._setSettings(i),o},"PUBLIC").setMultipleInstances(!0)),mr(_R,"3.12.1",e),mr(_R,"3.12.1","esm2017")})();const eae=(e,t)=>t.some(n=>e instanceof n);let rD,iD;function tae(){return rD||(rD=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function nae(){return iD||(iD=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pH=new WeakMap,wS=new WeakMap,hH=new WeakMap,D1=new WeakMap,_C=new WeakMap;function rae(e){const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("success",s),e.removeEventListener("error",o)},s=()=>{n(bl(e.result)),i()},o=()=>{r(e.error),i()};e.addEventListener("success",s),e.addEventListener("error",o)});return t.then(n=>{n instanceof IDBCursor&&pH.set(n,e)}).catch(()=>{}),_C.set(t,e),t}function iae(e){if(wS.has(e))return;const t=new Promise((n,r)=>{const i=()=>{e.removeEventListener("complete",s),e.removeEventListener("error",o),e.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(e.error||new DOMException("AbortError","AbortError")),i()};e.addEventListener("complete",s),e.addEventListener("error",o),e.addEventListener("abort",o)});wS.set(e,t)}let ES={get(e,t,n){if(e instanceof IDBTransaction){if(t==="done")return wS.get(e);if(t==="objectStoreNames")return e.objectStoreNames||hH.get(e);if(t==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return bl(e[t])},set(e,t,n){return e[t]=n,!0},has(e,t){return e instanceof IDBTransaction&&(t==="done"||t==="store")?!0:t in e}};function sae(e){ES=e(ES)}function oae(e){return e===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(t,...n){const r=e.call(N1(this),t,...n);return hH.set(r,t.sort?t.sort():[t]),bl(r)}:nae().includes(e)?function(...t){return e.apply(N1(this),t),bl(pH.get(this))}:function(...t){return bl(e.apply(N1(this),t))}}function aae(e){return typeof e=="function"?oae(e):(e instanceof IDBTransaction&&iae(e),eae(e,tae())?new Proxy(e,ES):e)}function bl(e){if(e instanceof IDBRequest)return rae(e);if(D1.has(e))return D1.get(e);const t=aae(e);return t!==e&&(D1.set(e,t),_C.set(t,e)),t}const N1=e=>_C.get(e);function lae(e,t,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(e,t),a=bl(o);return r&&o.addEventListener("upgradeneeded",l=>{r(bl(o.result),l.oldVersion,l.newVersion,bl(o.transaction))}),n&&o.addEventListener("blocked",()=>n()),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",()=>i())}).catch(()=>{}),a}const uae=["get","getKey","getAll","getAllKeys","count"],cae=["put","add","delete","clear"],M1=new Map;function sD(e,t){if(!(e instanceof IDBDatabase&&!(t in e)&&typeof t=="string"))return;if(M1.get(t))return M1.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=cae.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||uae.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let u=l.store;return r&&(u=u.index(a.shift())),(await Promise.all([u[n](...a),i&&l.done]))[0]};return M1.set(t,s),s}sae(e=>({...e,get:(t,n,r)=>sD(t,n)||e.get(t,n,r),has:(t,n)=>!!sD(t,n)||e.has(t,n)}));const gH="@firebase/installations",bC="0.6.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mH=1e4,vH=`w:${bC}`,yH="FIS_v2",dae="https://firebaseinstallations.googleapis.com/v1",fae=60*60*1e3,pae="installations",hae="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gae={["missing-app-config-values"]:'Missing App configuration value: "{$valueName}"',["not-registered"]:"Firebase Installation is not registered.",["installation-not-found"]:"Firebase Installation not found.",["request-failed"]:'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',["app-offline"]:"Could not process request. Application offline.",["delete-pending-registration"]:"Can't delete installation while there is a pending registration request."},ic=new Hl(pae,hae,gae);function _H(e){return e instanceof ss&&e.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bH({projectId:e}){return`${dae}/projects/${e}/installations`}function wH(e){return{token:e.token,requestStatus:2,expiresIn:vae(e.expiresIn),creationTime:Date.now()}}async function EH(e,t){const r=(await t.json()).error;return ic.create("request-failed",{requestName:e,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function $H({apiKey:e}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":e})}function mae(e,{refreshToken:t}){const n=$H(e);return n.append("Authorization",yae(t)),n}async function SH(e){const t=await e();return t.status>=500&&t.status<600?e():t}function vae(e){return Number(e.replace("s","000"))}function yae(e){return`${yH} ${e}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _ae({appConfig:e,heartbeatServiceProvider:t},{fid:n}){const r=bH(e),i=$H(e),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={fid:n,authVersion:yH,appId:e.appId,sdkVersion:vH},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await SH(()=>fetch(r,a));if(l.ok){const u=await l.json();return{fid:u.fid||n,registrationStatus:2,refreshToken:u.refreshToken,authToken:wH(u.authToken)}}else throw await EH("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xH(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bae(e){return btoa(String.fromCharCode(...e)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wae=/^[cdef][\w-]{21}$/,$S="";function Eae(){try{const e=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(e),e[0]=112+e[0]%16;const n=$ae(e);return wae.test(n)?n:$S}catch{return $S}}function $ae(e){return bae(e).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kb(e){return`${e.appName}!${e.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TH=new Map;function IH(e,t){const n=Kb(e);CH(n,t),Sae(n,t)}function CH(e,t){const n=TH.get(e);if(n)for(const r of n)r(t)}function Sae(e,t){const n=xae();n&&n.postMessage({key:e,fid:t}),Tae()}let Iu=null;function xae(){return!Iu&&"BroadcastChannel"in self&&(Iu=new BroadcastChannel("[Firebase] FID Change"),Iu.onmessage=e=>{CH(e.data.key,e.data.fid)}),Iu}function Tae(){TH.size===0&&Iu&&(Iu.close(),Iu=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Iae="firebase-installations-database",Cae=1,sc="firebase-installations-store";let L1=null;function wC(){return L1||(L1=lae(Iae,Cae,{upgrade:(e,t)=>{switch(t){case 0:e.createObjectStore(sc)}}})),L1}async function A_(e,t){const n=Kb(e),i=(await wC()).transaction(sc,"readwrite"),s=i.objectStore(sc),o=await s.get(n);return await s.put(t,n),await i.done,(!o||o.fid!==t.fid)&&IH(e,t.fid),t}async function AH(e){const t=Kb(e),r=(await wC()).transaction(sc,"readwrite");await r.objectStore(sc).delete(t),await r.done}async function Gb(e,t){const n=Kb(e),i=(await wC()).transaction(sc,"readwrite"),s=i.objectStore(sc),o=await s.get(n),a=t(o);return a===void 0?await s.delete(n):await s.put(a,n),await i.done,a&&(!o||o.fid!==a.fid)&&IH(e,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EC(e){let t;const n=await Gb(e.appConfig,r=>{const i=Aae(r),s=kae(e,i);return t=s.registrationPromise,s.installationEntry});return n.fid===$S?{installationEntry:await t}:{installationEntry:n,registrationPromise:t}}function Aae(e){const t=e||{fid:Eae(),registrationStatus:0};return kH(t)}function kae(e,t){if(t.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(ic.create("app-offline"));return{installationEntry:t,registrationPromise:i}}const n={fid:t.fid,registrationStatus:1,registrationTime:Date.now()},r=Oae(e,n);return{installationEntry:n,registrationPromise:r}}else return t.registrationStatus===1?{installationEntry:t,registrationPromise:Pae(e)}:{installationEntry:t}}async function Oae(e,t){try{const n=await _ae(e,t);return A_(e.appConfig,n)}catch(n){throw _H(n)&&n.customData.serverCode===409?await AH(e.appConfig):await A_(e.appConfig,{fid:t.fid,registrationStatus:0}),n}}async function Pae(e){let t=await oD(e.appConfig);for(;t.registrationStatus===1;)await xH(100),t=await oD(e.appConfig);if(t.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await EC(e);return r||n}return t}function oD(e){return Gb(e,t=>{if(!t)throw ic.create("installation-not-found");return kH(t)})}function kH(e){return Rae(e)?{fid:e.fid,registrationStatus:0}:e}function Rae(e){return e.registrationStatus===1&&e.registrationTime+mH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dae({appConfig:e,heartbeatServiceProvider:t},n){const r=Nae(e,n),i=mae(e,n),s=t.getImmediate({optional:!0});if(s){const u=await s.getHeartbeatsHeader();u&&i.append("x-firebase-client",u)}const o={installation:{sdkVersion:vH,appId:e.appId}},a={method:"POST",headers:i,body:JSON.stringify(o)},l=await SH(()=>fetch(r,a));if(l.ok){const u=await l.json();return wH(u)}else throw await EH("Generate Auth Token",l)}function Nae(e,{fid:t}){return`${bH(e)}/${t}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $C(e,t=!1){let n;const r=await Gb(e.appConfig,s=>{if(!OH(s))throw ic.create("not-registered");const o=s.authToken;if(!t&&Fae(o))return s;if(o.requestStatus===1)return n=Mae(e,t),s;{if(!navigator.onLine)throw ic.create("app-offline");const a=Uae(s);return n=Lae(e,a),a}});return n?await n:r.authToken}async function Mae(e,t){let n=await aD(e.appConfig);for(;n.authToken.requestStatus===1;)await xH(100),n=await aD(e.appConfig);const r=n.authToken;return r.requestStatus===0?$C(e,t):r}function aD(e){return Gb(e,t=>{if(!OH(t))throw ic.create("not-registered");const n=t.authToken;return Vae(n)?Object.assign(Object.assign({},t),{authToken:{requestStatus:0}}):t})}async function Lae(e,t){try{const n=await Dae(e,t),r=Object.assign(Object.assign({},t),{authToken:n});return await A_(e.appConfig,r),n}catch(n){if(_H(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await AH(e.appConfig);else{const r=Object.assign(Object.assign({},t),{authToken:{requestStatus:0}});await A_(e.appConfig,r)}throw n}}function OH(e){return e!==void 0&&e.registrationStatus===2}function Fae(e){return e.requestStatus===2&&!Bae(e)}function Bae(e){const t=Date.now();return t<e.creationTime||e.creationTime+e.expiresIn<t+fae}function Uae(e){const t={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},e),{authToken:t})}function Vae(e){return e.requestStatus===1&&e.requestTime+mH<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hae(e){const t=e,{installationEntry:n,registrationPromise:r}=await EC(t);return r?r.catch(console.error):$C(t).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function jae(e,t=!1){const n=e;return await Wae(n),(await $C(n,t)).token}async function Wae(e){const{registrationPromise:t}=await EC(e);t&&await t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qae(e){if(!e||!e.options)throw F1("App Configuration");if(!e.name)throw F1("App Name");const t=["projectId","apiKey","appId"];for(const n of t)if(!e.options[n])throw F1(n);return{appName:e.name,projectId:e.options.projectId,apiKey:e.options.apiKey,appId:e.options.appId}}function F1(e){return ic.create("missing-app-config-values",{valueName:e})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PH="installations",zae="installations-internal",Kae=e=>{const t=e.getProvider("app").getImmediate(),n=qae(t),r=Qs(t,"heartbeat");return{app:t,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},Gae=e=>{const t=e.getProvider("app").getImmediate(),n=Qs(t,PH).getImmediate();return{getId:()=>Hae(n),getToken:i=>jae(n,i)}};function Yae(){fi(new ni(PH,Kae,"PUBLIC")),fi(new ni(zae,Gae,"PRIVATE"))}Yae();mr(gH,bC);mr(gH,bC,"esm2017");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k_="analytics",Xae="firebase_id",Qae="origin",Jae=60*1e3,Zae="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",SC="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const di=new Lf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ele={["already-exists"]:"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.",["already-initialized"]:"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.",["already-initialized-settings"]:"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.",["interop-component-reg-failed"]:"Firebase Analytics Interop Component failed to instantiate: {$reason}",["invalid-analytics-context"]:"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["indexeddb-unavailable"]:"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}",["fetch-throttle"]:"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.",["config-fetch-failed"]:"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}",["no-api-key"]:'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',["no-app-id"]:'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',["no-client-id"]:'The "client_id" field is empty.',["invalid-gtag-resource"]:"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Xi=new Hl("analytics","Analytics",ele);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tle(e){if(!e.startsWith(SC)){const t=Xi.create("invalid-gtag-resource",{gtagURL:e});return di.warn(t.message),""}return e}function RH(e){return Promise.all(e.map(t=>t.catch(n=>n)))}function nle(e,t){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(e,t)),n}function rle(e,t){const n=nle("firebase-js-sdk-policy",{createScriptURL:tle}),r=document.createElement("script"),i=`${SC}?l=${e}&id=${t}`;r.src=n?n==null?void 0:n.createScriptURL(i):i,r.async=!0,document.head.appendChild(r)}function ile(e){let t=[];return Array.isArray(window[e])?t=window[e]:window[e]=t,t}async function sle(e,t,n,r,i,s){const o=r[i];try{if(o)await t[o];else{const l=(await RH(n)).find(u=>u.measurementId===i);l&&await t[l.appId]}}catch(a){di.error(a)}e("config",i,s)}async function ole(e,t,n,r,i){try{let s=[];if(i&&i.send_to){let o=i.send_to;Array.isArray(o)||(o=[o]);const a=await RH(n);for(const l of o){const u=a.find(d=>d.measurementId===l),c=u&&t[u.appId];if(c)s.push(c);else{s=[];break}}}s.length===0&&(s=Object.values(t)),await Promise.all(s),e("event",r,i||{})}catch(s){di.error(s)}}function ale(e,t,n,r){async function i(s,...o){try{if(s==="event"){const[a,l]=o;await ole(e,t,n,a,l)}else if(s==="config"){const[a,l]=o;await sle(e,t,n,r,a,l)}else if(s==="consent"){const[a]=o;e("consent","update",a)}else if(s==="get"){const[a,l,u]=o;e("get",a,l,u)}else if(s==="set"){const[a]=o;e("set",a)}else e(s,...o)}catch(a){di.error(a)}}return i}function lle(e,t,n,r,i){let s=function(...o){window[r].push(arguments)};return window[i]&&typeof window[i]=="function"&&(s=window[i]),window[i]=ale(s,e,t,n),{gtagCore:s,wrappedGtag:window[i]}}function ule(e){const t=window.document.getElementsByTagName("script");for(const n of Object.values(t))if(n.src&&n.src.includes(SC)&&n.src.includes(e))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cle=30,dle=1e3;class fle{constructor(t={},n=dle){this.throttleMetadata=t,this.intervalMillis=n}getThrottleMetadata(t){return this.throttleMetadata[t]}setThrottleMetadata(t,n){this.throttleMetadata[t]=n}deleteThrottleMetadata(t){delete this.throttleMetadata[t]}}const DH=new fle;function ple(e){return new Headers({Accept:"application/json","x-goog-api-key":e})}async function hle(e){var t;const{appId:n,apiKey:r}=e,i={method:"GET",headers:ple(r)},s=Zae.replace("{app-id}",n),o=await fetch(s,i);if(o.status!==200&&o.status!==304){let a="";try{const l=await o.json();!((t=l.error)===null||t===void 0)&&t.message&&(a=l.error.message)}catch{}throw Xi.create("config-fetch-failed",{httpStatus:o.status,responseMessage:a})}return o.json()}async function gle(e,t=DH,n){const{appId:r,apiKey:i,measurementId:s}=e.options;if(!r)throw Xi.create("no-app-id");if(!i){if(s)return{measurementId:s,appId:r};throw Xi.create("no-api-key")}const o=t.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new yle;return setTimeout(async()=>{a.abort()},n!==void 0?n:Jae),NH({appId:r,apiKey:i,measurementId:s},o,a,t)}async function NH(e,{throttleEndTimeMillis:t,backoffCount:n},r,i=DH){var s;const{appId:o,measurementId:a}=e;try{await mle(r,t)}catch(l){if(a)return di.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:o,measurementId:a};throw l}try{const l=await hle(e);return i.deleteThrottleMetadata(o),l}catch(l){const u=l;if(!vle(u)){if(i.deleteThrottleMetadata(o),a)return di.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${a} provided in the "measurementId" field in the local Firebase config. [${u==null?void 0:u.message}]`),{appId:o,measurementId:a};throw l}const c=Number((s=u==null?void 0:u.customData)===null||s===void 0?void 0:s.httpStatus)===503?$$(n,i.intervalMillis,cle):$$(n,i.intervalMillis),d={throttleEndTimeMillis:Date.now()+c,backoffCount:n+1};return i.setThrottleMetadata(o,d),di.debug(`Calling attemptFetch again in ${c} millis`),NH(e,d,r,i)}}function mle(e,t){return new Promise((n,r)=>{const i=Math.max(t-Date.now(),0),s=setTimeout(n,i);e.addEventListener(()=>{clearTimeout(s),r(Xi.create("fetch-throttle",{throttleEndTimeMillis:t}))})})}function vle(e){if(!(e instanceof ss)||!e.customData)return!1;const t=Number(e.customData.httpStatus);return t===429||t===500||t===503||t===504}class yle{constructor(){this.listeners=[]}addEventListener(t){this.listeners.push(t)}abort(){this.listeners.forEach(t=>t())}}async function _le(e,t,n,r,i){if(i&&i.global){e("event",n,r);return}else{const s=await t,o=Object.assign(Object.assign({},r),{send_to:s});e("event",n,o)}}async function ble(e,t,n,r){if(r&&r.global){const i={};for(const s of Object.keys(n))i[`user_properties.${s}`]=n[s];return e("set",i),Promise.resolve()}else{const i=await t;e("config",i,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function wle(){if(sb())try{await iU()}catch(e){return di.warn(Xi.create("indexeddb-unavailable",{errorInfo:e==null?void 0:e.toString()}).message),!1}else return di.warn(Xi.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function Ele(e,t,n,r,i,s,o){var a;const l=gle(e);l.then(p=>{n[p.measurementId]=p.appId,e.options.measurementId&&p.measurementId!==e.options.measurementId&&di.warn(`The measurement ID in the local Firebase config (${e.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>di.error(p)),t.push(l);const u=wle().then(p=>{if(p)return r.getId()}),[c,d]=await Promise.all([l,u]);ule(s)||rle(s,c.measurementId),i("js",new Date);const f=(a=o==null?void 0:o.config)!==null&&a!==void 0?a:{};return f[Qae]="firebase",f.update=!0,d!=null&&(f[Xae]=d),i("config",c.measurementId,f),c.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $le{constructor(t){this.app=t}_delete(){return delete Pd[this.app.options.appId],Promise.resolve()}}let Pd={},lD=[];const uD={};let B1="dataLayer",Sle="gtag",cD,xC,dD=!1;function xle(){const e=[];if(tU()&&e.push("This is a browser extension environment."),hJ()||e.push("Cookies are not available."),e.length>0){const t=e.map((r,i)=>`(${i+1}) ${r}`).join(" "),n=Xi.create("invalid-analytics-context",{errorInfo:t});di.warn(n.message)}}function Tle(e,t,n){xle();const r=e.options.appId;if(!r)throw Xi.create("no-app-id");if(!e.options.apiKey)if(e.options.measurementId)di.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${e.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Xi.create("no-api-key");if(Pd[r]!=null)throw Xi.create("already-exists",{id:r});if(!dD){ile(B1);const{wrappedGtag:s,gtagCore:o}=lle(Pd,lD,uD,B1,Sle);xC=s,cD=o,dD=!0}return Pd[r]=Ele(e,lD,uD,t,cD,B1,n),new $le(e)}function Ile(e=Tc()){e=Nt(e);const t=Qs(e,k_);return t.isInitialized()?t.getImmediate():Cle(e)}function Cle(e,t={}){const n=Qs(e,k_);if(n.isInitialized()){const i=n.getImmediate();if(Jh(t,n.getOptions()))return i;throw Xi.create("already-initialized")}return n.initialize({options:t})}function Ale(e,t,n){e=Nt(e),ble(xC,Pd[e.app.options.appId],t,n).catch(r=>di.error(r))}function MH(e,t,n,r){e=Nt(e),_le(xC,Pd[e.app.options.appId],t,n,r).catch(i=>di.error(i))}const fD="@firebase/analytics",pD="0.10.0";function kle(){fi(new ni(k_,(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("installations-internal").getImmediate();return Tle(r,i,n)},"PUBLIC")),fi(new ni("analytics-internal",e,"PRIVATE")),mr(fD,pD),mr(fD,pD,"esm2017");function e(t){try{const n=t.getProvider(k_).getImmediate();return{logEvent:(r,i,s)=>MH(n,r,i,s)}}catch(n){throw Xi.create("interop-component-reg-failed",{reason:n})}}}kle();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ole="type.googleapis.com/google.protobuf.Int64Value",Ple="type.googleapis.com/google.protobuf.UInt64Value";function LH(e,t){const n={};for(const r in e)e.hasOwnProperty(r)&&(n[r]=t(e[r]));return n}function SS(e){if(e==null)return null;if(e instanceof Number&&(e=e.valueOf()),typeof e=="number"&&isFinite(e)||e===!0||e===!1||Object.prototype.toString.call(e)==="[object String]")return e;if(e instanceof Date)return e.toISOString();if(Array.isArray(e))return e.map(t=>SS(t));if(typeof e=="function"||typeof e=="object")return LH(e,t=>SS(t));throw new Error("Data cannot be encoded in JSON: "+e)}function O_(e){if(e==null)return e;if(e["@type"])switch(e["@type"]){case Ole:case Ple:{const t=Number(e.value);if(isNaN(t))throw new Error("Data cannot be decoded from JSON: "+e);return t}default:throw new Error("Data cannot be decoded from JSON: "+e)}return Array.isArray(e)?e.map(t=>O_(t)):typeof e=="function"||typeof e=="object"?LH(e,t=>O_(t)):e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TC="functions";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hD={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Rd extends ss{constructor(t,n,r){super(`${TC}/${t}`,n||""),this.details=r}}function Rle(e){if(e>=200&&e<300)return"ok";switch(e){case 0:return"internal";case 400:return"invalid-argument";case 401:return"unauthenticated";case 403:return"permission-denied";case 404:return"not-found";case 409:return"aborted";case 429:return"resource-exhausted";case 499:return"cancelled";case 500:return"internal";case 501:return"unimplemented";case 503:return"unavailable";case 504:return"deadline-exceeded"}return"unknown"}function Dle(e,t){let n=Rle(e),r=n,i;try{const s=t&&t.error;if(s){const o=s.status;if(typeof o=="string"){if(!hD[o])return new Rd("internal","internal");n=hD[o],r=o}const a=s.message;typeof a=="string"&&(r=a),i=s.details,i!==void 0&&(i=O_(i))}}catch{}return n==="ok"?null:new Rd(n,r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nle{constructor(t,n,r){this.auth=null,this.messaging=null,this.appCheck=null,this.auth=t.getImmediate({optional:!0}),this.messaging=n.getImmediate({optional:!0}),this.auth||t.get().then(i=>this.auth=i,()=>{}),this.messaging||n.get().then(i=>this.messaging=i,()=>{}),this.appCheck||r.get().then(i=>this.appCheck=i,()=>{})}async getAuthToken(){if(this.auth)try{const t=await this.auth.getToken();return t==null?void 0:t.accessToken}catch{return}}async getMessagingToken(){if(!(!this.messaging||!("Notification"in self)||Notification.permission!=="granted"))try{return await this.messaging.getToken()}catch{return}}async getAppCheckToken(t){if(this.appCheck){const n=t?await this.appCheck.getLimitedUseToken():await this.appCheck.getToken();return n.error?null:n.token}return null}async getContext(t){const n=await this.getAuthToken(),r=await this.getMessagingToken(),i=await this.getAppCheckToken(t);return{authToken:n,messagingToken:r,appCheckToken:i}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xS="us-central1";function Mle(e){let t=null;return{promise:new Promise((n,r)=>{t=setTimeout(()=>{r(new Rd("deadline-exceeded","deadline-exceeded"))},e)}),cancel:()=>{t&&clearTimeout(t)}}}class Lle{constructor(t,n,r,i,s=xS,o){this.app=t,this.fetchImpl=o,this.emulatorOrigin=null,this.contextProvider=new Nle(n,r,i),this.cancelAllRequests=new Promise(a=>{this.deleteService=()=>Promise.resolve(a())});try{const a=new URL(s);this.customDomain=a.origin,this.region=xS}catch{this.customDomain=null,this.region=s}}_delete(){return this.deleteService()}_url(t){const n=this.app.options.projectId;return this.emulatorOrigin!==null?`${this.emulatorOrigin}/${n}/${this.region}/${t}`:this.customDomain!==null?`${this.customDomain}/${t}`:`https://${this.region}-${n}.cloudfunctions.net/${t}`}}function Fle(e,t,n){e.emulatorOrigin=`http://${t}:${n}`}function Ble(e,t,n){return r=>Vle(e,t,r,n||{})}async function Ule(e,t,n,r){n["Content-Type"]="application/json";let i;try{i=await r(e,{method:"POST",body:JSON.stringify(t),headers:n})}catch{return{status:0,json:null}}let s=null;try{s=await i.json()}catch{}return{status:i.status,json:s}}function Vle(e,t,n,r){const i=e._url(t);return Hle(e,i,n,r)}async function Hle(e,t,n,r){n=SS(n);const i={data:n},s={},o=await e.contextProvider.getContext(r.limitedUseAppCheckTokens);o.authToken&&(s.Authorization="Bearer "+o.authToken),o.messagingToken&&(s["Firebase-Instance-ID-Token"]=o.messagingToken),o.appCheckToken!==null&&(s["X-Firebase-AppCheck"]=o.appCheckToken);const a=r.timeout||7e4,l=Mle(a),u=await Promise.race([Ule(t,i,s,e.fetchImpl),l.promise,e.cancelAllRequests]);if(l.cancel(),!u)throw new Rd("cancelled","Firebase Functions instance was deleted.");const c=Dle(u.status,u.json);if(c)throw c;if(!u.json)throw new Rd("internal","Response is not valid JSON object.");let d=u.json.data;if(typeof d>"u"&&(d=u.json.result),typeof d>"u")throw new Rd("internal","Response is missing data field.");return{data:O_(d)}}const gD="@firebase/functions",mD="0.10.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jle="auth-internal",Wle="app-check-internal",qle="messaging-internal";function zle(e,t){const n=(r,{instanceIdentifier:i})=>{const s=r.getProvider("app").getImmediate(),o=r.getProvider(jle),a=r.getProvider(qle),l=r.getProvider(Wle);return new Lle(s,o,a,l,i,e)};fi(new ni(TC,n,"PUBLIC").setMultipleInstances(!0)),mr(gD,mD,t),mr(gD,mD,"esm2017")}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function FH(e=Tc(),t=xS){const r=Qs(Nt(e),TC).getImmediate({identifier:t}),i=MT("functions");return i&&Kle(r,...i),r}function Kle(e,t,n){Fle(Nt(e),t,n)}function BH(e,t,n){return Ble(Nt(e),t,n)}zle(fetch.bind(self));/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TS=new Map,UH={activated:!1,tokenObservers:[]},Gle={initialized:!1,enabled:!1};function vr(e){return TS.get(e)||Object.assign({},UH)}function Yle(e,t){return TS.set(e,t),TS.get(e)}function Yb(){return Gle}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const VH="https://content-firebaseappcheck.googleapis.com/v1",Xle="exchangeRecaptchaEnterpriseToken",Qle="exchangeDebugToken",vD={OFFSET_DURATION:5*60*1e3,RETRIAL_MIN_WAIT:30*1e3,RETRIAL_MAX_WAIT:16*60*1e3},Jle=24*60*60*1e3;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zle{constructor(t,n,r,i,s){if(this.operation=t,this.retryPolicy=n,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=s,this.pending=null,this.nextErrorWaitInterval=i,i>s)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}async process(t){this.stop();try{this.pending=new Al,await eue(this.getNextRun(t)),this.pending.resolve(),await this.pending.promise,this.pending=new Al,await this.operation(),this.pending.resolve(),await this.pending.promise,this.process(!0).catch(()=>{})}catch(n){this.retryPolicy(n)?this.process(!1).catch(()=>{}):this.stop()}}getNextRun(t){if(t)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const n=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),n}}}function eue(e){return new Promise(t=>{setTimeout(t,e)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const tue={["already-initialized"]:"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.",["use-before-activation"]:"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.",["fetch-network-error"]:"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.",["fetch-parse-error"]:"Fetch client could not parse response. Original error: {$originalErrorMessage}.",["fetch-status-error"]:"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.",["storage-open"]:"Error thrown when opening storage. Original error: {$originalErrorMessage}.",["storage-get"]:"Error thrown when reading from storage. Original error: {$originalErrorMessage}.",["storage-set"]:"Error thrown when writing to storage. Original error: {$originalErrorMessage}.",["recaptcha-error"]:"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"},Ii=new Hl("appCheck","AppCheck",tue);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yD(e=!1){var t;return e?(t=self.grecaptcha)===null||t===void 0?void 0:t.enterprise:self.grecaptcha}function IC(e){if(!vr(e).activated)throw Ii.create("use-before-activation",{appName:e.name})}function HH(e){const t=Math.round(e/1e3),n=Math.floor(t/(3600*24)),r=Math.floor((t-n*3600*24)/3600),i=Math.floor((t-n*3600*24-r*3600)/60),s=t-n*3600*24-r*3600-i*60;let o="";return n&&(o+=Tv(n)+"d:"),r&&(o+=Tv(r)+"h:"),o+=Tv(i)+"m:"+Tv(s)+"s",o}function Tv(e){return e===0?"00":e>=10?e.toString():"0"+e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function CC({url:e,body:t},n){const r={"Content-Type":"application/json"},i=n.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&(r["X-Firebase-Client"]=d)}const s={method:"POST",body:JSON.stringify(t),headers:r};let o;try{o=await fetch(e,s)}catch(d){throw Ii.create("fetch-network-error",{originalErrorMessage:d==null?void 0:d.message})}if(o.status!==200)throw Ii.create("fetch-status-error",{httpStatus:o.status});let a;try{a=await o.json()}catch(d){throw Ii.create("fetch-parse-error",{originalErrorMessage:d==null?void 0:d.message})}const l=a.ttl.match(/^([\d.]+)(s)$/);if(!l||!l[2]||isNaN(Number(l[1])))throw Ii.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${a.ttl}`});const u=Number(l[1])*1e3,c=Date.now();return{token:a.token,expireTimeMillis:c+u,issuedAtTimeMillis:c}}function nue(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${VH}/projects/${n}/apps/${r}:${Xle}?key=${i}`,body:{recaptcha_enterprise_token:t}}}function jH(e,t){const{projectId:n,appId:r,apiKey:i}=e.options;return{url:`${VH}/projects/${n}/apps/${r}:${Qle}?key=${i}`,body:{debug_token:t}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rue="firebase-app-check-database",iue=1,wg="firebase-app-check-store",WH="debug-token";let Iv=null;function qH(){return Iv||(Iv=new Promise((e,t)=>{try{const n=indexedDB.open(rue,iue);n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{var i;t(Ii.create("storage-open",{originalErrorMessage:(i=r.target.error)===null||i===void 0?void 0:i.message}))},n.onupgradeneeded=r=>{const i=r.target.result;switch(r.oldVersion){case 0:i.createObjectStore(wg,{keyPath:"compositeKey"})}}}catch(n){t(Ii.create("storage-open",{originalErrorMessage:n==null?void 0:n.message}))}}),Iv)}function sue(e){return KH(GH(e))}function oue(e,t){return zH(GH(e),t)}function aue(e){return zH(WH,e)}function lue(){return KH(WH)}async function zH(e,t){const r=(await qH()).transaction(wg,"readwrite"),s=r.objectStore(wg).put({compositeKey:e,value:t});return new Promise((o,a)=>{s.onsuccess=l=>{o()},r.onerror=l=>{var u;a(Ii.create("storage-set",{originalErrorMessage:(u=l.target.error)===null||u===void 0?void 0:u.message}))}})}async function KH(e){const n=(await qH()).transaction(wg,"readonly"),i=n.objectStore(wg).get(e);return new Promise((s,o)=>{i.onsuccess=a=>{const l=a.target.result;s(l?l.value:void 0)},n.onerror=a=>{var l;o(Ii.create("storage-get",{originalErrorMessage:(l=a.target.error)===null||l===void 0?void 0:l.message}))}})}function GH(e){return`${e.options.appId}-${e.name}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Eg=new Lf("@firebase/app-check");/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function uue(e){if(sb()){let t;try{t=await sue(e)}catch(n){Eg.warn(`Failed to read token from IndexedDB. Error: ${n}`)}return t}}function U1(e,t){return sb()?oue(e,t).catch(n=>{Eg.warn(`Failed to write token to IndexedDB. Error: ${n}`)}):Promise.resolve()}async function cue(){let e;try{e=await lue()}catch{}if(e)return e;{const t=xJ();return aue(t).catch(n=>Eg.warn(`Failed to persist debug token to IndexedDB. Error: ${n}`)),t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(){return Yb().enabled}async function kC(){const e=Yb();if(e.enabled&&e.token)return e.token.promise;throw Error(`
            Can't get debug token in production mode.
        `)}function due(){const e=X5(),t=Yb();if(t.initialized=!0,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN!="string"&&e.FIREBASE_APPCHECK_DEBUG_TOKEN!==!0)return;t.enabled=!0;const n=new Al;t.token=n,typeof e.FIREBASE_APPCHECK_DEBUG_TOKEN=="string"?n.resolve(e.FIREBASE_APPCHECK_DEBUG_TOKEN):n.resolve(cue())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fue={error:"UNKNOWN_ERROR"};function pue(e){return ib.encodeString(JSON.stringify(e),!1)}async function IS(e,t=!1){const n=e.app;IC(n);const r=vr(n);let i=r.token,s;if(i&&!pd(i)&&(r.token=void 0,i=void 0),!i){const l=await r.cachedTokenPromise;l&&(pd(l)?i=l:await U1(n,void 0))}if(!t&&i&&pd(i))return{token:i.token};let o=!1;if(AC()){r.exchangeTokenPromise||(r.exchangeTokenPromise=CC(jH(n,await kC()),e.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),o=!0);const l=await r.exchangeTokenPromise;return await U1(n,l),r.token=l,{token:l.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),o=!0),i=await vr(n).exchangeTokenPromise}catch(l){l.code==="appCheck/throttled"?Eg.warn(l.message):Eg.error(l),s=l}let a;return i?s?pd(i)?a={token:i.token,internalError:s}:a=bD(s):(a={token:i.token},r.token=i,await U1(n,i)):a=bD(s),o&&QH(n,a),a}async function hue(e){const t=e.app;IC(t);const{provider:n}=vr(t);if(AC()){const r=await kC(),{token:i}=await CC(jH(t,r),e.heartbeatServiceProvider);return{token:i}}else{const{token:r}=await n.getToken();return{token:r}}}function YH(e,t,n,r){const{app:i}=e,s=vr(i),o={next:n,error:r,type:t};if(s.tokenObservers=[...s.tokenObservers,o],s.token&&pd(s.token)){const a=s.token;Promise.resolve().then(()=>{n({token:a.token}),_D(e)}).catch(()=>{})}s.cachedTokenPromise.then(()=>_D(e))}function XH(e,t){const n=vr(e),r=n.tokenObservers.filter(i=>i.next!==t);r.length===0&&n.tokenRefresher&&n.tokenRefresher.isRunning()&&n.tokenRefresher.stop(),n.tokenObservers=r}function _D(e){const{app:t}=e,n=vr(t);let r=n.tokenRefresher;r||(r=gue(e),n.tokenRefresher=r),!r.isRunning()&&n.isTokenAutoRefreshEnabled&&r.start()}function gue(e){const{app:t}=e;return new Zle(async()=>{const n=vr(t);let r;if(n.token?r=await IS(e,!0):r=await IS(e),r.error)throw r.error;if(r.internalError)throw r.internalError},()=>!0,()=>{const n=vr(t);if(n.token){let r=n.token.issuedAtTimeMillis+(n.token.expireTimeMillis-n.token.issuedAtTimeMillis)*.5+3e5;const i=n.token.expireTimeMillis-5*60*1e3;return r=Math.min(r,i),Math.max(0,r-Date.now())}else return 0},vD.RETRIAL_MIN_WAIT,vD.RETRIAL_MAX_WAIT)}function QH(e,t){const n=vr(e).tokenObservers;for(const r of n)try{r.type==="EXTERNAL"&&t.error!=null?r.error(t.error):r.next(t)}catch{}}function pd(e){return e.expireTimeMillis-Date.now()>0}function bD(e){return{token:pue(fue),error:e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mue{constructor(t,n){this.app=t,this.heartbeatServiceProvider=n}_delete(){const{tokenObservers:t}=vr(this.app);for(const n of t)XH(this.app,n.next);return Promise.resolve()}}function vue(e,t){return new mue(e,t)}function yue(e){return{getToken:t=>IS(e,t),getLimitedUseToken:()=>hue(e),addTokenListener:t=>YH(e,"INTERNAL",t),removeTokenListener:t=>XH(e.app,t)}}const _ue="@firebase/app-check",bue="0.8.0",wue="https://www.google.com/recaptcha/enterprise.js";function Eue(e,t){const n=new Al,r=vr(e);r.reCAPTCHAState={initialized:n};const i=$ue(e),s=yD(!0);return s?wD(e,t,s,i,n):Tue(()=>{const o=yD(!0);if(!o)throw new Error("no recaptcha");wD(e,t,o,i,n)}),n.promise}function wD(e,t,n,r,i){n.ready(()=>{xue(e,t,n,r),i.resolve(n)})}function $ue(e){const t=`fire_app_check_${e.name}`,n=document.createElement("div");return n.id=t,n.style.display="none",document.body.appendChild(n),t}async function Sue(e){IC(e);const n=await vr(e).reCAPTCHAState.initialized.promise;return new Promise((r,i)=>{const s=vr(e).reCAPTCHAState;n.ready(()=>{r(n.execute(s.widgetId,{action:"fire_app_check"}))})})}function xue(e,t,n,r){const i=n.render(r,{sitekey:t,size:"invisible",callback:()=>{vr(e).reCAPTCHAState.succeeded=!0},"error-callback":()=>{vr(e).reCAPTCHAState.succeeded=!1}}),s=vr(e);s.reCAPTCHAState=Object.assign(Object.assign({},s.reCAPTCHAState),{widgetId:i})}function Tue(e){const t=document.createElement("script");t.src=wue,t.onload=e,document.head.appendChild(t)}class OC{constructor(t){this._siteKey=t,this._throttleData=null}async getToken(){var t,n,r;Cue(this._throttleData);const i=await Sue(this._app).catch(o=>{throw Ii.create("recaptcha-error")});if(!(!((t=vr(this._app).reCAPTCHAState)===null||t===void 0)&&t.succeeded))throw Ii.create("recaptcha-error");let s;try{s=await CC(nue(this._app,i),this._heartbeatServiceProvider)}catch(o){throw!((n=o.code)===null||n===void 0)&&n.includes("fetch-status-error")?(this._throttleData=Iue(Number((r=o.customData)===null||r===void 0?void 0:r.httpStatus),this._throttleData),Ii.create("throttled",{time:HH(this._throttleData.allowRequestsAfter-Date.now()),httpStatus:this._throttleData.httpStatus})):o}return this._throttleData=null,s}initialize(t){this._app=t,this._heartbeatServiceProvider=Qs(t,"heartbeat"),Eue(t,this._siteKey).catch(()=>{})}isEqual(t){return t instanceof OC?this._siteKey===t._siteKey:!1}}function Iue(e,t){if(e===404||e===403)return{backoffCount:1,allowRequestsAfter:Date.now()+Jle,httpStatus:e};{const n=t?t.backoffCount:0,r=$$(n,1e3,2);return{backoffCount:n+1,allowRequestsAfter:Date.now()+r,httpStatus:e}}}function Cue(e){if(e&&Date.now()-e.allowRequestsAfter<=0)throw Ii.create("throttled",{time:HH(e.allowRequestsAfter-Date.now()),httpStatus:e.httpStatus})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Aue(e=Tc(),t){e=Nt(e);const n=Qs(e,"app-check");if(Yb().initialized||due(),AC()&&kC().then(i=>console.log(`App Check debug token: ${i}. You will need to add it to your app's App Check settings in the Firebase console for it to work.`)),n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(s.isTokenAutoRefreshEnabled===t.isTokenAutoRefreshEnabled&&s.provider.isEqual(t.provider))return i;throw Ii.create("already-initialized",{appName:e.name})}const r=n.initialize({options:t});return kue(e,t.provider,t.isTokenAutoRefreshEnabled),vr(e).isTokenAutoRefreshEnabled&&YH(r,"INTERNAL",()=>{}),r}function kue(e,t,n){const r=Yle(e,Object.assign({},UH));r.activated=!0,r.provider=t,r.cachedTokenPromise=uue(e).then(i=>(i&&pd(i)&&(r.token=i,QH(e,{token:i.token})),i)),r.isTokenAutoRefreshEnabled=n===void 0?e.automaticDataCollectionEnabled:n,r.provider.initialize(e)}const Oue="app-check",ED="app-check-internal";function Pue(){fi(new ni(Oue,e=>{const t=e.getProvider("app").getImmediate(),n=e.getProvider("heartbeat");return vue(t,n)},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,n)=>{e.getProvider(ED).initialize()})),fi(new ni(ED,e=>{const t=e.getProvider("app-check").getImmediate();return yue(t)},"PUBLIC").setInstantiationMode("EXPLICIT")),mr(_ue,bue)}Pue();function PC(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function JH(){return{["dependent-sdk-initialized-before-auth"]:"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Rue=JH,ZH=new Hl("auth","Firebase",JH());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P_=new Lf("@firebase/auth");function Due(e,...t){P_.logLevel<=Bt.WARN&&P_.warn(`Auth (${jl}): ${e}`,...t)}function vy(e,...t){P_.logLevel<=Bt.ERROR&&P_.error(`Auth (${jl}): ${e}`,...t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bs(e,...t){throw RC(e,...t)}function po(e,...t){return RC(e,...t)}function ej(e,t,n){const r=Object.assign(Object.assign({},Rue()),{[t]:n});return new Hl("auth","Firebase",r).create(t,{appName:e.name})}function Nue(e,t,n){const r=n;if(!(t instanceof r))throw r.name!==t.constructor.name&&bs(e,"argument-error"),ej(e,"argument-error",`Type of ${t.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function RC(e,...t){if(typeof e!="string"){const n=t[0],r=[...t.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(n,...r)}return ZH.create(e,...t)}function Ge(e,t,...n){if(!e)throw RC(t,...n)}function Yo(e){const t="INTERNAL ASSERTION FAILED: "+e;throw vy(t),new Error(t)}function _a(e,t){e||Yo(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CS(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.href)||""}function Mue(){return $D()==="http:"||$D()==="https:"}function $D(){var e;return typeof self<"u"&&((e=self.location)===null||e===void 0?void 0:e.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Lue(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mue()||tU()||"connection"in navigator)?navigator.onLine:!0}function Fue(){if(typeof navigator>"u")return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $m{constructor(t,n){this.shortDelay=t,this.longDelay=n,_a(n>t,"Short delay should be less than long delay!"),this.isMobile=LT()||nU()}get(){return Lue()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DC(e,t){_a(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?`${n}${t.startsWith("/")?t.slice(1):t}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tj{static initialize(t,n,r){this.fetchImpl=t,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;Yo("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;Yo("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;Yo("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bue={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uue=new $m(3e4,6e4);function Oc(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Kl(e,t,n,r,i={}){return nj(e,i,async()=>{let s={},o={};r&&(t==="GET"?o=r:s={body:JSON.stringify(r)});const a=Mf(Object.assign({key:e.config.apiKey},o)).slice(1),l=await e._getAdditionalHeaders();return l["Content-Type"]="application/json",e.languageCode&&(l["X-Firebase-Locale"]=e.languageCode),tj.fetch()(rj(e,e.config.apiHost,n,a),Object.assign({method:t,headers:l,referrerPolicy:"no-referrer"},s))})}async function nj(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Bue),t);try{const i=new Vue(e),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Cv(e,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,u]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cv(e,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Cv(e,"email-already-in-use",o);if(l==="USER_DISABLED")throw Cv(e,"user-disabled",o);const c=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(u)throw ej(e,c,u);bs(e,c)}}catch(i){if(i instanceof ss)throw i;bs(e,"network-request-failed",{message:String(i)})}}async function Sm(e,t,n,r,i={}){const s=await Kl(e,t,n,r,i);return"mfaPendingCredential"in s&&bs(e,"multi-factor-auth-required",{_serverResponse:s}),s}function rj(e,t,n,r){const i=`${t}${n}?${r}`;return e.config.emulator?DC(e.config,i):`${e.config.apiScheme}://${i}`}class Vue{constructor(t){this.auth=t,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(po(this.auth,"network-request-failed")),Uue.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cv(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=po(e,t,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Hue(e,t){return Kl(e,"POST","/v1/accounts:delete",t)}async function jue(e,t){return Kl(e,"POST","/v1/accounts:lookup",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch{}}async function Wue(e,t=!1){const n=Nt(e),r=await n.getIdToken(t),i=NC(r);Ge(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:wh(V1(i.auth_time)),issuedAtTime:wh(V1(i.iat)),expirationTime:wh(V1(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function V1(e){return Number(e)*1e3}function NC(e){const[t,n,r]=e.split(".");if(t===void 0||n===void 0||r===void 0)return vy("JWT malformed, contained fewer than 3 sections"),null;try{const i=Qy(n);return i?JSON.parse(i):(vy("Failed to decode base64 JWT payload"),null)}catch(i){return vy("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function que(e){const t=NC(e);return Ge(t,"internal-error"),Ge(typeof t.exp<"u","internal-error"),Ge(typeof t.iat<"u","internal-error"),Number(t.exp)-Number(t.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oc(e,t,n=!1){if(n)return t;try{return await t}catch(r){throw r instanceof ss&&zue(r)&&e.auth.currentUser===e&&await e.auth.signOut(),r}}function zue({code:e}){return e==="auth/user-disabled"||e==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kue{constructor(t){this.user=t,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(t){var n;if(t){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(t=!1){if(!this.isRunning)return;const n=this.getInterval(t);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(t){(t==null?void 0:t.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ij{constructor(t,n){this.createdAt=t,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=wh(this.lastLoginAt),this.creationTime=wh(this.createdAt)}_copy(t){this.createdAt=t.createdAt,this.lastLoginAt=t.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function R_(e){var t;const n=e.auth,r=await e.getIdToken(),i=await oc(e,jue(n,{idToken:r}));Ge(i==null?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const o=!((t=s.providerUserInfo)===null||t===void 0)&&t.length?Xue(s.providerUserInfo):[],a=Yue(e.providerData,o),l=e.isAnonymous,u=!(e.email&&s.passwordHash)&&!(a!=null&&a.length),c=l?u:!1,d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new ij(s.createdAt,s.lastLoginAt),isAnonymous:c};Object.assign(e,d)}async function Gue(e){const t=Nt(e);await R_(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}function Yue(e,t){return[...e.filter(r=>!t.some(i=>i.providerId===r.providerId)),...t]}function Xue(e){return e.map(t=>{var{providerId:n}=t,r=PC(t,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Que(e,t){const n=await nj(e,{},async()=>{const r=Mf({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:i,apiKey:s}=e.config,o=rj(e,i,"/v1/token",`key=${s}`),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",tj.fetch()(o,{method:"POST",headers:a,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $g{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(t){Ge(t.idToken,"internal-error"),Ge(typeof t.idToken<"u","internal-error"),Ge(typeof t.refreshToken<"u","internal-error");const n="expiresIn"in t&&typeof t.expiresIn<"u"?Number(t.expiresIn):que(t.idToken);this.updateTokensAndExpiration(t.idToken,t.refreshToken,n)}async getToken(t,n=!1){return Ge(!this.accessToken||this.refreshToken,t,"user-token-expired"),!n&&this.accessToken&&!this.isExpired?this.accessToken:this.refreshToken?(await this.refresh(t,this.refreshToken),this.accessToken):null}clearRefreshToken(){this.refreshToken=null}async refresh(t,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await Que(t,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(t,n,r){this.refreshToken=n||null,this.accessToken=t||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(t,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new $g;return r&&(Ge(typeof r=="string","internal-error",{appName:t}),o.refreshToken=r),i&&(Ge(typeof i=="string","internal-error",{appName:t}),o.accessToken=i),s&&(Ge(typeof s=="number","internal-error",{appName:t}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(t){this.accessToken=t.accessToken,this.refreshToken=t.refreshToken,this.expirationTime=t.expirationTime}_clone(){return Object.assign(new $g,this.toJSON())}_performRefresh(){return Yo("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wa(e,t){Ge(typeof e=="string"||typeof e>"u","internal-error",{appName:t})}class Nu{constructor(t){var{uid:n,auth:r,stsTokenManager:i}=t,s=PC(t,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Kue(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new ij(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(t){const n=await oc(this,this.stsTokenManager.getToken(this.auth,t));return Ge(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(t){return Wue(this,t)}reload(){return Gue(this)}_assign(t){this!==t&&(Ge(this.uid===t.uid,this.auth,"internal-error"),this.displayName=t.displayName,this.photoURL=t.photoURL,this.email=t.email,this.emailVerified=t.emailVerified,this.phoneNumber=t.phoneNumber,this.isAnonymous=t.isAnonymous,this.tenantId=t.tenantId,this.providerData=t.providerData.map(n=>Object.assign({},n)),this.metadata._copy(t.metadata),this.stsTokenManager._assign(t.stsTokenManager))}_clone(t){const n=new Nu(Object.assign(Object.assign({},this),{auth:t,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(t){Ge(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=t,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(t){this.reloadListener?this.reloadListener(t):this.reloadUserInfo=t}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(t,n=!1){let r=!1;t.idToken&&t.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(t),r=!0),n&&await R_(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){const t=await this.getIdToken();return await oc(this,Hue(this.auth,{idToken:t})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(t=>Object.assign({},t)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(t,n){var r,i,s,o,a,l,u,c;const d=(r=n.displayName)!==null&&r!==void 0?r:void 0,f=(i=n.email)!==null&&i!==void 0?i:void 0,p=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,h=(o=n.photoURL)!==null&&o!==void 0?o:void 0,g=(a=n.tenantId)!==null&&a!==void 0?a:void 0,m=(l=n._redirectEventId)!==null&&l!==void 0?l:void 0,v=(u=n.createdAt)!==null&&u!==void 0?u:void 0,y=(c=n.lastLoginAt)!==null&&c!==void 0?c:void 0,{uid:b,emailVerified:_,isAnonymous:S,providerData:I,stsTokenManager:T}=n;Ge(b&&T,t,"internal-error");const w=$g.fromJSON(this.name,T);Ge(typeof b=="string",t,"internal-error"),Wa(d,t.name),Wa(f,t.name),Ge(typeof _=="boolean",t,"internal-error"),Ge(typeof S=="boolean",t,"internal-error"),Wa(p,t.name),Wa(h,t.name),Wa(g,t.name),Wa(m,t.name),Wa(v,t.name),Wa(y,t.name);const x=new Nu({uid:b,auth:t,email:f,emailVerified:_,displayName:d,isAnonymous:S,photoURL:h,phoneNumber:p,tenantId:g,stsTokenManager:w,createdAt:v,lastLoginAt:y});return I&&Array.isArray(I)&&(x.providerData=I.map(E=>Object.assign({},E))),m&&(x._redirectEventId=m),x}static async _fromIdTokenResponse(t,n,r=!1){const i=new $g;i.updateFromServerResponse(n);const s=new Nu({uid:n.localId,auth:t,stsTokenManager:i,isAnonymous:r});return await R_(s),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SD=new Map;function Xo(e){_a(e instanceof Function,"Expected a class definition");let t=SD.get(e);return t?(_a(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,SD.set(e,t),t)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sj{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(t,n){this.storage[t]=n}async _get(t){const n=this.storage[t];return n===void 0?null:n}async _remove(t){delete this.storage[t]}_addListener(t,n){}_removeListener(t,n){}}sj.type="NONE";const xD=sj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yy(e,t,n){return`firebase:${e}:${t}:${n}`}class Dd{constructor(t,n,r){this.persistence=t,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=yy(this.userKey,i.apiKey,s),this.fullPersistenceKey=yy("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(t){return this.persistence._set(this.fullUserKey,t.toJSON())}async getCurrentUser(){const t=await this.persistence._get(this.fullUserKey);return t?Nu._fromJSON(this.auth,t):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(t){if(this.persistence===t)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=t,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(t,n,r="authUser"){if(!n.length)return new Dd(Xo(xD),t,r);const i=(await Promise.all(n.map(async u=>{if(await u._isAvailable())return u}))).filter(u=>u);let s=i[0]||Xo(xD);const o=yy(r,t.config.apiKey,t.name);let a=null;for(const u of n)try{const c=await u._get(o);if(c){const d=Nu._fromJSON(t,c);u!==s&&(a=d),s=u;break}}catch{}const l=i.filter(u=>u._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Dd(s,t,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async u=>{if(u!==s)try{await u._remove(o)}catch{}})),new Dd(s,t,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TD(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(lj(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(oj(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(cj(t))return"Blackberry";if(dj(t))return"Webos";if(MC(t))return"Safari";if((t.includes("chrome/")||aj(t))&&!t.includes("edge/"))return"Chrome";if(uj(t))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=e.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function oj(e=ti()){return/firefox\//i.test(e)}function MC(e=ti()){const t=e.toLowerCase();return t.includes("safari/")&&!t.includes("chrome/")&&!t.includes("crios/")&&!t.includes("android")}function aj(e=ti()){return/crios\//i.test(e)}function lj(e=ti()){return/iemobile/i.test(e)}function uj(e=ti()){return/android/i.test(e)}function cj(e=ti()){return/blackberry/i.test(e)}function dj(e=ti()){return/webos/i.test(e)}function Xb(e=ti()){return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Jue(e=ti()){var t;return Xb(e)&&!!(!((t=window.navigator)===null||t===void 0)&&t.standalone)}function Zue(){return pJ()&&document.documentMode===10}function fj(e=ti()){return Xb(e)||uj(e)||dj(e)||cj(e)||/windows phone/i.test(e)||lj(e)}function ece(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pj(e,t=[]){let n;switch(e){case"Browser":n=TD(ti());break;case"Worker":n=`${TD(ti())}-${e}`;break;default:n=e}const r=t.length?t.join(","):"FirebaseCore-web";return`${n}/JsCore/${jl}/${r}`}async function hj(e,t){return Kl(e,"GET","/v2/recaptchaConfig",Oc(e,t))}function ID(e){return e!==void 0&&e.enterprise!==void 0}class gj{constructor(t){if(this.siteKey="",this.emailPasswordEnabled=!1,t.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=t.recaptchaKey.split("/")[3],this.emailPasswordEnabled=t.recaptchaEnforcementState.some(n=>n.provider==="EMAIL_PASSWORD_PROVIDER"&&n.enforcementState!=="OFF")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function tce(){var e,t;return(t=(e=document.getElementsByTagName("head"))===null||e===void 0?void 0:e[0])!==null&&t!==void 0?t:document}function mj(e){return new Promise((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=i=>{const s=po("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",tce().appendChild(r)})}function nce(e){return`__${e}${Math.floor(Math.random()*1e6)}`}const rce="https://www.google.com/recaptcha/enterprise.js?render=",ice="recaptcha-enterprise",sce="NO_RECAPTCHA";class vj{constructor(t){this.type=ice,this.auth=Gl(t)}async verify(t="verify",n=!1){async function r(s){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(o,a)=>{hj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const u=new gj(l);return s.tenantId==null?s._agentRecaptchaConfig=u:s._tenantRecaptchaConfigs[s.tenantId]=u,o(u.siteKey)}}).catch(l=>{a(l)})})}function i(s,o,a){const l=window.grecaptcha;ID(l)?l.enterprise.ready(()=>{l.enterprise.execute(s,{action:t}).then(u=>{o(u)}).catch(()=>{o(sce)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&ID(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}mj(rce+a).then(()=>{i(a,s,o)}).catch(l=>{o(l)})}}).catch(a=>{o(a)})})}}async function ff(e,t,n,r=!1){const i=new vj(e);let s;try{s=await i.verify(n)}catch{s=await i.verify(n,!0)}const o=Object.assign({},t);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oce{constructor(t){this.auth=t,this.queue=[]}pushCallback(t,n){const r=s=>new Promise((o,a)=>{try{const l=t(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(t){if(this.auth.currentUser===t)return;const n=[];try{for(const r of this.queue)await r(t),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ace{constructor(t,n,r,i){this.app=t,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new CD(this),this.idTokenSubscription=new CD(this),this.beforeStateQueue=new oce(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=ZH,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=t.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(t,n){return n&&(this._popupRedirectResolver=Xo(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Dd.create(this,t),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const t=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!t)){if(this.currentUser&&t&&this.currentUser.uid===t.uid){this._currentUser._assign(t),await this.currentUser.getIdToken();return}await this._updateCurrentUser(t,!0)}}async initializeCurrentUser(t){var n;const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(t&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i==null?void 0:i._redirectEventId,l=await this.tryRedirectSignIn(t);(!o||o===a)&&(l!=null&&l.user)&&(i=l.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Ge(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(t){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,t,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(t){try{await R_(t)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(t)}useDeviceLanguage(){this.languageCode=Fue()}async _delete(){this._deleted=!0}async updateCurrentUser(t){const n=t?Nt(t):null;return n&&Ge(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(t,n=!1){if(!this._deleted)return t&&Ge(this.tenantId===t.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(t),this.queue(async()=>{await this.directlySetCurrentUser(t),this.notifyAuthListeners()})}async signOut(){return await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0)}setPersistence(t){return this.queue(async()=>{await this.assertedPersistence.setPersistence(Xo(t))})}async initializeRecaptchaConfig(){const t=await hj(this,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new gj(t);this.tenantId==null?this._agentRecaptchaConfig=n:this._tenantRecaptchaConfigs[this.tenantId]=n,n.emailPasswordEnabled&&new vj(this).verify()}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(t){this._errorFactory=new Hl("auth","Firebase",t())}onAuthStateChanged(t,n,r){return this.registerStateListener(this.authStateSubscription,t,n,r)}beforeAuthStateChanged(t,n){return this.beforeStateQueue.pushCallback(t,n)}onIdTokenChanged(t,n,r){return this.registerStateListener(this.idTokenSubscription,t,n,r)}toJSON(){var t;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(t=this._currentUser)===null||t===void 0?void 0:t.toJSON()}}async _setRedirectUser(t,n){const r=await this.getOrInitRedirectPersistenceManager(n);return t===null?r.removeCurrentUser():r.setCurrentUser(t)}async getOrInitRedirectPersistenceManager(t){if(!this.redirectPersistenceManager){const n=t&&Xo(t)||this._popupRedirectResolver;Ge(n,this,"argument-error"),this.redirectPersistenceManager=await Dd.create(this,[Xo(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(t){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===t?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===t?this.redirectUser:null}async _persistUserIfCurrent(t){if(t===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(t))}_notifyListenersIfCurrent(t){t===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var t,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(t=this.currentUser)===null||t===void 0?void 0:t.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(t,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n),o=this._isInitialized?Promise.resolve():this._initializationPromise;return Ge(o,this,"internal-error"),o.then(()=>s(this.currentUser)),typeof n=="function"?t.addObserver(n,r,i):t.addObserver(n)}async directlySetCurrentUser(t){this.currentUser&&this.currentUser!==t&&this._currentUser._stopProactiveRefresh(),t&&this.isProactiveRefreshEnabled&&t._startProactiveRefresh(),this.currentUser=t,t?await this.assertedPersistence.setCurrentUser(t):await this.assertedPersistence.removeCurrentUser()}queue(t){return this.operations=this.operations.then(t,t),this.operations}get assertedPersistence(){return Ge(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(t){!t||this.frameworks.includes(t)||(this.frameworks.push(t),this.frameworks.sort(),this.clientVersion=pj(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var t;const n={["X-Client-Version"]:this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((t=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var t;const n=await((t=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||t===void 0?void 0:t.getToken());return n!=null&&n.error&&Due(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function Gl(e){return Nt(e)}class CD{constructor(t){this.auth=t,this.observer=null,this.addObserver=wJ(n=>this.observer=n)}get next(){return Ge(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lce(e,t){const n=Qs(e,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Jh(s,t??{}))return i;bs(i,"already-initialized")}return n.initialize({options:t})}function uce(e,t){const n=(t==null?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Xo);t!=null&&t.errorMap&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,t==null?void 0:t.popupRedirectResolver)}function cce(e,t,n){const r=Gl(e);Ge(r._canInitEmulator,r,"emulator-config-failed"),Ge(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=yj(t),{host:o,port:a}=dce(t),l=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${l}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||fce()}function yj(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function dce(e){const t=yj(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:AD(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:AD(o)}}}function AD(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}function fce(){function e(){const t=document.createElement("p"),n=t.style;t.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",t.classList.add("firebase-emulator-warning"),document.body.appendChild(t)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",e):e())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LC{constructor(t,n){this.providerId=t,this.signInMethod=n}toJSON(){return Yo("not implemented")}_getIdTokenResponse(t){return Yo("not implemented")}_linkToIdToken(t,n){return Yo("not implemented")}_getReauthenticationResolver(t){return Yo("not implemented")}}async function _j(e,t){return Kl(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function H1(e,t){return Sm(e,"POST","/v1/accounts:signInWithPassword",Oc(e,t))}async function bj(e,t){return Kl(e,"POST","/v1/accounts:sendOobCode",Oc(e,t))}async function pce(e,t){return bj(e,t)}async function j1(e,t){return bj(e,t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hce(e,t){return Sm(e,"POST","/v1/accounts:signInWithEmailLink",Oc(e,t))}async function gce(e,t){return Sm(e,"POST","/v1/accounts:signInWithEmailLink",Oc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sg extends LC{constructor(t,n,r,i=null){super("password",r),this._email=t,this._password=n,this._tenantId=i}static _fromEmailAndPassword(t,n){return new Sg(t,n,"password")}static _fromEmailAndCode(t,n,r=null){return new Sg(t,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(t){var n;switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};if(!((n=t._getRecaptchaConfig())===null||n===void 0)&&n.emailPasswordEnabled){const i=await ff(t,r,"signInWithPassword");return H1(t,i)}else return H1(t,r).catch(async i=>{if(i.code==="auth/missing-recaptcha-token"){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const s=await ff(t,r,"signInWithPassword");return H1(t,s)}else return Promise.reject(i)});case"emailLink":return hce(t,{email:this._email,oobCode:this._password});default:bs(t,"internal-error")}}async _linkToIdToken(t,n){switch(this.signInMethod){case"password":return _j(t,{idToken:n,returnSecureToken:!0,email:this._email,password:this._password});case"emailLink":return gce(t,{idToken:n,email:this._email,oobCode:this._password});default:bs(t,"internal-error")}}_getReauthenticationResolver(t){return this._getIdTokenResponse(t)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Nd(e,t){return Sm(e,"POST","/v1/accounts:signInWithIdp",Oc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mce="http://localhost";class ac extends LC{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(t){const n=new ac(t.providerId,t.signInMethod);return t.idToken||t.accessToken?(t.idToken&&(n.idToken=t.idToken),t.accessToken&&(n.accessToken=t.accessToken),t.nonce&&!t.pendingToken&&(n.nonce=t.nonce),t.pendingToken&&(n.pendingToken=t.pendingToken)):t.oauthToken&&t.oauthTokenSecret?(n.accessToken=t.oauthToken,n.secret=t.oauthTokenSecret):bs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(t){const n=typeof t=="string"?JSON.parse(t):t,{providerId:r,signInMethod:i}=n,s=PC(n,["providerId","signInMethod"]);if(!r||!i)return null;const o=new ac(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(t){const n=this.buildRequest();return Nd(t,n)}_linkToIdToken(t,n){const r=this.buildRequest();return r.idToken=n,Nd(t,r)}_getReauthenticationResolver(t){const n=this.buildRequest();return n.autoCreate=!1,Nd(t,n)}buildRequest(){const t={requestUri:mce,returnSecureToken:!0};if(this.pendingToken)t.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),t.postBody=Mf(n)}return t}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vce(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function yce(e){const t=zp(Kp(e)).link,n=t?zp(Kp(t)).deep_link_id:null,r=zp(Kp(e)).deep_link_id;return(r?zp(Kp(r)).link:null)||r||n||t||e}class FC{constructor(t){var n,r,i,s,o,a;const l=zp(Kp(t)),u=(n=l.apiKey)!==null&&n!==void 0?n:null,c=(r=l.oobCode)!==null&&r!==void 0?r:null,d=vce((i=l.mode)!==null&&i!==void 0?i:null);Ge(u&&c&&d,"argument-error"),this.apiKey=u,this.operation=d,this.code=c,this.continueUrl=(s=l.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=l.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=l.tenantId)!==null&&a!==void 0?a:null}static parseLink(t){const n=yce(t);try{return new FC(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(){this.providerId=Kf.PROVIDER_ID}static credential(t,n){return Sg._fromEmailAndPassword(t,n)}static credentialWithLink(t,n){const r=FC.parseLink(n);return Ge(r,"argument-error"),Sg._fromEmailAndCode(t,r.code,r.tenantId)}}Kf.PROVIDER_ID="password";Kf.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Kf.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BC{constructor(t){this.providerId=t,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(t){this.defaultLanguageCode=t}setCustomParameters(t){return this.customParameters=t,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xm extends BC{constructor(){super(...arguments),this.scopes=[]}addScope(t){return this.scopes.includes(t)||this.scopes.push(t),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za extends xm{constructor(){super("facebook.com")}static credential(t){return ac._fromParams({providerId:Za.PROVIDER_ID,signInMethod:Za.FACEBOOK_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return Za.credentialFromTaggedObject(t)}static credentialFromError(t){return Za.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return Za.credential(t.oauthAccessToken)}catch{return null}}}Za.FACEBOOK_SIGN_IN_METHOD="facebook.com";Za.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class el extends xm{constructor(){super("google.com"),this.addScope("profile")}static credential(t,n){return ac._fromParams({providerId:el.PROVIDER_ID,signInMethod:el.GOOGLE_SIGN_IN_METHOD,idToken:t,accessToken:n})}static credentialFromResult(t){return el.credentialFromTaggedObject(t)}static credentialFromError(t){return el.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return el.credential(n,r)}catch{return null}}}el.GOOGLE_SIGN_IN_METHOD="google.com";el.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tl extends xm{constructor(){super("github.com")}static credential(t){return ac._fromParams({providerId:tl.PROVIDER_ID,signInMethod:tl.GITHUB_SIGN_IN_METHOD,accessToken:t})}static credentialFromResult(t){return tl.credentialFromTaggedObject(t)}static credentialFromError(t){return tl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t||!("oauthAccessToken"in t)||!t.oauthAccessToken)return null;try{return tl.credential(t.oauthAccessToken)}catch{return null}}}tl.GITHUB_SIGN_IN_METHOD="github.com";tl.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl extends xm{constructor(){super("twitter.com")}static credential(t,n){return ac._fromParams({providerId:nl.PROVIDER_ID,signInMethod:nl.TWITTER_SIGN_IN_METHOD,oauthToken:t,oauthTokenSecret:n})}static credentialFromResult(t){return nl.credentialFromTaggedObject(t)}static credentialFromError(t){return nl.credentialFromTaggedObject(t.customData||{})}static credentialFromTaggedObject({_tokenResponse:t}){if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return nl.credential(n,r)}catch{return null}}}nl.TWITTER_SIGN_IN_METHOD="twitter.com";nl.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function W1(e,t){return Sm(e,"POST","/v1/accounts:signUp",Oc(e,t))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lc{constructor(t){this.user=t.user,this.providerId=t.providerId,this._tokenResponse=t._tokenResponse,this.operationType=t.operationType}static async _fromIdTokenResponse(t,n,r,i=!1){const s=await Nu._fromIdTokenResponse(t,r,i),o=kD(r);return new lc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(t,n,r){await t._updateTokensIfNecessary(r,!0);const i=kD(r);return new lc({user:t,providerId:i,_tokenResponse:r,operationType:n})}}function kD(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D_ extends ss{constructor(t,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,D_.prototype),this.customData={appName:t.name,tenantId:(s=t.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(t,n,r,i){return new D_(t,n,r,i)}}function wj(e,t,n,r){return(t==="reauthenticate"?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?D_._fromErrorAndOperation(e,s,t,r):s})}async function _ce(e,t,n=!1){const r=await oc(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return lc._forOperation(e,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bce(e,t,n=!1){const{auth:r}=e,i="reauthenticate";try{const s=await oc(e,wj(r,i,t,e),n);Ge(s.idToken,r,"internal-error");const o=NC(s.idToken);Ge(o,r,"internal-error");const{sub:a}=o;return Ge(e.uid===a,r,"user-mismatch"),lc._forOperation(e,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&bs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ej(e,t,n=!1){const r="signIn",i=await wj(e,r,t),s=await lc._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function wce(e,t){return Ej(Gl(e),t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _y(e,t,n){var r;Ge(((r=n.url)===null||r===void 0?void 0:r.length)>0,e,"invalid-continue-uri"),Ge(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,e,"invalid-dynamic-link-domain"),t.continueUrl=n.url,t.dynamicLinkDomain=n.dynamicLinkDomain,t.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(Ge(n.iOS.bundleId.length>0,e,"missing-ios-bundle-id"),t.iOSBundleId=n.iOS.bundleId),n.android&&(Ge(n.android.packageName.length>0,e,"missing-android-pkg-name"),t.androidInstallApp=n.android.installApp,t.androidMinimumVersionCode=n.android.minimumVersion,t.androidPackageName=n.android.packageName)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function lze(e,t,n){var r;const i=Gl(e),s={requestType:"PASSWORD_RESET",email:t,clientType:"CLIENT_TYPE_WEB"};if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const o=await ff(i,s,"getOobCode",!0);n&&_y(i,o,n),await j1(i,o)}else n&&_y(i,s,n),await j1(i,s).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const a=await ff(i,s,"getOobCode",!0);n&&_y(i,a,n),await j1(i,a)}else return Promise.reject(o)})}async function uze(e,t,n){var r;const i=Gl(e),s={returnSecureToken:!0,email:t,password:n,clientType:"CLIENT_TYPE_WEB"};let o;if(!((r=i._getRecaptchaConfig())===null||r===void 0)&&r.emailPasswordEnabled){const u=await ff(i,s,"signUpPassword");o=W1(i,u)}else o=W1(i,s).catch(async u=>{if(u.code==="auth/missing-recaptcha-token"){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const c=await ff(i,s,"signUpPassword");return W1(i,c)}else return Promise.reject(u)});const a=await o.catch(u=>Promise.reject(u)),l=await lc._fromIdTokenResponse(i,"signIn",a);return await i._updateCurrentUser(l.user),l}function cze(e,t,n){return wce(Nt(e),Kf.credential(t,n))}async function Ece(e,t){const n=Nt(e),i={requestType:"VERIFY_EMAIL",idToken:await e.getIdToken()};t&&_y(n.auth,i,t);const{email:s}=await pce(n.auth,i);s!==e.email&&await e.reload()}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $ce(e,t){return Kl(e,"POST","/v1/accounts:update",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dze(e,{displayName:t,photoURL:n}){if(t===void 0&&n===void 0)return;const r=Nt(e),s={idToken:await r.getIdToken(),displayName:t,photoUrl:n,returnSecureToken:!0},o=await oc(r,$ce(r.auth,s));r.displayName=o.displayName||null,r.photoURL=o.photoUrl||null;const a=r.providerData.find(({providerId:l})=>l==="password");a&&(a.displayName=r.displayName,a.photoURL=r.photoURL),await r._updateTokensIfNecessary(o)}function fze(e,t){return Sce(Nt(e),t,null)}async function Sce(e,t,n){const{auth:r}=e,s={idToken:await e.getIdToken(),returnSecureToken:!0};t&&(s.email=t),n&&(s.password=n);const o=await oc(e,_j(r,s));await e._updateTokensIfNecessary(o,!0)}function $j(e,t,n,r){return Nt(e).onIdTokenChanged(t,n,r)}function xce(e,t,n){return Nt(e).beforeAuthStateChanged(t,n)}function Tce(e){return Nt(e).signOut()}const N_="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sj{constructor(t,n){this.storageRetriever=t,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(N_,"1"),this.storage.removeItem(N_),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(t,n){return this.storage.setItem(t,JSON.stringify(n)),Promise.resolve()}_get(t){const n=this.storage.getItem(t);return Promise.resolve(n?JSON.parse(n):null)}_remove(t){return this.storage.removeItem(t),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ice(){const e=ti();return MC(e)||Xb(e)}const Cce=1e3,Ace=10;class xj extends Sj{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,n)=>this.onStorageEvent(t,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=Ice()&&ece(),this.fallbackToPolling=fj(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&t(n,i,r)}}onStorageEvent(t,n=!1){if(!t.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=t.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const o=this.storage.getItem(r);if(t.newValue!==o)t.newValue!==null?this.storage.setItem(r,t.newValue):this.storage.removeItem(r);else if(this.localCache[r]===t.newValue&&!n)return}const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);Zue()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(i,Ace):i()}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:n,newValue:r}),!0)})},Cce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(t,n){await super._set(t,n),this.localCache[t]=JSON.stringify(n)}async _get(t){const n=await super._get(t);return this.localCache[t]=JSON.stringify(n),n}async _remove(t){await super._remove(t),delete this.localCache[t]}}xj.type="LOCAL";const kce=xj;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tj extends Sj{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,n){}_removeListener(t,n){}}Tj.type="SESSION";const Ij=Tj;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Oce(e){return Promise.all(e.map(async t=>{try{return{fulfilled:!0,value:await t}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qb{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){const n=this.receivers.find(i=>i.isListeningto(t));if(n)return n;const r=new Qb(t);return this.receivers.push(r),r}isListeningto(t){return this.eventTarget===t}async handleEvent(t){const n=t,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async u=>u(n.origin,s)),l=await Oce(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(t,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(n)}_unsubscribe(t,n){this.handlersMap[t]&&n&&this.handlersMap[t].delete(n),(!n||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Qb.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UC(e="",t=10){let n="";for(let r=0;r<t;r++)n+=Math.floor(Math.random()*10);return e+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pce{constructor(t){this.target=t,this.handlers=new Set}removeMessageHandler(t){t.messageChannel&&(t.messageChannel.port1.removeEventListener("message",t.onMessage),t.messageChannel.port1.close()),this.handlers.delete(t)}async _send(t,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const u=UC("",20);i.port1.start();const c=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(d){const f=d;if(f.data.eventId===u)switch(f.data.status){case"ack":clearTimeout(c),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(f.data.response);break;default:clearTimeout(c),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:t,eventId:u,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ho(){return window}function Rce(e){ho().location.href=e}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cj(){return typeof ho().WorkerGlobalScope<"u"&&typeof ho().importScripts=="function"}async function Dce(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function Nce(){var e;return((e=navigator==null?void 0:navigator.serviceWorker)===null||e===void 0?void 0:e.controller)||null}function Mce(){return Cj()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Aj="firebaseLocalStorageDb",Lce=1,M_="firebaseLocalStorage",kj="fbase_key";class Tm{constructor(t){this.request=t}toPromise(){return new Promise((t,n)=>{this.request.addEventListener("success",()=>{t(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Jb(e,t){return e.transaction([M_],t?"readwrite":"readonly").objectStore(M_)}function Fce(){const e=indexedDB.deleteDatabase(Aj);return new Tm(e).toPromise()}function AS(){const e=indexedDB.open(Aj,Lce);return new Promise((t,n)=>{e.addEventListener("error",()=>{n(e.error)}),e.addEventListener("upgradeneeded",()=>{const r=e.result;try{r.createObjectStore(M_,{keyPath:kj})}catch(i){n(i)}}),e.addEventListener("success",async()=>{const r=e.result;r.objectStoreNames.contains(M_)?t(r):(r.close(),await Fce(),t(await AS()))})})}async function OD(e,t,n){const r=Jb(e,!0).put({[kj]:t,value:n});return new Tm(r).toPromise()}async function Bce(e,t){const n=Jb(e,!1).get(t),r=await new Tm(n).toPromise();return r===void 0?null:r.value}function PD(e,t){const n=Jb(e,!0).delete(t);return new Tm(n).toPromise()}const Uce=800,Vce=3;class Oj{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await AS(),this.db)}async _withRetries(t){let n=0;for(;;)try{const r=await this._openDb();return await t(r)}catch(r){if(n++>Vce)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Cj()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Qb._getInstance(Mce()),this.receiver._subscribe("keyChanged",async(t,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(t,n)=>["keyChanged"])}async initializeSender(){var t,n;if(this.activeServiceWorker=await Dce(),!this.activeServiceWorker)return;this.sender=new Pce(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((t=r[0])===null||t===void 0)&&t.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(t){if(!(!this.sender||!this.activeServiceWorker||Nce()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const t=await AS();return await OD(t,N_,"1"),await PD(t,N_),!0}catch{}return!1}async _withPendingWrite(t){this.pendingWrites++;try{await t()}finally{this.pendingWrites--}}async _set(t,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>OD(r,t,n)),this.localCache[t]=n,this.notifyServiceWorker(t)))}async _get(t){const n=await this._withRetries(r=>Bce(r,t));return this.localCache[t]=n,n}async _remove(t){return this._withPendingWrite(async()=>(await this._withRetries(n=>PD(n,t)),delete this.localCache[t],this.notifyServiceWorker(t)))}async _poll(){const t=await this._withRetries(i=>{const s=Jb(i,!1).getAll();return new Tm(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;for(const{fbase_key:i,value:s}of t)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(t,n){this.localCache[t]=n;const r=this.listeners[t];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),Uce)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(n)}_removeListener(t,n){this.listeners[t]&&(this.listeners[t].delete(n),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Oj.type="LOCAL";const Hce=Oj;new $m(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pj(e,t){return t?Xo(t):(Ge(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC extends LC{constructor(t){super("custom","custom"),this.params=t}_getIdTokenResponse(t){return Nd(t,this._buildIdpRequest())}_linkToIdToken(t,n){return Nd(t,this._buildIdpRequest(n))}_getReauthenticationResolver(t){return Nd(t,this._buildIdpRequest())}_buildIdpRequest(t){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return t&&(n.idToken=t),n}}function jce(e){return Ej(e.auth,new VC(e),e.bypassAuthState)}function Wce(e){const{auth:t,user:n}=e;return Ge(n,t,"internal-error"),bce(n,new VC(e),e.bypassAuthState)}async function qce(e){const{auth:t,user:n}=e;return Ge(n,t,"internal-error"),_ce(n,new VC(e),e.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rj{constructor(t,n,r,i,s=!1){this.auth=t,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(t,n)=>{this.pendingPromise={resolve:t,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(t){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=t;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(u){this.reject(u)}}onError(t){this.reject(t)}getIdpTask(t){switch(t){case"signInViaPopup":case"signInViaRedirect":return jce;case"linkViaPopup":case"linkViaRedirect":return qce;case"reauthViaPopup":case"reauthViaRedirect":return Wce;default:bs(this.auth,"internal-error")}}resolve(t){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(t),this.unregisterAndCleanUp()}reject(t){_a(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(t),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zce=new $m(2e3,1e4);async function pze(e,t,n){const r=Gl(e);Nue(e,t,BC);const i=Pj(r,n);return new Cu(r,"signInViaPopup",t,i).executeNotNull()}class Cu extends Rj{constructor(t,n,r,i,s){super(t,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,Cu.currentPopupAction&&Cu.currentPopupAction.cancel(),Cu.currentPopupAction=this}async executeNotNull(){const t=await this.execute();return Ge(t,this.auth,"internal-error"),t}async onExecution(){_a(this.filter.length===1,"Popup operations only handle one event");const t=UC();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],t),this.authWindow.associatedEvent=t,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(po(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var t;return((t=this.authWindow)===null||t===void 0?void 0:t.associatedEvent)||null}cancel(){this.reject(po(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Cu.currentPopupAction=null}pollUserCancellation(){const t=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(po(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(t,zce.get())};t()}}Cu.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Kce="pendingRedirect",by=new Map;class Gce extends Rj{constructor(t,n,r=!1){super(t,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let t=by.get(this.auth._key());if(!t){try{const r=await Yce(this.resolver,this.auth)?await super.execute():null;t=()=>Promise.resolve(r)}catch(n){t=()=>Promise.reject(n)}by.set(this.auth._key(),t)}return this.bypassAuthState||by.set(this.auth._key(),()=>Promise.resolve(null)),t()}async onAuthEvent(t){if(t.type==="signInViaRedirect")return super.onAuthEvent(t);if(t.type==="unknown"){this.resolve(null);return}if(t.eventId){const n=await this.auth._redirectUserForId(t.eventId);if(n)return this.user=n,super.onAuthEvent(t);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Yce(e,t){const n=Jce(t),r=Qce(e);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function Xce(e,t){by.set(e._key(),t)}function Qce(e){return Xo(e._redirectPersistence)}function Jce(e){return yy(Kce,e.config.apiKey,e.name)}async function Zce(e,t,n=!1){const r=Gl(e),i=Pj(r,t),o=await new Gce(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,t)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ede=10*60*1e3;class tde{constructor(t){this.auth=t,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(t){this.consumers.add(t),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,t)&&(this.sendToConsumer(this.queuedRedirectEvent,t),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(t){this.consumers.delete(t)}onEvent(t){if(this.hasEventBeenHandled(t))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(t,r)&&(n=!0,this.sendToConsumer(t,r),this.saveEventToCache(t))}),this.hasHandledPotentialRedirect||!nde(t)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=t,n=!0)),n}sendToConsumer(t,n){var r;if(t.error&&!Dj(t)){const i=((r=t.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(po(this.auth,i))}else n.onAuthEvent(t)}isEventForConsumer(t,n){const r=n.eventId===null||!!t.eventId&&t.eventId===n.eventId;return n.filter.includes(t.type)&&r}hasEventBeenHandled(t){return Date.now()-this.lastProcessedEventTime>=ede&&this.cachedEventUids.clear(),this.cachedEventUids.has(RD(t))}saveEventToCache(t){this.cachedEventUids.add(RD(t)),this.lastProcessedEventTime=Date.now()}}function RD(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter(t=>t).join("-")}function Dj({type:e,error:t}){return e==="unknown"&&(t==null?void 0:t.code)==="auth/no-auth-event"}function nde(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return Dj(e);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rde(e,t={}){return Kl(e,"GET","/v1/projects",t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ide=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,sde=/^https?/;async function ode(e){if(e.config.emulator)return;const{authorizedDomains:t}=await rde(e);for(const n of t)try{if(ade(n))return}catch{}bs(e,"unauthorized-domain")}function ade(e){const t=CS(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const o=new URL(e);return o.hostname===""&&r===""?n==="chrome-extension:"&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!sde.test(n))return!1;if(ide.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lde=new $m(3e4,6e4);function DD(){const e=ho().___jsl;if(e!=null&&e.H){for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}}function ude(e){return new Promise((t,n)=>{var r,i,s;function o(){DD(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{DD(),n(po(e,"network-request-failed"))},timeout:lde.get()})}if(!((i=(r=ho().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)t(gapi.iframes.getContext());else if(!((s=ho().gapi)===null||s===void 0)&&s.load)o();else{const a=nce("iframefcb");return ho()[a]=()=>{gapi.load?o():n(po(e,"network-request-failed"))},mj(`https://apis.google.com/js/api.js?onload=${a}`).catch(l=>n(l))}}).catch(t=>{throw wy=null,t})}let wy=null;function cde(e){return wy=wy||ude(e),wy}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dde=new $m(5e3,15e3),fde="__/auth/iframe",pde="emulator/auth/iframe",hde={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},gde=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function mde(e){const t=e.config;Ge(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?DC(t,pde):`https://${e.config.authDomain}/${fde}`,r={apiKey:t.apiKey,appName:e.name,v:jl},i=gde.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Mf(r).slice(1)}`}async function vde(e){const t=await cde(e),n=ho().gapi;return Ge(n,e,"internal-error"),t.open({where:document.body,url:mde(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hde,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=po(e,"network-request-failed"),a=ho().setTimeout(()=>{s(o)},dde.get());function l(){ho().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yde={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_de=500,bde=600,wde="_blank",Ede="http://localhost";class ND{constructor(t){this.window=t,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function $de(e,t,n,r=_de,i=bde){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l=Object.assign(Object.assign({},yde),{width:r.toString(),height:i.toString(),top:s,left:o}),u=ti().toLowerCase();n&&(a=aj(u)?wde:n),oj(u)&&(t=t||Ede,l.scrollbars="yes");const c=Object.entries(l).reduce((f,[p,h])=>`${f}${p}=${h},`,"");if(Jue(u)&&a!=="_self")return Sde(t||"",a),new ND(null);const d=window.open(t||"",a,c);Ge(d,e,"popup-blocked");try{d.focus()}catch{}return new ND(d)}function Sde(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xde="__/auth/handler",Tde="emulator/auth/handler",Ide=encodeURIComponent("fac");async function MD(e,t,n,r,i,s){Ge(e.config.authDomain,e,"auth-domain-config-required"),Ge(e.config.apiKey,e,"invalid-api-key");const o={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:jl,eventId:i};if(t instanceof BC){t.setDefaultLanguage(e.languageCode),o.providerId=t.providerId||"",E$(t.getCustomParameters())||(o.customParameters=JSON.stringify(t.getCustomParameters()));for(const[c,d]of Object.entries(s||{}))o[c]=d}if(t instanceof xm){const c=t.getScopes().filter(d=>d!=="");c.length>0&&(o.scopes=c.join(","))}e.tenantId&&(o.tid=e.tenantId);const a=o;for(const c of Object.keys(a))a[c]===void 0&&delete a[c];const l=await e._getAppCheckToken(),u=l?`#${Ide}=${encodeURIComponent(l)}`:"";return`${Cde(e)}?${Mf(a).slice(1)}${u}`}function Cde({config:e}){return e.emulator?DC(e,Tde):`https://${e.authDomain}/${xde}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q1="webStorageSupport";class Ade{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Ij,this._completeRedirectFn=Zce,this._overrideRedirectResult=Xce}async _openPopup(t,n,r,i){var s;_a((s=this.eventManagers[t._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const o=await MD(t,n,r,CS(),i);return $de(t,o,UC())}async _openRedirect(t,n,r,i){await this._originValidation(t);const s=await MD(t,n,r,CS(),i);return Rce(s),new Promise(()=>{})}_initialize(t){const n=t._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(_a(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(t);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(t){const n=await vde(t),r=new tde(t);return n.register("authEvent",i=>(Ge(i==null?void 0:i.authEvent,t,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[t._key()]={manager:r},this.iframes[t._key()]=n,r}_isIframeWebStorageSupported(t,n){this.iframes[t._key()].send(q1,{type:q1},i=>{var s;const o=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[q1];o!==void 0&&n(!!o),bs(t,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(t){const n=t._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=ode(t)),this.originValidationPromises[n]}get _shouldInitProactively(){return fj()||MC()||Xb()}}const kde=Ade;var LD="@firebase/auth",FD="0.23.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ode{constructor(t){this.auth=t,this.internalListeners=new Map}getUid(){var t;return this.assertAuthConfigured(),((t=this.auth.currentUser)===null||t===void 0?void 0:t.uid)||null}async getToken(t){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(t)}:null}addAuthTokenListener(t){if(this.assertAuthConfigured(),this.internalListeners.has(t))return;const n=this.auth.onIdTokenChanged(r=>{t((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(t,n),this.updateProactiveRefresh()}removeAuthTokenListener(t){this.assertAuthConfigured();const n=this.internalListeners.get(t);n&&(this.internalListeners.delete(t),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Ge(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pde(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}function Rde(e){fi(new ni("auth",(t,{options:n})=>{const r=t.getProvider("app").getImmediate(),i=t.getProvider("heartbeat"),s=t.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Ge(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:e,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:pj(e)},u=new ace(r,i,s,l);return uce(u,n),u},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((t,n,r)=>{t.getProvider("auth-internal").initialize()})),fi(new ni("auth-internal",t=>{const n=Gl(t.getProvider("auth").getImmediate());return(r=>new Ode(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),mr(LD,FD,Pde(e)),mr(LD,FD,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Dde=5*60,Nde=Z5("authIdTokenMaxAge")||Dde;let BD=null;const Mde=e=>async t=>{const n=t&&await t.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>Nde)return;const i=n==null?void 0:n.token;BD!==i&&(BD=i,await fetch(e,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Nj(e=Tc()){const t=Qs(e,"auth");if(t.isInitialized())return t.getImmediate();const n=lce(e,{popupRedirectResolver:kde,persistence:[Hce,kce,Ij]}),r=Z5("authTokenSyncURL");if(r){const s=Mde(r);xce(n,s,()=>s(n.currentUser)),$j(n,o=>s(o))}const i=Q5("auth");return i&&cce(n,`http://${i}`),n}Rde("Browser");var UD=36,Mj="";for(;UD--;)Mj+=UD.toString(36);function Lde(e){for(var t="",n=e||11;n--;)t+=Mj[Math.random()*36|0];return t}const Fde=()=>{{const e=window==null?void 0:window.localStorage.getItem("uid");if(e)return e;const t=`visitor-${Lde()}`;return window==null||window.localStorage.setItem("uid",t),t}},Bde=(e=null)=>{window==null||window.localStorage.setItem("uid",e)};var na={DEBUG:!1,LIB_VERSION:"2.47.0"},Hn;if(typeof window>"u"){var VD={hostname:""};Hn={navigator:{userAgent:""},document:{location:VD,referrer:""},screen:{width:0,height:0},location:VD}}else Hn=window;var Zb=Array.prototype,Ude=Function.prototype,Lj=Object.prototype,ol=Zb.slice,Im=Lj.toString,ew=Lj.hasOwnProperty,sr=Hn.console,al=Hn.navigator,fn=Hn.document,Av=Hn.opera,L_=Hn.screen,ro=al.userAgent,z1=Ude.bind,HD=Zb.forEach,jD=Zb.indexOf,WD=Zb.map,Vde=Array.isArray,kS={},C={trim:function(e){return e.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"")}},an={log:function(){if(na.DEBUG&&!C.isUndefined(sr)&&sr)try{sr.log.apply(sr,arguments)}catch{C.each(arguments,function(t){sr.log(t)})}},warn:function(){if(na.DEBUG&&!C.isUndefined(sr)&&sr){var e=["Mixpanel warning:"].concat(C.toArray(arguments));try{sr.warn.apply(sr,e)}catch{C.each(e,function(n){sr.warn(n)})}}},error:function(){if(na.DEBUG&&!C.isUndefined(sr)&&sr){var e=["Mixpanel error:"].concat(C.toArray(arguments));try{sr.error.apply(sr,e)}catch{C.each(e,function(n){sr.error(n)})}}},critical:function(){if(!C.isUndefined(sr)&&sr){var e=["Mixpanel error:"].concat(C.toArray(arguments));try{sr.error.apply(sr,e)}catch{C.each(e,function(n){sr.error(n)})}}}},K1=function(e,t){return function(){return arguments[0]="["+t+"] "+arguments[0],e.apply(an,arguments)}},HC=function(e){return{log:K1(an.log,e),error:K1(an.error,e),critical:K1(an.critical,e)}};C.bind=function(e,t){var n,r;if(z1&&e.bind===z1)return z1.apply(e,ol.call(arguments,1));if(!C.isFunction(e))throw new TypeError;return n=ol.call(arguments,2),r=function(){if(!(this instanceof r))return e.apply(t,n.concat(ol.call(arguments)));var i={};i.prototype=e.prototype;var s=new i;i.prototype=null;var o=e.apply(s,n.concat(ol.call(arguments)));return Object(o)===o?o:s},r};C.each=function(e,t,n){if(e!=null){if(HD&&e.forEach===HD)e.forEach(t,n);else if(e.length===+e.length){for(var r=0,i=e.length;r<i;r++)if(r in e&&t.call(n,e[r],r,e)===kS)return}else for(var s in e)if(ew.call(e,s)&&t.call(n,e[s],s,e)===kS)return}};C.extend=function(e){return C.each(ol.call(arguments,1),function(t){for(var n in t)t[n]!==void 0&&(e[n]=t[n])}),e};C.isArray=Vde||function(e){return Im.call(e)==="[object Array]"};C.isFunction=function(e){try{return/^\s*\bfunction\b/.test(e)}catch{return!1}};C.isArguments=function(e){return!!(e&&ew.call(e,"callee"))};C.toArray=function(e){return e?e.toArray?e.toArray():C.isArray(e)||C.isArguments(e)?ol.call(e):C.values(e):[]};C.map=function(e,t,n){if(WD&&e.map===WD)return e.map(t,n);var r=[];return C.each(e,function(i){r.push(t.call(n,i))}),r};C.keys=function(e){var t=[];return e===null||C.each(e,function(n,r){t[t.length]=r}),t};C.values=function(e){var t=[];return e===null||C.each(e,function(n){t[t.length]=n}),t};C.include=function(e,t){var n=!1;return e===null?n:jD&&e.indexOf===jD?e.indexOf(t)!=-1:(C.each(e,function(r){if(n||(n=r===t))return kS}),n)};C.includes=function(e,t){return e.indexOf(t)!==-1};C.inherit=function(e,t){return e.prototype=new t,e.prototype.constructor=e,e.superclass=t.prototype,e};C.isObject=function(e){return e===Object(e)&&!C.isArray(e)};C.isEmptyObject=function(e){if(C.isObject(e)){for(var t in e)if(ew.call(e,t))return!1;return!0}return!1};C.isUndefined=function(e){return e===void 0};C.isString=function(e){return Im.call(e)=="[object String]"};C.isDate=function(e){return Im.call(e)=="[object Date]"};C.isNumber=function(e){return Im.call(e)=="[object Number]"};C.isElement=function(e){return!!(e&&e.nodeType===1)};C.encodeDates=function(e){return C.each(e,function(t,n){C.isDate(t)?e[n]=C.formatDate(t):C.isObject(t)&&(e[n]=C.encodeDates(t))}),e};C.timestamp=function(){return Date.now=Date.now||function(){return+new Date},Date.now()};C.formatDate=function(e){function t(n){return n<10?"0"+n:n}return e.getUTCFullYear()+"-"+t(e.getUTCMonth()+1)+"-"+t(e.getUTCDate())+"T"+t(e.getUTCHours())+":"+t(e.getUTCMinutes())+":"+t(e.getUTCSeconds())};C.strip_empty_properties=function(e){var t={};return C.each(e,function(n,r){C.isString(n)&&n.length>0&&(t[r]=n)}),t};C.truncate=function(e,t){var n;return typeof e=="string"?n=e.slice(0,t):C.isArray(e)?(n=[],C.each(e,function(r){n.push(C.truncate(r,t))})):C.isObject(e)?(n={},C.each(e,function(r,i){n[i]=C.truncate(r,t)})):n=e,n};C.JSONEncode=function(){return function(e){var t=e,n=function(i){var s=/[\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,o={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"};return s.lastIndex=0,s.test(i)?'"'+i.replace(s,function(a){var l=o[a];return typeof l=="string"?l:"\\u"+("0000"+a.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+i+'"'},r=function(i,s){var o="",a="    ",l=0,u="",c="",d=0,f=o,p=[],h=s[i];switch(h&&typeof h=="object"&&typeof h.toJSON=="function"&&(h=h.toJSON(i)),typeof h){case"string":return n(h);case"number":return isFinite(h)?String(h):"null";case"boolean":case"null":return String(h);case"object":if(!h)return"null";if(o+=a,p=[],Im.apply(h)==="[object Array]"){for(d=h.length,l=0;l<d;l+=1)p[l]=r(l,h)||"null";return c=p.length===0?"[]":o?`[
`+o+p.join(`,
`+o)+`
`+f+"]":"["+p.join(",")+"]",o=f,c}for(u in h)ew.call(h,u)&&(c=r(u,h),c&&p.push(n(u)+(o?": ":":")+c));return c=p.length===0?"{}":o?"{"+p.join(",")+f+"}":"{"+p.join(",")+"}",o=f,c}};return r("",{"":t})}}();C.JSONDecode=function(){var e,t,n={'"':'"',"\\":"\\","/":"/",b:"\b",f:"\f",n:`
`,r:"\r",t:"	"},r,i=function(p){var h=new SyntaxError(p);throw h.at=e,h.text=r,h},s=function(p){return p&&p!==t&&i("Expected '"+p+"' instead of '"+t+"'"),t=r.charAt(e),e+=1,t},o=function(){var p,h="";for(t==="-"&&(h="-",s("-"));t>="0"&&t<="9";)h+=t,s();if(t===".")for(h+=".";s()&&t>="0"&&t<="9";)h+=t;if(t==="e"||t==="E")for(h+=t,s(),(t==="-"||t==="+")&&(h+=t,s());t>="0"&&t<="9";)h+=t,s();if(p=+h,!isFinite(p))i("Bad number");else return p},a=function(){var p,h,g="",m;if(t==='"')for(;s();){if(t==='"')return s(),g;if(t==="\\")if(s(),t==="u"){for(m=0,h=0;h<4&&(p=parseInt(s(),16),!!isFinite(p));h+=1)m=m*16+p;g+=String.fromCharCode(m)}else if(typeof n[t]=="string")g+=n[t];else break;else g+=t}i("Bad string")},l=function(){for(;t&&t<=" ";)s()},u=function(){switch(t){case"t":return s("t"),s("r"),s("u"),s("e"),!0;case"f":return s("f"),s("a"),s("l"),s("s"),s("e"),!1;case"n":return s("n"),s("u"),s("l"),s("l"),null}i('Unexpected "'+t+'"')},c,d=function(){var p=[];if(t==="["){if(s("["),l(),t==="]")return s("]"),p;for(;t;){if(p.push(c()),l(),t==="]")return s("]"),p;s(","),l()}}i("Bad array")},f=function(){var p,h={};if(t==="{"){if(s("{"),l(),t==="}")return s("}"),h;for(;t;){if(p=a(),l(),s(":"),Object.hasOwnProperty.call(h,p)&&i('Duplicate key "'+p+'"'),h[p]=c(),l(),t==="}")return s("}"),h;s(","),l()}}i("Bad object")};return c=function(){switch(l(),t){case"{":return f();case"[":return d();case'"':return a();case"-":return o();default:return t>="0"&&t<="9"?o():u()}},function(p){var h;return r=p,e=0,t=" ",h=c(),l(),t&&i("Syntax error"),h}}();C.base64Encode=function(e){var t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",n,r,i,s,o,a,l,u,c=0,d=0,f="",p=[];if(!e)return e;e=C.utf8Encode(e);do n=e.charCodeAt(c++),r=e.charCodeAt(c++),i=e.charCodeAt(c++),u=n<<16|r<<8|i,s=u>>18&63,o=u>>12&63,a=u>>6&63,l=u&63,p[d++]=t.charAt(s)+t.charAt(o)+t.charAt(a)+t.charAt(l);while(c<e.length);switch(f=p.join(""),e.length%3){case 1:f=f.slice(0,-2)+"==";break;case 2:f=f.slice(0,-1)+"=";break}return f};C.utf8Encode=function(e){e=(e+"").replace(/\r\n/g,`
`).replace(/\r/g,`
`);var t="",n,r,i=0,s;for(n=r=0,i=e.length,s=0;s<i;s++){var o=e.charCodeAt(s),a=null;o<128?r++:o>127&&o<2048?a=String.fromCharCode(o>>6|192,o&63|128):a=String.fromCharCode(o>>12|224,o>>6&63|128,o&63|128),a!==null&&(r>n&&(t+=e.substring(n,r)),t+=a,n=r=s+1)}return r>n&&(t+=e.substring(n,e.length)),t};C.UUID=function(){var e=function(){var r=1*new Date,i;if(Hn.performance&&Hn.performance.now)i=Hn.performance.now();else for(i=0;r==1*new Date;)i++;return r.toString(16)+Math.floor(i).toString(16)},t=function(){return Math.random().toString(16).replace(".","")},n=function(){var r=ro,i,s,o=[],a=0;function l(u,c){var d,f=0;for(d=0;d<c.length;d++)f|=o[d]<<d*8;return u^f}for(i=0;i<r.length;i++)s=r.charCodeAt(i),o.unshift(s&255),o.length>=4&&(a=l(a,o),o=[]);return o.length>0&&(a=l(a,o)),a.toString(16)};return function(){var r=(L_.height*L_.width).toString(16);return e()+"-"+t()+"-"+n()+"-"+r+"-"+e()}}();var qD=["ahrefsbot","baiduspider","bingbot","bingpreview","facebookexternal","petalbot","pinterest","screaming frog","yahoo! slurp","yandexbot","adsbot-google","apis-google","duplexweb-google","feedfetcher-google","google favicon","google web preview","google-read-aloud","googlebot","googleweblight","mediapartners-google","storebot-google"];C.isBlockedUA=function(e){var t;for(e=e.toLowerCase(),t=0;t<qD.length;t++)if(e.indexOf(qD[t])!==-1)return!0;return!1};C.HTTPBuildQuery=function(e,t){var n,r,i=[];return C.isUndefined(t)&&(t="&"),C.each(e,function(s,o){n=encodeURIComponent(s.toString()),r=encodeURIComponent(o),i[i.length]=r+"="+n}),i.join(t)};C.getQueryParam=function(e,t){t=t.replace(/[[]/,"\\[").replace(/[\]]/,"\\]");var n="[\\?&]"+t+"=([^&#]*)",r=new RegExp(n),i=r.exec(e);if(i===null||i&&typeof i[1]!="string"&&i[1].length)return"";var s=i[1];try{s=decodeURIComponent(s)}catch{an.error("Skipping decoding for malformed query param: "+s)}return s.replace(/\+/g," ")};C.cookie={get:function(e){for(var t=e+"=",n=fn.cookie.split(";"),r=0;r<n.length;r++){for(var i=n[r];i.charAt(0)==" ";)i=i.substring(1,i.length);if(i.indexOf(t)===0)return decodeURIComponent(i.substring(t.length,i.length))}return null},parse:function(e){var t;try{t=C.JSONDecode(C.cookie.get(e))||{}}catch{}return t},set_seconds:function(e,t,n,r,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(r){var c=zD(fn.location.hostname);a=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+n*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure"),fn.cookie=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u},set:function(e,t,n,r,i,s,o){var a="",l="",u="";if(o)a="; domain="+o;else if(r){var c=zD(fn.location.hostname);a=c?"; domain=."+c:""}if(n){var d=new Date;d.setTime(d.getTime()+n*24*60*60*1e3),l="; expires="+d.toGMTString()}s&&(i=!0,u="; SameSite=None"),i&&(u+="; secure");var f=e+"="+encodeURIComponent(t)+l+"; path=/"+a+u;return fn.cookie=f,f},remove:function(e,t,n){C.cookie.set(e,"",-1,t,!1,!1,n)}};var G1=null,F_=function(e,t){if(G1!==null&&!t)return G1;var n=!0;try{e=e||window.localStorage;var r="__mplss_"+jC(8),i="xyz";e.setItem(r,i),e.getItem(r)!==i&&(n=!1),e.removeItem(r)}catch{n=!1}return G1=n,n};C.localStorage={is_supported:function(e){var t=F_(null,e);return t||an.error("localStorage unsupported; falling back to cookie store"),t},error:function(e){an.error("localStorage error: "+e)},get:function(e){try{return window.localStorage.getItem(e)}catch(t){C.localStorage.error(t)}return null},parse:function(e){try{return C.JSONDecode(C.localStorage.get(e))||{}}catch{}return null},set:function(e,t){try{window.localStorage.setItem(e,t)}catch(n){C.localStorage.error(n)}},remove:function(e){try{window.localStorage.removeItem(e)}catch(t){C.localStorage.error(t)}}};C.register_event=function(){var e=function(r,i,s,o,a){if(!r){an.error("No valid element provided to register_event");return}if(r.addEventListener&&!o)r.addEventListener(i,s,!!a);else{var l="on"+i,u=r[l];r[l]=t(r,s,u)}};function t(r,i,s){var o=function(a){if(a=a||n(window.event),!!a){var l=!0,u,c;return C.isFunction(s)&&(u=s(a)),c=i.call(r,a),(u===!1||c===!1)&&(l=!1),l}};return o}function n(r){return r&&(r.preventDefault=n.preventDefault,r.stopPropagation=n.stopPropagation),r}return n.preventDefault=function(){this.returnValue=!1},n.stopPropagation=function(){this.cancelBubble=!0},e}();var Hde=new RegExp('^(\\w*)\\[(\\w+)([=~\\|\\^\\$\\*]?)=?"?([^\\]"]*)"?\\]$');C.dom_query=function(){function e(i){return i.all?i.all:i.getElementsByTagName("*")}var t=/[\t\r\n]/g;function n(i,s){var o=" "+s+" ";return(" "+i.className+" ").replace(t," ").indexOf(o)>=0}function r(i){if(!fn.getElementsByTagName)return[];var s=i.split(" "),o,a,l,u,c,d,f,p,h,g,m=[fn];for(d=0;d<s.length;d++){if(o=s[d].replace(/^\s+/,"").replace(/\s+$/,""),o.indexOf("#")>-1){a=o.split("#"),l=a[0];var v=a[1],y=fn.getElementById(v);if(!y||l&&y.nodeName.toLowerCase()!=l)return[];m=[y];continue}if(o.indexOf(".")>-1){a=o.split("."),l=a[0];var b=a[1];for(l||(l="*"),u=[],c=0,f=0;f<m.length;f++)for(l=="*"?h=e(m[f]):h=m[f].getElementsByTagName(l),p=0;p<h.length;p++)u[c++]=h[p];for(m=[],g=0,f=0;f<u.length;f++)u[f].className&&C.isString(u[f].className)&&n(u[f],b)&&(m[g++]=u[f]);continue}var _=o.match(Hde);if(_){l=_[1];var S=_[2],I=_[3],T=_[4];for(l||(l="*"),u=[],c=0,f=0;f<m.length;f++)for(l=="*"?h=e(m[f]):h=m[f].getElementsByTagName(l),p=0;p<h.length;p++)u[c++]=h[p];m=[],g=0;var w;switch(I){case"=":w=function(x){return x.getAttribute(S)==T};break;case"~":w=function(x){return x.getAttribute(S).match(new RegExp("\\b"+T+"\\b"))};break;case"|":w=function(x){return x.getAttribute(S).match(new RegExp("^"+T+"-?"))};break;case"^":w=function(x){return x.getAttribute(S).indexOf(T)===0};break;case"$":w=function(x){return x.getAttribute(S).lastIndexOf(T)==x.getAttribute(S).length-T.length};break;case"*":w=function(x){return x.getAttribute(S).indexOf(T)>-1};break;default:w=function(x){return x.getAttribute(S)}}for(m=[],g=0,f=0;f<u.length;f++)w(u[f])&&(m[g++]=u[f]);continue}for(l=o,u=[],c=0,f=0;f<m.length;f++)for(h=m[f].getElementsByTagName(l),p=0;p<h.length;p++)u[c++]=h[p];m=u}return m}return function(i){return C.isElement(i)?[i]:C.isObject(i)&&!C.isUndefined(i.length)?i:r.call(this,i)}}();var jde=["utm_source","utm_medium","utm_campaign","utm_content","utm_term"],Wde=["dclid","fbclid","gclid","ko_click_id","li_fat_id","msclkid","ttclid","twclid","wbraid"];C.info={campaignParams:function(e){var t="",n={};return C.each(jde,function(r){t=C.getQueryParam(fn.URL,r),t.length?n[r]=t:e!==void 0&&(n[r]=e)}),n},clickParams:function(){var e="",t={};return C.each(Wde,function(n){e=C.getQueryParam(fn.URL,n),e.length&&(t[n]=e)}),t},marketingParams:function(){return C.extend(C.info.campaignParams(),C.info.clickParams())},searchEngine:function(e){return e.search("https?://(.*)google.([^/?]*)")===0?"google":e.search("https?://(.*)bing.com")===0?"bing":e.search("https?://(.*)yahoo.com")===0?"yahoo":e.search("https?://(.*)duckduckgo.com")===0?"duckduckgo":null},searchInfo:function(e){var t=C.info.searchEngine(e),n=t!="yahoo"?"q":"p",r={};if(t!==null){r.$search_engine=t;var i=C.getQueryParam(e,n);i.length&&(r.mp_keyword=i)}return r},browser:function(e,t,n){return t=t||"",n||C.includes(e," OPR/")?C.includes(e,"Mini")?"Opera Mini":"Opera":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":C.includes(e,"IEMobile")||C.includes(e,"WPDesktop")?"Internet Explorer Mobile":C.includes(e,"SamsungBrowser/")?"Samsung Internet":C.includes(e,"Edge")||C.includes(e,"Edg/")?"Microsoft Edge":C.includes(e,"FBIOS")?"Facebook Mobile":C.includes(e,"Chrome")?"Chrome":C.includes(e,"CriOS")?"Chrome iOS":C.includes(e,"UCWEB")||C.includes(e,"UCBrowser")?"UC Browser":C.includes(e,"FxiOS")?"Firefox iOS":C.includes(t,"Apple")?C.includes(e,"Mobile")?"Mobile Safari":"Safari":C.includes(e,"Android")?"Android Mobile":C.includes(e,"Konqueror")?"Konqueror":C.includes(e,"Firefox")?"Firefox":C.includes(e,"MSIE")||C.includes(e,"Trident/")?"Internet Explorer":C.includes(e,"Gecko")?"Mozilla":""},browserVersion:function(e,t,n){var r=C.info.browser(e,t,n),i={"Internet Explorer Mobile":/rv:(\d+(\.\d+)?)/,"Microsoft Edge":/Edge?\/(\d+(\.\d+)?)/,Chrome:/Chrome\/(\d+(\.\d+)?)/,"Chrome iOS":/CriOS\/(\d+(\.\d+)?)/,"UC Browser":/(UCBrowser|UCWEB)\/(\d+(\.\d+)?)/,Safari:/Version\/(\d+(\.\d+)?)/,"Mobile Safari":/Version\/(\d+(\.\d+)?)/,Opera:/(Opera|OPR)\/(\d+(\.\d+)?)/,Firefox:/Firefox\/(\d+(\.\d+)?)/,"Firefox iOS":/FxiOS\/(\d+(\.\d+)?)/,Konqueror:/Konqueror:(\d+(\.\d+)?)/,BlackBerry:/BlackBerry (\d+(\.\d+)?)/,"Android Mobile":/android\s(\d+(\.\d+)?)/,"Samsung Internet":/SamsungBrowser\/(\d+(\.\d+)?)/,"Internet Explorer":/(rv:|MSIE )(\d+(\.\d+)?)/,Mozilla:/rv:(\d+(\.\d+)?)/},s=i[r];if(s===void 0)return null;var o=e.match(s);return o?parseFloat(o[o.length-2]):null},os:function(){var e=ro;return/Windows/i.test(e)?/Phone/.test(e)||/WPDesktop/.test(e)?"Windows Phone":"Windows":/(iPhone|iPad|iPod)/.test(e)?"iOS":/Android/.test(e)?"Android":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Mac/i.test(e)?"Mac OS X":/Linux/.test(e)?"Linux":/CrOS/.test(e)?"Chrome OS":""},device:function(e){return/Windows Phone/i.test(e)||/WPDesktop/.test(e)?"Windows Phone":/iPad/.test(e)?"iPad":/iPod/.test(e)?"iPod Touch":/iPhone/.test(e)?"iPhone":/(BlackBerry|PlayBook|BB10)/i.test(e)?"BlackBerry":/Android/.test(e)?"Android":""},referringDomain:function(e){var t=e.split("/");return t.length>=3?t[2]:""},properties:function(){return C.extend(C.strip_empty_properties({$os:C.info.os(),$browser:C.info.browser(ro,al.vendor,Av),$referrer:fn.referrer,$referring_domain:C.info.referringDomain(fn.referrer),$device:C.info.device(ro)}),{$current_url:Hn.location.href,$browser_version:C.info.browserVersion(ro,al.vendor,Av),$screen_height:L_.height,$screen_width:L_.width,mp_lib:"web",$lib_version:na.LIB_VERSION,$insert_id:jC(),time:C.timestamp()/1e3})},people_properties:function(){return C.extend(C.strip_empty_properties({$os:C.info.os(),$browser:C.info.browser(ro,al.vendor,Av)}),{$browser_version:C.info.browserVersion(ro,al.vendor,Av)})},mpPageViewProperties:function(){return C.strip_empty_properties({current_page_title:fn.title,current_domain:Hn.location.hostname,current_url_path:Hn.location.pathname,current_url_protocol:Hn.location.protocol,current_url_search:Hn.location.search})}};var jC=function(e){var t=Math.random().toString(36).substring(2,10)+Math.random().toString(36).substring(2,10);return e?t.substring(0,e):t},qde=/[a-z0-9][a-z0-9-]*\.[a-z]+$/i,zde=/[a-z0-9][a-z0-9-]+\.[a-z.]{2,6}$/i,zD=function(e){var t=zde,n=e.split("."),r=n[n.length-1];(r.length>4||r==="com"||r==="org")&&(t=qde);var i=e.match(t);return i?i[0]:""},B_=null,U_=null;typeof JSON<"u"&&(B_=JSON.stringify,U_=JSON.parse);B_=B_||C.JSONEncode;U_=U_||C.JSONDecode;C.toArray=C.toArray;C.isObject=C.isObject;C.JSONEncode=C.JSONEncode;C.JSONDecode=C.JSONDecode;C.isBlockedUA=C.isBlockedUA;C.isEmptyObject=C.isEmptyObject;C.info=C.info;C.info.device=C.info.device;C.info.browser=C.info.browser;C.info.browserVersion=C.info.browserVersion;C.info.properties=C.info.properties;var Ta=function(){};Ta.prototype.create_properties=function(){};Ta.prototype.event_handler=function(){};Ta.prototype.after_track_handler=function(){};Ta.prototype.init=function(e){return this.mp=e,this};Ta.prototype.track=function(e,t,n,r){var i=this,s=C.dom_query(e);if(s.length===0){an.error("The DOM query ("+e+") returned 0 elements");return}return C.each(s,function(o){C.register_event(o,this.override_event,function(a){var l={},u=i.create_properties(n,this),c=i.mp.get_config("track_links_timeout");i.event_handler(a,this,l),window.setTimeout(i.track_callback(r,u,l,!0),c),i.mp.track(t,u,i.track_callback(r,u,l))})},this),!0};Ta.prototype.track_callback=function(e,t,n,r){r=r||!1;var i=this;return function(){n.callback_fired||(n.callback_fired=!0,!(e&&e(r,t)===!1)&&i.after_track_handler(t,n,r))}};Ta.prototype.create_properties=function(e,t){var n;return typeof e=="function"?n=e(t):n=C.extend({},e),n};var pf=function(){this.override_event="click"};C.inherit(pf,Ta);pf.prototype.create_properties=function(e,t){var n=pf.superclass.create_properties.apply(this,arguments);return t.href&&(n.url=t.href),n};pf.prototype.event_handler=function(e,t,n){n.new_tab=e.which===2||e.metaKey||e.ctrlKey||t.target==="_blank",n.href=t.href,n.new_tab||e.preventDefault()};pf.prototype.after_track_handler=function(e,t){t.new_tab||setTimeout(function(){window.location=t.href},0)};var tw=function(){this.override_event="submit"};C.inherit(tw,Ta);tw.prototype.event_handler=function(e,t,n){n.element=t,e.preventDefault()};tw.prototype.after_track_handler=function(e,t){setTimeout(function(){t.element.submit()},0)};var Kde=HC("lock"),Fj=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.pollIntervalMS=t.pollIntervalMS||100,this.timeoutMS=t.timeoutMS||2e3};Fj.prototype.withLock=function(e,t,n){!n&&typeof t!="function"&&(n=t,t=null);var r=n||new Date().getTime()+"|"+Math.random(),i=new Date().getTime(),s=this.storageKey,o=this.pollIntervalMS,a=this.timeoutMS,l=this.storage,u=s+":X",c=s+":Y",d=s+":Z",f=function(y){t&&t(y)},p=function(y){if(new Date().getTime()-i>a){Kde.error("Timeout waiting for mutex on "+s+"; clearing lock. ["+r+"]"),l.removeItem(d),l.removeItem(c),m();return}setTimeout(function(){try{y()}catch(b){f(b)}},o*(Math.random()+.1))},h=function(y,b){y()?b():p(function(){h(y,b)})},g=function(){var y=l.getItem(c);if(y&&y!==r)return!1;if(l.setItem(c,r),l.getItem(c)===r)return!0;if(!F_(l,!0))throw new Error("localStorage support dropped while acquiring lock");return!1},m=function(){l.setItem(u,r),h(g,function(){if(l.getItem(u)===r){v();return}p(function(){if(l.getItem(c)!==r){m();return}h(function(){return!l.getItem(d)},v)})})},v=function(){l.setItem(d,"1");try{e()}finally{l.removeItem(d),l.getItem(c)===r&&l.removeItem(c),l.getItem(u)===r&&l.removeItem(u)}};try{if(F_(l,!0))m();else throw new Error("localStorage support check failed")}catch(y){f(y)}};var KD=HC("batch"),Yl=function(e,t){t=t||{},this.storageKey=e,this.storage=t.storage||window.localStorage,this.reportError=t.errorReporter||C.bind(KD.error,KD),this.lock=new Fj(e,{storage:this.storage}),this.pid=t.pid||null,this.memQueue=[]};Yl.prototype.enqueue=function(e,t,n){var r={id:jC(),flushAfter:new Date().getTime()+t*2,payload:e};this.lock.withLock(C.bind(function(){var s;try{var o=this.readFromStorage();o.push(r),s=this.saveToStorage(o),s&&this.memQueue.push(r)}catch{this.reportError("Error enqueueing item",e),s=!1}n&&n(s)},this),C.bind(function(s){this.reportError("Error acquiring storage lock",s),n&&n(!1)},this),this.pid)};Yl.prototype.fillBatch=function(e){var t=this.memQueue.slice(0,e);if(t.length<e){var n=this.readFromStorage();if(n.length){var r={};C.each(t,function(o){r[o.id]=!0});for(var i=0;i<n.length;i++){var s=n[i];if(new Date().getTime()>s.flushAfter&&!r[s.id]&&(s.orphaned=!0,t.push(s),t.length>=e))break}}}return t};var GD=function(e,t){var n=[];return C.each(e,function(r){r.id&&!t[r.id]&&n.push(r)}),n};Yl.prototype.removeItemsByID=function(e,t){var n={};C.each(e,function(i){n[i]=!0}),this.memQueue=GD(this.memQueue,n);var r=C.bind(function(){var i;try{var s=this.readFromStorage();if(s=GD(s,n),i=this.saveToStorage(s),i){s=this.readFromStorage();for(var o=0;o<s.length;o++){var a=s[o];if(a.id&&n[a.id])return this.reportError("Item not removed from storage"),!1}}}catch{this.reportError("Error removing items",e),i=!1}return i},this);this.lock.withLock(function(){var s=r();t&&t(s)},C.bind(function(s){var o=!1;if(this.reportError("Error acquiring storage lock",s),!F_(this.storage,!0)&&(o=r(),!o))try{this.storage.removeItem(this.storageKey)}catch(a){this.reportError("Error clearing queue",a)}t&&t(o)},this),this.pid)};var YD=function(e,t){var n=[];return C.each(e,function(r){var i=r.id;if(i in t){var s=t[i];s!==null&&(r.payload=s,n.push(r))}else n.push(r)}),n};Yl.prototype.updatePayloads=function(e,t){this.memQueue=YD(this.memQueue,e),this.lock.withLock(C.bind(function(){var r;try{var i=this.readFromStorage();i=YD(i,e),r=this.saveToStorage(i)}catch{this.reportError("Error updating items",e),r=!1}t&&t(r)},this),C.bind(function(r){this.reportError("Error acquiring storage lock",r),t&&t(!1)},this),this.pid)};Yl.prototype.readFromStorage=function(){var e;try{e=this.storage.getItem(this.storageKey),e&&(e=U_(e),C.isArray(e)||(this.reportError("Invalid storage entry:",e),e=null))}catch(t){this.reportError("Error retrieving queue",t),e=null}return e||[]};Yl.prototype.saveToStorage=function(e){try{return this.storage.setItem(this.storageKey,B_(e)),!0}catch(t){return this.reportError("Error saving queue",t),!1}};Yl.prototype.clear=function(){this.memQueue=[],this.storage.removeItem(this.storageKey)};var Gde=10*60*1e3,Eh=HC("batch"),Io=function(e,t){this.errorReporter=t.errorReporter,this.queue=new Yl(e,{errorReporter:C.bind(this.reportError,this),storage:t.storage}),this.libConfig=t.libConfig,this.sendRequest=t.sendRequestFunc,this.beforeSendHook=t.beforeSendHook,this.stopAllBatching=t.stopAllBatchingFunc,this.batchSize=this.libConfig.batch_size,this.flushInterval=this.libConfig.batch_flush_interval_ms,this.stopped=!this.libConfig.batch_autostart,this.consecutiveRemovalFailures=0,this.itemIdsSentSuccessfully={}};Io.prototype.enqueue=function(e,t){this.queue.enqueue(e,this.flushInterval,t)};Io.prototype.start=function(){this.stopped=!1,this.consecutiveRemovalFailures=0,this.flush()};Io.prototype.stop=function(){this.stopped=!0,this.timeoutID&&(clearTimeout(this.timeoutID),this.timeoutID=null)};Io.prototype.clear=function(){this.queue.clear()};Io.prototype.resetBatchSize=function(){this.batchSize=this.libConfig.batch_size};Io.prototype.resetFlush=function(){this.scheduleFlush(this.libConfig.batch_flush_interval_ms)};Io.prototype.scheduleFlush=function(e){this.flushInterval=e,this.stopped||(this.timeoutID=setTimeout(C.bind(this.flush,this),this.flushInterval))};Io.prototype.flush=function(e){try{if(this.requestInProgress){Eh.log("Flush: Request already in progress");return}e=e||{};var t=this.libConfig.batch_request_timeout_ms,n=new Date().getTime(),r=this.batchSize,i=this.queue.fillBatch(r),s=[],o={};if(C.each(i,function(u){var c=u.payload;if(this.beforeSendHook&&!u.orphaned&&(c=this.beforeSendHook(c)),c){c.event&&c.properties&&(c.properties=C.extend({},c.properties,{mp_sent_by_lib_version:na.LIB_VERSION}));var d=!0,f=u.id;f?(this.itemIdsSentSuccessfully[f]||0)>5&&(this.reportError("[dupe] item ID sent too many times, not sending",{item:u,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[f]}),d=!1):this.reportError("[dupe] found item with no ID",{item:u}),d&&s.push(c)}o[u.id]=c},this),s.length<1){this.resetFlush();return}this.requestInProgress=!0;var a=C.bind(function(u){this.requestInProgress=!1;try{var c=!1;if(e.unloading)this.queue.updatePayloads(o);else if(C.isObject(u)&&u.error==="timeout"&&new Date().getTime()-n>=t)this.reportError("Network timeout; retrying"),this.flush();else if(C.isObject(u)&&u.xhr_req&&(u.xhr_req.status>=500||u.xhr_req.status===429||u.error==="timeout")){var d=this.flushInterval*2,f=u.xhr_req.responseHeaders;if(f){var p=f["Retry-After"];p&&(d=parseInt(p,10)*1e3||d)}d=Math.min(Gde,d),this.reportError("Error; retry in "+d+" ms"),this.scheduleFlush(d)}else if(C.isObject(u)&&u.xhr_req&&u.xhr_req.status===413)if(i.length>1){var h=Math.max(1,Math.floor(r/2));this.batchSize=Math.min(this.batchSize,h,i.length-1),this.reportError("413 response; reducing batch size to "+this.batchSize),this.resetFlush()}else this.reportError("Single-event request too large; dropping",i),this.resetBatchSize(),c=!0;else c=!0;c&&(this.queue.removeItemsByID(C.map(i,function(g){return g.id}),C.bind(function(g){g?(this.consecutiveRemovalFailures=0,this.flush()):(this.reportError("Failed to remove items from queue"),++this.consecutiveRemovalFailures>5?(this.reportError("Too many queue failures; disabling batching system."),this.stopAllBatching()):this.resetFlush())},this)),C.each(i,C.bind(function(g){var m=g.id;m?(this.itemIdsSentSuccessfully[m]=this.itemIdsSentSuccessfully[m]||0,this.itemIdsSentSuccessfully[m]++,this.itemIdsSentSuccessfully[m]>5&&this.reportError("[dupe] item ID sent too many times",{item:g,batchSize:i.length,timesSent:this.itemIdsSentSuccessfully[m]})):this.reportError("[dupe] found item with no ID while removing",{item:g})},this)))}catch(g){this.reportError("Error handling API response",g),this.resetFlush()}},this),l={method:"POST",verbose:!0,ignore_json_errors:!0,timeout_ms:t};e.unloading&&(l.transport="sendBeacon"),Eh.log("MIXPANEL REQUEST:",s),this.sendRequest(s,l,a)}catch(u){this.reportError("Error flushing request queue",u),this.resetFlush()}};Io.prototype.reportError=function(e,t){if(Eh.error.apply(Eh.error,arguments),this.errorReporter)try{t instanceof Error||(t=new Error(e)),this.errorReporter(e,t)}catch(n){Eh.error(n)}};var Yde="__mp_opt_in_out_";function Xde(e,t){Vj(!0,e,t)}function Qde(e,t){Vj(!1,e,t)}function Jde(e,t){return Uj(e,t)==="1"}function Bj(e,t){if(efe(t))return an.warn('This browser has "Do Not Track" enabled. This will prevent the Mixpanel SDK from sending any data. To ignore the "Do Not Track" browser setting, initialize the Mixpanel instance with the config "ignore_dnt: true"'),!0;var n=Uj(e,t)==="0";return n&&an.warn("You are opted out of Mixpanel tracking. This will prevent the Mixpanel SDK from sending any data."),n}function Gf(e){return zC(e,function(t){return this.get_config(t)})}function Xl(e){return zC(e,function(t){return this._get_config(t)})}function Yf(e){return zC(e,function(t){return this._get_config(t)})}function Zde(e,t){t=t||{},WC(t).remove(qC(e,t),!!t.crossSubdomainCookie,t.cookieDomain)}function WC(e){return e=e||{},e.persistenceType==="localStorage"?C.localStorage:C.cookie}function qC(e,t){return t=t||{},(t.persistencePrefix||Yde)+e}function Uj(e,t){return WC(t).get(qC(e,t))}function efe(e){if(e&&e.ignoreDnt)return!1;var t=e&&e.window||Hn,n=t.navigator||{},r=!1;return C.each([n.doNotTrack,n.msDoNotTrack,t.doNotTrack],function(i){C.includes([!0,1,"1","yes"],i)&&(r=!0)}),r}function Vj(e,t,n){if(!C.isString(t)||!t.length){an.error("gdpr."+(e?"optIn":"optOut")+" called with an invalid token");return}n=n||{},WC(n).set(qC(t,n),e?1:0,C.isNumber(n.cookieExpiration)?n.cookieExpiration:null,!!n.crossSubdomainCookie,!!n.secureCookie,!!n.crossSiteCookie,n.cookieDomain),n.track&&e&&n.track(n.trackEventName||"$opt_in",n.trackProperties,{send_immediately:!0})}function zC(e,t){return function(){var n=!1;try{var r=t.call(this,"token"),i=t.call(this,"ignore_dnt"),s=t.call(this,"opt_out_tracking_persistence_type"),o=t.call(this,"opt_out_tracking_cookie_prefix"),a=t.call(this,"window");r&&(n=Bj(r,{ignoreDnt:i,persistenceType:s,persistencePrefix:o,window:a}))}catch(u){an.error("Unexpected error when checking tracking opt-out status: "+u)}if(!n)return e.apply(this,arguments);var l=arguments[arguments.length-1];typeof l=="function"&&l(0)}}var Nl="$set",hf="$set_once",Os="$unset",uc="$add",ba="$append",cc="$union",Ml="$remove",tfe="$delete",Hj={set_action:function(e,t){var n={},r={};return C.isObject(e)?C.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[Nl]=r,n},unset_action:function(e){var t={},n=[];return C.isArray(e)||(e=[e]),C.each(e,function(r){this._is_reserved_property(r)||n.push(r)},this),t[Os]=n,t},set_once_action:function(e,t){var n={},r={};return C.isObject(e)?C.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[hf]=r,n},union_action:function(e,t){var n={},r={};return C.isObject(e)?C.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=C.isArray(i)?i:[i])},this):r[e]=C.isArray(t)?t:[t],n[cc]=r,n},append_action:function(e,t){var n={},r={};return C.isObject(e)?C.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[ba]=r,n},remove_action:function(e,t){var n={},r={};return C.isObject(e)?C.each(e,function(i,s){this._is_reserved_property(s)||(r[s]=i)},this):r[e]=t,n[Ml]=r,n},delete_action:function(){var e={};return e[tfe]="",e}},Rn=function(){};C.extend(Rn.prototype,Hj);Rn.prototype._init=function(e,t,n){this._mixpanel=e,this._group_key=t,this._group_id=n};Rn.prototype.set=Yf(function(e,t,n){var r=this.set_action(e,t);return C.isObject(e)&&(n=t),this._send_request(r,n)});Rn.prototype.set_once=Yf(function(e,t,n){var r=this.set_once_action(e,t);return C.isObject(e)&&(n=t),this._send_request(r,n)});Rn.prototype.unset=Yf(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});Rn.prototype.union=Yf(function(e,t,n){C.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});Rn.prototype.delete=Yf(function(e){var t=this.delete_action();return this._send_request(t,e)});Rn.prototype.remove=Yf(function(e,t,n){var r=this.remove_action(e,t);return this._send_request(r,n)});Rn.prototype._send_request=function(e,t){e.$group_key=this._group_key,e.$group_id=this._group_id,e.$token=this._get_config("token");var n=C.encodeDates(e);return this._mixpanel._track_or_batch({type:"groups",data:n,endpoint:this._get_config("api_host")+"/groups/",batcher:this._mixpanel.request_batchers.groups},t)};Rn.prototype._is_reserved_property=function(e){return e==="$group_key"||e==="$group_id"};Rn.prototype._get_config=function(e){return this._mixpanel.get_config(e)};Rn.prototype.toString=function(){return this._mixpanel.toString()+".group."+this._group_key+"."+this._group_id};Rn.prototype.remove=Rn.prototype.remove;Rn.prototype.set=Rn.prototype.set;Rn.prototype.set_once=Rn.prototype.set_once;Rn.prototype.union=Rn.prototype.union;Rn.prototype.unset=Rn.prototype.unset;Rn.prototype.toString=Rn.prototype.toString;var ut=function(){};C.extend(ut.prototype,Hj);ut.prototype._init=function(e){this._mixpanel=e};ut.prototype.set=Xl(function(e,t,n){var r=this.set_action(e,t);return C.isObject(e)&&(n=t),this._get_config("save_referrer")&&this._mixpanel.persistence.update_referrer_info(document.referrer),r[Nl]=C.extend({},C.info.people_properties(),this._mixpanel.persistence.get_referrer_info(),r[Nl]),this._send_request(r,n)});ut.prototype.set_once=Xl(function(e,t,n){var r=this.set_once_action(e,t);return C.isObject(e)&&(n=t),this._send_request(r,n)});ut.prototype.unset=Xl(function(e,t){var n=this.unset_action(e);return this._send_request(n,t)});ut.prototype.increment=Xl(function(e,t,n){var r={},i={};return C.isObject(e)?(C.each(e,function(s,o){if(!this._is_reserved_property(o))if(isNaN(parseFloat(s))){an.error("Invalid increment value passed to mixpanel.people.increment - must be a number");return}else i[o]=s},this),n=t):(C.isUndefined(t)&&(t=1),i[e]=t),r[uc]=i,this._send_request(r,n)});ut.prototype.append=Xl(function(e,t,n){C.isObject(e)&&(n=t);var r=this.append_action(e,t);return this._send_request(r,n)});ut.prototype.remove=Xl(function(e,t,n){C.isObject(e)&&(n=t);var r=this.remove_action(e,t);return this._send_request(r,n)});ut.prototype.union=Xl(function(e,t,n){C.isObject(e)&&(n=t);var r=this.union_action(e,t);return this._send_request(r,n)});ut.prototype.track_charge=Xl(function(e,t,n){if(!C.isNumber(e)&&(e=parseFloat(e),isNaN(e))){an.error("Invalid value passed to mixpanel.people.track_charge - must be a number");return}return this.append("$transactions",C.extend({$amount:e},t),n)});ut.prototype.clear_charges=function(e){return this.set("$transactions",[],e)};ut.prototype.delete_user=function(){if(!this._identify_called()){an.error("mixpanel.people.delete_user() requires you to call identify() first");return}var e={$delete:this._mixpanel.get_distinct_id()};return this._send_request(e)};ut.prototype.toString=function(){return this._mixpanel.toString()+".people"};ut.prototype._send_request=function(e,t){e.$token=this._get_config("token"),e.$distinct_id=this._mixpanel.get_distinct_id();var n=this._mixpanel.get_property("$device_id"),r=this._mixpanel.get_property("$user_id"),i=this._mixpanel.get_property("$had_persisted_distinct_id");n&&(e.$device_id=n),r&&(e.$user_id=r),i&&(e.$had_persisted_distinct_id=i);var s=C.encodeDates(e);return this._identify_called()?this._mixpanel._track_or_batch({type:"people",data:s,endpoint:this._get_config("api_host")+"/engage/",batcher:this._mixpanel.request_batchers.people},t):(this._enqueue(e),C.isUndefined(t)||(this._get_config("verbose")?t({status:-1,error:null}):t(-1)),C.truncate(s,255))};ut.prototype._get_config=function(e){return this._mixpanel.get_config(e)};ut.prototype._identify_called=function(){return this._mixpanel._flags.identify_called===!0};ut.prototype._enqueue=function(e){Nl in e?this._mixpanel.persistence._add_to_people_queue(Nl,e):hf in e?this._mixpanel.persistence._add_to_people_queue(hf,e):Os in e?this._mixpanel.persistence._add_to_people_queue(Os,e):uc in e?this._mixpanel.persistence._add_to_people_queue(uc,e):ba in e?this._mixpanel.persistence._add_to_people_queue(ba,e):Ml in e?this._mixpanel.persistence._add_to_people_queue(Ml,e):cc in e?this._mixpanel.persistence._add_to_people_queue(cc,e):an.error("Invalid call to _enqueue():",e)};ut.prototype._flush_one_queue=function(e,t,n,r){var i=this,s=C.extend({},this._mixpanel.persistence._get_queue(e)),o=s;!C.isUndefined(s)&&C.isObject(s)&&!C.isEmptyObject(s)&&(i._mixpanel.persistence._pop_from_people_queue(e,s),r&&(o=r(s)),t.call(i,o,function(a,l){a===0&&i._mixpanel.persistence._add_to_people_queue(e,s),C.isUndefined(n)||n(a,l)}))};ut.prototype._flush=function(e,t,n,r,i,s,o){var a=this,l=this._mixpanel.persistence._get_queue(ba),u=this._mixpanel.persistence._get_queue(Ml);if(this._flush_one_queue(Nl,this.set,e),this._flush_one_queue(hf,this.set_once,r),this._flush_one_queue(Os,this.unset,s,function(m){return C.keys(m)}),this._flush_one_queue(uc,this.increment,t),this._flush_one_queue(cc,this.union,i),!C.isUndefined(l)&&C.isArray(l)&&l.length){for(var c,d=function(m,v){m===0&&a._mixpanel.persistence._add_to_people_queue(ba,c),C.isUndefined(n)||n(m,v)},f=l.length-1;f>=0;f--)c=l.pop(),C.isEmptyObject(c)||a.append(c,d);a._mixpanel.persistence.save()}if(!C.isUndefined(u)&&C.isArray(u)&&u.length){for(var p,h=function(m,v){m===0&&a._mixpanel.persistence._add_to_people_queue(Ml,p),C.isUndefined(o)||o(m,v)},g=u.length-1;g>=0;g--)p=u.pop(),C.isEmptyObject(p)||a.remove(p,h);a._mixpanel.persistence.save()}};ut.prototype._is_reserved_property=function(e){return e==="$distinct_id"||e==="$token"||e==="$device_id"||e==="$user_id"||e==="$had_persisted_distinct_id"};ut.prototype.set=ut.prototype.set;ut.prototype.set_once=ut.prototype.set_once;ut.prototype.unset=ut.prototype.unset;ut.prototype.increment=ut.prototype.increment;ut.prototype.append=ut.prototype.append;ut.prototype.remove=ut.prototype.remove;ut.prototype.union=ut.prototype.union;ut.prototype.track_charge=ut.prototype.track_charge;ut.prototype.clear_charges=ut.prototype.clear_charges;ut.prototype.delete_user=ut.prototype.delete_user;ut.prototype.toString=ut.prototype.toString;var KC="__mps",GC="__mpso",YC="__mpus",XC="__mpa",QC="__mpap",JC="__mpr",ZC="__mpu",jj="$people_distinct_id",V_="__alias",xg="__timers",nfe=[KC,GC,YC,XC,QC,JC,ZC,jj,V_,xg],$t=function(e){this.props={},this.campaign_params_saved=!1,e.persistence_name?this.name="mp_"+e.persistence_name:this.name="mp_"+e.token+"_mixpanel";var t=e.persistence;t!=="cookie"&&t!=="localStorage"&&(an.critical("Unknown persistence type "+t+"; falling back to cookie"),t=e.persistence="cookie"),t==="localStorage"&&C.localStorage.is_supported()?this.storage=C.localStorage:this.storage=C.cookie,this.load(),this.update_config(e),this.upgrade(e),this.save()};$t.prototype.properties=function(){var e={};return C.each(this.props,function(t,n){C.include(nfe,n)||(e[n]=t)}),e};$t.prototype.load=function(){if(!this.disabled){var e=this.storage.parse(this.name);e&&(this.props=C.extend({},e))}};$t.prototype.upgrade=function(e){var t=e.upgrade,n,r;t&&(n="mp_super_properties",typeof t=="string"&&(n=t),r=this.storage.parse(n),this.storage.remove(n),this.storage.remove(n,!0),r&&(this.props=C.extend(this.props,r.all,r.events))),!e.cookie_name&&e.name!=="mixpanel"&&(n="mp_"+e.token+"_"+e.name,r=this.storage.parse(n),r&&(this.storage.remove(n),this.storage.remove(n,!0),this.register_once(r))),this.storage===C.localStorage&&(r=C.cookie.parse(this.name),C.cookie.remove(this.name),C.cookie.remove(this.name,!0),r&&this.register_once(r))};$t.prototype.save=function(){this.disabled||this.storage.set(this.name,C.JSONEncode(this.props),this.expire_days,this.cross_subdomain,this.secure,this.cross_site,this.cookie_domain)};$t.prototype.remove=function(){this.storage.remove(this.name,!1,this.cookie_domain),this.storage.remove(this.name,!0,this.cookie_domain)};$t.prototype.clear=function(){this.remove(),this.props={}};$t.prototype.register_once=function(e,t,n){return C.isObject(e)?(typeof t>"u"&&(t="None"),this.expire_days=typeof n>"u"?this.default_expiry:n,C.each(e,function(r,i){(!this.props.hasOwnProperty(i)||this.props[i]===t)&&(this.props[i]=r)},this),this.save(),!0):!1};$t.prototype.register=function(e,t){return C.isObject(e)?(this.expire_days=typeof t>"u"?this.default_expiry:t,C.extend(this.props,e),this.save(),!0):!1};$t.prototype.unregister=function(e){e in this.props&&(delete this.props[e],this.save())};$t.prototype.update_search_keyword=function(e){this.register(C.info.searchInfo(e))};$t.prototype.update_referrer_info=function(e){this.register_once({$initial_referrer:e||"$direct",$initial_referring_domain:C.info.referringDomain(e)||"$direct"},"")};$t.prototype.get_referrer_info=function(){return C.strip_empty_properties({$initial_referrer:this.props.$initial_referrer,$initial_referring_domain:this.props.$initial_referring_domain})};$t.prototype.safe_merge=function(e){return C.each(this.props,function(t,n){n in e||(e[n]=t)}),e};$t.prototype.update_config=function(e){this.default_expiry=this.expire_days=e.cookie_expiration,this.set_disabled(e.disable_persistence),this.set_cookie_domain(e.cookie_domain),this.set_cross_site(e.cross_site_cookie),this.set_cross_subdomain(e.cross_subdomain_cookie),this.set_secure(e.secure_cookie)};$t.prototype.set_disabled=function(e){this.disabled=e,this.disabled?this.remove():this.save()};$t.prototype.set_cookie_domain=function(e){e!==this.cookie_domain&&(this.remove(),this.cookie_domain=e,this.save())};$t.prototype.set_cross_site=function(e){e!==this.cross_site&&(this.cross_site=e,this.remove(),this.save())};$t.prototype.set_cross_subdomain=function(e){e!==this.cross_subdomain&&(this.cross_subdomain=e,this.remove(),this.save())};$t.prototype.get_cross_subdomain=function(){return this.cross_subdomain};$t.prototype.set_secure=function(e){e!==this.secure&&(this.secure=!!e,this.remove(),this.save())};$t.prototype._add_to_people_queue=function(e,t){var n=this._get_queue_key(e),r=t[e],i=this._get_or_create_queue(Nl),s=this._get_or_create_queue(hf),o=this._get_or_create_queue(Os),a=this._get_or_create_queue(uc),l=this._get_or_create_queue(cc),u=this._get_or_create_queue(Ml,[]),c=this._get_or_create_queue(ba,[]);n===KC?(C.extend(i,r),this._pop_from_people_queue(uc,r),this._pop_from_people_queue(cc,r),this._pop_from_people_queue(Os,r)):n===GC?(C.each(r,function(d,f){f in s||(s[f]=d)}),this._pop_from_people_queue(Os,r)):n===YC?C.each(r,function(d){C.each([i,s,a,l],function(f){d in f&&delete f[d]}),C.each(c,function(f){d in f&&delete f[d]}),o[d]=!0}):n===XC?(C.each(r,function(d,f){f in i?i[f]+=d:(f in a||(a[f]=0),a[f]+=d)},this),this._pop_from_people_queue(Os,r)):n===ZC?(C.each(r,function(d,f){C.isArray(d)&&(f in l||(l[f]=[]),l[f]=l[f].concat(d))}),this._pop_from_people_queue(Os,r)):n===JC?(u.push(r),this._pop_from_people_queue(ba,r)):n===QC&&(c.push(r),this._pop_from_people_queue(Os,r)),an.log("MIXPANEL PEOPLE REQUEST (QUEUED, PENDING IDENTIFY):"),an.log(t),this.save()};$t.prototype._pop_from_people_queue=function(e,t){var n=this._get_queue(e);C.isUndefined(n)||(C.each(t,function(r,i){e===ba||e===Ml?C.each(n,function(s){s[i]===r&&delete s[i]}):delete n[i]},this),this.save())};$t.prototype._get_queue_key=function(e){if(e===Nl)return KC;if(e===hf)return GC;if(e===Os)return YC;if(e===uc)return XC;if(e===ba)return QC;if(e===Ml)return JC;if(e===cc)return ZC;an.error("Invalid queue:",e)};$t.prototype._get_queue=function(e){return this.props[this._get_queue_key(e)]};$t.prototype._get_or_create_queue=function(e,t){var n=this._get_queue_key(e);return t=C.isUndefined(t)?{}:t,this.props[n]||(this.props[n]=t)};$t.prototype.set_event_timer=function(e,t){var n=this.props[xg]||{};n[e]=t,this.props[xg]=n,this.save()};$t.prototype.remove_event_timer=function(e){var t=this.props[xg]||{},n=t[e];return C.isUndefined(n)||(delete this.props[xg][e],this.save()),n};var eA,Gr,Wj=0,rfe=1,ife=function(e){return e},Tg=function(){},fs="mixpanel",qj="base64",sfe="json",tA="$device:",Md=Hn.XMLHttpRequest&&"withCredentials"in new XMLHttpRequest,zj=!Md&&ro.indexOf("MSIE")===-1&&ro.indexOf("Mozilla")===-1,H_=null;al.sendBeacon&&(H_=function(){return al.sendBeacon.apply(al,arguments)});var XD={api_host:"https://api-js.mixpanel.com",api_method:"POST",api_transport:"XHR",api_payload_format:qj,app_host:"https://mixpanel.com",cdn:"https://cdn.mxpnl.com",cross_site_cookie:!1,cross_subdomain_cookie:!0,error_reporter:Tg,persistence:"cookie",persistence_name:"",cookie_domain:"",cookie_name:"",loaded:Tg,track_marketing:!0,track_pageview:!1,skip_first_touch_marketing:!1,store_google:!0,save_referrer:!0,test:!1,verbose:!1,img:!1,debug:!1,track_links_timeout:300,cookie_expiration:365,upgrade:!1,disable_persistence:!1,disable_cookie:!1,secure_cookie:!1,ip:!0,opt_out_tracking_by_default:!1,opt_out_persistence_by_default:!1,opt_out_tracking_persistence_type:"localStorage",opt_out_tracking_cookie_prefix:null,property_blacklist:[],xhr_headers:{},ignore_dnt:!1,batch_requests:!0,batch_size:50,batch_flush_interval_ms:5e3,batch_request_timeout_ms:9e4,batch_autostart:!0,hooks:{}},Kj=!1,oe=function(){},OS=function(e,t,n){var r,i=n===fs?Gr:Gr[n];if(i&&eA===Wj)r=i;else{if(i&&!C.isArray(i)){an.error("You have already initialized "+n);return}r=new oe}if(r._cached_groups={},r._init(e,t,n),r.people=new ut,r.people._init(r),!r.get_config("skip_first_touch_marketing")){var s=C.info.campaignParams(null),o={},a=!1;C.each(s,function(l,u){o["initial_"+u]=l,l&&(a=!0)}),a&&r.people.set_once(o)}return na.DEBUG=na.DEBUG||r.get_config("debug"),!C.isUndefined(i)&&C.isArray(i)&&(r._execute_array.call(r.people,i.people),r._execute_array(i)),r};oe.prototype.init=function(e,t,n){if(C.isUndefined(n)){this.report_error("You must name your new library: init(token, config, name)");return}if(n===fs){this.report_error("You must initialize the main mixpanel object right after you include the Mixpanel js snippet");return}var r=OS(e,t,n);return Gr[n]=r,r._loaded(),r};oe.prototype._init=function(e,t,n){t=t||{},this.__loaded=!0,this.config={};var r={};if(!("api_payload_format"in t)){var i=t.api_host||XD.api_host;i.match(/\.mixpanel\.com/)&&(r.api_payload_format=sfe)}if(this.set_config(C.extend({},XD,r,t,{name:n,token:e,callback_fn:(n===fs?n:fs+"."+n)+"._jsc"})),this._jsc=Tg,this.__dom_loaded_queue=[],this.__request_queue=[],this.__disabled_events=[],this._flags={disable_all_events:!1,identify_called:!1},this.request_batchers={},this._batch_requests=this.get_config("batch_requests"),this._batch_requests){if(!C.localStorage.is_supported(!0)||!Md)this._batch_requests=!1,an.log("Turning off Mixpanel request-queueing; needs XHR and localStorage support");else if(this.init_batchers(),H_&&Hn.addEventListener){var s=C.bind(function(){this.request_batchers.events.stopped||this.request_batchers.events.flush({unloading:!0})},this);Hn.addEventListener("pagehide",function(a){a.persisted&&s()}),Hn.addEventListener("visibilitychange",function(){fn.visibilityState==="hidden"&&s()})}}this.persistence=this.cookie=new $t(this.config),this.unpersisted_superprops={},this._gdpr_init();var o=C.UUID();this.get_distinct_id()||this.register_once({distinct_id:tA+o,$device_id:o},""),this.get_config("track_pageview")&&this.track_pageview()};oe.prototype._loaded=function(){this.get_config("loaded")(this),this._set_default_superprops()};oe.prototype._set_default_superprops=function(){this.persistence.update_search_keyword(fn.referrer),this.get_config("store_google")&&this.register(C.info.campaignParams(),{persistent:!1}),this.get_config("save_referrer")&&this.persistence.update_referrer_info(fn.referrer)};oe.prototype._dom_loaded=function(){C.each(this.__dom_loaded_queue,function(e){this._track_dom.apply(this,e)},this),this.has_opted_out_tracking()||C.each(this.__request_queue,function(e){this._send_request.apply(this,e)},this),delete this.__dom_loaded_queue,delete this.__request_queue};oe.prototype._track_dom=function(e,t){if(this.get_config("img"))return this.report_error("You can't use DOM tracking functions with img = true."),!1;if(!Kj)return this.__dom_loaded_queue.push([e,t]),!1;var n=new e().init(this);return n.track.apply(n,t)};oe.prototype._prepare_callback=function(e,t){if(C.isUndefined(e))return null;if(Md){var n=function(o){e(o,t)};return n}else{var r=this._jsc,i=""+Math.floor(Math.random()*1e8),s=this.get_config("callback_fn")+"["+i+"]";return r[i]=function(o){delete r[i],e(o,t)},s}};oe.prototype._send_request=function(e,t,n,r){var i=!0;if(zj)return this.__request_queue.push(arguments),i;var s={method:this.get_config("api_method"),transport:this.get_config("api_transport"),verbose:this.get_config("verbose")},o=null;!r&&(C.isFunction(n)||typeof n=="string")&&(r=n,n=null),n=C.extend(s,n||{}),Md||(n.method="GET");var a=n.method==="POST",l=H_&&a&&n.transport.toLowerCase()==="sendbeacon",u=n.verbose;t.verbose&&(u=!0),this.get_config("test")&&(t.test=1),u&&(t.verbose=1),this.get_config("img")&&(t.img=1),Md||(r?t.callback=r:(u||this.get_config("test"))&&(t.callback="(function(){})")),t.ip=this.get_config("ip")?1:0,t._=new Date().getTime().toString(),a&&(o="data="+encodeURIComponent(t.data),delete t.data),e+="?"+C.HTTPBuildQuery(t);var c=this;if("img"in t){var d=fn.createElement("img");d.src=e,fn.body.appendChild(d)}else if(l){try{i=H_(e,o)}catch(v){c.report_error(v),i=!1}try{r&&r(i?1:0)}catch(v){c.report_error(v)}}else if(Md)try{var f=new XMLHttpRequest;f.open(n.method,e,!0);var p=this.get_config("xhr_headers");if(a&&(p["Content-Type"]="application/x-www-form-urlencoded"),C.each(p,function(v,y){f.setRequestHeader(y,v)}),n.timeout_ms&&typeof f.timeout<"u"){f.timeout=n.timeout_ms;var h=new Date().getTime()}f.withCredentials=!0,f.onreadystatechange=function(){if(f.readyState===4)if(f.status===200){if(r)if(u){var v;try{v=C.JSONDecode(f.responseText)}catch(b){if(c.report_error(b),n.ignore_json_errors)v=f.responseText;else return}r(v)}else r(Number(f.responseText))}else{var y;f.timeout&&!f.status&&new Date().getTime()-h>=f.timeout?y="timeout":y="Bad HTTP status: "+f.status+" "+f.statusText,c.report_error(y),r&&r(u?{status:0,error:y,xhr_req:f}:0)}},f.send(o)}catch(v){c.report_error(v),i=!1}else{var g=fn.createElement("script");g.type="text/javascript",g.async=!0,g.defer=!0,g.src=e;var m=fn.getElementsByTagName("script")[0];m.parentNode.insertBefore(g,m)}return i};oe.prototype._execute_array=function(e){var t,n=[],r=[],i=[];C.each(e,function(o){o&&(t=o[0],C.isArray(t)?i.push(o):typeof o=="function"?o.call(this):C.isArray(o)&&t==="alias"?n.push(o):C.isArray(o)&&t.indexOf("track")!==-1&&typeof this[t]=="function"?i.push(o):r.push(o))},this);var s=function(o,a){C.each(o,function(l){if(C.isArray(l[0])){var u=a;C.each(l,function(c){u=u[c[0]].apply(u,c.slice(1))})}else this[l[0]].apply(this,l.slice(1))},a)};s(n,this),s(r,this),s(i,this)};oe.prototype.are_batchers_initialized=function(){return!!this.request_batchers.events};oe.prototype.init_batchers=function(){var e=this.get_config("token");if(!this.are_batchers_initialized()){var t=C.bind(function(n){return new Io("__mpq_"+e+n.queue_suffix,{libConfig:this.config,sendRequestFunc:C.bind(function(r,i,s){this._send_request(this.get_config("api_host")+n.endpoint,this._encode_data_for_request(r),i,this._prepare_callback(s,r))},this),beforeSendHook:C.bind(function(r){return this._run_hook("before_send_"+n.type,r)},this),errorReporter:this.get_config("error_reporter"),stopAllBatchingFunc:C.bind(this.stop_batch_senders,this)})},this);this.request_batchers={events:t({type:"events",endpoint:"/track/",queue_suffix:"_ev"}),people:t({type:"people",endpoint:"/engage/",queue_suffix:"_pp"}),groups:t({type:"groups",endpoint:"/groups/",queue_suffix:"_gr"})}}this.get_config("batch_autostart")&&this.start_batch_senders()};oe.prototype.start_batch_senders=function(){this.are_batchers_initialized()&&(this._batch_requests=!0,C.each(this.request_batchers,function(e){e.start()}))};oe.prototype.stop_batch_senders=function(){this._batch_requests=!1,C.each(this.request_batchers,function(e){e.stop(),e.clear()})};oe.prototype.push=function(e){this._execute_array([e])};oe.prototype.disable=function(e){typeof e>"u"?this._flags.disable_all_events=!0:this.__disabled_events=this.__disabled_events.concat(e)};oe.prototype._encode_data_for_request=function(e){var t=C.JSONEncode(e);return this.get_config("api_payload_format")===qj&&(t=C.base64Encode(t)),{data:t}};oe.prototype._track_or_batch=function(e,t){var n=C.truncate(e.data,255),r=e.endpoint,i=e.batcher,s=e.should_send_immediately,o=e.send_request_options||{};t=t||Tg;var a=!0,l=C.bind(function(){return o.skip_hooks||(n=this._run_hook("before_send_"+e.type,n)),n?(an.log("MIXPANEL REQUEST:"),an.log(n),this._send_request(r,this._encode_data_for_request(n),o,this._prepare_callback(t,n))):null},this);return this._batch_requests&&!s?i.enqueue(n,function(u){u?t(1,n):l()}):a=l(),a&&n};oe.prototype.track=Gf(function(e,t,n,r){!r&&typeof n=="function"&&(r=n,n=null),n=n||{};var i=n.transport;i&&(n.transport=i);var s=n.send_immediately;if(typeof r!="function"&&(r=Tg),C.isUndefined(e)){this.report_error("No event name provided to mixpanel.track");return}if(this._event_is_disabled(e)){r(0);return}t=t||{},t.token=this.get_config("token");var o=this.persistence.remove_event_timer(e);if(!C.isUndefined(o)){var a=new Date().getTime()-o;t.$duration=parseFloat((a/1e3).toFixed(3))}this._set_default_superprops();var l=this.get_config("track_marketing")?C.info.marketingParams():{};t=C.extend({},C.info.properties(),l,this.persistence.properties(),this.unpersisted_superprops,t);var u=this.get_config("property_blacklist");C.isArray(u)?C.each(u,function(f){delete t[f]}):this.report_error("Invalid value for property_blacklist config: "+u);var c={event:e,properties:t},d=this._track_or_batch({type:"events",data:c,endpoint:this.get_config("api_host")+"/track/",batcher:this.request_batchers.events,should_send_immediately:s,send_request_options:n},r);return d});oe.prototype.set_group=Gf(function(e,t,n){C.isArray(t)||(t=[t]);var r={};return r[e]=t,this.register(r),this.people.set(e,t,n)});oe.prototype.add_group=Gf(function(e,t,n){var r=this.get_property(e);if(r===void 0){var i={};i[e]=[t],this.register(i)}else r.indexOf(t)===-1&&(r.push(t),this.register(i));return this.people.union(e,t,n)});oe.prototype.remove_group=Gf(function(e,t,n){var r=this.get_property(e);if(r!==void 0){var i=r.indexOf(t);i>-1&&(r.splice(i,1),this.register({group_key:r})),r.length===0&&this.unregister(e)}return this.people.remove(e,t,n)});oe.prototype.track_with_groups=Gf(function(e,t,n,r){var i=C.extend({},t||{});return C.each(n,function(s,o){s!=null&&(i[o]=s)}),this.track(e,i,r)});oe.prototype._create_map_key=function(e,t){return e+"_"+JSON.stringify(t)};oe.prototype._remove_group_from_cache=function(e,t){delete this._cached_groups[this._create_map_key(e,t)]};oe.prototype.get_group=function(e,t){var n=this._create_map_key(e,t),r=this._cached_groups[n];return(r===void 0||r._group_key!==e||r._group_id!==t)&&(r=new Rn,r._init(this,e,t),this._cached_groups[n]=r),r};oe.prototype.track_pageview=Gf(function(e,t){typeof e!="object"&&(e={}),t=t||{};var n=t.event_name||"$mp_web_page_view",r=C.extend(C.info.mpPageViewProperties(),C.info.campaignParams(),C.info.clickParams()),i=C.extend({},r,e);return this.track(n,i)});oe.prototype.track_links=function(){return this._track_dom.call(this,pf,arguments)};oe.prototype.track_forms=function(){return this._track_dom.call(this,tw,arguments)};oe.prototype.time_event=function(e){if(C.isUndefined(e)){this.report_error("No event name provided to mixpanel.time_event");return}this._event_is_disabled(e)||this.persistence.set_event_timer(e,new Date().getTime())};var ofe={persistent:!0},nA=function(e){var t;return C.isObject(e)?t=e:C.isUndefined(e)?t={}:t={days:e},C.extend({},ofe,t)};oe.prototype.register=function(e,t){var n=nA(t);n.persistent?this.persistence.register(e,n.days):C.extend(this.unpersisted_superprops,e)};oe.prototype.register_once=function(e,t,n){var r=nA(n);r.persistent?this.persistence.register_once(e,t,r.days):(typeof t>"u"&&(t="None"),C.each(e,function(i,s){(!this.unpersisted_superprops.hasOwnProperty(s)||this.unpersisted_superprops[s]===t)&&(this.unpersisted_superprops[s]=i)},this))};oe.prototype.unregister=function(e,t){t=nA(t),t.persistent?this.persistence.unregister(e):delete this.unpersisted_superprops[e]};oe.prototype._register_single=function(e,t){var n={};n[e]=t,this.register(n)};oe.prototype.identify=function(e,t,n,r,i,s,o,a){var l=this.get_distinct_id();if(e&&l!==e){if(typeof e=="string"&&e.indexOf(tA)===0)return this.report_error("distinct_id cannot have $device: prefix"),-1;this.register({$user_id:e})}if(!this.get_property("$device_id")){var u=l;this.register_once({$had_persisted_distinct_id:!0,$device_id:u},"")}e!==l&&e!==this.get_property(V_)&&(this.unregister(V_),this.register({distinct_id:e})),this._flags.identify_called=!0,this.people._flush(t,n,r,i,s,o,a),e!==l&&this.track("$identify",{distinct_id:e,$anon_distinct_id:l},{skip_hooks:!0})};oe.prototype.reset=function(){this.persistence.clear(),this._flags.identify_called=!1;var e=C.UUID();this.register_once({distinct_id:tA+e,$device_id:e},"")};oe.prototype.get_distinct_id=function(){return this.get_property("distinct_id")};oe.prototype.alias=function(e,t){if(e===this.get_property(jj))return this.report_error("Attempting to create alias for existing People user - aborting."),-2;var n=this;return C.isUndefined(t)&&(t=this.get_distinct_id()),e!==t?(this._register_single(V_,e),this.track("$create_alias",{alias:e,distinct_id:t},{skip_hooks:!0},function(){n.identify(e)})):(this.report_error("alias matches current distinct_id - skipping api call."),this.identify(e),-1)};oe.prototype.name_tag=function(e){this._register_single("mp_name_tag",e)};oe.prototype.set_config=function(e){if(C.isObject(e)){C.extend(this.config,e);var t=e.batch_size;t&&C.each(this.request_batchers,function(n){n.resetBatchSize()}),this.get_config("persistence_name")||(this.config.persistence_name=this.config.cookie_name),this.get_config("disable_persistence")||(this.config.disable_persistence=this.config.disable_cookie),this.persistence&&this.persistence.update_config(this.config),na.DEBUG=na.DEBUG||this.get_config("debug")}};oe.prototype.get_config=function(e){return this.config[e]};oe.prototype._run_hook=function(e){var t=(this.config.hooks[e]||ife).apply(this,ol.call(arguments,1));return typeof t>"u"&&(this.report_error(e+" hook did not return a value"),t=null),t};oe.prototype.get_property=function(e){return this.persistence.props[e]};oe.prototype.toString=function(){var e=this.get_config("name");return e!==fs&&(e=fs+"."+e),e};oe.prototype._event_is_disabled=function(e){return C.isBlockedUA(ro)||this._flags.disable_all_events||C.include(this.__disabled_events,e)};oe.prototype._gdpr_init=function(){var e=this.get_config("opt_out_tracking_persistence_type")==="localStorage";e&&C.localStorage.is_supported()&&(!this.has_opted_in_tracking()&&this.has_opted_in_tracking({persistence_type:"cookie"})&&this.opt_in_tracking({enable_persistence:!1}),!this.has_opted_out_tracking()&&this.has_opted_out_tracking({persistence_type:"cookie"})&&this.opt_out_tracking({clear_persistence:!1}),this.clear_opt_in_out_tracking({persistence_type:"cookie",enable_persistence:!1})),this.has_opted_out_tracking()?this._gdpr_update_persistence({clear_persistence:!0}):!this.has_opted_in_tracking()&&(this.get_config("opt_out_tracking_by_default")||C.cookie.get("mp_optout"))&&(C.cookie.remove("mp_optout"),this.opt_out_tracking({clear_persistence:this.get_config("opt_out_persistence_by_default")}))};oe.prototype._gdpr_update_persistence=function(e){var t;if(e&&e.clear_persistence)t=!0;else if(e&&e.enable_persistence)t=!1;else return;!this.get_config("disable_persistence")&&this.persistence.disabled!==t&&this.persistence.set_disabled(t),t&&C.each(this.request_batchers,function(n){n.clear()})};oe.prototype._gdpr_call_func=function(e,t){return t=C.extend({track:C.bind(this.track,this),persistence_type:this.get_config("opt_out_tracking_persistence_type"),cookie_prefix:this.get_config("opt_out_tracking_cookie_prefix"),cookie_expiration:this.get_config("cookie_expiration"),cross_site_cookie:this.get_config("cross_site_cookie"),cross_subdomain_cookie:this.get_config("cross_subdomain_cookie"),cookie_domain:this.get_config("cookie_domain"),secure_cookie:this.get_config("secure_cookie"),ignore_dnt:this.get_config("ignore_dnt")},t),C.localStorage.is_supported()||(t.persistence_type="cookie"),e(this.get_config("token"),{track:t.track,trackEventName:t.track_event_name,trackProperties:t.track_properties,persistenceType:t.persistence_type,persistencePrefix:t.cookie_prefix,cookieDomain:t.cookie_domain,cookieExpiration:t.cookie_expiration,crossSiteCookie:t.cross_site_cookie,crossSubdomainCookie:t.cross_subdomain_cookie,secureCookie:t.secure_cookie,ignoreDnt:t.ignore_dnt})};oe.prototype.opt_in_tracking=function(e){e=C.extend({enable_persistence:!0},e),this._gdpr_call_func(Xde,e),this._gdpr_update_persistence(e)};oe.prototype.opt_out_tracking=function(e){e=C.extend({clear_persistence:!0,delete_user:!0},e),e.delete_user&&this.people&&this.people._identify_called()&&(this.people.delete_user(),this.people.clear_charges()),this._gdpr_call_func(Qde,e),this._gdpr_update_persistence(e)};oe.prototype.has_opted_in_tracking=function(e){return this._gdpr_call_func(Jde,e)};oe.prototype.has_opted_out_tracking=function(e){return this._gdpr_call_func(Bj,e)};oe.prototype.clear_opt_in_out_tracking=function(e){e=C.extend({enable_persistence:!0},e),this._gdpr_call_func(Zde,e),this._gdpr_update_persistence(e)};oe.prototype.report_error=function(e,t){an.error.apply(an.error,arguments);try{!t&&!(e instanceof Error)&&(e=new Error(e)),this.get_config("error_reporter")(e,t)}catch(n){an.error(n)}};oe.prototype.init=oe.prototype.init;oe.prototype.reset=oe.prototype.reset;oe.prototype.disable=oe.prototype.disable;oe.prototype.time_event=oe.prototype.time_event;oe.prototype.track=oe.prototype.track;oe.prototype.track_links=oe.prototype.track_links;oe.prototype.track_forms=oe.prototype.track_forms;oe.prototype.track_pageview=oe.prototype.track_pageview;oe.prototype.register=oe.prototype.register;oe.prototype.register_once=oe.prototype.register_once;oe.prototype.unregister=oe.prototype.unregister;oe.prototype.identify=oe.prototype.identify;oe.prototype.alias=oe.prototype.alias;oe.prototype.name_tag=oe.prototype.name_tag;oe.prototype.set_config=oe.prototype.set_config;oe.prototype.get_config=oe.prototype.get_config;oe.prototype.get_property=oe.prototype.get_property;oe.prototype.get_distinct_id=oe.prototype.get_distinct_id;oe.prototype.toString=oe.prototype.toString;oe.prototype.opt_out_tracking=oe.prototype.opt_out_tracking;oe.prototype.opt_in_tracking=oe.prototype.opt_in_tracking;oe.prototype.has_opted_out_tracking=oe.prototype.has_opted_out_tracking;oe.prototype.has_opted_in_tracking=oe.prototype.has_opted_in_tracking;oe.prototype.clear_opt_in_out_tracking=oe.prototype.clear_opt_in_out_tracking;oe.prototype.get_group=oe.prototype.get_group;oe.prototype.set_group=oe.prototype.set_group;oe.prototype.add_group=oe.prototype.add_group;oe.prototype.remove_group=oe.prototype.remove_group;oe.prototype.track_with_groups=oe.prototype.track_with_groups;oe.prototype.start_batch_senders=oe.prototype.start_batch_senders;oe.prototype.stop_batch_senders=oe.prototype.stop_batch_senders;$t.prototype.properties=$t.prototype.properties;$t.prototype.update_search_keyword=$t.prototype.update_search_keyword;$t.prototype.update_referrer_info=$t.prototype.update_referrer_info;$t.prototype.get_cross_subdomain=$t.prototype.get_cross_subdomain;$t.prototype.clear=$t.prototype.clear;var hd={},afe=function(){C.each(hd,function(e,t){t!==fs&&(Gr[t]=e)}),Gr._=C},lfe=function(){Gr.init=function(e,t,n){if(n)return Gr[n]||(Gr[n]=hd[n]=OS(e,t,n),Gr[n]._loaded()),Gr[n];var r=Gr;hd[fs]?r=hd[fs]:e&&(r=OS(e,t,fs),r._loaded(),hd[fs]=r),Gr=r,eA===rfe&&(Hn[fs]=Gr),afe()}},ufe=function(){function e(){e.done||(e.done=!0,Kj=!0,zj=!1,C.each(hd,function(r){r._dom_loaded()}))}function t(){try{fn.documentElement.doScroll("left")}catch{setTimeout(t,1);return}e()}if(fn.addEventListener)fn.readyState==="complete"?e():fn.addEventListener("DOMContentLoaded",e,!1);else if(fn.attachEvent){fn.attachEvent("onreadystatechange",e);var n=!1;try{n=Hn.frameElement===null}catch{}fn.documentElement.doScroll&&n&&t()}C.register_event(Hn,"load",e,!0)};function cfe(){return eA=Wj,Gr=new oe,lfe(),Gr.init(),ufe(),Gr}var dfe=cfe(),ffe=dfe;const Mu=J0(ffe),QD=(e,t,n)=>{Mu.identify(e),t&&Mu.people.set({$email:t}),n&&Mu.people.set({$name:n}),e&&t&&Dn.identify(t,{id:e,displayName:n})},hze=(e,t={})=>{Mu.track(e,t)},gze=(e={})=>{Mu.register(e)},mze=async(e,t)=>{const n={distinct_id:e,priceId:t};Mu.track("purchase",n)},pfe={apiKey:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",appId:"1:725498859830:web:6421f91ef9f6e95c056397",authDomain:"mixo-app.firebaseapp.com",databaseURL:"https://mixo-app-default-rtdb.firebaseio.com",messagingSenderId:"725498859830",projectId:"mixo-app",storageBucket:"mixo-app.appspot.com",measurementId:"G-JHGL8M7FHL"},JD=TZ(),Ia=JD.length?JD[0]:lU(pfe),ZD=()=>{try{Aue(Ia,{provider:new OC("6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa"),isTokenAutoRefreshEnabled:!0})}catch(e){console.log("initializeAppCheck error"),console.error(e)}};var $F;typeof window<"u"&&(($F=window==null?void 0:window.navigator)!=null&&$F.onLine&&ZD(),window==null||window.addEventListener("online",ZD));const zr=Nj(Ia),hfe=Une(),rA=Noe(Ia),Gj=FH(Ia,"us-west2"),Yj=FH(Ia,"us-west2"),Ig=Ile(Ia),gfe=({app:e})=>{e.provide("firebaseApp",Ia),e.provide("firebaseAuth",zr),zr.onAuthStateChanged(t=>{t?(QD(t==null?void 0:t.uid,t==null?void 0:t.email,t==null?void 0:t.displayName),Bde(t==null?void 0:t.uid),["adam@mixo.io","giles@fuzzylogic.ai","adam@fuzzylogic.ai","adam@mixvisor.com","giles@mixvisor.com","giles@mixo.io","arbolino@gmail.com","support@mixo.io"].includes(t==null?void 0:t.email)&&(window==null||window.localStorage.setItem(hQ,!0))):QD(Fde())})},mfe=Object.freeze(Object.defineProperty({__proto__:null,analytics:Ig,firebaseApp:Ia,firebaseAuth:zr,firestore:rA,functions:Gj,functionsExtensions:Yj,install:gfe,rtdb:hfe},Symbol.toStringTag,{value:"Module"})),vfe="modulepreload",yfe=function(e){return"/"+e},eN={},At=function(t,n,r){if(!n||n.length===0)return t();const i=document.getElementsByTagName("link");return Promise.all(n.map(s=>{if(s=yfe(s),s in eN)return;eN[s]=!0;const o=s.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let c=i.length-1;c>=0;c--){const d=i[c];if(d.href===s&&(!o||d.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${s}"]${a}`))return;const u=document.createElement("link");if(u.rel=o?"stylesheet":vfe,o||(u.as="script",u.crossOrigin=""),u.href=s,document.head.appendChild(u),o)return new Promise((c,d)=>{u.addEventListener("load",c),u.addEventListener("error",()=>d(new Error(`Unable to preload CSS for ${s}`)))})})).then(()=>t())},_fe=typeof window<"u",Xj=["__key","__init","__shim","__original","__index","__prevKey"];function Xf(){return Math.random().toString(36).substring(2,15)}function bfe(e,t){const n=e instanceof Set?e:new Set(e);return t&&t.forEach(r=>n.add(r)),[...n]}function st(e,t){return Object.prototype.hasOwnProperty.call(e,t)}function it(e,t,n=!0,r=["__key"]){if(e===t)return!0;if(typeof t=="object"&&typeof e=="object"){if(e instanceof Map||e instanceof Set)return!1;if(e instanceof Date&&t instanceof Date)return e.getTime()===t.getTime();if(e instanceof RegExp&&t instanceof RegExp)return wfe(e,t);if(e===null||t===null||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i of r)if((i in e||i in t)&&e[i]!==t[i])return!1;for(const i in e)if(!(i in t)||e[i]!==t[i]&&!n||n&&!it(e[i],t[i],n,r))return!1;return!0}return!1}function wfe(e,t){return e.source===t.source&&e.flags.split("").sort().join("")===t.flags.split("").sort().join("")}function ms(e){const t=typeof e;if(t==="number")return!1;if(e===void 0)return!0;if(t==="string")return e==="";if(t==="object"){if(e===null)return!0;for(const n in e)return!1;return!(e instanceof RegExp||e instanceof Date)}return!1}function Efe(e){return e.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function $fe(e){const t=`^${Efe(e)}$`,n={MM:"(0[1-9]|1[012])",M:"([1-9]|1[012])",DD:"([012][0-9]|3[01])",D:"([012]?[0-9]|3[01])",YYYY:"\\d{4}",YY:"\\d{2}"},r=Object.keys(n);return new RegExp(r.reduce((i,s)=>i.replace(s,n[s]),t))}function gf(e){return Object.prototype.toString.call(e)==="[object Object]"}function $h(e){return gf(e)||Array.isArray(e)}function mf(e){if(gf(e)===!1||e.__FKNode__||e.__POJO__===!1)return!1;const t=e.constructor;if(t===void 0)return!0;const n=t.prototype;return!(gf(n)===!1||n.hasOwnProperty("isPrototypeOf")===!1)}function dc(e,t,n=!1,r=!1){if(t===null)return null;const i={};if(typeof t=="string")return t;for(const s in e)if(st(t,s)&&(t[s]!==void 0||!r)){if(n&&Array.isArray(e[s])&&Array.isArray(t[s])){i[s]=e[s].concat(t[s]);continue}if(t[s]===void 0)continue;mf(e[s])&&mf(t[s])?i[s]=dc(e[s],t[s],n,r):i[s]=t[s]}else i[s]=e[s];for(const s in t)!st(i,s)&&t[s]!==void 0&&(i[s]=t[s]);return i}function Sfe(e){if(e[0]!=='"'&&e[0]!=="'"||e[0]!==e[e.length-1])return!1;const t=e[0];for(let n=1;n<e.length;n++)if(e[n]===t&&(n===1||e[n-1]!=="\\")&&n!==e.length-1)return!1;return!0}function xfe(e){if(!e.length)return"";let t="",n="";for(let r=0;r<e.length;r++){const i=e.charAt(r);(i!=="\\"||n==="\\")&&(t+=i),n=i}return t}function qc(...e){return e.reduce((t,n)=>{const{value:r,name:i,modelValue:s,config:o,plugins:a,...l}=n;return Object.assign(t,l)},{})}function Tfe(e){const t=[];let n="",r=0,i="",s="";for(let o=0;o<e.length;o++){const a=e.charAt(o);a===i&&s!=="\\"?i="":(a==="'"||a==='"')&&!i&&s!=="\\"?i=a:a==="("&&!i?r++:a===")"&&!i&&r--,a===","&&!i&&r===0?(t.push(n),n=""):(a!==" "||i)&&(n+=a),s=a}return n&&t.push(n),t}function tN(e,t){const n={},r=t.filter(s=>s instanceof RegExp),i=new Set(t);for(const s in e)!i.has(s)&&!r.some(o=>o.test(s))&&(n[s]=e[s]);return n}function nN(e,t){const n={},r=t.filter(i=>i instanceof RegExp);return t.forEach(i=>{i instanceof RegExp||(n[i]=e[i])}),Object.keys(e).forEach(i=>{r.some(s=>s.test(i))&&(n[i]=e[i])}),n}function Ld(e){return e.replace(/-([a-z0-9])/gi,(t,n)=>n.toUpperCase())}function Qj(e){return e.replace(/([a-z0-9])([A-Z])/g,(t,n,r)=>n+"-"+r.toLowerCase()).replace(" ","-").toLowerCase()}function PS(e,t=Xj){if(e!==null&&typeof e=="object"){let n;if(Array.isArray(e)?n=[...e]:mf(e)&&(n={...e}),n)return Cfe(e,n,t),n}return e}function wa(e,t=Xj){if(e===null||e instanceof RegExp||e instanceof Date||e instanceof Map||e instanceof Set||typeof File=="function"&&e instanceof File)return e;let n;Array.isArray(e)?n=e.map(r=>typeof r=="object"?wa(r,t):r):n=Object.keys(e).reduce((r,i)=>(r[i]=typeof e[i]=="object"?wa(e[i],t):e[i],r),{});for(const r of t)r in e&&Object.defineProperty(n,r,{enumerable:!1,value:e[r]});return n}function hs(e){return typeof e=="object"?wa(e):e}function Ife(e,t){if(!e||typeof e!="object")return null;const n=t.split(".");let r=e;for(const i in n){const s=n[i];if(st(r,s)&&(r=r[s]),+i===n.length-1)return r;if(!r||typeof r!="object")return null}return null}function Ve(e){return e!==void 0&&e!=="false"&&e!==!1?!0:void 0}function vf(e){return Object.isFrozen(e)?e:Object.defineProperty(e,"__init",{enumerable:!1,value:!0})}function iA(e){return e.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase().replace(/[^a-z0-9]/g," ").trim().replace(/\s+/g,"-")}function Cfe(e,t,n){for(const r of n)r in e&&Object.defineProperty(t,r,{enumerable:!1,value:e[r]});return t}function Or(e,t,n){if(!_fe)return;n||(n=document);const r=n.getElementById(e);if(r)return t(r);const i=new MutationObserver(()=>{const s=n==null?void 0:n.getElementById(e);s&&(i==null||i.disconnect(),t(s))});i.observe(n,{childList:!0,subtree:!0})}function Afe(e){let t=!1;return(...n)=>{if(!t)return t=!0,queueMicrotask(()=>t=!1),e(...n)}}function sA(){const e=[];let t=0;const n=i=>e.push(i),r=i=>{const s=e[t];return typeof s=="function"?s(i,o=>(t++,r(o))):(t=0,i)};return n.dispatch=r,n.unshift=i=>e.unshift(i),n.remove=i=>{const s=e.indexOf(i);s>-1&&e.splice(s,1)},n}function Jj(){const e=new Map,t=new Map;let n;const r=(i,s)=>{if(n){n.set(s.name,[i,s]);return}e.has(s.name)&&e.get(s.name).forEach(o=>{(s.origin===i||o.modifiers.includes("deep"))&&o.listener(s)}),s.bubble&&i.bubble(s)};return r.flush=()=>{e.clear(),t.clear(),n==null||n.clear()},r.on=(i,s)=>{const[o,...a]=i.split("."),l=s.receipt||Xf(),u={modifiers:a,event:o,listener:s,receipt:l};return e.has(o)?e.get(o).push(u):e.set(o,[u]),t.has(l)?t.get(l).push(o):t.set(l,[o]),l},r.off=i=>{var s;t.has(i)&&((s=t.get(i))===null||s===void 0||s.forEach(o=>{const a=e.get(o);Array.isArray(a)&&e.set(o,a.filter(l=>l.receipt!==i))}),t.delete(i))},r.pause=i=>{n||(n=new Map),i&&i.walk(s=>s._e.pause())},r.play=i=>{if(!n)return;const s=n;n=void 0,s.forEach(([o,a])=>r(o,a)),i&&i.walk(o=>o._e.play())},r}function kfe(e,t,n,r,i=!0,s){return t._e(e,{payload:r,name:n,bubble:i,origin:e,meta:s}),e}function Ofe(e,t,n){return Am(e.parent)&&e.parent._e(e.parent,n),e}function Pfe(e,t,n,r){return t._e.on(n,r)}function Rfe(e,t,n){return t._e.off(n),e}const oA=sA();oA((e,t)=>(e.message||(e.message=`E${e.code}`),t(e)));const aA=sA();aA((e,t)=>{e.message||(e.message=`W${e.code}`);const n=t(e);return console&&typeof console.warn=="function"&&console.warn(n.message),n});function Ql(e,t={}){aA.dispatch({code:e,data:t})}function ki(e,t={}){throw Error(oA.dispatch({code:e,data:t}).message)}function jr(e,t){const n={blocking:!1,key:Xf(),meta:{},type:"state",visible:!0,...e};return t&&n.value&&n.meta.localize!==!1&&(n.value=t.t(n),n.meta.locale=t.config.locale),n}const rN={apply:Bfe,set:Nfe,remove:Zj,filter:Lfe,reduce:Ffe,release:Hfe,touch:Mfe};function Dfe(e=!1){const t={};let n,r=e,i=[];const s=new Map;let o;const a=new Proxy(t,{get(...l){const[u,c]=l;return c==="buffer"?r:c==="_b"?i:c==="_m"?s:c==="_r"?o:st(rN,c)?rN[c].bind(null,t,a,n):Reflect.get(...l)},set(l,u,c){return u==="_n"?(n=c,o==="__n"&&e6(n,a),!0):u==="_b"?(i=c,!0):u==="buffer"?(r=c,!0):u==="_r"?(o=c,!0):(ki(101,n),!1)}});return a}function Nfe(e,t,n,r){if(t.buffer)return t._b.push([[r]]),t;if(e[r.key]!==r){if(typeof r.value=="string"&&r.meta.localize!==!1){const s=r.value;r.value=n.t(r),r.value!==s&&(r.meta.locale=n.props.locale)}const i=`message-${st(e,r.key)?"updated":"added"}`;e[r.key]=Object.freeze(n.hook.message.dispatch(r)),n.emit(i,r)}return t}function Mfe(e,t){for(const n in e){const r={...e[n]};t.set(r)}}function Zj(e,t,n,r){if(st(e,r)){const i=e[r];delete e[r],n.emit("message-removed",i)}return t.buffer===!0&&(t._b=t._b.filter(i=>(i[0]=i[0].filter(s=>s.key!==r),i[1]||i[0].length))),t}function Lfe(e,t,n,r,i){for(const s in e){const o=e[s];(!i||o.type===i)&&!r(o)&&Zj(e,t,n,s)}}function Ffe(e,t,n,r,i){for(const s in e){const o=e[s];i=r(i,o)}return i}function Bfe(e,t,n,r,i){if(Array.isArray(r)){if(t.buffer){t._b.push([r,i]);return}const s=new Set(r.map(o=>(t.set(o),o.key)));typeof i=="string"?t.filter(o=>o.type!==i||s.has(o.key)):typeof i=="function"&&t.filter(o=>!i(o)||s.has(o.key))}else for(const s in r){const o=n.at(s);o?o.store.apply(r[s],i):Vfe(n,t,s,r[s],i)}}function Ufe(e,...t){const n=`${e.name}-set`,r=i=>jr({key:iA(i),type:"error",value:i,meta:{source:n,autoClear:!0}});return t.filter(i=>!!i).map(i=>{if(typeof i=="string"&&(i=[i]),Array.isArray(i))return i.map(s=>r(s));{const s={};for(const o in i)Array.isArray(i[o])?s[o]=i[o].map(a=>r(a)):s[o]=[r(i[o])];return s}})}function Vfe(e,t,n,r,i){var s;const o=t._m;o.has(n)||o.set(n,[]),t._r||(t._r=e6(e,t)),(s=o.get(n))===null||s===void 0||s.push([r,i])}function e6(e,t){return e.on("child.deep",({payload:n})=>{t._m.forEach((r,i)=>{e.at(i)===n&&(r.forEach(([s,o])=>{n.store.apply(s,o)}),t._m.delete(i))}),t._m.size===0&&t._r&&(e.off(t._r),t._r=void 0)})}function Hfe(e,t){t.buffer=!1,t._b.forEach(([n,r])=>t.apply(n,r)),t._b=[]}function jfe(){const e={};let t;return{count:(...n)=>Wfe(t,e,...n),init(n){t=n,n.on("message-added.deep",iN(e,1)),n.on("message-removed.deep",iN(e,-1))},merge:n=>sN(t,e,n),settled(n){return st(e,n)?e[n].promise:Promise.resolve()},unmerge:n=>sN(t,e,n,!0),value(n){return st(e,n)?e[n].count:0}}}function Wfe(e,t,n,r,i=0){if(r=qfe(r||n),!st(t,n)){const s={condition:r,count:0,name:n,node:e,promise:Promise.resolve(),resolve:()=>{}};t[n]=s,i=e.store.reduce((o,a)=>o+s.condition(a)*1,i),e.each(o=>{o.ledger.count(s.name,s.condition),i+=o.ledger.value(s.name)})}return t6(t[n],i).promise}function qfe(e){return typeof e=="function"?e:t=>t.type===e}function t6(e,t){const n=e.count,r=e.count+t;return e.count=r,n===0&&r!==0?(e.node.emit(`unsettled:${e.name}`,e.count,!1),e.promise=new Promise(i=>e.resolve=i)):n!==0&&r===0&&(e.node.emit(`settled:${e.name}`,e.count,!1),e.resolve()),e.node.emit(`count:${e.name}`,e.count,!1),e}function iN(e,t){return n=>{for(const r in e){const i=e[r];i.condition(n.payload)&&t6(i,t)}}}function sN(e,t,n,r=!1){const i=e;for(const s in t){const o=t[s].condition;r||n.ledger.count(s,o);const a=n.ledger.value(s)*(r?-1:1);if(e){do e.ledger.count(s,o,a),e=e.parent;while(e);e=i}}}const lA=new Map,Ey=new Map,uA=Jj(),zfe=[];function Kfe(e){e.props.id&&(lA.set(e.props.id,e),Ey.set(e,e.props.id),uA(e,{payload:e,name:e.props.id,bubble:!1,origin:e}))}function Gfe(e){if(Ey.has(e)){const t=Ey.get(e);Ey.delete(e),lA.delete(t),uA(e,{payload:null,name:t,bubble:!1,origin:e})}}function Cm(e){return lA.get(e)}function Yfe(e,t){zfe.push(uA.on(e,t))}function RS(e,t,n){let r=!0;return t in e.config._t?r=!1:e.emit(`config:${t}`,n,!1),t in e.props||(e.emit("prop",{prop:t,value:n}),e.emit(`prop:${t}`,n)),r}function Xfe(e={}){const t=new Set,n={...e,_add:i=>t.add(i),_rm:i=>t.delete(i)};return new Proxy(n,{set(i,s,o,a){return typeof s=="string"&&t.forEach(l=>RS(l,s,o)),Reflect.set(i,s,o,a)}})}function n6(e,t){const n=(t||document).getElementById(e);if(n instanceof HTMLFormElement){const r=new Event("submit",{cancelable:!0,bubbles:!0});n.dispatchEvent(r);return}Ql(151,e)}function Qfe(e){const t=n=>{for(const r in n.store){const i=n.store[r];i.type==="error"||i.type==="ui"&&r==="incomplete"?n.store.remove(r):i.type==="state"&&n.store.set({...i,value:!1})}};t(e),e.walk(t)}function r6(e,t){const n=typeof e=="string"?Cm(e):e;if(n){const r=o=>hs(o.props.initial)||(o.type==="group"?{}:o.type==="list"?[]:void 0);n._e.pause(n);const i=hs(t);return t&&!ms(t)&&(n.props.initial=$h(i)?vf(i):i,n.props._init=n.props.initial),n.input(r(n),!1),n.walk(o=>{o.type==="list"&&o.sync||o.input(r(o),!1)}),n.input(ms(i)&&i?i:r(n),!1),n.type!=="input"&&t&&!ms(t)&&$h(t)&&n.walk(o=>{o.props.initial=$h(o.value)?vf(o.value):o.value,o.props._init=o.props.initial}),n._e.play(n),Qfe(n),n.emit("reset",n),n}Ql(152,e)}const Jfe={delimiter:".",delay:0,locale:"en",rootClasses:e=>({[`formkit-${Qj(e)}`]:!0})},i6=Symbol("index"),DS=Symbol("removed"),NS=Symbol("moved"),s6=Symbol("inserted");function Zfe(e){return e.type==="list"&&Array.isArray(e._value)}function Am(e){return e&&typeof e=="object"&&e.__FKNode__===!0}const $y=(e,t,n)=>{ki(102,[e,n])},epe={_c:Lt(wpe,$y,!1),add:Lt(ppe),addProps:Lt(fpe),address:Lt($pe,$y,!1),at:Lt(Spe),bubble:Lt(Ofe),clearErrors:Lt(Ppe),calm:Lt(upe),config:Lt(!1),define:Lt(dpe),disturb:Lt(lpe),destroy:Lt(cpe),extend:Lt(Dpe),hydrate:Lt(ope),index:Lt(bpe,_pe,!1),input:Lt(l6),each:Lt(mpe),emit:Lt(kfe),find:Lt(Tpe),on:Lt(Pfe),off:Lt(Rfe),parent:Lt(!1,hpe),plugins:Lt(!1),remove:Lt(gpe),root:Lt(Cpe,$y,!1),reset:Lt(Ope),resetConfig:Lt(ype),setErrors:Lt(d6),submit:Lt(kpe),t:Lt(Ape),use:Lt(cA),name:Lt(Epe,!1,!1),walk:Lt(vpe)};function tpe(){return new Map(Object.entries(epe))}function Lt(e,t,n=!0){return{get:e?(r,i)=>n?(...s)=>e(r,i,...s):e(r,i):!1,set:t!==void 0?t:$y.bind(null)}}function npe(){const e=new Map;return new Proxy(e,{get(t,n){return e.has(n)||e.set(n,sA()),e.get(n)}})}let o6=0,rpe=0;function ipe(e){var t,n;return((t=e.parent)===null||t===void 0?void 0:t.type)==="list"?i6:e.name||`${((n=e.props)===null||n===void 0?void 0:n.type)||"input"}_${++o6}`}function a6(e){return e.type==="group"?vf(e.value&&typeof e.value=="object"&&!Array.isArray(e.value)?e.value:{}):e.type==="list"?vf(Array.isArray(e.value)?e.value:[]):e.value}function l6(e,t,n,r=!0){return t._value=spe(e,e.hook.input.dispatch(n)),e.emit("input",t._value),e.isCreated&&e.type==="input"&&it(t._value,t.value)?(e.emit("commitRaw",t.value),t.settled):(t.isSettled&&e.disturb(),r?(t._tmo&&clearTimeout(t._tmo),t._tmo=setTimeout(j_,e.props.delay,e,t)):j_(e,t),t.settled)}function spe(e,t){switch(e.type){case"input":break;case"group":(!t||typeof t!="object")&&ki(107,[e,t]);break;case"list":Array.isArray(t)||ki(108,[e,t]);break}return t}function j_(e,t,n=!0,r=!0){t._value=t.value=e.hook.commit.dispatch(t._value),e.type!=="input"&&r&&e.hydrate(),e.emit("commitRaw",t.value),e.emit("commit",t.value),n&&e.calm()}function u6(e,{name:t,value:n,from:r}){if(!Object.isFrozen(e._value)){if(Zfe(e)){const i=n===DS?[]:n===NS&&typeof r=="number"?e._value.splice(r,1):[n];e._value.splice(t,n===NS||r===s6?0:1,...i);return}n!==DS?e._value[t]=n:delete e._value[t]}}function ope(e,t){const n=t._value;return e.type==="list"&&e.sync&&ape(e,t),t.children.forEach(r=>{if(typeof n=="object")if(r.name in n){const i=r.type!=="input"||n[r.name]&&typeof n[r.name]=="object"?vf(n[r.name]):n[r.name];if(!r.isSettled||!$h(i)&&it(i,r._value))return;r.input(i,!1)}else(e.type!=="list"||typeof r.name=="number")&&u6(t,{name:r.name,value:r.value}),n.__init||(r.type==="group"?r.input({},!1):r.type==="list"?r.input([],!1):r.input(void 0,!1))}),e}function ape(e,t){const n=e._value;if(!Array.isArray(n))return;const r=[],i=new Set(t.children),s=new Map;n.forEach((a,l)=>{if(t.children[l]&&t.children[l]._value===a)r.push(t.children[l]),i.delete(t.children[l]);else{r.push(null);const u=s.get(a)||[];u.push(l),s.set(a,u)}}),i.size&&s.size&&i.forEach(a=>{if(s.has(a._value)){const l=s.get(a._value),u=l.shift();r[u]=a,i.delete(a),l.length||s.delete(a._value)}});const o=[];for(s.forEach(a=>{o.push(...a)});i.size&&o.length;){const a=i.values().next().value,l=o.shift();if(l===void 0)break;r[l]=a,i.delete(a)}o.forEach((a,l)=>{r[a]=Fpe({value:l})}),i.size&&i.forEach(a=>{if(!("__FKP"in a)){const l=a._c.parent;if(!l||Bpe(l))return;l.ledger.unmerge(a),a._c.parent=null,a.destroy()}}),t.children=r}function lpe(e,t){var n;return t._d<=0&&(t.isSettled=!1,e.emit("settled",!1,!1),t.settled=new Promise(r=>{t._resolve=r}),e.parent&&((n=e.parent)===null||n===void 0||n.disturb())),t._d++,e}function upe(e,t,n){var r;if(n!==void 0&&e.type!=="input")return u6(t,n),j_(e,t,!0,!1);t._d>0&&t._d--,t._d===0&&(t.isSettled=!0,e.emit("settled",!0,!1),e.parent&&((r=e.parent)===null||r===void 0||r.calm({name:e.name,value:t.value})),t._resolve&&t._resolve(t.value))}function cpe(e,t){e.emit("destroying",e),e.store.filter(()=>!1),e.parent&&(e.parent.emit("childRemoved",e),e.parent.remove(e)),Gfe(e),e.emit("destroyed",e),t._e.flush(),t._value=t.value=void 0;for(const n in t.context)delete t.context[n];t.plugins.clear(),t.context=null}function dpe(e,t,n){t.type=n.type,t.props.definition=wa(n),t.value=t._value=a6({type:e.type,value:t.value}),n.forceTypeProp&&(e.props.type&&(e.props.originalType=e.props.type),t.props.type=n.forceTypeProp),n.family&&(t.props.family=n.family),n.features&&n.features.forEach(r=>r(e)),n.props&&e.addProps(n.props),e.emit("defined",n)}function fpe(e,t,n){var r;if(e.props.attrs){const i={...e.props.attrs};e.props._emit=!1;for(const o in i){const a=Ld(o);n.includes(a)&&(e.props[a]=i[o],delete i[o])}const s=hs(t._value);e.props.initial=e.type!=="input"?vf(s):s,e.props._emit=!0,e.props.attrs=i,e.props.definition&&(e.props.definition.props=[...((r=e.props.definition)===null||r===void 0?void 0:r.props)||[],...n])}return e.emit("added-props",n),e}function ppe(e,t,n,r){if(e.type==="input"&&ki(100,e),n.parent&&n.parent!==e&&n.parent.remove(n),!t.children.includes(n)){if(r!==void 0&&e.type==="list"){const i=t.children[r];i&&"__FKP"in i?(n._c.uid=i.uid,t.children.splice(r,1,n)):t.children.splice(r,0,n),Array.isArray(e.value)&&e.value.length<t.children.length&&e.disturb().calm({name:r,value:n.value,from:s6})}else t.children.push(n);n.isSettled||e.disturb()}if(n.parent!==e){if(n.parent=e,n.parent!==e)return e.remove(n),n.parent.add(n),e}else n.use(e.plugins);return j_(e,t,!1),e.ledger.merge(n),e.emit("child",n),e}function hpe(e,t,n,r){return Am(r)?(e.parent&&e.parent!==r&&e.parent.remove(e),t.parent=r,e.resetConfig(),r.children.includes(e)?e.use(r.plugins):r.add(e),!0):r===null?(t.parent=null,!0):!1}function gpe(e,t,n){const r=t.children.indexOf(n);if(r!==-1){n.isSettled&&e.disturb(),t.children.splice(r,1);let i=Ve(n.props.preserve),s=n.parent;for(;i===void 0&&s;)i=Ve(s.props.preserve),s=s.parent;i?e.calm():e.calm({name:e.type==="list"?r:n.name,value:DS}),n.parent=null,n.config._rmn=n}return e.ledger.unmerge(n),e}function mpe(e,t,n){t.children.forEach(r=>!("__FKP"in r)&&n(r))}function vpe(e,t,n,r=!1,i=!1){t.children.some(s=>{if("__FKP"in s)return!1;const o=n(s);return r&&o===!1?!0:i&&o===!1?!1:s.walk(n,r,i)})}function ype(e,t){const n=e.parent||void 0;t.config=c6(e.config._t,n),e.walk(r=>r.resetConfig())}function cA(e,t,n,r=!0,i=!0){return Array.isArray(n)||n instanceof Set?(n.forEach(s=>cA(e,t,s)),e):(t.plugins.has(n)||(i&&typeof n.library=="function"&&n.library(e),r&&n(e)!==!1&&(t.plugins.add(n),e.children.forEach(s=>s.use(n)))),e)}function _pe(e,t,n,r){if(Am(e.parent)){const i=e.parent.children,s=r>=i.length?i.length-1:r<0?0:r,o=i.indexOf(e);return o===-1?!1:(i.splice(o,1),i.splice(s,0,e),e.parent.children=i,e.parent.type==="list"&&e.parent.disturb().calm({name:s,value:NS,from:o}),!0)}return!1}function bpe(e){if(e.parent){const t=[...e.parent.children].indexOf(e);return t===-1?e.parent.children.length:t}return-1}function wpe(e,t){return t}function Epe(e,t){var n;return((n=e.parent)===null||n===void 0?void 0:n.type)==="list"?e.index:t.name!==i6?t.name:e.index}function $pe(e,t){return t.parent?t.parent.address.concat([e.name]):[e.name]}function Spe(e,t,n){const r=typeof n=="string"?n.split(e.config.delimiter):n;if(!r.length)return;const i=r[0];let s=e.parent;for(s||(String(r[0])===String(e.name)&&r.shift(),s=e),i==="$parent"&&r.shift();s&&r.length;){const o=r.shift();switch(o){case"$root":s=e.root;break;case"$parent":s=s.parent;break;case"$self":s=e;break;default:s=s.children.find(a=>!("__FKP"in a)&&String(a.name)===String(o))||xpe(s,o)}}return s||void 0}function xpe(e,t){const n=String(t).match(/^(find)\((.*)\)$/);if(n){const[,r,i]=n,s=i.split(",").map(o=>o.trim());switch(r){case"find":return e.find(s[0],s[1]);default:return}}}function Tpe(e,t,n,r){return Ipe(e,n,r)}function Ipe(e,t,n="name"){const r=typeof n=="string"?s=>s[n]==t:n,i=[e];for(;i.length;){const s=i.shift();if(!("__FKP"in s)){if(r(s,t))return s;i.push(...s.children)}}}function Cpe(e){let t=e;for(;t.parent;)t=t.parent;return t}function c6(e={},t){let n;return new Proxy(e,{get(...r){const i=r[1];if(i==="_t")return e;const s=Reflect.get(...r);if(s!==void 0)return s;if(t){const o=t.config[i];if(o!==void 0)return o}if(e.rootConfig&&typeof i=="string"){const o=e.rootConfig[i];if(o!==void 0)return o}return i==="delay"&&(n==null?void 0:n.type)==="input"?20:Jfe[i]},set(...r){const i=r[1],s=r[2];if(i==="_n")return n=s,e.rootConfig&&e.rootConfig._add(n),!0;if(i==="_rmn")return e.rootConfig&&e.rootConfig._rm(n),n=void 0,!0;if(!it(e[i],s,!1)){const o=Reflect.set(...r);return n&&(n.emit(`config:${i}`,s,!1),RS(n,i,s),n.walk(a=>RS(a,i,s),!1,!0)),o}return!0}})}function Ape(e,t,n,r="ui"){const i=typeof n=="string"?{key:n,value:n,type:r}:n,s=e.hook.text.dispatch(i);return e.emit("text",s,!1),s.value}function kpe(e){const t=e.name;do{if(e.props.isForm===!0)break;e.parent||ki(106,t),e=e.parent}while(e);e.props.id&&n6(e.props.id,e.props.__root)}function Ope(e,t,n){return r6(e,n)}function d6(e,t,n,r){const i=`${e.name}-set`,s=e.hook.setErrors.dispatch({localErrors:n,childErrors:r});return Ufe(e,s.localErrors,s.childErrors).forEach(o=>{e.store.apply(o,a=>a.meta.source===i)}),e}function Ppe(e,t,n=!0,r){return d6(e,t,[]),n&&(r=r||`${e.name}-set`,e.walk(i=>{i.store.filter(s=>!(s.type==="error"&&s.meta&&s.meta.source===r))})),e}function Rpe(e){const t={initial:typeof e=="object"?hs(e):e};let n,r=!0;return new Proxy(t,{get(...i){const[s,o]=i;if(st(t,o))return Reflect.get(...i);if(n&&typeof o=="string"&&n.config[o]!==void 0)return n.config[o]},set(i,s,o,a){if(s==="_n")return n=o,!0;if(s==="_emit")return r=o,!0;const{prop:l,value:u}=n.hook.prop.dispatch({prop:s,value:o});if(!it(t[l],u,!1)||typeof u=="object"){const c=Reflect.set(i,l,u,a);return r&&(n.emit("prop",{prop:l,value:u}),typeof l=="string"&&n.emit(`prop:${l}`,u)),c}return!0}})}function Dpe(e,t,n,r){return t.traps.set(n,r),e}function Npe(e,t){if(e.props.definition)return e.define(e.props.definition);for(const n of t){if(e.props.definition)return;typeof n.library=="function"&&n.library(e)}}function Mpe(e){const t=a6(e),n=c6(e.config||{},e.parent);return{_d:0,_e:Jj(),uid:Symbol(),_resolve:!1,_tmo:!1,_value:t,children:bfe(e.children||[]),config:n,hook:npe(),isCreated:!1,isSettled:!0,ledger:jfe(),name:ipe(e),parent:e.parent||null,plugins:new Set,props:Rpe(t),settled:Promise.resolve(t),store:Dfe(!0),sync:e.sync||!1,traps:tpe(),type:e.type||"input",value:t}}function Lpe(e,t){var n,r,i;const s=(n=t.props)===null||n===void 0?void 0:n.id;if(s||(r=t.props)===null||r===void 0||delete r.id,e.ledger.init(e.store._n=e.props._n=e.config._n=e),e.props._emit=!1,Object.assign(e.props,s?{}:{id:`input_${rpe++}`},(i=t.props)!==null&&i!==void 0?i:{}),e.props._emit=!0,Npe(e,new Set([...t.plugins||[],...e.parent?e.parent.plugins:[]])),t.plugins)for(const o of t.plugins)cA(e,e._c,o,!0,!1);return e.each(o=>e.add(o)),e.parent&&e.parent.add(e,t.index),e.type==="input"&&e.children.length&&ki(100,e),l6(e,e._c,e._value,!1),e.store.release(),s&&Kfe(e),e.emit("created",e),e.isCreated=!0,e}function Fpe(e){var t,n,r,i;return{__FKP:!0,uid:Symbol(),name:(t=e==null?void 0:e.name)!==null&&t!==void 0?t:`p_${o6++}`,value:(n=e==null?void 0:e.value)!==null&&n!==void 0?n:null,_value:(r=e==null?void 0:e.value)!==null&&r!==void 0?r:null,type:(i=e==null?void 0:e.type)!==null&&i!==void 0?i:"input",use:()=>{},input(s){return this._value=s,this.value=s,Promise.resolve()},isSettled:!0}}function Bpe(e){return"__FKP"in e}function Upe(e){const t=e||{},n=Mpe(t),r=new Proxy(n,{get(...i){const[,s]=i;if(s==="__FKNode__")return!0;const o=n.traps.get(s);return o&&o.get?o.get(r,n):Reflect.get(...i)},set(...i){const[,s,o]=i,a=n.traps.get(s);return a&&a.set?a.set(r,n,s,o):Reflect.set(...i)}});return Lpe(r,t)}function fc(e){return typeof e!="string"&&st(e,"$el")}function yf(e){return typeof e!="string"&&st(e,"$cmp")}function id(e){return!e||typeof e=="string"?!1:st(e,"if")&&st(e,"then")}function Vpe(e){return typeof e!="string"&&"$formkit"in e}function Hpe(e){if(typeof e=="string")return{$el:"text",children:e};if(Vpe(e)){const{$formkit:t,for:n,if:r,children:i,bind:s,...o}=e;return Object.assign({$cmp:"FormKit",props:{...o,type:t}},r?{if:r}:{},n?{for:n}:{},i?{children:i}:{},s?{bind:s}:{})}return e}function As(e){let t;const n=new Set,r=function(m,v){return typeof m=="function"?m(v):m},i=[{"&&":(g,m,v)=>r(g,v)&&r(m,v),"||":(g,m,v)=>r(g,v)||r(m,v)},{"===":(g,m,v)=>r(g,v)===r(m,v),"!==":(g,m,v)=>r(g,v)!==r(m,v),"==":(g,m,v)=>r(g,v)==r(m,v),"!=":(g,m,v)=>r(g,v)!=r(m,v),">=":(g,m,v)=>r(g,v)>=r(m,v),"<=":(g,m,v)=>r(g,v)<=r(m,v),">":(g,m,v)=>r(g,v)>r(m,v),"<":(g,m,v)=>r(g,v)<r(m,v)},{"+":(g,m,v)=>r(g,v)+r(m,v),"-":(g,m,v)=>r(g,v)-r(m,v)},{"*":(g,m,v)=>r(g,v)*r(m,v),"/":(g,m,v)=>r(g,v)/r(m,v),"%":(g,m,v)=>r(g,v)%r(m,v)}],s=i.reduce((g,m)=>g.concat(Object.keys(m)),[]),o=new Set(s.map(g=>g.charAt(0)));function a(g,m,v,y){const b=g.filter(_=>_.startsWith(m));return b.length?b.find(_=>y.length>=v+_.length&&y.substring(v,v+_.length)===_?_:!1):!1}function l(g,m,v=1){let y=v?m.substring(g+1).trim():m.substring(0,g).trim();if(!y.length)return-1;if(!v){const _=y.split("").reverse(),S=_.findIndex(I=>o.has(I));y=_.slice(S).join("")}const b=y[0];return i.findIndex(_=>{const S=Object.keys(_);return!!a(S,b,0,y)})}function u(g,m){let v="";const y=m.length;let b=0;for(let _=g;_<y;_++){const S=m.charAt(_);if(S==="(")b++;else if(S===")")b--;else if(b===0&&S===" ")continue;if(b===0&&a(s,S,_,m))return[v,_-1];v+=S}return[v,m.length-1]}function c(g,m=0){const v=i[m],y=g.length,b=Object.keys(v);let _=0,S=!1,I=null,T="",w=null,x,E="",O="",M="",V="",H=0;const me=(ce,ae)=>{ce?M+=ae:T+=ae};for(let ce=0;ce<y;ce++)if(E=O,O=g.charAt(ce),(O==="'"||O==='"')&&E!=="\\"&&(_===0&&!S||_&&!V)){_?V=O:S=O,me(_,O);continue}else if(S&&(O!==S||E==="\\")||V&&(O!==V||E==="\\")){me(_,O);continue}else if(S===O){S=!1,me(_,O);continue}else if(V===O){V=!1,me(_,O);continue}else{if(O===" ")continue;if(O==="(")_===0?H=ce:M+=O,_++;else if(O===")")if(_--,_===0){const ae=typeof T=="string"&&T.startsWith("$")?T:void 0,xe=ae&&g.charAt(ce+1)===".";let Ie="";xe&&([Ie,ce]=u(ce+2,g));const ft=I?m:l(H,g,0),Ye=l(ce,g);ft===-1&&Ye===-1?(T=d(M,-1,ae,Ie),typeof T=="string"&&(T=M)):I&&(ft>=Ye||Ye===-1)&&m===ft?(w=I.bind(null,d(M,-1,ae,Ie)),I=null,T=""):Ye>ft&&m===Ye?T=d(M,-1,ae,Ie):T+=`(${M})${xe?`.${Ie}`:""}`,M=""}else M+=O;else if(_===0&&(x=a(b,O,ce,g))){ce===0&&ki(103,[x,g]),ce+=x.length-1,ce===g.length-1&&ki(104,[x,g]),I?T&&(w=I.bind(null,d(T,m)),I=v[x].bind(null,w),T=""):w?(I=v[x].bind(null,d(w,m)),w=null):(I=v[x].bind(null,d(T,m)),T="");continue}else me(_,O)}return T&&I&&(I=I.bind(null,d(T,m))),I=!I&&w?w:I,!I&&T&&(I=(ce,ae)=>typeof ce=="function"?ce(ae):ce,I=I.bind(null,d(T,m))),!I&&!T&&ki(105,g),I}function d(g,m,v,y){if(v){const b=d(v,i.length);let _,S=y?As(`$${y}`):!1;if(typeof b=="function"){const I=Tfe(String(g)).map(T=>d(T,-1));return T=>{const w=b(T);return typeof w!="function"?(Ql(150,v),w):(_=w(...I.map(x=>typeof x=="function"?x(T):x)),S&&(S=S.provide(x=>{const E=t(x);return x.reduce((M,V)=>{if(V===y||(y==null?void 0:y.startsWith(`${V}(`))){const me=Ife(_,V);M[V]=()=>me}else M[V]=E[V];return M},{})})),S?S():_)}}}else if(typeof g=="string"){if(g==="true")return!0;if(g==="false")return!1;if(g==="undefined")return;if(Sfe(g))return xfe(g.substring(1,g.length-1));if(!isNaN(+g))return Number(g);if(m<i.length-1)return c(g,m+1);if(g.startsWith("$")){const b=g.substring(1);return n.add(b),function(S){return b in S?S[b]():void 0}}return g}return g}const f=c(e.startsWith("$:")?e.substring(2):e),p=Array.from(n);function h(g){return t=g,Object.assign(f.bind(null,g(p)),{provide:h})}return Object.assign(f,{provide:h})}function Sy(e,t,n){return n?typeof n=="string"?n.split(" ").reduce((i,s)=>Object.assign(i,{[s]:!0}),{}):typeof n=="function"?Sy(e,t,n(t,e)):n:{}}function jpe(e,t,...n){const r=n.reduce((i,s)=>{if(!s)return Y1(i);const{$reset:o,...a}=s;return Y1(o?a:Object.assign(i,a))},{});return Object.keys(e.hook.classes.dispatch({property:t,classes:r}).classes).filter(i=>r[i]).join(" ")||null}function Y1(e){const t="$remove:";let n=!1;const r=Object.keys(e).filter(i=>(e[i]&&i.startsWith(t)&&(n=!0),e[i]));return r.length>1&&n&&r.filter(s=>s.startsWith(t)).map(s=>{const o=s.substring(t.length);e[o]=!1,e[s]=!1}),e}function Wpe(e,t,n){const r=Cm(e);r?r.setErrors(t,n):Ql(651,e)}function qpe(e,t=!0){const n=Cm(e);n?n.clearErrors(t):Ql(652,e)}const W_="1.4.0";function zpe(...e){const t=e.reduce((r,i)=>dc(r,i),{}),n=()=>{};return n.library=function(r){const i=Ld(r.props.type);st(t,i)&&r.define(t[i])},n}const Kpe=["classes","config","delay","errors","id","index","inputErrors","modelValue","onUpdate:modelValue","name","number","parent","plugins","sectionsSchema","type","validation","validationLabel","validationMessages","validationRules","onInput","onInputRaw","onUpdate:modelValue","onNode","onSubmit","onSubmitInvalid","onSubmitRaw"];function nw(e){return e&&typeof e=="object"&&"group"in e&&Array.isArray(e.options)}function q_(e,t={count:1}){return Array.isArray(e)?e.map(n=>{if(typeof n=="string"||typeof n=="number")return{label:String(n),value:String(n)};if(typeof n=="object"){if("group"in n)return n.options=q_(n.options||[],t),n;"value"in n&&typeof n.value!="string"&&Object.assign(n,{value:`__mask_${t.count++}`,__original:n.value})}return n}):Object.keys(e).map(n=>({label:e[n],value:n}))}function pc(e,t,n=!1){if(Array.isArray(e)){for(const r of e)if(!(typeof r!="object"&&r)){if(nw(r)){const i=pc(r.options,t,!0);if(i!==void 0)return i}else if(t==r.value)return"__original"in r?r.__original:r.value}}return n?void 0:t}function _f(e,t){return e===null&&t===void 0||e===void 0&&t===null?!1:e==t?!0:mf(e)&&mf(t)?it(e,t):!1}function Ca(e){e.hook.prop((t,n)=>(t.prop==="options"&&(typeof t.value=="function"?(e.props.optionsLoader=t.value,t.value=[]):t.value=q_(t.value)),n(t)))}function Ke(e,t,n=!1){return(...r)=>{const i=s=>{const o=!t||typeof t=="string"?{$el:t}:t();return(fc(o)||yf(o))&&(o.meta||(o.meta={section:e}),r.length&&!o.children&&(o.children=[...r.map(a=>typeof a=="function"?a(s):a)]),fc(o)&&(o.attrs={class:`$classes.${e}`,...o.attrs||{}})),{if:`$slots.${e}`,then:`$slots.${e}`,else:e in s?Au(o,s[e]):o}};return i._s=e,n?Gpe(i):i}}function Gpe(e){return t=>[e(t)]}function Cg(e){return typeof e=="object"&&("$el"in e||"$cmp"in e||"$formkit"in e)}function Au(e,t={}){return typeof e=="string"?Cg(t)||typeof t=="string"?t:e:Array.isArray(e)?Cg(t)?t:e:dc(e,t)}const Ype=Ke("actions",()=>({$el:"div",if:"$actions"})),z_=Ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",name:"$node.props.altName || $node.name",disabled:"$option.attrs.disabled || $disabled",onInput:"$handlers.toggleChecked",checked:"$fns.eq($_value, $onValue)",onBlur:"$handlers.blur",value:"$: true",id:"$id","aria-describedby":{if:"$options.length",then:{if:"$option.help",then:'$: "help-" + $option.attrs.id',else:void 0},else:{if:"$help",then:'$: "help-" + $id',else:void 0}}}})),f6=Ke("optionHelp",()=>({$el:"div",if:"$option.help",attrs:{id:'$: "help-" + $option.attrs.id'}})),K_=Ke("inner","span"),G_=Ke("label","span"),p6=Ke("option",()=>({$el:"li",for:["option","$options"],attrs:{"data-disabled":"$option.attrs.disabled || $disabled"}})),h6=Ke("options","ul"),Y_=Ke("wrapper",()=>({$el:"label",attrs:{"data-disabled":{if:"$options.length",then:void 0,else:"$disabled || undefined"},"data-checked":{if:"$options == undefined",then:"$fns.eq($_value, $onValue) || undefined",else:"$fns.isChecked($option.value) || undefined"}}})),Xpe=Ke("input",()=>({$el:"button",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",id:"$id"}})),Qpe=Ke("default",null),X_=Ke("decorator",()=>({$el:"span",attrs:{"aria-hidden":"true"}})),g6=Ke("fieldset",()=>({$el:"fieldset",attrs:{id:"$id","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Jpe=Ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"file",disabled:"$disabled",name:"$node.name",onChange:"$handlers.files",onBlur:"$handlers.blur",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),Zpe=Ke("fileItem",()=>({$el:"li",for:["file","$value"]})),ehe=Ke("fileList",()=>({$el:"ul",if:"$value.length",attrs:{"data-has-multiple":"$_hasMultipleFiles"}})),the=Ke("fileName",()=>({$el:"span",attrs:{class:"$classes.fileName"}})),oN=Ke("fileRemove",()=>({$el:"button",attrs:{type:"button",onClick:"$handlers.resetFiles"}})),nhe=Ke("form",()=>({$el:"form",bind:"$attrs",attrs:{id:"$id",name:"$node.name",onSubmit:"$handlers.submit","data-loading":"$state.loading || undefined"}})),dA=Ke("wrapper",null,!0),_o=Ke("help",()=>({$el:"div",if:"$help",attrs:{id:'$: "help-" + $id'}})),tr=(e,t)=>Ke(`${e}Icon`,()=>{const n=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$${e}Icon && $${n}`,$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " " + $classes.icon`,innerHTML:`$${n}`,onClick:`$handlers.iconClick(${e})`,for:{if:`${t==="label"}`,then:"$id"}}}})(),km=Ke("inner","div"),Om=Ke("label",()=>({$el:"label",if:"$label",attrs:{for:"$id"}})),m6=Ke("legend",()=>({$el:"legend",if:"$label"})),Aa=Ke("message",()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}})),ka=Ke("messages",()=>({$el:"ul",if:"$defaultMessagePlacement && $fns.length($messages)"})),rhe=Ke("noFiles",()=>({$el:"span",if:"$value.length == 0"})),ihe=Ke("optGroup",()=>({$el:"optgroup",bind:"$option.attrs",attrs:{label:"$option.group"}})),aN=Ke("option",()=>({$el:"option",bind:"$option.attrs",attrs:{class:"$classes.option",value:"$option.value",selected:"$fns.isSelected($option)"}})),lN=Ke("options",()=>({$el:null,if:"$options.length",for:["option","$option.options || $options"]})),Jl=Ke("outer",()=>({$el:"div",attrs:{key:"$id","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-has-multiple":"$_hasMultipleFiles","data-disabled":'$: ($disabled !== "false" && $disabled) || undefined',"data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-prefix-icon":"$_rawPrefixIcon !== undefined || undefined","data-suffix-icon":"$_rawSuffixIcon !== undefined || undefined","data-prefix-icon-click":"$onPrefixIconClick !== undefined || undefined","data-suffix-icon-click":"$onSuffixIconClick !== undefined || undefined"}})),bo=Ke("prefix",null),she=Ke("input",()=>({$el:"select",bind:"$attrs",attrs:{id:"$id","data-placeholder":"$fns.showPlaceholder($_value, $placeholder)",disabled:"$disabled",class:"$classes.input",name:"$node.name",onChange:"$handlers.onChange",onInput:"$handlers.selectInput",onBlur:"$handlers.blur","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),ohe=Ke("submit",()=>({$cmp:"FormKit",bind:"$submitAttrs",props:{type:"submit",disabled:"$disabled",label:"$submitLabel"}})),wo=Ke("suffix",null),v6=Ke("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"}})),ahe=Ke("input",()=>({$el:"textarea",bind:"$attrs",attrs:{disabled:"$disabled",name:"$node.name",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$_value",id:"$id","aria-describedby":"$describedBy","aria-required":"$state.required || undefined"},children:"$initialValue"})),Pc=Ke("wrapper","div");function y6(e){return function(t,n){return t.prop==="options"&&Array.isArray(t.value)&&(t.value=t.value.map(r=>{var i;return!((i=r.attrs)===null||i===void 0)&&i.id?r:dc(r,{attrs:{id:`${e.props.id}-option-${iA(String(r.value))}`}})}),e.props.type==="checkbox"&&!Array.isArray(e.value)&&(e.isCreated?e.input([],!1):e.on("created",()=>{Array.isArray(e.value)||e.input([],!1)}))),n(t)}}function lhe(e,t){const n=t.target;if(n instanceof HTMLInputElement){const r=Array.isArray(e.props.options)?pc(e.props.options,n.value):n.value;Array.isArray(e.props.options)&&e.props.options.length?Array.isArray(e._value)?e._value.some(i=>_f(r,i))?e.input(e._value.filter(i=>!_f(r,i))):e.input([...e._value,r]):e.input([r]):n.checked?e.input(e.props.onValue):e.input(e.props.offValue)}}function uhe(e,t){var n,r;return(n=e.context)===null||n===void 0||n.value,(r=e.context)===null||r===void 0||r._value,Array.isArray(e._value)?e._value.some(i=>_f(pc(e.props.options,t),i)):!1}function che(e){e.on("created",()=>{var t,n;!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.toggleChecked=lhe.bind(null,e)),!((n=e.context)===null||n===void 0)&&n.fns&&(e.context.fns.isChecked=uhe.bind(null,e)),st(e.props,"onValue")||(e.props.onValue=!0),st(e.props,"offValue")||(e.props.offValue=!1)}),e.hook.prop(y6(e))}function wt(e,t){return n=>{n.props[`${e}Icon`]===void 0&&(n.props[`${e}Icon`]=t.startsWith("<svg")?t:`default:${t}`)}}function Pm(e){e.on("created",()=>{"disabled"in e.props&&(e.props.disabled=Ve(e.props.disabled),e.config.disabled=Ve(e.props.disabled))}),e.hook.prop(({prop:t,value:n},r)=>(n=t==="disabled"?Ve(n):n,r({prop:t,value:n}))),e.on("prop:disabled",({payload:t})=>{e.config.disabled=Ve(t)})}function on(e,t){return n=>{n.store.set(jr({key:e,type:"ui",value:t||e,meta:{localize:!0,i18nArgs:[n]}}))}}const X1=typeof window<"u";function _6(e){e.target instanceof HTMLElement&&e.target.hasAttribute("data-file-hover")&&e.target.removeAttribute("data-file-hover")}function uN(e,t){t.target instanceof HTMLInputElement?e==="dragover"&&t.target.setAttribute("data-file-hover","true"):t.preventDefault(),e==="drop"&&_6(t)}function dhe(e){on("noFiles","Select file")(e),on("removeAll","Remove all")(e),on("remove")(e),e.addProps(["_hasMultipleFiles"]),X1&&(window._FormKit_File_Drop||(window.addEventListener("dragover",uN.bind(null,"dragover")),window.addEventListener("drop",uN.bind(null,"drop")),window.addEventListener("dragleave",_6),window._FormKit_File_Drop=!0)),e.hook.input((t,n)=>n(Array.isArray(t)?t:[])),e.on("input",({payload:t})=>{e.props._hasMultipleFiles=Array.isArray(t)&&t.length>1?!0:void 0}),e.on("reset",()=>{if(e.props.id&&X1){const t=document.getElementById(e.props.id);t&&(t.value="")}}),e.on("created",()=>{Array.isArray(e.value)||e.input([],!1),e.context&&(e.context.handlers.resetFiles=t=>{if(t.preventDefault(),e.input([]),e.props.id&&X1){const n=document.getElementById(e.props.id);n&&(n.value=""),n==null||n.focus()}},e.context.handlers.files=t=>{var n,r;const i=[];if(t.target instanceof HTMLInputElement&&t.target.files){for(let s=0;s<t.target.files.length;s++){let o;(o=t.target.files.item(s))&&i.push({name:o.name,file:o})}e.input(i)}e.context&&(e.context.files=i),typeof((n=e.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&((r=e.props.attrs)===null||r===void 0||r.onChange(t))})})}const cN=jr({key:"loading",value:!0,visible:!1});async function fhe(e,t){const n=Math.random();if(e.props._submitNonce=n,t.preventDefault(),await e.settled,e.ledger.value("validating")&&(e.store.set(cN),await e.ledger.settled("validating"),e.store.remove("loading"),e.props._submitNonce!==n))return;const r=i=>i.store.set(jr({key:"submitted",value:!0,visible:!1}));if(e.walk(r),r(e),e.emit("submit-raw"),typeof e.props.onSubmitRaw=="function"&&e.props.onSubmitRaw(t,e),e.ledger.value("blocking"))typeof e.props.onSubmitInvalid=="function"&&e.props.onSubmitInvalid(e),e.props.incompleteMessage!==!1&&b6(e);else if(typeof e.props.onSubmit=="function"){const i=e.props.onSubmit(e.hook.submit.dispatch(wa(e.value)),e);if(i instanceof Promise){const s=e.props.disabled===void 0&&e.props.submitBehavior!=="live";s&&(e.props.disabled=!0),e.store.set(cN),await i,s&&(e.props.disabled=!1),e.store.remove("loading")}}else t.target instanceof HTMLFormElement&&t.target.submit()}function b6(e){e.store.set(jr({blocking:!1,key:"incomplete",meta:{localize:e.props.incompleteMessage===void 0,i18nArgs:[{node:e}],showAsMessage:!0},type:"ui",value:e.props.incompleteMessage||"Form incomplete."}))}function phe(e){e.props.isForm=!0,e.ledger.count("validating",t=>t.key==="validating"),e.on("created",()=>{var t;!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.submit=fhe.bind(null,e)),st(e.props,"actions")||(e.props.actions=!0)}),e.on("prop:incompleteMessage",()=>{e.store.incomplete&&b6(e)}),e.on("settled:blocking",()=>e.store.remove("incomplete"))}function hhe(e){e.props.ignore===void 0&&(e.props.ignore=!0,e.parent=null)}function ghe(e){e.on("created",()=>{e.context&&(e.context.initialValue=e.value||"")})}function w6(e){if(typeof e.props.number>"u")return;const t=["number","range","hidden"].includes(e.props.type);e.hook.input((n,r)=>{if(n==="")return r(void 0);const i=e.props.number==="integer"?parseInt(n):parseFloat(n);return Number.isFinite(i)?r(i):r(t?void 0:n)})}function mhe(e,t){t.target instanceof HTMLInputElement&&e.input(pc(e.props.options,t.target.value))}function vhe(e,t){var n,r;return(n=e.context)===null||n===void 0||n.value,(r=e.context)===null||r===void 0||r._value,_f(pc(e.props.options,t),e._value)}function yhe(e){e.on("created",()=>{var t,n;Array.isArray(e.props.options)||Ql(350,{node:e,inputType:"radio"}),!((t=e.context)===null||t===void 0)&&t.handlers&&(e.context.handlers.toggleChecked=mhe.bind(null,e)),!((n=e.context)===null||n===void 0)&&n.fns&&(e.context.fns.isChecked=vhe.bind(null,e))}),e.hook.prop(y6(e))}let _he=0;function E6(e){(e.type==="group"||e.type==="list")&&e.plugins.add(bhe)}function bhe(e){e.props.type==="radio"&&(e.addProps(["altName"]),e.props.altName=`${e.name}_${_he++}`)}function whe(e,t){if(nw(t))return!1;e.context&&e.context.value;const n="__original"in t?t.__original:t.value;return Array.isArray(e._value)?e._value.some(r=>_f(r,n)):(e._value===void 0||e._value===null&&!$6(e.props.options,null))&&t.attrs&&t.attrs["data-is-placeholder"]?!0:_f(n,e._value)}function $6(e,t){return e.some(n=>nw(n)?$6(n.options,t):("__original"in n?n.__original:n.value)===t)}async function Ehe(e,t){var n;typeof((n=e.props.attrs)===null||n===void 0?void 0:n.onChange)=="function"&&(await new Promise(r=>setTimeout(r,0)),await e.settled,e.props.attrs.onChange(t))}function $he(e,t){const n=t.target,r=n.hasAttribute("multiple")?Array.from(n.selectedOptions).map(i=>pc(e.props.options,i.value)):pc(e.props.options,n.value);e.input(r)}function dN(e,t){return e.some(n=>n.attrs&&n.attrs["data-is-placeholder"])?e:[{label:t,value:"",attrs:{hidden:!0,disabled:!0,"data-is-placeholder":"true"}},...e]}function S6(e){const t=e.length>0?e[0]:void 0;if(t)return nw(t)?S6(t.options):"__original"in t?t.__original:t.value}function She(e){e.on("created",()=>{var t,n,r;const i=Ve((t=e.props.attrs)===null||t===void 0?void 0:t.multiple);!i&&e.props.placeholder&&Array.isArray(e.props.options)&&(e.hook.prop(({prop:s,value:o},a)=>(s==="options"&&(o=dN(o,e.props.placeholder)),a({prop:s,value:o}))),e.props.options=dN(e.props.options,e.props.placeholder)),i?e.value===void 0&&e.input([],!1):e.context&&!e.context.options&&(e.props.attrs=Object.assign({},e.props.attrs,{value:e._value}),e.on("input",({payload:s})=>{e.props.attrs=Object.assign({},e.props.attrs,{value:s})})),!((n=e.context)===null||n===void 0)&&n.handlers&&(e.context.handlers.selectInput=$he.bind(null,e),e.context.handlers.onChange=Ehe.bind(null,e)),!((r=e.context)===null||r===void 0)&&r.fns&&(e.context.fns.isSelected=whe.bind(null,e),e.context.fns.showPlaceholder=(s,o)=>{if(!Array.isArray(e.props.options))return!1;const a=e.props.options.some(l=>{if(l.attrs&&"data-is-placeholder"in l.attrs)return!1;const u="__original"in l?l.__original:l.value;return it(s,u)});return o&&!a?!0:void 0})}),e.hook.input((t,n)=>{var r,i,s;return!e.props.placeholder&&t===void 0&&Array.isArray((r=e.props)===null||r===void 0?void 0:r.options)&&e.props.options.length&&!Ve((s=(i=e.props)===null||i===void 0?void 0:i.attrs)===null||s===void 0?void 0:s.multiple)&&(t=S6(e.props.options)),n(t)})}function Ag(e){return!!(id(e)&&e.if&&e.if.startsWith("$slots.")&&typeof e.then=="string"&&e.then.startsWith("$slots.")&&"else"in e)}function fN(e,t){var n;return(n=Q_(e,(r,i,s)=>{var o;if(((o=r.meta)===null||o===void 0?void 0:o.section)===t)return[i,s]},!0))!==null&&n!==void 0?n:[!1,!1]}function Q_(e,t,n=!1,r=[]){if(Array.isArray(e)){for(const i of e){const s=Q_(i,t,n,e);if(s&&n)return s}return}if(Ag(e)&&(yf(e.else)||fc(e.else))){if(e.else.meta){const i=t(e.else,r,e);if(i&&n)return i}if(e.else.children&&Array.isArray(e.else.children)&&e.else.children.length)return Q_(e.else.children,t,n,r)}}function xhe(e){return Jl(Pc(Om("$label"),km(tr("prefix"),bo(),e(),wo(),tr("suffix"))),_o("$help"),ka(Aa("$message.value")))}function vs(e,t,n){const r=i=>{const s=t(i);if(n||Cg(s)&&"if"in s||Ag(s)){const o={if:e,then:s};return n&&(o.else=n(i)),o}else Ag(s)?Object.assign(s.else,{if:e}):Cg(s)&&Object.assign(s,{if:e});return s};return r._s=Xf(),r}function Lu(e,t){const n=r=>{const i=e({});return Ag(i)?(Array.isArray(i.else)||(i.else=Au(Au(i.else,t),e._s?r[e._s]:{})),i):Au(Au(i,t),e._s?r[e._s]:{})};return n._s=e._s,n}const pN={schema:Jl(ka(Aa("$message.value")),Pc(Xpe(tr("prefix"),bo(),Qpe("$label || $ui.submit.value"),wo(),tr("suffix"))),_o("$help")),type:"input",family:"button",props:[],features:[on("submit"),hhe],schemaMemoKey:"h6st4epl3j8"},The={schema:Jl(vs("$options == undefined",Y_(K_(bo(),z_(),X_(tr("decorator")),wo()),Lu(G_("$label"),{if:"$label"})),g6(m6("$label"),_o("$help"),h6(p6(Y_(K_(bo(),Lu(z_(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),X_(tr("decorator")),wo()),Lu(G_("$option.label"),{if:"$option.label"})),f6("$option.help"))))),vs("$options == undefined && $help",_o("$help")),ka(Aa("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Ca,che,wt("decorator","checkboxDecorator")],schemaMemoKey:"qje02tb3gu8"},Ihe={schema:Jl(Pc(Om("$label"),km(tr("prefix","label"),bo(),Jpe(),ehe(Zpe(tr("fileItem"),the("$file.name"),vs("$value.length === 1",oN(tr("fileRemove"),'$ui.remove.value + " " + $file.name')))),vs("$value.length > 1",oN("$ui.removeAll.value")),rhe(tr("noFiles"),"$ui.noFiles.value"),wo(),tr("suffix"))),_o("$help"),ka(Aa("$message.value"))),type:"input",family:"text",props:[],features:[dhe,wt("fileItem","fileItem"),wt("fileRemove","fileRemove"),wt("noFiles","noFiles")],schemaMemoKey:"9kqc4852fv8"},Che={schema:nhe("$slots.default",ka(Aa("$message.value")),Ype(ohe())),type:"group",props:["actions","submit","submitLabel","submitAttrs","submitBehavior","incompleteMessage"],features:[phe,Pm],schemaMemoKey:"5bg016redjo"},Ahe={schema:dA("$slots.default"),type:"group",props:[],features:[Pm,E6]},khe={schema:v6(),type:"input",props:[],features:[w6]},Ohe={schema:dA("$slots.default"),type:"list",props:["sync","dynamic"],features:[Pm,E6]},Phe={schema:dA(),type:"input",props:[],features:[]},Rhe={schema:Jl(vs("$options == undefined",Y_(K_(bo(),z_(),X_(tr("decorator")),wo()),Lu(G_("$label"),{if:"$label"})),g6(m6("$label"),_o("$help"),h6(p6(Y_(K_(bo(),Lu(z_(),{bind:"$option.attrs",attrs:{id:"$option.attrs.id",value:"$option.value",checked:"$fns.isChecked($option.value)"}}),X_(tr("decorator")),wo()),Lu(G_("$option.label"),{if:"$option.label"})),f6("$option.help"))))),vs("$options == undefined && $help",_o("$help")),ka(Aa("$message.value"))),type:"input",family:"box",props:["options","onValue","offValue","optionsLoader"],features:[Ca,yhe,wt("decorator","radioDecorator")],schemaMemoKey:"qje02tb3gu8"},Dhe={schema:Jl(Pc(Om("$label"),km(tr("prefix"),bo(),she(vs("$slots.default",()=>"$slots.default",lN(vs("$option.group",ihe(lN(aN("$option.label"))),aN("$option.label"))))),vs("$attrs.multiple !== undefined",()=>"",tr("select")),wo(),tr("suffix"))),_o("$help"),ka(Aa("$message.value"))),type:"input",props:["options","placeholder","optionsLoader"],features:[Ca,She,wt("select","select")],schemaMemoKey:"cb119h43krg"},Nhe={schema:Jl(Pc(Om("$label"),km(tr("prefix","label"),bo(),ahe(),wo(),tr("suffix"))),_o("$help"),ka(Aa("$message.value"))),type:"input",props:[],features:[ghe],schemaMemoKey:"b1n0td79m9g"},_i={schema:Jl(Pc(Om("$label"),km(tr("prefix","label"),bo(),v6(),wo(),tr("suffix"))),_o("$help"),ka(Aa("$message.value"))),type:"input",family:"text",props:[],features:[w6],schemaMemoKey:"c3cc4kflsg"};var Mhe=Object.freeze({__proto__:null,button:pN,checkbox:The,color:_i,date:_i,datetimeLocal:_i,email:_i,file:Ihe,form:Che,group:Ahe,hidden:khe,list:Ohe,meta:Phe,month:_i,number:_i,password:_i,radio:Rhe,range:_i,search:_i,select:Dhe,submit:pN,tel:_i,text:_i,textarea:Nhe,time:_i,url:_i,week:_i});const x6=function({value:t}){return["yes","on","1",1,!0,"true"].includes(t)};x6.skipEmpty=!1;const Lhe=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r>n},Fhe=function({value:e},t="default"){const n={default:/^\p{L}+$/u,latin:/^[a-z]+$/i},r=st(n,t)?t:"default";return n[r].test(String(e))},Bhe=function({value:e},t="default"){const n={default:/^[\p{L} ]+$/u,latin:/^[a-z ]+$/i},r=st(n,t)?t:"default";return n[r].test(String(e))},Uhe=function({value:e},t="default"){const n={default:/^[0-9\p{L}]+$/u,latin:/^[0-9a-z]+$/i},r=st(n,t)?t:"default";return n[r].test(String(e))},Vhe=function({value:e},t=!1){const n=Date.parse(t||new Date),r=Date.parse(String(e));return isNaN(r)?!1:r<n},Hhe=function({value:t},n,r){if(!isNaN(t)&&!isNaN(n)&&!isNaN(r)){const i=1*t;n=Number(n),r=Number(r);const[s,o]=n<=r?[n,r]:[r,n];return i>=1*s&&i<=1*o}return!1},hN=/(_confirm(?:ed)?)$/,jhe=function(t,n,r="loose"){var i;n||(n=hN.test(t.name)?t.name.replace(hN,""):`${t.name}_confirm`);const s=(i=t.at(n))===null||i===void 0?void 0:i.value;return r==="strict"?t.value===s:t.value==s},Whe=function({value:e},t="default"){const n={default:/\p{L}/u,latin:/[a-z]/i},r=st(n,t)?t:"default";return n[r].test(String(e))},qhe=function({value:e},t="default"){const n={default:/[\p{L} ]/u,latin:/[a-z ]/i},r=st(n,t)?t:"default";return n[r].test(String(e))},zhe=function({value:e},t="default"){const n={default:/[0-9\p{L}]/u,latin:/[0-9a-z]/i},r=st(n,t)?t:"default";return n[r].test(String(e))},Khe=function({value:e},t="default"){const n={default:/\p{Ll}/u,latin:/[a-z]/},r=st(n,t)?t:"default";return n[r].test(String(e))},Ghe=function({value:t}){return/[0-9]/.test(String(t))},Yhe=function({value:e}){return/[!-/:-@[-`{-~]/.test(String(e))},Xhe=function({value:e},t="default"){const n={default:/\p{Lu}/u,latin:/[A-Z]/},r=st(n,t)?t:"default";return n[r].test(String(e))},Qhe=function({value:t},n,r){n=n instanceof Date?n.getTime():Date.parse(n),r=r instanceof Date?r.getTime():Date.parse(r);const i=t instanceof Date?t.getTime():Date.parse(String(t));if(n&&!r)r=n,n=Date.now();else if(!n||!i)return!1;return i>=n&&i<=r},Jhe=function({value:t},n){return n&&typeof n=="string"?$fe(n).test(String(t)):!isNaN(Date.parse(String(t)))},Zhe=function({value:t}){return/^(([^<>()\[\]\.,;:\s@\"]+(\.[^<>()\[\]\.,;:\s@\"]+)*)|(\".+\"))@(([^<>()[\]\.,;:\s@\"]+\.)+[^<>()[\]\.,;:\s@\"]{2,})$/i.test(String(t))},ege=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.endsWith(r)):typeof t=="string"&&n.length===0},tge=function({value:t},...n){return n.some(r=>typeof r=="object"?it(r,t):r==t)},nge=function({value:t},n=0,r=1/0){n=parseInt(n),r=isNaN(parseInt(r))?1/0:parseInt(r);const i=n<=r?n:r,s=r>=n?r:n;if(typeof t=="string"||Array.isArray(t))return t.length>=i&&t.length<=s;if(t&&typeof t=="object"){const o=Object.keys(t).length;return o>=i&&o<=s}return!1},rge=function({value:e},t="default"){const n={default:/^\p{Ll}+$/u,latin:/^[a-z]+$/},r=st(n,t)?t:"default";return n[r].test(String(e))},ige=function({value:t},...n){return n.some(r=>(typeof r=="string"&&r.substr(0,1)==="/"&&r.substr(-1)==="/"&&(r=new RegExp(r.substr(1,r.length-2))),r instanceof RegExp?r.test(String(t)):r===t))},sge=function({value:t},n=10){return Array.isArray(t)?t.length<=n:Number(t)<=Number(n)},oge=function({value:t},n=1){return Array.isArray(t)?t.length>=n:Number(t)>=Number(n)},age=function({value:t},...n){return!n.some(r=>typeof r=="object"?it(r,t):r===t)},lge=function({value:t}){return!isNaN(t)},T6=function(e,...t){return ms(e.value)?t.map(r=>{var i;return(i=e.at(r))===null||i===void 0?void 0:i.value}).some(r=>!ms(r)):!0};T6.skipEmpty=!1;const I6=function({value:t},n="default"){return n==="trim"&&typeof t=="string"?!ms(t.trim()):!ms(t)};I6.skipEmpty=!1;const uge=function({value:t},...n){return typeof t=="string"&&n.length?n.some(r=>t.startsWith(r)):typeof t=="string"&&n.length===0},cge=function({value:e}){return/^[!-/:-@[-`{-~]+$/.test(String(e))},dge=function({value:e},t="default"){const n={default:/^\p{Lu}+$/u,latin:/^[A-Z]+$/},r=st(n,t)?t:"default";return n[r].test(String(e))},fge=function({value:t},...n){try{const r=n.length?n:["http:","https:"],i=new URL(String(t));return r.includes(i.protocol)}catch{return!1}},pge=Object.freeze(Object.defineProperty({__proto__:null,accepted:x6,alpha:Fhe,alpha_spaces:Bhe,alphanumeric:Uhe,between:Hhe,confirm:jhe,contains_alpha:Whe,contains_alpha_spaces:qhe,contains_alphanumeric:zhe,contains_lowercase:Khe,contains_numeric:Ghe,contains_symbol:Yhe,contains_uppercase:Xhe,date_after:Lhe,date_before:Vhe,date_between:Qhe,date_format:Jhe,email:Zhe,ends_with:ege,is:tge,length:nge,lowercase:rge,matches:ige,max:sge,min:oge,not:age,number:lge,require_one:T6,required:I6,starts_with:uge,symbol:cge,uppercase:dge,url:fge},Symbol.toStringTag,{value:"Module"})),C6=new WeakSet;function kg(e,t){const n=t||Object.assign(new Map,{active:!1}),r=new Map,i=function(c){var d;n.active&&(n.has(e)||n.set(e,new Set),(d=n.get(e))===null||d===void 0||d.add(c))},s=function(c){return new Proxy(c,{get(...d){return typeof d[1]=="string"&&i(`prop:${d[1]}`),Reflect.get(...d)}})},o=function(c){return new Proxy(c,{get(...d){return d[1]==="value"?f=>(i(`count:${f}`),c.value(f)):Reflect.get(...d)}})},a=function(c,d){return Am(c)?kg(c,n):(d==="value"&&i("commit"),d==="_value"&&i("input"),d==="props"?s(c):d==="ledger"?o(c):c)},{proxy:l,revoke:u}=Proxy.revocable(e,{get(...c){switch(c[1]){case"_node":return e;case"deps":return n;case"watch":return(f,p)=>O6(l,f,p);case"observe":return()=>{const f=new Map(n);return n.clear(),n.active=!0,f};case"stopObserve":return()=>{const f=new Map(n);return n.active=!1,f};case"receipts":return r;case"kill":return()=>{k6(r),C6.add(c[2]),u()}}const d=Reflect.get(...c);return typeof d=="function"?(...f)=>{const p=d(...f);return a(p,c[1])}:a(d,c[1])}});return l}function A6(e,[t,n],r){t.forEach((i,s)=>{i.forEach(o=>{var a;e.receipts.has(s)||e.receipts.set(s,{}),e.receipts.set(s,Object.assign((a=e.receipts.get(s))!==null&&a!==void 0?a:{},{[o]:s.on(o,r)}))})}),n.forEach((i,s)=>{i.forEach(o=>{if(e.receipts.has(s)){const a=e.receipts.get(s);a&&st(a,o)&&(s.off(a[o]),delete a[o],e.receipts.set(s,a))}})})}function k6(e){e.forEach((t,n)=>{for(const r in t)n.off(t[r])})}function O6(e,t,n){const r=o=>{const a=e.stopObserve();A6(e,P6(i,a),()=>O6(e,t,n)),n&&n(o)},i=new Map(e.deps);e.observe();const s=t(e);s instanceof Promise?s.then(o=>r(o)):r(s)}function P6(e,t){const n=new Map,r=new Map;return t.forEach((i,s)=>{if(!e.has(s))n.set(s,i);else{const o=new Set,a=e.get(s);i.forEach(l=>!(a!=null&&a.has(l))&&o.add(l)),n.set(s,o)}}),e.forEach((i,s)=>{if(!t.has(s))r.set(s,i);else{const o=new Set,a=t.get(s);i.forEach(l=>!(a!=null&&a.has(l))&&o.add(l)),r.set(s,o)}}),[n,r]}function R6(e){return C6.has(e)}const MS=jr({type:"state",blocking:!0,visible:!1,value:!0,key:"validating"});function hge(e={}){return function(n){let r=hs(n.props.validationRules||{}),i={...e,...r},s=kg(n);const o={input:Xf(),rerun:null,isPassing:!0};let a=hs(n.props.validation);n.on("prop:validation",({payload:u})=>l(u,r)),n.on("prop:validationRules",({payload:u})=>l(a,u));function l(u,c){var d;it(Object.keys(r||{}),Object.keys(c||{}))&&it(a,u)||(r=hs(c),a=hs(u),i={...e,...r},k6(s.receipts),(d=n.props.parsedRules)===null||d===void 0||d.forEach(f=>{var p;f.messageObserver=(p=f.messageObserver)===null||p===void 0?void 0:p.kill()}),n.store.filter(()=>!1,"validation"),n.props.parsedRules=mN(u,i),s.kill(),s=kg(n),LS(s,n.props.parsedRules,o))}n.props.parsedRules=mN(a,i),LS(s,n.props.parsedRules,o)}}function LS(e,t,n){R6(e)||(n.input=Xf(),n.isPassing=!0,e.store.filter(r=>!r.meta.removeImmediately,"validation"),t.forEach(r=>r.debounce&&clearTimeout(r.timer)),t.length&&(e.store.set(MS),FS(0,t,e,n,!1,()=>{e.store.remove(MS.key)})))}function FS(e,t,n,r,i,s){const o=t[e];if(!o)return s();const a=r.input;o.state=null;function l(u,c){r.isPassing=r.isPassing&&!!c,o.queued=!1;const d=n.stopObserve();A6(n,P6(o.deps,d),()=>{try{n.store.set(MS)}catch{}o.queued=!0,r.rerun&&clearTimeout(r.rerun),r.rerun=setTimeout(LS,0,n,t,r)}),o.deps=d,r.input===a&&(o.state=c,c===!1?vge(n,o,i||u):mge(n,o),t.length>e+1?FS(e+1,t,n,r,i||u,s):s())}(!ms(n.value)||!o.skipEmpty)&&(r.isPassing||o.force)?o.queued?gge(o,n,u=>{u instanceof Promise?u.then(c=>l(!0,c)):l(!1,u)}):FS(e+1,t,n,r,i,s):ms(n.value)&&o.skipEmpty&&r.isPassing?(n.observe(),n.value,l(!1,r.isPassing)):l(!1,null)}function gge(e,t,n){e.debounce?e.timer=setTimeout(()=>{t.observe(),n(e.rule(t,...e.args))},e.debounce):(t.observe(),n(e.rule(t,...e.args)))}function mge(e,t){const n=`rule_${t.name}`;t.messageObserver&&(t.messageObserver=t.messageObserver.kill()),st(e.store,n)&&e.store.remove(n)}function vge(e,t,n){R6(e)||(t.messageObserver||(t.messageObserver=kg(e._node)),t.messageObserver.watch(r=>_ge(r,t),r=>{const i=yge(e,t,r),s=jr({blocking:t.blocking,key:`rule_${t.name}`,meta:{messageKey:t.name,removeImmediately:n,localize:!i,i18nArgs:r},type:"validation",value:i||"This field is not valid."});e.store.set(s)}))}function yge(e,t,n){const r=e.props.validationMessages&&st(e.props.validationMessages,t.name)?e.props.validationMessages[t.name]:void 0;return typeof r=="function"?r(...n):r}function _ge(e,t){return[{node:e,name:D6(e),args:t.args}]}function D6(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}const N6="(?:[\\*+?()0-9]+)",M6="[a-zA-Z][a-zA-Z0-9_]+",bge=new RegExp(`^(${N6}?${M6})(?:\\:(.*)+)?$`,"i"),wge=new RegExp(`^(${N6})(${M6})$`,"i"),Ege=/([\*+?]+)?(\(\d+\))([\*+?]+)?/,gN=/\(\d+\)/,$ge={blocking:!0,debounce:0,force:!1,skipEmpty:!0,name:""};function mN(e,t){return e?(typeof e=="string"?Sge(e):wa(e)).reduce((r,i)=>{let s=i.shift();const o={};if(typeof s=="string"){const[a,l]=Tge(s);st(t,a)&&(s=t[a],Object.assign(o,l))}return typeof s=="function"&&r.push({rule:s,args:i,timer:0,state:null,queued:!0,deps:new Map,...$ge,...Ige(o,s)}),r},[]):[]}function Sge(e){return e.split("|").reduce((t,n)=>{const r=xge(n);return r&&t.push(r),t},[])}function xge(e){const t=e.trim();if(t){const n=t.match(bge);if(n&&typeof n[1]=="string"){const r=n[1].trim(),i=n[2]&&typeof n[2]=="string"?n[2].split(",").map(s=>s.trim()):[];return[r,...i]}}return!1}function Tge(e){const t=e.match(wge);if(!t)return[e,{name:e}];const n={"*":{force:!0},"+":{skipEmpty:!1},"?":{blocking:!1}},[,r,i]=t,s=gN.test(r)?r.match(Ege)||[]:[,r];return[i,[s[1],s[2],s[3]].reduce((o,a)=>(a&&(gN.test(a)?o.debounce=parseInt(a.substr(1,a.length-1)):a.split("").forEach(l=>st(n,l)&&Object.assign(o,n[l]))),o),{name:i})]}function Ige(e,t){return e.name||(e.name=t.ruleName||t.name),["skipEmpty","force","debounce","blocking"].reduce((n,r)=>(st(t,r)&&!st(n,r)&&Object.assign(n,{[r]:t[r]}),n),e)}function Ot(e){return e[0].toUpperCase()+e.substr(1)}function vN(e,t="or"){return e.reduce((n,r,i)=>(n+=r,i<=e.length-2&&e.length>2&&(n+=", "),i===e.length-2&&(n+=`${e.length===2?" ":""}${t} `),n),"")}function kv(e){const t=typeof e=="string"?new Date(Date.parse(e)):e;return t instanceof Date?new Intl.DateTimeFormat(void 0,{dateStyle:"medium",timeZone:"UTC"}).format(t):"(unknown)"}function Cge(e,t){return Number(e)>=Number(t)?[t,e]:[e,t]}const Age={add:"Add",remove:"Remove",removeAll:"Remove all",incomplete:"Sorry, not all fields are filled out correctly.",submit:"Submit",noFiles:"No file chosen",moveUp:"Move up",moveDown:"Move down",isLoading:"Loading...",loadMore:"Load more",next:"Next",prev:"Previous",addAllValues:"Add all values",addSelectedValues:"Add selected values",removeAllValues:"Remove all values",removeSelectedValues:"Remove selected values",chooseDate:"Choose date",changeDate:"Change date",summaryHeader:"There were errors in your form.",close:"Close"},kge={accepted({name:e}){return`Please accept the ${e}.`},date_after({name:e,args:t}){return Array.isArray(t)&&t.length?`${Ot(e)} must be after ${kv(t[0])}.`:`${Ot(e)} must be in the future.`},alpha({name:e}){return`${Ot(e)} can only contain alphabetical characters.`},alphanumeric({name:e}){return`${Ot(e)} can only contain letters and numbers.`},alpha_spaces({name:e}){return`${Ot(e)} can only contain letters and spaces.`},contains_alpha({name:e}){return`${Ot(e)} must contain alphabetical characters.`},contains_alphanumeric({name:e}){return`${Ot(e)} must contain letters or numbers.`},contains_alpha_spaces({name:e}){return`${Ot(e)} must contain letters or spaces.`},contains_symbol({name:e}){return`${Ot(e)} must contain a symbol.`},contains_uppercase({name:e}){return`${Ot(e)} must contain an uppercase letter.`},contains_lowercase({name:e}){return`${Ot(e)} must contain a lowercase letter.`},contains_numeric({name:e}){return`${Ot(e)} must contain numbers.`},symbol({name:e}){return`${Ot(e)} must be a symbol.`},uppercase({name:e}){return`${Ot(e)} can only contain uppercase letters.`},lowercase({name:e}){return`${Ot(e)} can only contain lowercase letters.`},date_before({name:e,args:t}){return Array.isArray(t)&&t.length?`${Ot(e)} must be before ${kv(t[0])}.`:`${Ot(e)} must be in the past.`},between({name:e,args:t}){if(isNaN(t[0])||isNaN(t[1]))return"This field was configured incorrectly and cant be submitted.";const[n,r]=Cge(t[0],t[1]);return`${Ot(e)} must be between ${n} and ${r}.`},confirm({name:e}){return`${Ot(e)} does not match.`},date_format({name:e,args:t}){return Array.isArray(t)&&t.length?`${Ot(e)} is not a valid date, please use the format ${t[0]}`:"This field was configured incorrectly and cant be submitted"},date_between({name:e,args:t}){return`${Ot(e)} must be between ${kv(t[0])} and ${kv(t[1])}`},email:"Please enter a valid email address.",ends_with({name:e,args:t}){return`${Ot(e)} doesnt end with ${vN(t)}.`},is({name:e}){return`${Ot(e)} is not an allowed value.`},length({name:e,args:[t=0,n=1/0]}){const r=Number(t)<=Number(n)?t:n,i=Number(n)>=Number(t)?n:t;return r==1&&i===1/0?`${Ot(e)} must be at least one character.`:r==0&&i?`${Ot(e)} must be less than or equal to ${i} characters.`:r===i?`${Ot(e)} should be ${i} characters long.`:r&&i===1/0?`${Ot(e)} must be greater than or equal to ${r} characters.`:`${Ot(e)} must be between ${r} and ${i} characters.`},matches({name:e}){return`${Ot(e)} is not an allowed value.`},max({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have more than ${n[0]} ${e}.`:`${Ot(e)} must be no more than ${n[0]}.`},mime({name:e,args:t}){return t[0]?`${Ot(e)} must be of the type: ${t[0]}`:"No file formats allowed."},min({name:e,node:{value:t},args:n}){return Array.isArray(t)?`Cannot have fewer than ${n[0]} ${e}.`:`${Ot(e)} must be at least ${n[0]}.`},not({name:e,node:{value:t}}){return`${t} is not an allowed ${e}.`},number({name:e}){return`${Ot(e)} must be a number.`},require_one:({name:e,node:t,args:n})=>{const r=n.map(i=>{const s=t.at(i);return s?D6(s):!1}).filter(i=>!!i);return r.unshift(e),`${r.join(" or ")} is required.`},required({name:e}){return`${Ot(e)} is required.`},starts_with({name:e,args:t}){return`${Ot(e)} doesnt start with ${vN(t)}.`},url(){return"Please enter a valid URL."},invalidDate:"The selected date is invalid."};var Oge=Object.freeze({__proto__:null,ui:Age,validation:kge});function Pge(e){return function(n){let r=yN(n.config.locale,e),i=r?e[r]:{};n.on("prop:locale",({payload:s})=>{r=yN(s,e),i=r?e[r]:{},n.store.touch()}),n.on("prop:label",()=>n.store.touch()),n.on("prop:validationLabel",()=>n.store.touch()),n.hook.text((s,o)=>{var a,l;const u=((a=s.meta)===null||a===void 0?void 0:a.messageKey)||s.key;if(st(i,s.type)&&st(i[s.type],u)){const c=i[s.type][u];typeof c=="function"?s.value=Array.isArray((l=s.meta)===null||l===void 0?void 0:l.i18nArgs)?c(...s.meta.i18nArgs):c(s):s.value=c}return o(s)})}}function yN(e,t){if(st(t,e))return e;const[n]=e.split("-");if(st(t,n))return n;for(const r in t)return r;return!1}function Rge(e){const t={};return Object.keys(e).forEach(n=>{Object.keys(e[n]).forEach(r=>{t[r]?t[r][n]=e[n][r]:t[r]={[n]:e[n][r]}})}),Object.keys(t).forEach(n=>{const r=t[n];t[n]=function(i,s){return Dge(i,s,r)}}),t}function Dge(e,t,n){const r=e.props.type,i=e.props.family;let s="";n.global&&(s+=n.global+" "),n[`family:${i}`]&&(s+=n[`family:${i}`]+" "),n[r]&&(s+=n[r]);const o=s.split("$reset");return o.length>1?`$reset ${o[o.length-1].trim()}`:o[0].trim()}let Ls,Zs=null,J_,L6=!1,th=!1;const Nge=new Promise(e=>{J_=()=>{L6=!0,e()}}),ra=typeof window<"u"&&typeof fetch<"u";Ls=ra?getComputedStyle(document.documentElement):void 0;const gd={},Q1={};function Mge(e,t,n,r){t&&Object.assign(gd,t),ra&&!th&&(Ls!=null&&Ls.getPropertyValue("--formkit-theme"))?(J_(),th=!0):e&&!th&&ra?Lge(e):!th&&ra&&J_();const i=function(o){var a,l;o.addProps(["iconLoader","iconLoaderUrl"]),o.props.iconHandler=_N(!((a=o.props)===null||a===void 0)&&a.iconLoader?o.props.iconLoader:r,!((l=o.props)===null||l===void 0)&&l.iconLoaderUrl?o.props.iconLoaderUrl:n),Uge(o,o.props.iconHandler),o.on("created",()=>{var u;!((u=o==null?void 0:o.context)===null||u===void 0)&&u.handlers&&(o.context.handlers.iconClick=c=>{const d=`on${c.charAt(0).toUpperCase()}${c.slice(1)}IconClick`,f=o.props[d];if(f&&typeof f=="function")return p=>f(o,p)})})};return i.iconHandler=_N(r,n),i}function Lge(e){if(!(!e||!ra||typeof getComputedStyle!="function")&&(th=!0,Zs=document.getElementById("formkit-theme"),e&&ra&&(!(Ls!=null&&Ls.getPropertyValue("--formkit-theme"))&&!Zs||Zs!=null&&Zs.getAttribute("data-theme")&&(Zs==null?void 0:Zs.getAttribute("data-theme"))!==e))){const n=`https://cdn.jsdelivr.net/npm/@formkit/themes@${W_.startsWith("__")?"latest":W_}/dist/${e}/theme.css`,r=document.createElement("link");r.type="text/css",r.rel="stylesheet",r.id="formkit-theme",r.setAttribute("data-theme",e),r.onload=()=>{Ls=getComputedStyle(document.documentElement),J_()},document.head.appendChild(r),r.href=n,Zs&&Zs.remove()}}function _N(e,t){return n=>{if(typeof n!="string")return;if(n.startsWith("<svg"))return n;const r=n.startsWith("default:");n=r?n.split(":")[1]:n;const i=n in gd;let s;if(i)return gd[n];if(!Q1[n]){if(s=Fge(n),s=ra&&typeof s>"u"?Promise.resolve(s):s,s instanceof Promise)Q1[n]=s.then(o=>!o&&typeof n=="string"&&!r?s=typeof e=="function"?e(n):Bge(n,t):o).then(o=>(typeof n=="string"&&(gd[r?`default:${n}`:n]=o),o));else if(typeof s=="string")return gd[r?`default:${n}`:n]=s,s}return Q1[n]}}function Fge(e){if(ra)return L6?bN(e):Nge.then(()=>bN(e))}function bN(e){const t=Ls==null?void 0:Ls.getPropertyValue(`--fk-icon-${e}`);if(t){const n=atob(t);if(n.startsWith("<svg"))return gd[e]=n,n}}function Bge(e,t){const n=W_.startsWith("__")?"latest":W_,r=typeof t=="function"?t(e):`https://cdn.jsdelivr.net/npm/@formkit/icons@${n}/dist/icons/${e}.svg`;if(ra)return fetch(`${r}`).then(async i=>{const s=await i.text();if(s.startsWith("<svg"))return s}).catch(i=>{console.error(i)})}function Uge(e,t){const n=/^[a-zA-Z-]+(?:-icon|Icon)$/;Object.keys(e.props).filter(i=>n.test(i)).forEach(i=>Vge(e,t,i))}function Vge(e,t,n){const r=e.props[n],i=t(r),s=`_raw${n.charAt(0).toUpperCase()}${n.slice(1)}`,o=`on${n.charAt(0).toUpperCase()}${n.slice(1)}Click`;if(e.addProps([s,o]),e.on(`prop:${n}`,Hge),i instanceof Promise)return i.then(a=>{e.props[s]=a});e.props[s]=i}function Hge(e){var t;const n=e.origin,r=e.payload,i=(t=n==null?void 0:n.props)===null||t===void 0?void 0:t.iconHandler,s=e.name.split(":")[1],o=`_raw${s.charAt(0).toUpperCase()}${s.slice(1)}`;if(i&&typeof i=="function"){const a=i(r);if(a instanceof Promise)return a.then(l=>{n.props[o]=l});n.props[o]=a}}const wN={100:({data:e})=>`Only groups, lists, and forms can have children (${e.name}).`,101:({data:e})=>`You cannot directly modify the store (${e.name}). See: https://formkit.com/advanced/core#message-store`,102:({data:[e,t]})=>`You cannot directly assign node.${t} (${e.name})`,103:({data:[e]})=>`Schema expressions cannot start with an operator (${e})`,104:({data:[e,t]})=>`Schema expressions cannot end with an operator (${e} in "${t}")`,105:({data:e})=>`Invalid schema expression: ${e}`,106:({data:e})=>`Cannot submit because (${e}) is not in a form.`,107:({data:[e,t]})=>`Cannot set ${e.name} to non object value: ${t}`,108:({data:[e,t]})=>`Cannot set ${e.name} to non array value: ${t}`,300:({data:[e]})=>`Cannot set behavior prop to overscroll (on ${e.name} input) when options prop is a function.`,600:({data:e})=>`Unknown input type${typeof e.props.type=="string"?' "'+e.props.type+'"':""} ("${e.name}")`,601:({data:e})=>`Input definition${typeof e.props.type=="string"?' "'+e.props.type+'"':""} is missing a schema or component property (${e.name}).`},EN={150:({data:e})=>`Schema function "${e}()" is not a valid function.`,151:({data:e})=>`No form element with id: ${e}`,152:({data:e})=>`No input element with id: ${e}`,350:({data:{node:e,inputType:t}})=>`Invalid options prop for ${e.name} input (${t}). See https://formkit.com/inputs/${t}`,650:'Schema "$get()" must use the id of an input to access.',651:({data:e})=>`Cannot setErrors() on "${e}" because no such id exists.`,652:({data:e})=>`Cannot clearErrors() on "${e}" because no such id exists.`,800:({data:e})=>`${e} is deprecated.`},jge=(e,t)=>{if(e.code in wN){const n=wN[e.code];e.message=typeof n=="function"?n(e):n}return t(e)};let $N=!1;function Wge(){$N||(oA(jge),aA(qge),$N=!0)}const qge=(e,t)=>{if(e.code in EN){const n=EN[e.code];e.message=typeof n=="function"?n(e):n}return t(e)},zge=typeof window>"u",J1=new Map;function Kge(e,t){var n;!zge||!e||(J1.has(e)||J1.set(e,new Set),(n=J1.get(e))===null||n===void 0||n.add(t))}const F6=typeof window>"u",Sh={},Fd={};let si;const qo=new WeakMap,Gge="__raw__",Yge=/[a-zA-Z0-9\-][cC]lass$/;function Xge(e,t){const n=ne(null);if(e==="get"){const i={};return n.value=Qge.bind(null,i),n}const r=e.split(".");return Kt(()=>{n.value=fA(hn(t)?t.value:t,r)}),n}function fA(e,t){if(Array.isArray(e)){for(const i of e){const s=i!==!1&&fA(i,t);if(s!==void 0)return s}return}let n,r=e;for(const i in t){const s=t[i];if(typeof r!="object"||r===null){n=void 0;break}const o=r[s];if(Number(i)===t.length-1&&o!==void 0){n=typeof o=="function"?o.bind(r):o;break}r=o}return n}function Qge(e,t){if(typeof t!="string")return Ql(650);if(t in e||(e[t]=ne(void 0)),e[t].value===void 0){e[t].value=null;const n=Cm(t);n&&(e[t].value=n.context),Yfe(t,({payload:r})=>{e[t].value=Am(r)?r.context:r})}return e[t].value}function SN(e,t,n){function r(p,h){const g=d(As(h.if),{if:!0}),m=u(p,h.then),v=h.else?u(p,h.else):null;return[g,m,v]}function i(p,h){var g,m;const v=d(As(p.if));let y=()=>h,b=()=>h;return typeof p.then=="object"?b=s(p.then,void 0):typeof p.then=="string"&&(!((g=p.then)===null||g===void 0)&&g.startsWith("$"))?b=d(As(p.then)):b=()=>p.then,st(p,"else")&&(typeof p.else=="object"?y=s(p.else):typeof p.else=="string"&&(!((m=p.else)===null||m===void 0)&&m.startsWith("$"))?y=d(As(p.else)):y=()=>p.else),()=>v()?b():y()}function s(p,h,g={}){const m=new Set(Object.keys(p||{})),v=h?d(As(h)):()=>({}),y=[b=>{const _=v();for(const S in _)m.has(S)||(b[S]=_[S])}];if(p){if(id(p))return i(p,g);for(let b in p){const _=p[b];let S;const I=typeof _=="string";b.startsWith(Gge)?(b=b.substring(7),S=()=>_):I&&_.startsWith("$")&&_.length>1&&!(_.startsWith("$reset")&&Yge.test(b))?S=d(As(_)):typeof _=="object"&&id(_)?S=i(_,void 0):typeof _=="object"&&mf(_)?S=s(_):S=()=>_,y.push(T=>{T[b]=S()})}}return()=>{const b=Array.isArray(p)?[]:{};return y.forEach(_=>_(b)),b}}function o(p,h){let g=null,m=()=>null,v=!1,y=null,b=null,_=null,S=!1;const I=Hpe(h);if(fc(I)?(g=I.$el,m=I.$el!=="text"?s(I.attrs,I.bind):()=>null):yf(I)?(typeof I.$cmp=="string"?st(p,I.$cmp)?g=p[I.$cmp]:(g=I.$cmp,S=!0):g=I.$cmp,m=s(I.props,I.bind)):id(I)&&([v,y,b]=r(p,I)),!id(I)&&"if"in I?v=d(As(I.if)):!id(I)&&g===null&&(v=()=>!0),"children"in I&&I.children)if(typeof I.children=="string")if(I.children.startsWith("$slots."))g=g==="text"?"slot":g,y=d(As(I.children));else if(I.children.startsWith("$")&&I.children.length>1){const T=d(As(I.children));y=()=>String(T())}else y=()=>String(I.children);else if(Array.isArray(I.children))y=u(p,I.children);else{const[T,w,x]=r(p,I.children);y=E=>T&&T()?w&&w(E):x&&x(E)}if(yf(I))if(y){const T=y;y=w=>({default(x,E){var O,M,V,H;const me=si;E&&(si=E),x&&((O=qo.get(si))===null||O===void 0||O.unshift(x)),w&&((M=qo.get(si))===null||M===void 0||M.unshift(w));const ce=T(w);return x&&((V=qo.get(si))===null||V===void 0||V.shift()),w&&((H=qo.get(si))===null||H===void 0||H.shift()),si=me,ce}}),y.slot=!0}else y=()=>({});if("for"in I&&I.for){const T=I.for.length===3?I.for[2]:I.for[1];_=[typeof T=="string"&&T.startsWith("$")?d(As(T)):()=>T,I.for[0],I.for.length===3?String(I.for[1]):null]}return[v,g,m,y,b,_,S]}function a(p,h){const g=p(h),m=si;return Object.keys(g).reduce((v,y)=>{const b=g&&g[y];return v[y]=_=>b&&b(_,m)||null,v},{})}function l(p,h){const[g,m,v,y,b,_,S]=o(p,h);let I=T=>{if(g&&m===null&&y)return g()?y(T):b&&b(T);if(m&&(!g||g())){if(m==="text"&&y)return En(String(y()));if(m==="slot"&&y)return y(T);const w=S?Wu(m):m,x=y!=null&&y.slot?a(y,T):null;return Xt(w,v(),x||(y?y(T):[]))}return typeof b=="function"?b(T):b};if(_){const T=I,[w,x,E]=_;I=()=>{const O=w(),M=Number.isFinite(O)?Array(Number(O)).fill(0).map((ce,ae)=>ae):O,V=[];if(typeof M!="object")return null;const H=qo.get(si)||[],me=Array.isArray(M);for(const ce in M){if(me&&ce in Array.prototype)continue;const ae=Object.defineProperty({...H.reduce((xe,Ie)=>xe.__idata?{...xe,...Ie}:Ie,{}),[x]:M[ce],...E!==null?{[E]:me?Number(ce):ce}:{}},"__idata",{enumerable:!1,value:!0});H.unshift(ae),V.push(T.bind(null,ae)()),H.shift()}return V}}return I}function u(p,h){if(Array.isArray(h)){const m=h.map(l.bind(null,p));return v=>m.map(y=>y(v))}const g=l(p,h);return m=>g(m)}const c=[];function d(p,h={}){const g=new WeakMap;return c.push((m,v)=>{g.set(v,p.provide(y=>m(y,h)))}),()=>g.get(si)()}function f(p,h){var g;n??(n=U6(t));const[m,v]=st(Sh,n)?Sh[n]:[u(e,t),c];return F6||((g=Fd[n])!==null&&g!==void 0||(Fd[n]=0),Fd[n]++,Sh[n]=[m,v]),v.forEach(y=>{y(p,h)}),()=>(si=h,m())}return f}function B6(e,t){const n=qo.get(si)||[];let r;return n.length&&(r=fA(n,e.split("."))),r===void 0?t:r}function Jge(e,t){return new Proxy(e,{get(...n){let r;const i=n[1];if(typeof i=="string"){const s=si;si=t,r=B6(i,void 0),si=s}return r!==void 0?r:Reflect.get(...n)}})}function xN(e,t,n){return e((r,i={})=>r.reduce((s,o)=>{if(o.startsWith("slots.")){const a=o.substring(6),l=()=>t.slots&&st(t.slots,a)&&typeof t.slots[a]=="function";if(i.if)s[o]=l;else if(t.slots){const u=Jge(t,n);s[o]=()=>l()?t.slots[a](u):null}}else{const a=Xge(o,t);s[o]=()=>B6(o,a.value)}return s},{}),n)}function TN(e,t,n){if(t??(t=U6(e)),Fd[t]--,Fd[t]===0){delete Fd[t];const[,r]=Sh[t];delete Sh[t],r.length=0}qo.delete(n)}function U6(e){return JSON.stringify(e,(t,n)=>typeof n=="function"?n.toString():n)}const V6=mn({name:"FormKitSchema",props:{schema:{type:[Array,Object],required:!0},data:{type:Object,default:()=>({})},library:{type:Object,default:()=>({})},memoKey:{type:String,required:!1}},setup(e,t){var n;const r=Pr();let i={};qo.set(i,[]);const s={FormKit:Sc(pA),...e.library};let o=SN(s,e.schema,e.memoKey),a,l;F6||xt(()=>e.schema,(c,d)=>{var f;const p=i;i={},qo.set(i,[]),o=SN(s,e.schema,e.memoKey),a=xN(o,l,i),c===d&&((f=r==null?void 0:r.proxy)===null||f===void 0?void 0:f.$forceUpdate)(),TN(e.schema,e.memoKey,p)},{deep:!0}),Kt(()=>{var c;l=Object.assign(Wi((c=e.data)!==null&&c!==void 0?c:{}),{slots:t.slots}),t.slots,a=xN(o,l,i)});function u(){TN(e.schema,e.memoKey,i),l.node&&l.node.destroy(),l.slots=null,l=null,a=null}return ur(u),Kge((n=Pr())===null||n===void 0?void 0:n.appContext.app,u),()=>a?a():null}}),Zge=typeof window>"u",IN=Symbol("FormKitParent");function eme(e,t){const n=ame(e,t);if(n.props.definition||ki(600,n),n.props.definition.component)return()=>{var l;return Xt((l=n.props.definition)===null||l===void 0?void 0:l.component,{context:n.context},{...t.slots})};const r=ne([]);let i=n.props.definition.schemaMemoKey;const s=()=>{var l,u;const c=(u=(l=n.props)===null||l===void 0?void 0:l.definition)===null||u===void 0?void 0:u.schema;c||ki(601,n),typeof c=="function"?(r.value=c({...e.sectionsSchema}),(i&&e.sectionsSchema||"memoKey"in c&&typeof c.memoKey=="string")&&(i=(i??(c==null?void 0:c.memoKey))+JSON.stringify(e.sectionsSchema))):r.value=c};s(),Zge||n.on("schema",()=>{i+="",s()}),t.emit("node",n);const o=n.props.definition.library,a={FormKit:Sc(pA),...o};return t.expose({node:n}),()=>Xt(V6,{schema:r.value,data:n.context,library:a,memoKey:i},{...t.slots})}const pA=mn(eme,{props:Kpe,inheritAttrs:!1}),tme=Symbol();function nme(e,t){return e.component(t.alias||"FormKit",pA).component(t.schemaAlias||"FormKitSchema",V6),{get:Cm,setLocale:n=>{var r;!((r=t.config)===null||r===void 0)&&r.rootConfig&&(t.config.rootConfig.locale=n)},clearErrors:qpe,setErrors:Wpe,submit:n6,reset:r6}}const H6=Symbol.for("FormKitOptions"),rme=Symbol.for("FormKitConfig"),ime={install(e,t){const n=Object.assign({alias:"FormKit",schemaAlias:"FormKitSchema"},typeof t=="function"?t():t),r=Xfe(n.config||{});n.config={rootConfig:r},e.config.globalProperties.$formkit=nme(e,n),e.provide(H6,n),e.provide(rme,r),typeof window<"u"&&(globalThis.__FORMKIT_CONFIGS__=(globalThis.__FORMKIT_CONFIGS__||[]).concat([r]))}},sme=typeof window<"u",Z1=["help","label","ignore","disabled","preserve",/^preserve(-e|E)rrors/,/^[a-z]+(?:-visibility|Visibility|-behavior|Behavior)$/,/^[a-zA-Z-]+(?:-class|Class)$/,"prefixIcon","suffixIcon",/^[a-zA-Z-]+(?:-icon|Icon)$/];function CN(e,t){t.classes&&Object.keys(t.classes).forEach(n=>{typeof n=="string"&&(e.props[`_${n}Class`]=t.classes[n],$h(t.classes[n])&&n==="inner"&&Object.values(t.classes[n]))})}function ome(e){return e?["Submit","SubmitRaw","SubmitInvalid"].reduce((n,r)=>{const i=`on${r}`;return i in e&&typeof e[i]=="function"&&(n[i]=e[i]),n},{}):{}}function ame(e,t,n={}){var r;const i=Object.assign({},lt(H6)||{},n),s=lt(tme,ne(sme?document:void 0)),o=Pr(),a=ome(o==null?void 0:o.vnode.props),l=["modelValue","model-value"].some(I=>{var T;return I in((T=o==null?void 0:o.vnode.props)!==null&&T!==void 0?T:{})});let u=!1;Qt(()=>{u=!0});const c=e.modelValue!==void 0?e.modelValue:hs(t.attrs.value);function d(){var I;const T={...qc(e),...a,type:(I=e.type)!==null&&I!==void 0?I:"text",__root:s.value,__slots:t.slots},w=tN(qc(t.attrs),Z1);w.key||(w.key=Xf()),T.attrs=w;const x=nN(qc(t.attrs),Z1);for(const O in x)T[Ld(O)]=x[O];const E={props:{}};return CN(E,e),Object.assign(T,E.props),typeof T.type!="string"&&(T.definition=T.type,delete T.type),T}const f=d(),p=f.ignore?null:e.parent||lt(IN,null),h=Upe(dc(i||{},{name:e.name||void 0,value:c,parent:p,plugins:(i.plugins||[]).concat((r=e.plugins)!==null&&r!==void 0?r:[]),config:e.config||{},props:f,index:e.index,sync:!!Ve(t.attrs.sync||t.attrs.dynamic)},!1,!0));h.props.definition||ki(600,h);const g=ne(new Set(h.props.definition.props||[]));h.on("added-props",({payload:I})=>{Array.isArray(I)&&I.forEach(T=>g.value.add(T))});const m=Ae(()=>Z1.concat([...g.value]).reduce((I,T)=>(typeof T=="string"?(I.push(Ld(T)),I.push(Qj(T))):I.push(T),I),[]));Kt(()=>CN(h,e));const v=qc(e);for(const I in v)xt(()=>e[I],()=>{e[I]!==void 0&&(h.props[I]=e[I])});Kt(()=>{h.props.__root=s.value});const y=new Set,b=qc(t.attrs);Kt(()=>{_(nN(b,m.value))});function _(I){y.forEach(T=>{T(),y.delete(T)});for(const T in I){const w=Ld(T);y.add(xt(()=>t.attrs[T],()=>{h.props[w]=t.attrs[T]}))}}if(Kt(()=>{const I=tN(qc(t.attrs),m.value);"multiple"in I&&(I.multiple=Ve(I.multiple)),typeof I.onBlur=="function"&&(I.onBlur=Afe(I.onBlur)),h.props.attrs=Object.assign({},h.props.attrs||{},I)}),Kt(()=>{var I;const T=((I=e.errors)!==null&&I!==void 0?I:[]).map(w=>jr({key:iA(w),type:"error",value:w,meta:{source:"prop"}}));h.store.apply(T,w=>w.type==="error"&&w.meta.source==="prop")}),h.type!=="input"){const I=`${h.name}-prop`;Kt(()=>{var T;const w=(T=e.inputErrors)!==null&&T!==void 0?T:{},x=Object.keys(w);x.length||h.clearErrors(!0,I);const E=x.reduce((O,M)=>{let V=w[M];return typeof V=="string"&&(V=[V]),Array.isArray(V)&&(O[M]=V.map(H=>jr({key:H,type:"error",value:H,meta:{source:I}}))),O},{});h.store.apply(E,O=>O.type==="error"&&O.meta.source===I)})}Kt(()=>Object.assign(h.config,e.config)),h.type!=="input"&&Kn(IN,h);let S;return h.on("modelUpdated",()=>{var I,T;t.emit("inputRaw",(I=h.context)===null||I===void 0?void 0:I.value,h),u&&t.emit("input",(T=h.context)===null||T===void 0?void 0:T.value,h),l&&h.context&&(S=hs(h.value),t.emit("update:modelValue",PS(h.value)))}),l&&(xt(Jx(e,"modelValue"),I=>{it(S,I)||h.input(I,!1)},{deep:!0}),h.value!==c&&h.emit("modelUpdated")),Vl(()=>h.destroy()),h}let lme=1;function ume(e){return typeof e=="function"&&e.length===2||typeof e=="object"&&!Array.isArray(e)&&!("$el"in e)&&!("$cmp"in e)&&!("if"in e)}function AN(e,t={}){const n={type:"input",...t};let r;if(ume(e)){const i=`SchemaComponent${lme++}`;r=Ke("input",()=>({$cmp:i,props:{context:"$node.context"}})),n.library={[i]:Sc(e)}}else typeof e=="function"?r=e:r=Ke("input",()=>hs(e));return n.schema=xhe(r||"Schema undefined"),n.schemaMemoKey||(n.schemaMemoKey=`${Math.random()}`),n}const cme=function(t){t.ledger.count("blocking",E=>E.blocking);const n=ne(!t.ledger.value("blocking"));t.ledger.count("errors",E=>E.type==="error");const r=ne(!!t.ledger.value("errors"));let i=!1;qn(()=>{i=!0});const s=Wi(t.store.reduce((E,O)=>(O.visible&&(E[O.key]=O),E),{})),o=ne(t.props.validationVisibility||(t.props.type==="checkbox"?"dirty":"blur"));t.on("prop:validationVisibility",({payload:E})=>{o.value=E});const a=ne(o.value==="live"),l=ne(!1),u=E=>{l.value=(E??[]).some(O=>O.name==="required")};u(t.props.parsedRules),t.on("prop:parsedRules",({payload:E})=>u(E));const c=ne(t.children.map(E=>E.uid)),d=Ae(()=>{if(!S.state)return!1;if(S.state.submitted)return!0;if(!a.value&&!S.state.settled)return!1;switch(o.value){case"live":return!0;case"blur":return S.state.blurred;case"dirty":return S.state.dirty;default:return!1}}),f=Ae(()=>S&&p.value?n.value&&!r.value:S.state.dirty&&!ms(S.value)),p=ne(Array.isArray(t.props.parsedRules)&&t.props.parsedRules.length>0);t.on("prop:parsedRules",({payload:E})=>{p.value=Array.isArray(E)&&E.length>0});const h=Ae(()=>{const E={};for(const O in s){const M=s[O];(M.type!=="validation"||d.value)&&(E[O]=M)}return E}),g=Wi(t.store.reduce((E,O)=>(O.type==="ui"&&O.visible&&(E[O.key]=O),E),{})),m=Wi({}),v=new Proxy(m,{get(...E){const[O,M]=E;let V=Reflect.get(...E);return!V&&typeof M=="string"&&!st(O,M)&&!M.startsWith("__v")&&kg(t).watch(me=>{const ce=typeof me.config.rootClasses=="function"?me.config.rootClasses(M,me):{},ae=me.config.classes?Sy(M,me,me.config.classes[M]):{},xe=Sy(M,me,me.props[`_${M}Class`]),Ie=Sy(M,me,me.props[`${M}Class`]);V=jpe(me,M,ce,ae,xe,Ie),O[M]=V??""}),V}});t.on("prop:rootClasses",()=>{const E=Object.keys(m);for(const O of E)delete m[O]});const y=Ae(()=>{const E=[];S.help&&E.push(`help-${t.props.id}`);for(const O in h.value)E.push(`${t.props.id}-${O}`);return E.length?E.join(" "):void 0}),b=ne(t.value),_=ne(t.value),S=Wi({_value:_,attrs:t.props.attrs,disabled:t.props.disabled,describedBy:y,fns:{length:E=>Object.keys(E).length,number:E=>Number(E),string:E=>String(E),json:E=>JSON.stringify(E),eq:it},handlers:{blur:E=>{t&&(t.store.set(jr({key:"blurred",visible:!1,value:!0})),typeof t.props.attrs.onBlur=="function"&&t.props.attrs.onBlur(E))},touch:()=>{var E;const O=S.dirtyBehavior==="compare";if(!((E=t.store.dirty)===null||E===void 0)&&E.value&&!O)return;const M=!it(t.props._init,t._value);!M&&!O||t.store.set(jr({key:"dirty",visible:!1,value:M}))},DOMInput:E=>{t.input(E.target.value),t.emit("dom-input-event",E)}},help:t.props.help,id:t.props.id,items:c,label:t.props.label,messages:h,node:Sc(t),options:t.props.options,defaultMessagePlacement:!0,slots:t.props.__slots,state:{blurred:!1,complete:f,dirty:!1,empty:ms(b),submitted:!1,settled:t.isSettled,valid:n,errors:r,rules:p,validationVisible:d,required:l},type:t.props.type,family:t.props.family,ui:g,value:b,classes:v});t.on("created",()=>{it(S.value,t.value)||(_.value=t.value,b.value=t.value,jp(b),jp(_)),(async()=>(await t.settled,t&&(t.props._init=hs(t.value))))()}),t.on("settled",({payload:E})=>{S.state.settled=E});function I(E){E.forEach(O=>{O=Ld(O),st(S,O)||(S[O]=t.props[O]),t.on(`prop:${O}`,({payload:M})=>{S[O]=M})})}I((()=>{const E=["__root","help","label","disabled","options","type","attrs","preserve","preserveErrors","id","dirtyBehavior"],O=/^[a-zA-Z-]+(?:-icon|Icon)$/,M=Object.keys(t.props).filter(V=>O.test(V));return E.concat(M)})());function w(E){E.props&&I(E.props)}t.props.definition&&w(t.props.definition),t.on("added-props",({payload:E})=>I(E)),t.on("input",({payload:E})=>{t.type!=="input"&&!hn(E)&&!Jo(E)?_.value=PS(E):(_.value=E,jp(_))}),t.on("commitRaw",({payload:E})=>{t.type!=="input"&&!hn(E)&&!Jo(E)?b.value=_.value=PS(E):(b.value=_.value=E,jp(b)),t.emit("modelUpdated")}),t.on("commit",({payload:E})=>{(!S.state.dirty||S.dirtyBehavior==="compare")&&t.isCreated&&i&&S.handlers.touch(),f&&t.type==="input"&&r.value&&!Ve(t.props.preserveErrors)&&t.store.filter(O=>{var M;return!(O.type==="error"&&((M=O.meta)===null||M===void 0?void 0:M.autoClear)===!0)}),t.type==="list"&&t.sync&&(c.value=t.children.map(O=>O.uid)),S.state.empty=ms(E)});const x=async E=>{E.type==="ui"&&E.visible&&!E.meta.showAsMessage?g[E.key]=E:E.visible?s[E.key]=E:E.type==="state"&&(S.state[E.key]=!!E.value)};t.on("message-added",E=>x(E.payload)),t.on("message-updated",E=>x(E.payload)),t.on("message-removed",({payload:E})=>{delete g[E.key],delete s[E.key],delete S.state[E.key]}),t.on("settled:blocking",()=>{n.value=!0}),t.on("unsettled:blocking",()=>{n.value=!1}),t.on("settled:errors",()=>{r.value=!1}),t.on("unsettled:errors",()=>{r.value=!0}),xt(d,E=>{E&&(a.value=!0)}),t.context=S,t.emit("context",t,!1),t.on("destroyed",()=>{t.context=void 0,t=null})},dme=(e={})=>{Wge();const{rules:t={},locales:n={},inputs:r={},messages:i={},locale:s=void 0,theme:o=void 0,iconLoaderUrl:a=void 0,iconLoader:l=void 0,icons:u={},...c}=e,d=hge({...pge,...t||{}}),f=Pge(dc({en:Oge,...n||{}},i)),p=zpe(Mhe,r),h=Mge(o,u,a,l);return dc({plugins:[p,h,cme,f,d],...s?{config:{locale:s}}:{}},c||{},!0)};var fme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 27"><polygon fill="currentColor" points="26.99 0 10.13 17.17 4.69 11.63 0 16.41 10.4 27 15.05 22.27 15.09 22.31 32 5.1 26.99 0"/></svg>',pme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32"><circle fill="currentColor" cx="16" cy="16" r="16"/></svg>',kN='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 12 16"><path d="M10,12.5c-.13,0-.26-.05-.35-.15L1.65,4.35c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0L10.35,11.65c.2,.2,.2,.51,0,.71-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/><path d="M2,12.5c-.13,0-.26-.05-.35-.15-.2-.2-.2-.51,0-.71L9.65,3.65c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71L2.35,12.35c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',hme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path fill="currentColor" d="M7.56,13.88c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5c2.96,0,5.38-2.41,5.38-5.38S10.53,2.12,7.56,2.12c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5c3.52,0,6.38,2.86,6.38,6.38s-2.86,6.38-6.38,6.38Z"/></svg>',gme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 15"><path fill="currentColor" d="M11.41,8.41h0l1.14-.93,1.14-.93c.48-.39,.37-.74-.25-.77l-1.58-.09-2.5-.14-.41-1.05s0,0,0,0l-.53-1.38-.53-1.38c-.22-.58-.59-.58-.81,0l-1.07,2.75s0,0,0,0l-.41,1.05-2.5,.14-1.58,.09c-.62,.03-.73,.38-.25,.77l1.14,.93,1.14,.93h0l.87,.71-.57,2.15-.47,1.79c-.16,.6,.14,.81,.66,.48l2.48-1.6h0s.94-.61,.94-.61l.94,.61h0s1.24,.8,1.24,.8l1.24,.8c.52,.33,.82,.12,.66-.48l-.47-1.79-.57-2.15,.87-.71Z"/></svg>',mme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16"><path d="M14.5,4H1.5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5H14.5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M11.02,3.81l-.44-1.46c-.06-.21-.26-.36-.48-.36H5.9c-.22,0-.41,.14-.48,.36l-.44,1.46-.96-.29,.44-1.46c.19-.64,.77-1.07,1.44-1.07h4.2c.67,0,1.24,.43,1.44,1.07l.44,1.46-.96,.29Z" fill="currentColor"/><path d="M11.53,15H4.47c-.81,0-1.47-.64-1.5-1.45l-.34-9.87,1-.03,.34,9.87c0,.27,.23,.48,.5,.48h7.07c.27,0,.49-.21,.5-.48l.34-9.87,1,.03-.34,9.87c-.03,.81-.69,1.45-1.5,1.45Z" fill="currentColor"/><path d="M6.5,11.62c-.28,0-.5-.22-.5-.5V7.12c0-.28,.22-.5,.5-.5s.5,.22,.5,.5v4c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M9.5,11.62c-.28,0-.5-.22-.5-.5V7.12c0-.28,.22-.5,.5-.5s.5,.22,.5,.5v4c0,.28-.22,.5-.5,.5Z" fill="currentColor"/></svg>',vme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 16"><path d="M4.5,13c-.28,0-.5-.22-.5-.5V3.5c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V12.5c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M4.5,14c-.13,0-.26-.05-.35-.15L.65,10.35c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0l3.15,3.15,3.15-3.15c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71l-3.5,3.5c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',yme='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 9 16"><path d="M4.5,14c-.28,0-.5-.22-.5-.5V4.5c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V13.5c0,.28-.22,.5-.5,.5Z" fill="currentColor"/><path d="M8,7.5c-.13,0-.26-.05-.35-.15l-3.15-3.15L1.35,7.35c-.2,.2-.51,.2-.71,0-.2-.2-.2-.51,0-.71l3.5-3.5c.2-.2,.51-.2,.71,0l3.5,3.5c.2,.2,.2,.51,0,.71-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',_me='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 7"><path d="M8,6.5c-.13,0-.26-.05-.35-.15L3.15,1.85c-.2-.2-.2-.51,0-.71,.2-.2,.51-.2,.71,0l4.15,4.15L12.15,1.15c.2-.2,.51-.2,.71,0,.2,.2,.2,.51,0,.71l-4.5,4.5c-.1,.1-.23,.15-.35,.15Z" fill="currentColor"/></svg>',ON='<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 15 16"><path d="M12.5,16H2.5c-.83,0-1.5-.67-1.5-1.5V1.5c0-.83,.67-1.5,1.5-1.5h7.09c.4,0,.78,.16,1.06,.44l2.91,2.91c.28,.28,.44,.66,.44,1.06V14.5c0,.83-.67,1.5-1.5,1.5ZM2.5,1c-.28,0-.5,.22-.5,.5V14.5c0,.28,.22,.5,.5,.5H12.5c.28,0,.5-.22,.5-.5V4.41c0-.13-.05-.26-.15-.35l-2.91-2.91c-.09-.09-.22-.15-.35-.15H2.5Z" fill="currentColor"/><path d="M13.38,5h-2.91c-.81,0-1.47-.66-1.47-1.47V.62c0-.28,.22-.5,.5-.5s.5,.22,.5,.5V3.53c0,.26,.21,.47,.47,.47h2.91c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M10,13H5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M10,10H5c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h5c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/><path d="M7,7h-2c-.28,0-.5-.22-.5-.5s.22-.5,.5-.5h2c.28,0,.5,.22,.5,.5s-.22,.5-.5,.5Z" fill="currentColor"/></svg>';function Zl(e,t){return e instanceof HTMLElement&&e.parentNode instanceof HTMLElement||t.lastParent instanceof HTMLElement}var K={activeNode:void 0,enterCount:0,clonedDraggedNodes:Array(),direction:void 0,draggedNode:void 0,draggedNodes:Array(),dropZones:new WeakMap,dropped:!1,hiddenNodes:new WeakMap,initialParent:void 0,initialParentValues:[],lastCoordinates:{x:0,y:0},lastParent:void 0,lastValue:void 0,leftParent:!1,longTouch:!1,longTouchTimeout:void 0,nodeData:new WeakMap,parentData:new WeakMap,parentObservers:new WeakMap,parents:new WeakSet,preventEnter:!1,removeDraggable:void 0,scrollParent:void 0,scrollParentOverflow:void 0,touchMoving:!1,selectedNodes:Array(),selectedValues:Array(),touchEnded:!1,touchedNode:void 0,touchStartLeft:void 0,touchStartTop:void 0},bme=typeof window<"u";function j6(e){var r,i,s,o;if(!K.draggedNode||!K.initialParent||!K.lastParent)return;const t=(r=K.parentData.get(K.initialParent))==null?void 0:r.config,n=(t==null?void 0:t.root)||document;if(t){const a=K.selectedValues.length>0,l=e.event instanceof TouchEvent;let u;if(l?u=a?t.touchSelectionDropZoneClass:t.touchDropZoneClass:u=a?t.selectionDropZoneClass:t.dropZoneClass,Si(K.draggedNodes,u,K,!0),u){const c=n.querySelectorAll(`.${X6(u)}`);Si(Array.from(c),u,K,!0)}}Si(K.draggedNodes,(s=(i=K.parentData.get(K.initialParent))==null?void 0:i.config)==null?void 0:s.longTouchClass,K,!0),(o=K.touchedNode)==null||o.remove(),K.touchedNode=void 0,K.lastParent=void 0,K.draggedNode=void 0,K.draggedNodes=[],K.selectedNodes=[],K.selectedValues=[],K.touchStartTop=K.touchedNode=void 0,K.touchStartLeft=0,K.lastValue=void 0,K.touchMoving=!1,K.lastCoordinates={x:0,y:0},K.direction=void 0,K.scrollParent&&(K.scrollParent.style.overflow=K.scrollParentOverflow||"",K.scrollParent=void 0,K.scrollParentOverflow=void 0)}function Rm(){if(!K.draggedNode||!K.lastParent||!K.initialParent)return;const e=K.nodeData.get(K.draggedNode),t=K.parentData.get(K.initialParent),n=K.parentData.get(K.lastParent);if(!(!e||!t||!n))return{draggedNode:K.draggedNode,draggedNodeData:e,draggedParent:K.initialParent,draggedParentData:t,lastParent:K.lastParent,lastParentData:n}}function W6(){if(!K.touchedNode)return;const e=Rm();return e===void 0?void 0:{...e,touchedNode:K.touchedNode}}function q6(e){if(!Zl(e.currentTarget,K))return;const t=K.nodeData.get(e.currentTarget),n=K.parentData.get(e.currentTarget.parentNode||K.lastParent);return!t||!n?void 0:{targetNode:e.currentTarget,targetNodeData:t,targetParent:e.currentTarget.parentNode||K.lastParent,targetParentData:n}}function z6(e){if(!Zl(e.currentTarget,K))return;const t=K.parentData.get(e.currentTarget);return t?{targetParent:e.currentTarget,targetParentData:t}:void 0}function K6(e){const t=e.touches[0].clientX,n=e.touches[0].clientY,r=document.elementsFromPoint(t,n);if(r){for(const i of r)if(Zl(i,K)&&K.nodeData.has(i)){const s=i,o=K.nodeData.get(s),a=K.parentData.get(s.parentNode);return!o||!a?void 0:{targetNode:s,targetNodeData:o,targetParent:s.parentNode,targetParentData:a}}else if(i instanceof HTMLElement&&K.dropZones.has(i)){if(!K.parentData.has(i))return;const s=K.parentData.get(i);return s?{targetParent:i,targetParentData:s}:void 0}}}function G6(e,t,n,r,i){var a;n.selectedValues=t;for(const l of e.draggedParentData.enabledNodes){if(l===e.draggedNode){n.selectedNodes.push(l);continue}const u=(a=n.nodeData.get(l))==null?void 0:a.value;u&&t!=null&&t.includes(u)&&n.draggedNodes.push(l)}const s=e.draggedParentData.config,o=n.draggedNodes.map(l=>{const u=l.cloneNode(!0);return hA(l,u,!0),e.event instanceof DragEvent&&Si([u],s==null?void 0:s.selectionDraggingClass,n),u});return setTimeout(()=>{if(e.event instanceof DragEvent&&(s!=null&&s.selectionDropZoneClass))for(const l of n.draggedNodes)l.classList.add(s==null?void 0:s.selectionDropZoneClass)}),n.clonedDraggedNodes=o,{e,clonedEls:o,x:r,y:i}}function Y6({e,clonedEls:t,x:n,y:r}){var o;const i=document.createElement("div");if(!(i instanceof HTMLElement))return;for(const a of t)i.append(a);const s=e.draggedNode.getBoundingClientRect();i.style.cssText=`
        display: flex;
        flex-direction: column;
        width: ${s.width}px;
        position: absolute;
        left: -9999px
      `,document.body.append(i),e.event instanceof DragEvent?((o=e.event.dataTransfer)==null||o.setDragImage(i,n,r),setTimeout(()=>{i.remove()})):K.touchedNode=i}function hA(e,t,n=!1){const r=window.getComputedStyle(e),i=["position","top","left","x","y","transform-origin","filter","-webkit-text-fill-color"];for(const s of Array.from(r))n===!1&&s&&i.includes(s)||t.style.setProperty(s,r.getPropertyValue(s),r.getPropertyPriority(s));for(const s of Array.from(e.children)){if(!Zl(s,K))continue;const o=t.children[Array.from(e.children).indexOf(s)];hA(s,o,n)}}function Si(e,t,n,r=!1,i=!1){if(!t)return;const s=X6(t);s.length&&(r?Eme(e,s,n):wme(e,s,n,i))}function wme(e,t,n,r=!1){if(!t.includes("longTouch"))for(const i of e){if(!Zl(i,n)||!n.nodeData.has(i)){i.classList.add(...t);continue}const s=[],o=n.nodeData.get(i);if(o){for(const a of t)i.classList.contains(a)?i.classList.contains(a)&&r===!1&&s.push(a):i.classList.add(a);o.privateClasses=s,n.nodeData.set(i,o)}}}function Eme(e,t,n){for(const r of e){if(!Zl(r,n)){r.classList.remove(...t);continue}const i=n.nodeData.get(r);if(i)for(const s of t)i.privateClasses.includes(s)||r.classList.remove(s)}}function X6(e){return e.split(" ").filter(t=>t)}function Q6(e){if(e!=null){if(e.scrollHeight>e.clientHeight)return e;if(e.parentNode instanceof HTMLElement)return Q6(e.parentNode)}}function $me(e){var n;const t=e.targetParentData.dzConfig;return t&&t.nodeDropZone===!1?!1:((n=e.targetParentData.config)==null?void 0:n.sortable)!==!1}function Sme(e){var a,l,u,c,d;const t=K.draggedNodes.map(f=>{var p;return(p=K.nodeData.get(f))==null?void 0:p.value}),n=e.targetParentData.getValues(e.targetParent),r=e.draggedParentData.getValues(e.draggedParent),i={name:(a=e.targetParentData.config)==null?void 0:a.name,group:(l=e.targetParentData.dzConfig)==null?void 0:l.group,values:n},s={name:(u=e.draggedParentData.config)==null?void 0:u.name,group:(c=e.draggedParentData.dzConfig)==null?void 0:c.group,values:r},o=(d=e.targetParentData.dzConfig)==null?void 0:d.accepts;return o?o(i,s,t):i.group?i.group===s.group:!0}function PN(e,t){e.event.dataTransfer&&(e.event.dataTransfer.dropEffect="move",e.event.dataTransfer.effectAllowed="move");const n=e.targetParentData.config,r=(n==null?void 0:n.setSelections)&&(n==null?void 0:n.setSelections(e.draggedNode.parentNode));if(Array.isArray(r)&&r.length){const i=e.targetNode.getBoundingClientRect(),s=e.event.clientX-i.left,o=e.event.clientY-i.top;Y6(G6(e,r,t,s,o))}else n&&(Si(t.draggedNodes,n.draggingClass,t),setTimeout(()=>{Si(t.draggedNodes,n.draggingClass,t,!0),Si(t.draggedNodes,n.dropZoneClass,t)}))}function RN(e,t){e.event.stopPropagation();const n=e.draggedNode.getBoundingClientRect();t.touchStartLeft=e.event.touches[0].clientX-n.left,t.touchStartTop=e.event.touches[0].clientY-n.top;const r=e.draggedParentData.config,i=(r==null?void 0:r.setSelections)&&(r==null?void 0:r.setSelections(e.draggedNode.parentNode));Array.isArray(i)&&i.length?Y6(G6(e,i,t,t.touchStartLeft,t.touchStartTop)):(t.touchedNode=e.touchedNode,e.touchedNode.style.cssText=`
            width: ${n.width}px;
            position: absolute;
            pointer-events: none;
            top: -9999px;
            z-index: 999999;
            display: none;
          `,document.body.append(e.touchedNode),hA(e.draggedNode,e.touchedNode),e.touchedNode.style.display="none"),r!=null&&r.longTouch&&(t.longTouchTimeout=setTimeout(()=>{t.longTouch=!0;const s=Q6(e.draggedNode);s&&(t.scrollParent=s,t.scrollParentOverflow=s.style.overflow,s.style.overflow="hidden"),r.longTouchClass&&Si(t.draggedNodes,r.longTouchClass,t),e.event.cancelable&&e.event.preventDefault(),document.addEventListener("contextmenu",function(o){o.preventDefault()})},200))}function DN(e,t){if(!t.touchedNode)return;const n=e.draggedParentData.config;if(n!=null&&n.longTouch&&!t.longTouch){clearTimeout(t.longTouchTimeout);return}t.touchMoving!==!0&&(t.touchMoving=!0,Si(t.draggedNodes,n==null?void 0:n.longTouchClass,t,!0),Array.isArray(t.selectedValues)&&t.selectedValues.length?(Si(t.clonedDraggedNodes,n==null?void 0:n.touchSelectionDraggingClass,t),Si(t.draggedNodes,n==null?void 0:n.touchSelectionDropZoneClass,t)):(Si([t.touchedNode],n==null?void 0:n.touchDraggingClass,t),Si(t.draggedNodes,n==null?void 0:n.touchDropZoneClass,t))),e.touchedNode.style.display="block";const r=e.event.touches[0].clientX+window.scrollX,i=e.event.touches[0].clientY+window.scrollY,s=window.innerHeight+window.scrollY;i>s-50?window.scrollBy(0,10):i<window.scrollY+50&&window.scrollBy(0,-10);const o=t.touchStartLeft??0,a=t.touchStartTop??0;e.touchedNode.style.left=`${r-o}px`,e.touchedNode.style.top=`${i-a}px`,e.event.cancelable&&e.event.preventDefault()}function NN(e,t){const n=e.targetParentData.getValues(e.targetParent),r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value}),i=[...n.filter(s=>!r.includes(s))];i.splice(e.targetNodeData.index,0,...r),e.targetParentData.setValues(e.targetParent,i)}function bf(e,t){if(e.draggedParent===e.lastParent)return;const n=[...e.lastParentData.getValues(e.lastParent)],r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value}),i=[...n.filter(s=>!r.includes(s))];e.lastParentData.setValues(e.lastParent,i),t.lastParent=e.draggedParent,e.draggedParentData.setValues(e.draggedParent,t.initialParentValues)}function xme(e,t){}function Z_(e,t){if(!(e.event instanceof DragEvent&&t.longTouch)){if(e.event instanceof TouchEvent&&(t.longTouch=!1,clearTimeout(t.longTouchTimeout)),t.draggedNode&&t.draggedNode.parentNode&&t.draggedNode.parentNode!==t.lastParent&&t.initialParent){const n=t.nodeData.get(t.draggedNode);if(n){const r=t.parentData.get(t.draggedNode.parentNode),i=[...(r==null?void 0:r.getValues(t.draggedNode.parentNode))||[]],s=n.index;i.splice(s,t.draggedNodes.length),r==null||r.setValues(t.initialParent,i)}}j6(e)}}function MN(e,t){j6(e)}function LN(e={},t,n){const r=K.parentData.get(t);if(!r)return;n.disabled?Tme(t):FN(t,e,t);for(const o of e.validDropZones||[])FN(o,e,t);const i=r.config;if(!i||!i.setDraggable)return;const s=i.setDraggable;i.setDraggable=o=>(s(o),Ime(o),o)}function FN(e,t,n){e.addEventListener("dragover",e0),e.addEventListener("drop",e0);const r=K.parentData.get(e);r&&(n?(r.dzConfig=t,K.dropZones.set(e,n),K.parentData.set(e,r)):(r.dzConfig=t,K.parentData.set(e,r)))}function Tme(e){e.removeEventListener("dragover",e0),e.removeEventListener("drop",e0),K.parentData.get(e)}function Ime(e){e.addEventListener("dragover",Cme),e.addEventListener("touchmove",Ame)}function e0(e){e.stopPropagation(),e.preventDefault();const t=z6(e);if(t===void 0)return;const n=Rm();if(n===void 0)return;const r={event:e,...t,...n},i=r.targetParentData.dzConfig;switch(r.event.type){case"dragover":K.lastParent!==r.targetParent&&r.draggedParent!==r.targetParent&&(t0(r,K),K.enterCount++,K.leftParent=!0);break;case"drop":r.targetParent!==r.draggedParent&&(i&&i.drop?i.drop(r,K,UN):UN(r,K))}}function Cme(e){var i;e.stopPropagation(),e.preventDefault();const t=q6(e);if(!t)return;const n=Rm();if(n===void 0)return;const r={event:e,...t,...n};if(r&&e.type==="dragover"&&K.lastParent!==r.targetParent&&r.targetParent!==r.draggedParent){const s=(i=r.targetParentData)==null?void 0:i.dzConfig;if(s&&s.nodeDropZone===!1)return;r.targetParent!==r.draggedParent&&(t0(r,K),K.leftParent=!0)}}function Ame(e){if(e.type!=="touchmove")return;const t=K6(e);if(t===void 0)return;const n=W6();if(n!==void 0)if("targetNode"in t){const r={event:e,...t,...n};if(r.targetParent===r.draggedParent){bf(r,K);return}if(r.lastParent==r.targetParent)return;t0(r,K),K.leftParent=!0}else{const r={event:e,...t,...n};r.lastParent!==r.draggedParent&&r.draggedParent===r.targetParent?(bf(r,K),K.leftParent=!1):r.targetParent!==r.draggedParent&&r.lastParent!==r.targetParent&&(t0(r,K),K.leftParent=!0)}}function t0(e,t){if(!Sme(e))return;const n=e.targetParentData.dzConfig;n!=null&&n.transfer?n.transfer(e,t,BN):BN(e,t),t.lastParent=e.targetParent}function BN(e,t){let n=[...e.lastParentData.getValues(e.lastParent)];const r=t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value});n=[...n.filter(s=>!r.includes(s))];const i=[...e.targetParentData.getValues(e.targetParent)];"targetNodeData"in e?i.splice(e.targetNodeData.index,0,...t.draggedNodes.map(s=>{var o;return(o=t.nodeData.get(s))==null?void 0:o.value})):i.push(...r),e.lastParentData.setValues(e.lastParent,n),e.targetParentData.setValues(e.targetParent,i)}function UN(e,t){t.draggedNode}function kme(e){e.preventDefault()}function oi(e,t,n,r){var s,o,a;if(!bme)return;if(document.addEventListener("dragover",kme),!K.parents.has(e)&&(K.parents.add(e),new MutationObserver(Pme).observe(e,{childList:!0}),e.parentNode)){e.addEventListener("dragenter",Ov),e.addEventListener("dragover",Ov),e.addEventListener("dragleave",Ov),e.addEventListener("drop",Ov);const u=new MutationObserver(Ome);if(u.observe(e.parentNode,{childList:!0}),!(e.parentNode instanceof HTMLElement))return;K.parentObservers.set(e.parentNode,u)}r.setDraggable||(r.setDraggable=Dme),r.removeDraggable||(r.removeDraggable=Rme);const i=(o=(s=K.parentData.get(e))==null?void 0:s.config)==null?void 0:o.plugins;i==null||i.forEach(l=>{l.tearDown&&l.tearDown(e,r)}),K.parentData.set(e,{getValues:t,setValues:n,config:r,enabledNodes:[]}),(a=r.plugins)==null||a.forEach(l=>{l.setUp(e,r)}),J6(e)}function Ome(e){for(const t of e)for(const n of Array.from(t.removedNodes)){if(!(n instanceof HTMLElement)||!K.parentData.has(n))continue;K.parentData.delete(n);let i=!1;for(const s of Array.from(t.target.childNodes))if(K.parents.has(s)){K.parents.delete(n),i=!0;break}if(!i){const s=K.parentObservers.get(t.target);s&&(s.disconnect(),K.parentObservers.delete(t.target))}}}function Pme(e){const t=e[0].target;t instanceof HTMLElement&&J6(t)}function J6(e){var s,o;const t=K.parentData.get(e);if(!t)return;const n=[],r=t.config;for(let a=0;a<e.children.length;a++){const l=e.children[a];Zl(l,K)&&(r&&r.draggable&&!r.draggable(l)||r!=null&&r.disabled?K.removeDraggable&&K.removeDraggable(l):(s=t.config)!=null&&s.setDraggable&&(t.config.setDraggable(l),n.push(l)))}if(n.length!==t.getValues(e).length){console.warn("The number of enabled nodes does not match the number of values.");return}const i=t.getValues(e);for(let a=0;a<n.length;a++){const l=n[a];if(K.nodeData.set(l,{value:i[a],index:a,privateClasses:[]}),!K.draggedNode||!r)continue;let u;const c=K.selectedValues.includes(i[a]);if(!c&&((o=K.nodeData.get(K.draggedNode))==null?void 0:o.value)!==i[a])continue;!!K.touchedNode?u=c?r==null?void 0:r.touchSelectionDropZoneClass:r==null?void 0:r.touchDropZoneClass:u=c?r==null?void 0:r.selectionDropZoneClass:r==null?void 0:r.dropZoneClass,Si([l],u,K,!1,!0)}K.parentData.set(e,{...t,enabledNodes:n})}function Rme(e){e.getAttribute("draggable")==="true"&&e.removeAttribute("draggable"),e.removeEventListener("dragstart",ll),e.removeEventListener("dragenter",ll),e.removeEventListener("dragend",ll),e.removeEventListener("dragover",ll),e.removeEventListener("touchstart",Bd),e.removeEventListener("touchmove",Bd),e.removeEventListener("touchend",Bd)}function Dme(e){e.setAttribute("draggable","true"),e.addEventListener("dragstart",ll),e.addEventListener("dragenter",ll),e.addEventListener("dragend",ll),e.addEventListener("dragover",ll),e.addEventListener("touchstart",Bd,{passive:!1}),e.addEventListener("touchmove",Bd,{passive:!1}),e.addEventListener("touchend",Bd)}function ll(e){e.stopPropagation();const t=q6(e);if(!t)return;if(e.type==="dragstart"){if(K.lastParent=t.targetParent,K.draggedNode=t.targetNode,K.initialParent=t.targetParent,!K.draggedNode)return;K.draggedNodes=[K.draggedNode],K.initialParentValues=t.targetParentData.getValues(t.targetParent)}const n=Rm();if(n===void 0)return;const r={event:e,...t,...n},i=r.draggedParentData.config;switch(r.event.type){case"dragstart":i!=null&&i.dragstart?i.dragstart(r,K,PN):PN(r,K);break;case"dragover":if(r.event.preventDefault(),r.targetNode===r.draggedNode){K.lastValue=r.targetNodeData.value;return}if(r.targetParent===r.lastParent)Z6(r,K);else{const s=r.targetParentData.config;s!=null&&s.transferReturn?s.transferReturn(r,K,bf):bf(r,K)}break;case"dragend":i!=null&&i.end?i.end(r,K,Z_):Z_(r,K);break}}function Bd(e){if(e.stopPropagation(),K.touchMoving&&e.type==="touchstart"||!Zl(e.currentTarget,K))return;if(e.type==="touchstart"){K.draggedNode=e.currentTarget;const o=e.currentTarget.cloneNode(!0);if(!(o instanceof HTMLElement))return;const a=K.parentData.get(e.currentTarget.parentNode);if(!a)return;const l=a.getValues(e.currentTarget.parentNode);if(!l)return;K.touchedNode=o,K.draggedNodes=[K.draggedNode],K.lastParent=e.currentTarget.parentNode,K.initialParent=e.currentTarget.parentNode,K.initialParentValues=l}if(!K.touchedNode)return;const t=W6();if(t===void 0)return;const n=t.draggedParentData.config,r={event:e,...t},i=r.draggedParentData.config;let s;switch(e.type){case"touchstart":n!=null&&n.touchstart?n.touchstart(r,K,RN):RN(r,K);break;case"touchmove":if(n!=null&&n.touchmove?n.touchmove(r,K,DN):DN(r,K),n!=null&&n.longTouch&&!K.longTouch||(s=K6(e),!s))return;if("targetNode"in s){const o={event:e,...s,...t};if(o.targetNode===o.draggedNode){K.lastValue=o.targetNodeData.value;return}o.targetParent===o.lastParent&&Z6(o,K)}break;case"touchend":K.touchMoving=!1,i!=null&&i.end?i.end(r,K,Z_):Z_(r,K);break}}function Ov(e){var s,o;e.stopPropagation(),e.preventDefault();const t=z6(e);if(!t)return;const n=Rm();if(n===void 0)return;const r={event:e,...t,...n},i=r.targetParentData.dzConfig;switch(r.event.type){case"dragover":r.targetParent===r.draggedParent&&K.leftParent&&((s=r.targetParentData.config)!=null&&s.transferReturn?r.targetParentData.config.transferReturn(r,K,bf):bf(r,K),K.leftParent=!1);break;case"dragleave":r.event.preventDefault(),r.targetParent.contains(document.elementFromPoint(r.event.clientX,r.event.clientY))?K.lastParent!==r.targetParent&&(K.lastParent,r.draggedParent):((o=r.targetParentData.config)!=null&&o.dragleave?r.targetParentData.config.dragleave(r,K,xme):void 0,K.leftParent=!0);break;case"drop":r.targetParent==r.draggedParent&&(i&&i.drop?i.drop(r,K,MN):MN(r))}}function Z6(e,t){var i;const n="touchedNode"in e?e.event.touches[0].clientX:e.event.clientX,r="touchedNode"in e?e.event.touches[0].clientY:e.event.clientY;t.lastValue===e.targetNodeData.value&&(t.direction!==1||r>=t.lastCoordinates.y-20&&n>=t.lastCoordinates.x-e.targetNode.getBoundingClientRect().width/20)||$me(e)&&(t.lastValue=e.targetNodeData.value,t.lastCoordinates={x:n,y:r},t.direction=e.targetNodeData.index>e.draggedNodeData.index?1:-1,(i=e.targetParentData.config)!=null&&i.sort?e.targetParentData.config.sort(e,t,NN):NN(e,t))}function Nme(e,t){e in Mv||(Mv[e]={timer:0,inputs:new Set});const n=Mv[e];clearTimeout(n.timer),n.inputs.add(t),n.timer=aE(()=>{zS[e]||(zS[e]=aE(()=>sw.add(e),2e3)),function(r){if(Pi){window.addEventListener(Gve(),u=>{const c=new URL(u.blockedURI).hostname;qS.some((d,f)=>vM(f)===c)&&(VN(r),console.warn("[FormKit]: Enterprise license required for restrictive CSP."))});let i=0;const s=aa(qve),o="://",a=new Date().getDate(),l=async()=>{const u=Array.from(Mv[r].inputs),c=u.filter(d=>!(kp[r]&&kp[r].has(d))).join("");if(Xve(r),c){i++;try{const d=await window[aa(Kve)](`${s}${o}${vM((a+i)%qS.length)}/${function(p){const h=Math.round(9*Math.random());let g="";for(let m=0;m<p.length;m++){let v=p.charCodeAt(m);v>=48&&v<=57?v=48+(v+h)%58%48:v>=97&&v<=122&&(v=97+(v+h)%123%97),g+=String.fromCharCode(v)}return`${h}${g}`}(`${r.substring(3)}x${c}`)}`),f=await d.json();if(f[aa(zve)])return VN(r,f.schema);if(d.ok)return kp[r]||(kp[r]=new Set),void u.forEach(p=>kp[r].add(p))}catch{}i<2&&aE(l,1e4*Math.random())}};l()}}(e)},500)}function VN(e,t){sw.add(e),function(n,r){Ih[n]&&Ih[n].forEach(i=>i(r))}(e,t)}function eE(e,t,n){if(Nme(t,n),!t)throw new Error("FormKitNoKey");return sw.has(t)?null:e}function wl(e,t){return new Array(e).fill("").map((n,r)=>t(r))}function Mme(e,t,n,r){return(...i)=>s=>o=>{const a=function(l,u,c,d,f,p){const h=p[c],g=typeof d=="function"?d():{$el:d},m=f.map(y=>typeof y=="string"?y:y(u)(p));let v=m.length&&g?Au(g,{children:m}):g;if(v=Au(v,h),typeof v=="object"){let y=v;if(!fc(v)&&!yf(v)||v.meta||(v.meta={section:c,node:d}),fc(v)){const{$el:b,..._}=v;_.attrs?"class"in _.attrs||"if"in _.attrs||(_.attrs={class:`$classes.${c}`,..._.attrs}):_.attrs={class:`$classes.${c}`},y=Pv(u,c,Object.defineProperty(_,"$el",{enumerable:!1,get:eE.bind(null,b,u,l)}))}else if(yf(v)){const{$cmp:b,..._}=v;y=Pv(u,c,Object.defineProperty(_,"$cmp",{enumerable:!1,get:eE.bind(null,b,u,l)}))}else if("$formkit"in v){v.outerClass=`$classes.${c}`;const{$formkit:b,..._}=v;y=Pv(u,c,Object.defineProperty(_,"$formkit",{enumerable:!1,get:eE.bind(null,b,u,l)}))}return y}return Pv(u,c,v)}(e,s,t,n,i,o);return r&&gf(a)&&(a.memo=e+JSON.stringify(o)),r?[a]:a}}function Pv(e,t,n){const r=i=>e?i||`$slots.${t}`:null;return Object.defineProperties({},{if:{enumerable:!1,get:r},then:{enumerable:!1,get:r},else:{enumerable:!1,get:r.bind(null,n)}})}function Ss(e){return(t,n,r=!1)=>Mme(e,t,n,r)}function xs(e){return{outer:e("outer",Qve,!0),wrapper:e("wrapper","div",!1),inner:e("inner",Jve,!1),icon:KS,label:e("label",Zve,!1),prefix:e("prefix",yM,!1),suffix:e("suffix",yM,!1),help:e("help",nye,!1),messages:e("messages",eye,!1),message:e("message",tye,!1)}}function eW(e){return{overlayPlaceholder:e("overlayPlaceholder",rye),overlayLiteral:e("overlayLiteral",iye),overlayChar:e("overlayChar",sye),overlayEnum:e("overlayEnum",oye),overlay:e("overlay",aye),overlayParts:e("overlayParts",uye),overlayInner:e("overlayInner",lye)}}function Me(e,t,n){return r=>i=>{const s=typeof t=="string"?t:t(r)(i);return n?{if:e,then:s,else:typeof n=="string"?n:n(r)(i)}:(Ag(s)?Object.assign(s.else,{if:e}):Cg(s)&&Object.assign(s,{if:e}),s)}}function gA(e){const t=e("dropdownWrapper",()=>({$el:"div",attrs:{id:'$id + "_dropdown_wrapper"',"data-is-wrapper":!0,style:"$dropdownWrapperStyles",onScroll:"$handlers.scroll"}})),n=e("listbox",()=>({$el:"ul",if:"$expanded || $setForceExpanded",attrs:{style:"$listboxStyles",id:'$id + "_listbox"',role:"listbox","aria-activedescendant":"$activeDescendant","aria-labelledby":'$id + "_label"'}})),r=e("listitem",()=>({$el:"li",for:["option","index","$options"],bind:"$option.attrs",attrs:{id:'$id + "_listitem_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value",key:"$option.value",onClick:"$handlers.selectOption($option)",onBlur:"$handlers.blurListitem",role:"option","aria-selected":"$hidingValue === true && false || $fns.isSelected($option)","data-is-active":"$fns.isActive($option)",tabindex:"-1"}})),i=e("loadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_load_more"',key:"loadMore",role:"option",onClick:"$handlers.selectOption($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),s=e("loadMoreInner","span"),o=e("emptyMessage",()=>({$el:"li",if:"$showEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),a=e("emptyMessageInner","span"),l=e("option",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option)"}}));return()=>t(n(o(a("$emptyMessage")),r(Me("$fns.isSelected($option)",KS("selected")),l("$option.label")),i(Me("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",s(Me("$state.loading",KS("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value")))))}function HN(e){return gf(e)&&"value"in e&&"label"in e}function mA(e){return e?e.reduce((t,n)=>{var r;return((r=t.at(-1))===null||r===void 0?void 0:r.type)===n.type?t.at(-1).value+=n.value:t.push({type:n.type,value:n.value}),t},[]):[]}function hc(){var e,t,n;const r=((e=document.activeElement)===null||e===void 0?void 0:e.tagName.toLowerCase())||"";if(customElements.get(r)){const i=(n=(t=document.activeElement)===null||t===void 0?void 0:t.shadowRoot)===null||n===void 0?void 0:n.activeElement;if(i)return i}return document.activeElement}function Pe(e){return"__original"in e?e.__original:e.value}async function Ks(e,t,n=!1,r=!1){if(typeof e.props.optionsLoader=="function"){e.props.search=t,clearTimeout(bM.get(e));const i=t?e.props.debounce:0;i===0?(n&&(e.props.options=[]),n0(e,r)):bM.set(e,setTimeout(()=>{e.props.page=1,n&&(e.props.options=[]),n0(e,r)},i))}else Array.isArray(e.props.options)&&(e.props.options=[...e.props.initialOptions.filter(i=>e.props.filter(i,t??"",e))])}function n0(e,t){e.props.allowAppendOptions=t,Dm(e)}function Lme(e,t){if(e.props.allowAppendOptions)return e.props.allowAppendOptions=!1,function(r,i){const s=q_(i);r.props.options=r.props.options.concat(s)}(e,t);const n=q_(t);e.props.options=n,e.props.options.length||(e.store.set(Pg),e.store.set(jr({key:"hasNextPage",type:"state",value:!1,visible:!1}))),VW.set(e,e.props.searchValue)}function tW(e,t,n){if(e.store.set(HW),e.props.optionLoadingCounter++,e.props.multiple&&e.props.selectionAppearance!=="truncate"){const o=n||{label:String(t),value:t};e.props.optionLoaderValues.includes(o.value)||e.props.optionLoaderValues.push(o.value),e.props.type==="transferlist"||e.props.selections.includes(o)||(e.props.selections=[...e.props.selections,o])}const r=e.props.optionLoader(t,n),i=o=>typeof o=="string"?{label:o,value:t}:HN(o)?o:gf(o)?Object.assign({label:String(t),value:t},o):{label:String(t),value:t},s=o=>{const a=e.props.memoOptions.findIndex(l=>l.value===o.value);return a===-1?e.props.memoOptions=[...e.props.memoOptions,o]:e.props.memoOptions[a]=o,o};return r instanceof Promise?r.then(o=>{if(typeof o=="string"||HN(o))return s(i(o))}).finally(()=>{e.props.optionLoaderValues=e.props.optionLoaderValues.filter(o=>o!==t),e.props.optionLoadingCounter--}):(e.props.optionLoaderValues=e.props.optionLoaderValues.filter(o=>o!==t),e.props.optionLoadingCounter--,s(i(r)))}function Dm(e){e.store.set(HW),e.props.optionsLoadingCounter++,e.store.set(jr({key:"hasNextPage",type:"state",value:!1,visible:!1}));const t=e.props.nonceKey&&e.props[e.props.nonceKey],n=e.props.optionsLoader(e.context,jW.get(e)),r=Lme.bind(null,e),i=n instanceof Promise?n.then((...s)=>{e.props.nonceKey!==void 0&&t!==e.props[e.props.nonceKey]||r(...s)}):(r(n),e.props.optionsLoadingCounter--);if(i instanceof Promise)return i.finally(()=>{e.props.optionsLoadingCounter--})}function nW(e,t){e.props.page++,jW.set(e,t),e.store.set(jr({key:"hasNextPage",type:"state",value:!0,visible:!1}))}function rw(e,t){if(e.props.optionRemoved=!0,t){const n=(e.props.inputStd||[]).filter(r=>!it(Pe(t),r));e.input(n)}else e.input(void 0);e.props.openOnRemove&&!e.props.expanded&&e.isCreated&&(e.props.expanded=!0),setTimeout(()=>{var n;return e.emit("selectRange",[(n=e.props.highlightedRange)===null||n===void 0?void 0:n.option])},20)}async function Rv(e){const t=IA(e);e.props.resetSearchOnCommit&&e.props.optionsLoader==="function"&&(e.props.searchValue=""),e.props.selections=[...t];const n=[...t,...e.props.memoOptions];e.props.memoOptions=[...new Set(n)],function(r){var i,s;r.props.firstCommit?r.props.firstCommit=!1:Pi&&r.isCreated&&(r.props.optionRemoved?r.props.optionRemoved=!1:(r.props.expanded&&r.props.closeOnSelect&&(r.props.expanded=!1),r.props.userAction&&(r.props.openOnFocus&&(r.props.skipOpen=!0),r.props.userAction.type!=="tagDelete"&&((s=(i=r.props.__root)===null||i===void 0?void 0:i.getElementById(`${r.props.id}`))===null||s===void 0||s.focus()),r.props.userAction=void 0)))}(e)}function vA(e){var t,n;if(e.props.options&&e.props.options.length)if(!((t=e.props.highlightedRange)===null||t===void 0)&&t.option.value)e.props.activeValue=Pe(e.props.highlightedRange.option);else{if(e.props.activeSelectionValue){const r=e.props.options.find(i=>it(Pe(i),e.props.activeSelectionValue));if(r)return void(e.props.activeValue=r.value)}e.props.reloadOnCommit||e.props.searchValue?e.props.activeValue=Pe(e.props.options[0]):(e.props.inputStd.length>0&&!e.props.multiple||e.props.multiple&&(!((n=e.context)===null||n===void 0)&&n.state.dirty))&&e.props.selections[e.props.selections.length-1]?e.props.activeValue=Pe(e.props.selections[e.props.selections.length-1]):e.props.activeValue=Pe(e.props.options[0])}}function yA(e,t){var n,r;!((n=t.attrs)===null||n===void 0)&&n.disabled||(Pe(t)!==Qf?(e.props.option=t,e.props.maxReached&&!iW(e,t)||e.input(rW(e,Pe(t)))):(r=e.context)===null||r===void 0||r.handlers.loadMore(!0))}function rW(e,t){if(e.props.multiple){const n=Array.isArray(e.value)?e.value:[];return n.includes(t)?(e.props.optionRemoved=!0,n.filter(r=>r!==t)):[...n,t]}return t===e.value&&e.props.deselect?void(e.props.optionRemoved=!0):t}function Fme(e,t){return it(e.props.activeValue,Pe(t))||void 0}function iW(e,t){return e.props.multiple?!!Array.isArray(e.value)&&e.value.includes(Pe(t)):it(e.value,Pe(t))}function Bme(e){e.props.firstCommit=!0;let t=null;e.on("commit",()=>{if(e.props.inputStd.length===0&&e.isCreated)return function(n){var r,i;n.props.selections=[],n.props.userAction&&(n.props.userAction=void 0,n.props.openOnFocus&&(n.props.skipOpen=!0),(i=(r=n.props.__root)===null||r===void 0?void 0:r.getElementById(`${n.props.id}`))===null||i===void 0||i.focus()),n.props.optionRemoved=!1}(e),void(t=e.props.inputStd);if(e.props.inputStd.length&&typeof e.props.optionsLoader=="function"&&e.props.options.length===0&&typeof e.props.optionLoader!="function"&&e.props.optionsLoadingCounter===0){e.props.optionsLoaded=!0;const n=Dm(e);n instanceof Promise&&n.then(()=>{Rv(e)})}typeof e.props.optionLoader!="function"||e.props.optionRemoved||function(n,r){if(n===r)return!0;if(n==null||r==null||n.length!==r.length)return!1;for(var i=0;i<n.length;++i)if(n[i]!==r[i])return!1;return!0}(t,e.props.inputStd)?e.props.optionsLoadingCounter===0&&Rv(e):(t=e.props.inputStd,async function(n){const r=IA(n);if((n.props.inputStd.length>1?n.props.inputStd.filter(s=>!n.props.memoOptions.find(o=>it(Pe(o),s))):n.props.inputStd).forEach(s=>{tW(n,s,Array.isArray(r)&&r.find(o=>it(Pe(o),s)&&!o.noOptionFound))}),n.props.optionLoadingCounter){const s=n.on("prop:optionLoadingCounter",()=>{Rv(n),n.props.optionLoadingCounter||n.off(s)})}else Rv(n)}(e))})}function Ume(e){function t(s,o){var a;if(!s.props.expanded||!s.props.options||!s.props.options.length||Op.has(s))return;const l=s.props.options.reduce((c,d,f)=>{var p,h;if(!((p=d.attrs)===null||p===void 0)&&p.disabled)return c;const g=(h=s.props.__root)===null||h===void 0?void 0:h.getElementById(`${s.props.id}_listitem_${f}`);return g&&c.push([g,d]),c},[]),u=(a=s.props.__root)===null||a===void 0?void 0:a.getElementById(`${s.props.id}_load_more`);u&&l.push([u,s.props.loadMoreOption]),Op.add(s),l.length&&n(s,l,o)}function n(s,o,a){var l,u,c,d;const f=(l=s.props.__root)===null||l===void 0?void 0:l.getElementById(`${s.props.id}_dropdown_wrapper`);if(s.props.trackHover){const p=f?f.getBoundingClientRect():{top:0,bottom:0};if(a=null,s.props.mouseY>p.top&&s.props.mouseY<p.bottom){let h=a||0,g=a;const m=(v,y)=>{var b;const _=y[0],{y:S,height:I,x:T,width:w}=_.getBoundingClientRect();if(s.props.mouseX>T&&s.props.mouseX<T+w&&s.props.mouseY>S&&s.props.mouseY<S+I){a=v;const x=y[1];return s.props.activeValue=x&&!(!((b=x.attrs)===null||b===void 0)&&b.disabled)?Pe(x):void 0,!0}return!1};do{if(h!==null&&m(h,o[h])||g!==null&&m(g,o[g]))break;h!==null&&(h++,h>o.length-1&&(h=null)),g!==null&&(g--,g<0&&(g=null))}while(h!==null||g!==null)}a===null&&(s.props.activeValue=void 0)}s.props.trackHover||jN(s),s.props.expanded?(f&&s.props.loadOnScroll&&!(!((u=s.store.loading)===null||u===void 0)&&u.value)&&(!((c=s.store.hasNextPage)===null||c===void 0)&&c.value)&&f.scrollTop+f.offsetHeight>f.scrollHeight-200&&((d=s.context)===null||d===void 0||d.handlers.loadMore(!0)),Op.has(s)?requestAnimationFrame(n.bind(null,s,o,a)):t(s,a)):Op.delete(s)}if(!Pi)return;e.props.positionListBox=function(s,o){var a,l;let u=null;if(s.props.activeDescendant&&(u=s.props.options.filter(f=>{var p;return!(!((p=f.attrs)===null||p===void 0)&&p.disabled)}).findIndex(f=>it(s.value,Pe(f))),u===-1&&(u=null),!((a=s.props.__root)===null||a===void 0)&&a.getElementById(s.props.activeDescendant)&&jN(s)),typeof window>"u")return u;const c=o.getBoundingClientRect(),d=(l=s.props.__root)===null||l===void 0?void 0:l.getElementById(`${s.props.id}`);if(d){const f=d.getBoundingClientRect();f.top+f.height+c.height>window.innerHeight&&f.top+f.height>c.height?s.props.dropdownWrapperStyles={...s.props.dropdownWrapperStyles,top:"auto",bottom:"100%"}:s.props.dropdownWrapperStyles={...s.props.dropdownWrapperStyles,bottom:"auto",top:"100%"}}return u}.bind(null,e),e.props.styleWrapper=Vme.bind(null),Or(`${e.props.id}_dropdown_wrapper`,function(s,o){s.props.behavior!=="overscroll"&&getComputedStyle(o).maxHeight==="none"&&(s.props.dropdownWrapperStyles={...s.props.dropdownWrapperStyles,maxHeight:"400px"}),new MutationObserver(()=>{const a=s.props.positionListBox(o);Op.delete(s),t(s,a);let l,u=null;const c=new ResizeObserver(()=>{clearTimeout(l),l=setTimeout(()=>{s.props.styleWrapper(),s.props.positionListBox(o),u||(u=s.on("prop:expanded",()=>{c.disconnect(),s.off(u)}))},100)});c.observe(o)}).observe(o,{childList:!0,subtree:!0})}.bind(null,e),e.props.__root);const r=s=>{var o;e.props.mouseX=s.clientX,e.props.mouseY=s.clientY;const a=(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}_dropdown_wrapper`);if(a){const l=a.getBoundingClientRect();s.clientX>l.x&&s.clientX<l.x+l.width&&s.clientY>l.y&&s.clientY<l.y+l.height&&(e.props.trackHover=!0)}},i=()=>{e.props.ignoreScroll?e.props.ignoreScroll=!1:e.props.trackHover=!0};e.on("prop:trackHover",({payload:s})=>{var o,a,l;Pi&&(s?(l=(a=e.props.__root)===null||a===void 0?void 0:a.getElementById(`${e.props.id}_dropdown_wrapper`))===null||l===void 0||l.removeEventListener("scroll",i):(o=e.props.__root)===null||o===void 0||o.getElementById(`${e.props.id}_dropdown_wrapper`))}),e.on("prop:expanded",({payload:s})=>{e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,zIndex:s||e.props.forceExpanded?"999":"-1",pointerEvents:s?"auto":"none"},s?(document.addEventListener("mousemove",r),e.props.styleWrapper(),vA(e)):document.removeEventListener("mousemove",r)}),e.on("prop:trackHover",({payload:s})=>{var o,a;Pi&&(s?(a=document.getElementById(`${e.props.id}_dropdown_wrapper`))===null||a===void 0||a.removeEventListener("scroll",i):(o=document.getElementById(`${e.props.id}_dropdown_wrapper`))===null||o===void 0||o.addEventListener("scroll",i))}),e.on("prop:activeValue",({payload:s})=>{if(s===Qf)return void(e.props.activeDescendant=`${e.props.id}_load_more`);const o=e.props.options.findIndex(a=>it(Pe(a),s));e.props.activeDescendant=o>=0?`${e.props.id}_listitem_${o}`:void 0})}function jN(e){var t,n;if(!Pi)return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_dropdown_wrapper`),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.activeDescendant);if(!r||!i)return;const{y:s,height:o}=i.getBoundingClientRect(),{y:a,height:l}=r.getBoundingClientRect();s<a?(e.props.ignoreScroll=!0,r.scrollTop=i.offsetTop):s+o>a+l&&(e.props.ignoreScroll=!0,r.scrollTop=i.offsetTop+o-l)}function Vme(){}function Hme(e){e.on("created",()=>{if(!e.context||!Pi)return;e.context.fns.isActive=Fme.bind(null,e),e.context.fns.isSelected=n=>iW(e,n),e.context.handlers.selectOption=n=>r=>Qme.call(null,e,n,r),e.context.handlers.loadMore=n0.bind(null,e),e.context.handlers.removeSelection=n=>r=>WN(e,n,r),e.context.handlers.tagTouchstart=n=>r=>WN(e,n,r),e.context.handlers.selectionClick=n=>e.props.multiple?zme.bind(null,e,n):qme.bind(null,e),e.context.handlers.selectionBlur=()=>Kme.bind(null,e),e.context.handlers.tagClick=n=>Gme.bind(null,e,n),e.context.handlers.tagFocus=n=>Yme.bind(null,e,n),e.context.handlers.tagBlur=()=>Xme.bind(null,e);const t=e.context.handlers.blur;e.context.handlers.blur=function(n,r){t(),r&&function(i,s){var o;if(!i.props.disabled){if(s.relatedTarget instanceof HTMLElement){const a=(o=i.props.__root)===null||o===void 0?void 0:o.getElementById(i.props.id+"_inner");if(a instanceof HTMLElement&&a.contains(s.relatedTarget))return}i.props.expanded=!1,i.props.activeSelectionValue=void 0,i.emit("blur")}}(n,r)}.bind(null,e),e.context.handlers.touchmove=jme.bind(null,e),e.context.handlers.touchend=Wme.bind(null,e)})}function jme(e,t){var n;const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(r instanceof HTMLInputElement){const i=GS.get(e);if(i){const[s,o]=i,a=t.touches[0].clientX-o;r.scrollLeft=s-a}else GS.set(e,[r.scrollLeft,t.changedTouches[0].clientX])}}function Wme(e){GS.delete(e)}function qme(e,t){e.props.disabled||((!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0),t.currentTarget instanceof HTMLElement&&t.currentTarget.focus())}function zme(e,t,n){n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue!==Pe(t)?(e.props.activeSelectionValue=Pe(t),n.currentTarget.focus()):e.props.activeSelectionValue=void 0)}function Kme(e,t){var n;if(t.relatedTarget instanceof HTMLElement){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.id+"_inner");if(r instanceof HTMLElement&&r.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function Gme(e,t,n){n.stopPropagation(),e.props.disabled||(e.props.justFocused?e.props.justFocused=!1:n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue!==Pe(t)?(e.props.activeSelectionValue=Pe(t),n.currentTarget.focus()):e.props.activeSelectionValue=void 0))}function Yme(e,t,n){n.stopPropagation(),e.props.disabled||n.currentTarget instanceof HTMLElement&&(e.props.activeSelectionValue=Pe(t),e.props.justFocused=!0)}function Xme(e,t){var n;if(t.relatedTarget instanceof HTMLElement){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.id+"_inner");if(r instanceof HTMLElement&&r.contains(t.relatedTarget))return}e.props.activeSelectionValue=void 0}function WN(e,t,n){n&&n.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleRemoveSelection"},rw(e,t))}function Qme(e,t,n){n.stopPropagation(),e.props.disabled||(e.props.userAction={type:"handleListitemClick"},yA(e,t))}function _A(e,t,n,r){(function(i){i.addProps(["options","expanded","placeholder","multiple","selections","activeValue","activeDescendant","forceExpanded","optionLoader","showEmptyMessage","emptyMessage","option","listboxStyles","dropdownWrapperStyles","optionsLoader","loadMoreOption","hasNextPage","page","behavior","selectionRemovable","openOnRemove","clearOnClick","openOnClick","hideOnOpen","closeOnSelect","openOnFocus","selectionAppearance","optionsAppearance","filter","inputText","formattedSelections","lastVisibleIndex","optionLoaderValues","disabledInternally","isLoadingOption","isLoadingOptions","thereIsAnOptionSelected","formattedSelections","activeSelections","allowNewValues","inputStd","isSingleOption","max","disableDragAndDrop","clearSearchOnOpen","firstSelectionLabel","memoOptions","loadOnCreated","alwaysLoadOnOpen","showFormattedSelections","truncationCount","reloadOnCommit","activeSelectionValue","setForceExpanded","option","loadOnScroll","optionsLoadingCounter","optionLoadingCounter","draggable","deselect"]),i.props.deselect===void 0?i.props.deselect=!0:i.props.deselect=Ve(i.props.deselect),i.props.option={},i.props.expanded=!1,i.props.inputStd=[],i.props.draggable===void 0?i.props.draggable=!0:i.props.draggable==="false"&&(i.props.draggable=!1),i.props.options||(Ql(350,{node:i,inputType:i.props.type}),i.props.options=[]),"disabled"in i.props&&(i.props.disabled=Ve(i.props.disabled)),i.props.selections=[],i.props.memoOptions=[],i.props.dropdownWrapperStyles={position:"absolute",top:"100%",overflow:"auto",minWidth:"100%"},i.props.decrementCount=0,i.props.page=1,i.props.loadMoreOption={label:"Load more",value:Qf},i.props.listboxStyles={},i.props.optionsLoadingCounter=0,i.props.optionLoadingCounter=0,i.props.searchable=Ve(i.props.searchable),i.props.loadOnScroll=Ve(i.props.loadOnScroll),i.props.multiple=Ve(i.props.multiple)||!1,i.props.type==="taglist"&&(i.props.multiple=!0),i.props.openOnFocus=Ve(i.props.openOnFocus),i.props.openOnRemove=i.props.openOnRemove!==void 0&&Ve(i.props.openOnRemove),i.props.hasNextPage=nW.bind(null,i),i.props.initialOptions=[...i.props.options],i.props.optionLoaderValues=[],i.props.loadOnCreated=Ve(i.props.loadOnCreated),i.props.max&&typeof i.props.max!="number"?i.props.max=parseInt(i.props.max):i.props.max&&!i.props.multiple&&(i.props.max=void 0)})(r),r.props.multiple?function(i){i.hook.input((s,o)=>(i.props.highlightedRange&&!i.props.optionRemoved&&(s.splice(i.props.highlightedRange.index,1,Pe(i.props.option)),s=s.filter(a=>a!==void 0)),i.props.inputStd=s&&Array.isArray(s)?[...new Set(s)]:[],o(s===void 0?void 0:[...i.props.inputStd])))}(r):function(i){i.hook.input((s,o)=>(i.props.inputStd=s===void 0||s===""||s===null?[]:[s],o(s)))}(r),e(r),Bme(r),function(i){i.on("created",()=>{i.context&&(i.props.trackHover=!0,i.props.disabled!==void 0||i.props.optionsLoader||!i.props.options||i.props.options.length||i.props.emptyMessage!==void 0||i.props.allowNewValues||i.props.inputStd.length!==0||(i.props.disabledInternally=!0),Ume(i),i.props.loadOnCreated&&!i.props.optionsLoaded?Dm(i):i.props.optionsLoaded&&(i.props.optionsLoaded=!1),i.props.forceExpanded=Ve(i.props.forceExpanded),i.props.forceExpanded&&(i.props.dropdownWrapperStyles={...i.props.dropdownWrapperStyles,zIndex:"999",pointerEvents:"auto"},setTimeout(()=>{i.props.setForceExpanded=!0},100)))})}(r),Hme(r),t(r),function(i){i.on("prop:selections",({payload:o})=>{i.props.max&&(i.props.maxReached=o.length>=i.props.max)}),i.on("prop:maxReached",({payload:o})=>{o?(i.props.expanded=!1,i.props.disabledInternally=!0):i.props.disabledInternally=!1}),i.on("prop:optionsLoadingCounter",({payload:o})=>{o===0&&(i.props.emptyMessage&&(i.props.showEmptyMessage=!i.props.options.length),i.props.optionLoadingCounter===0&&i.store.set(Pg))}),i.on("prop:optionLoadingCounter",({payload:o})=>{o===0&&i.props.optionsLoadingCounter===0&&i.store.set(Pg)}),i.on("prop:disabled",({payload:o})=>{o&&(i.props.expanded=!1)}),i.on("prop:options",({payload:o})=>{i.props.emptyMessage&&typeof i.props.optionsLoader!="function"&&(i.props.showEmptyMessage=!o.length),o.length?i.props.disabledInternally=!1:o.length||i.props.optionsLoader||i.props.emptyMessage!==void 0||i.props.allowNewValues||i.props.inputStd.length!==0||i.props.searchValue||(i.props.disabledInternally=!0),vA(i)}),i.on("prop:expanded",({payload:o})=>{var a;if(Pi)if(o){if(i.props.trackHover=!1,i.props.options&&!i.props.options.length&&typeof i.props.optionsLoader!="function"&&i.props.emptyMessage&&(i.props.showEmptyMessage=!0),setTimeout(()=>document.addEventListener("click",s),10),i.props.selectionAppearance==="text-input"&&i.props.multiple)return;const l=(a=i.props.__root)===null||a===void 0?void 0:a.getElementById(`${i.props.id}`);l instanceof HTMLInputElement&&(l.focus(),l.value="",l.value=i.props.inputText)}else document.removeEventListener("click",s),i.props.trackHover=!1,i.props.showEmptyMessage=!1});const s=()=>{i.props.activeSelectionValue=void 0,i.props.expanded=!1}}(r),n(r)}function sW(e){var t,n;e.props.searchValue||(n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||n===void 0||n.focus()}function oW(e,t,n){var r,i,s;if(n.preventDefault(),e.props.trackHover=!1,e.props.expanded){const o=e.props.options.reduce((l,u)=>{var c;return!((c=u==null?void 0:u.attrs)===null||c===void 0)&&c.disabled||l.push(Pe(u)),l},[]);!((r=e.store.hasNextPage)===null||r===void 0)&&r.value&&o.push(Qf);const a=o.indexOf(e.props.activeValue);a===-1&&o.length?e.props.activeValue=o[0]:t==="ArrowDown"&&o.length>a+1?e.props.activeValue=o[a+1]:t==="ArrowUp"&&a>0?e.props.activeValue=o[a-1]:t==="ArrowUp"&&a===0&&((s=(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||s===void 0||s.focus(),e.props.expanded=!1)}else e.props.expanded||t!=="ArrowDown"||(e.props.expanded=!0)}function aW(e,t){var n,r,i,s,o;if((e.props.type==="taglist"||e.props.selectionAppearance==="tags")&&e.props.inputStd.length){if(t==="ArrowLeft")return e.props.selections.length&&((r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_tag-wrapper_${e.props.selections.length-1}`))===null||r===void 0||r.focus(),e.props.activeSelectionValue=((i=e.props.selections[e.props.selections.length-1])===null||i===void 0?void 0:i.value)||void 0),void(e.props.expanded=!1);t==="ArrowRight"&&((s=document.getElementById(`${e.props.id}_tag-wrapper_0`))===null||s===void 0||s.focus(),e.props.activeSelectionValue=((o=e.props.selections[0])===null||o===void 0?void 0:o.value)||void 0),e.props.expanded=!1}}function lW(e){var t,n;e.props.expanded=!0,(n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`))===null||n===void 0||n.focus()}function uW(e,t,n,r=!0){var i,s,o,a,l,u;const c=n.key;if(n.altKey){const d=hc(),f=e.props.selections.findIndex(h=>h.value===t.value),p=[...e.props.selections];n.key==="ArrowRight"?f<e.props.selections.length-1&&(p.splice(f,1),p.splice(f+1,0,t)):n.key==="ArrowLeft"&&f>0&&(p.splice(f,1),p.splice(f-1,0,t)),e.props.activeSelectionValue=t.value,e.input([...p.map(Pe)]),setTimeout(()=>{d instanceof HTMLElement&&d.focus()},100)}else{const d=e.props.selections.map(Pe).indexOf(Pe(t));if(d===-1)return;const f=c==="ArrowRight"?d+1:d-1;if(f>=e.props.selections.length){if(!r)return e.props.expanded=!0,e.props.activeSelectionValue=void 0,void((s=(i=e.props.__root)===null||i===void 0?void 0:i.getElementById(`${e.props.id}`))===null||s===void 0||s.focus());(a=(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}`))===null||a===void 0||a.focus()}else if(f<0)return;const p=(l=e.props.__root)===null||l===void 0?void 0:l.getElementById(`${e.props.id}_tag-wrapper_${f}`);p&&p.focus(),e.props.activeSelectionValue=((u=e.props.selections[f])===null||u===void 0?void 0:u.value)||void 0}}function cW(e,t,n){var r;if(!(n.currentTarget instanceof HTMLElement)||e.props.searchValue)return;const i=e.props.selections.map(Pe).indexOf(Pe(t));if(i===-1)return;const s=e.props.selections[i+1]?i+1:i-1,o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_tag-wrapper_${s}`);o&&o.focus(),e.props.userAction={type:"tagDelete"},rw(e,t)}function dW(e,t){var n;if(t.preventDefault(),e.props.allowNewValues&&e.props.searchValue&&e.input(rW(e,e.props.searchValue)),e.props.expanded){if(e.props.activeValue===Qf)return void((n=e.context)===null||n===void 0||n.handlers.loadMore());const r=e.props.options.find(i=>it(Pe(i),e.props.activeValue));if(!r)return;yA(e,r)}else e.props.expanded=!0}function fW(e){e.props.expanded&&(e.props.expanded=!1)}function Jme(e,t,n){if(n.stopPropagation(),!e.props.disabled)switch(n.key){case"ArrowDown":lW(e);break;case"ArrowRight":case"ArrowLeft":uW(e,t,n,!1);break;case"Delete":case"Backspace":cW(e,t,n);break;case"Tab":(function(r,i,s,o=!1){var a,l;s.preventDefault();const u=r.props.selections.map(Pe).indexOf(Pe(i));if(u===-1)return;const c=s.shiftKey?u-1:u+1;if(c>=r.props.selections.length)return o?(r.props.expanded=!0,void(r.props.activeSelectionValue=void 0)):void 0;if(c<0)return;const d=(a=r.props.__root)===null||a===void 0?void 0:a.getElementById(`${r.props.id}_tag-wrapper_${c}`);d&&d.focus(),r.props.activeSelectionValue=((l=r.props.selections[c])===null||l===void 0?void 0:l.value)||void 0})(e,t,n)}}function Zme(e,t,n){if(!e.props.disabled)switch(n.key){case"ArrowUp":case"ArrowDown":(function(r,i,s){var o,a,l,u;s.preventDefault();const c=s.key,d=r.props.selections.map(Pe).indexOf(Pe(i));if(d===-1)return;const f=c==="ArrowDown"?d+1:d-1;if(f<0&&((a=(o=r.props.__root)===null||o===void 0?void 0:o.getElementById(`${r.props.id}`))===null||a===void 0||a.focus()),f<0||f>=r.props.selections.length)return;const p=(l=r.props.__root)===null||l===void 0?void 0:l.getElementById(`${r.props.id}_selection_wrapper_${f}`);p&&p.focus(),r.props.activeSelectionValue=((u=r.props.selections[f])===null||u===void 0?void 0:u.value)||void 0})(e,t,n);break;case"Enter":break;case"Tab":(function(r,i,s){var o,a,l,u;if(i){const c=r.props.selections.map(Pe).indexOf(Pe(i));if(c===-1)return;const d=s.shiftKey?c-1:c+1;if(d>=r.props.selections.length)return;if(d<0)return void((a=(o=r.props.__root)===null||o===void 0?void 0:o.getElementById(`${r.props.id}`))===null||a===void 0||a.focus());const f=(l=r.props.__root)===null||l===void 0?void 0:l.getElementById(`${r.props.id}_selection_wrapper_${d}`);f&&f.focus(),r.props.activeSelectionValue=((u=r.props.selections[d])===null||u===void 0?void 0:u.value)||void 0}})(e,t,n);break;case"Delete":case"Backspace":(function(r,i){var s,o;if(i){const a=r.props.selections.map(Pe).indexOf(Pe(i));if(a===-1)return;const l=r.props.selections[a+1]?a+1:a-1,u=(s=r.props.__root)===null||s===void 0?void 0:s.getElementById(`${r.props.id}_selection_wrapper_${l}`);u&&u.focus(),r.props.activeSelectionValue=((o=r.props.selections[l])===null||o===void 0?void 0:o.value)||void 0}i&&r.props.selections.length!==1||(r.props.userAction={type:"selectionDelete"}),rw(r,i)})(e,t)}}function eve(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const n=t.key;switch(n){case"Tab":(function(r){r.props.expanded&&(r.props.expanded=!1)})(e);break;case"ArrowUp":case"ArrowDown":oW(e,n,t);break;case"ArrowLeft":case"ArrowRight":aW(e,n);break;case"Enter":dW(e,t);break;case"Escape":fW(e);break;case"Delete":case"Backspace":sW(e);break;default:e.emit("unusedKeydown",t)}}function tve(e,t){if(e.props.disabled||!(t.currentTarget instanceof HTMLElement)||e.props.id!==t.currentTarget.id)return;const n=t.key;switch(n){case"Tab":(function(r,i){var s,o,a;r.props.expanded=!1,r.props.multiple&&r.props.selections.length&&(i.preventDefault(),(o=(s=r.props.__root)===null||s===void 0?void 0:s.getElementById(`${r.props.id}_selection_wrapper_0`))===null||o===void 0||o.focus(),r.props.activeSelectionValue=((a=r.props.selections[0])===null||a===void 0?void 0:a.value)||void 0)})(e,t);break;case"ArrowUp":case"ArrowDown":oW(e,n,t);break;case"ArrowRight":case"ArrowLeft":aW(e,n);break;case"Enter":dW(e,t);break;case"Escape":fW(e);break;case"Delete":case"Backspace":sW(e)}}function nve(e,t){var n;if(t.stopPropagation(),t.detail===0||e.props.disabled)return;e.props.attrs.onClick&&e.props.attrs.onClick(t);const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);e.props.justOpened?e.props.justOpened=!1:e.props.expanded?e.props.expanded=!1:(r&&t.pointerType!=="mouse"?(e.props.mouseX=-1,e.props.mouseY=-1):(e.props.mouseX=t.clientX,e.props.mouseY=t.clientY),e.props.expanded=!0,r==null||r.focus())}function rve(e){e.props.disabled||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.justOpened=!0,e.props.expanded=!0))}function ive(e){let t,n="";e.on("unusedKeydown",({payload:r})=>{if(!r.isComposing&&[...r.key].length===1){if(!n&&r.key===" ")return void function(s,o){var a;if(o.preventDefault(),s.props.expanded){if(s.props.activeValue===Qf)return void((a=s.context)===null||a===void 0||a.handlers.loadMore());const l=s.props.options.find(u=>it(Pe(u),s.props.activeValue));if(!l)return;yA(s,l)}else s.props.expanded=!0}(e,r);e.props.expanded=!0,clearTimeout(t),n+=r.key;const i=e.props.options.find(s=>s.label.toLowerCase().startsWith(n.toLowerCase()));i&&(e.props.activeValue=Pe(i)),t=setTimeout(()=>{n=""},400)}})}function qN(e){r0(e),e.on("prop:selections",()=>{e.props.skipFormatSelections=!1,r0(e)}),Pi&&Or(`${e.props.id}_selections`,sve.bind(null,e),e.props.__root)}function r0(e){e.isCreated&&(e.props.selections.length&&e.props.lastVisibleIndex&&e.props.selections.length-e.props.lastVisibleIndex>1?e.props.truncationCount="+ "+(e.props.selections.length-e.props.lastVisibleIndex-1).toString():e.props.truncationCount=void 0,e.props.formattedSelections=e.props.selections.map((t,n)=>e.props.lastVisibleIndex&&n===e.props.lastVisibleIndex&&n!==0?e.props.lastTruncatedElText&&n===e.props.selections.length-1?e.props.lastTruncatedElText:n===e.props.selections.length-1?t.label:t.label+"...":n===e.props.selections.length-1?t.label:t.label+", "))}function zN(e){var t,n;if(!Pi||!e.context)return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);if(!(r instanceof HTMLElement))return;const i=r.parentNode;if(!(i instanceof HTMLElement))return;let s=r.getBoundingClientRect().width;const o=.98*i.getBoundingClientRect().width,a=Array.prototype.slice.call(r.children),l=[...e.props.selections];if(s>o){const u=[];let c=0;for(let d=0;d<l.length;d++)u.push([l[d],a[d]]);for(let d=u.length-1;d>=0;d--){const f=u[d];if(!(f[1]instanceof HTMLElement))return;c+=f[1].getBoundingClientRect().width+parseFloat(window.getComputedStyle(f[1]).marginRight)+parseFloat(window.getComputedStyle(f[1]).marginLeft);const p=s-c;if(o>p){const h=f[0].label;e.props.skipFormatSelections=!0,f[1].textContent=h;let g=!1;for(let m=h.length;m>=0;m--){if(e.props.skipFormatSelections=!0,f[1].textContent=h.slice(0,m).trim()+"...",p+f[1].getBoundingClientRect().width<o){if(m<4){e.props.lastVisibleIndex=d-1,e.props.lastTruncatedElText=null;break}if(e.props.lastVisibleIndex=d,e.props.lastTruncatedElText&&f[1].textContent.slice(0,4)===e.props.lastTruncatedElText.slice(0,4))break;e.props.lastTruncatedElText=(n=f[1])===null||n===void 0?void 0:n.textContent;break}m===0&&(g=!0)}f[1].textContent=e.props.lastTruncatedElText&&!g&&d!==0?e.props.lastTruncatedElText:h,e.props.lastVisibleIndex===null&&(e.props.lastVisibleIndex=d===0?0:d-1,e.props.lastTruncatedElText=null),setTimeout(()=>{r0(e)});break}}}else e.props.lastTruncatedElText=null,e.props.lastVisibleIndex=null,r0(e)}function sve(e,t){const n=new ResizeObserver(()=>{e.props.selections&&e.props.selections.length!==0&&(e.props.skipFormatSelections?e.props.skipFormatSelections=!1:zN(e))}),r=new ResizeObserver(()=>{zN(e)});n.observe(t),t.parentNode instanceof Element&&r.observe(t.parentNode)}function ove(e){var t,n;if(typeof window>"u")return;const r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_dropdown_wrapper`),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(!i||!r)return;const s=r.style.paddingTop,o=r.style.paddingBottom,a=r.style.paddingLeft;r.style.paddingTop="0",r.style.paddingBottom="0",r.style.paddingLeft="0";const l=i.getBoundingClientRect(),u=r.getBoundingClientRect(),c=Math.round(l.top-u.top)+"px",d=Math.round(l.left-u.left-5)+"px",f=Math.max(Math.round(Math.min(u.height-u.top,window.innerHeight)-(l.top+l.height)),0)+"px";r.style.paddingTop=s,r.style.paddingBottom=o,r.style.paddingLeft=a,e.props.dropdownWrapperStyles={...e.props.dropdownWrapperStyles,paddingTop:c,paddingLeft:d,paddingBottom:f},e.props.listboxStyles={...e.props.listboxStyles,minWidth:e.props.behavior==="overscroll"?`min(${l.width+"px"}, calc(100vw - 4em))`:l.width+"px",maxWidth:"calc(100vw - 4em)"}}function ave(e,t){var n,r;let i=null;if(e.props.activeDescendant){const s=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(e.props.activeDescendant);if(!s)return i;e.props.ignoreScroll=!0;const o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_listbox`);if(!o)return i;const a=t.getBoundingClientRect(),l=o.getBoundingClientRect(),u=parseInt(getComputedStyle(t).paddingTop),c=parseInt(getComputedStyle(t).paddingBottom),d=s.offsetTop-u,f=Math.max(d-u,0),p=Math.max(t.scrollHeight-c-d-a.height,0),h=l.height-f-p;t.scrollTop=d;const g=()=>{t.scrollTop=p>0?p<u?t.scrollHeight:u:f<c?0:d-c},m=Math.min(150,l.height);f>0&&p>0||f===0&&p===0||h>m?t.scrollTop=d:g(),t.clientHeight/2<t.scrollTop&&(i=e.props.options.filter(v=>{var y;return!(!((y=v.attrs)===null||y===void 0)&&y.disabled)}).findIndex(v=>it(e.value,Pe(v)))),i===-1&&(i=null)}return i}function lve(e){e.addProps(["behavior"]),e.on("created",()=>{e.props.behavior==="overscroll"&&(typeof e.props.optionsLoader=="function"&&ki(300,[e]),e.props.dropdownWrapperStyles=wa(Nye),e.props.listboxStyles={display:"inline-block"},e.props.styleWrapper=ove.bind(null,e),e.props.positionListBox=ave.bind(null,e))}),e.on("prop:expanded",({payload:t})=>{e.props.behavior==="overscroll"&&(t?function(){dE=document.documentElement.scrollTop;for(const n in uE)EM[n]=document.documentElement.style[n],document.documentElement.style[n]=uE[n];for(const n in cE)wM[n]=document.body.style[n],document.body.style[n]=cE[n];document.body.scrollTop=dE}():function(){for(const n in uE)document.documentElement.style[n]=EM[n];for(const n in cE)document.body.style[n]=wM[n];document.body.scrollTop=0,document.documentElement.scrollTop=dE}())})}function pW(e){e.addProps(["multiLine"]),e.on("created",()=>{Pi&&(e.props.multiLineHeight=void 0,Or(`${e.props.id}_selections`,uve.bind(null,e),e.props.__root))})}function uve(e){var t;const n=new ResizeObserver(i=>{for(const s of i){const{height:o}=s.contentRect;e.props.selectionsHeight!==o&&(e.props.selectionsHeight=o),cve(e,s.target)}}),r=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}_selections`);r&&n.observe(r)}function cve(e,t){var n;const r=t.querySelectorAll(`[id^="${e.props.id}_tag-wrapper"`);let i,s=[];if(e.props.type==="taglist"){const a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`);if(!a)return;s=[a,...Array.from(r)]}else s=Array.from(r);if(!r)return;let o=!1;for(const a of s)if(i===void 0)i=a.getBoundingClientRect();else{const l=a.getBoundingClientRect();if(i.top>=l.top+l.height/5||i.top<=l.top-l.height/5){o=!0,e.props.multiLine=!0;break}}o||(e.props.multiLine=!1)}function dve(e){var t,n,r,i,s,o,a,l,u,c,d,f,p,h;if((t=(l=e.props).removeControl)!==null&&t!==void 0||(l.removeControl=!0),(n=(u=e.props).upControl)!==null&&n!==void 0||(u.upControl=!0),(r=(c=e.props).downControl)!==null&&r!==void 0||(c.downControl=!0),(i=(d=e.props).insertControl)!==null&&i!==void 0||(d.insertControl=!1),(s=(f=e.props).addButton)!==null&&s!==void 0||(f.addButton=!0),(o=(p=e.props).addLabel)!==null&&o!==void 0||(p.addLabel=!1),(a=(h=e.props).addAttrs)!==null&&a!==void 0||(h.addAttrs={}),e.props.min=e.props.min!==void 0?Number(e.props.min):1,e.props.max=e.props.max!==void 0?Number(e.props.max):1/0,e.props.min>e.props.max)throw Error("Repeater: min must be less than max");if("disabled"in e.props&&(e.props.disabled=Ve(e.props.disabled)),Array.isArray(e.value))if(e.value.length<e.props.min){const g=wl(e.props.min-e.value.length,()=>({}));e.input(e.value.concat(g),!1)}else e.value.length>e.props.max&&e.input(e.value.slice(0,e.props.max),!1);else e.input(wl(e.props.min,()=>({})),!1);e.context&&function(g,m){m.createShift=(v,y)=>()=>{const b=g._value;b.splice(v+y,0,b.splice(v,1)[0]),g.input(b,!1)},m.createInsert=v=>()=>{const y=g._value;y.splice(v+1,0,{}),g.input(y,!1)},m.createAppend=()=>()=>{const v=g._value;v.push({}),g.input(v,!1)},m.createRemover=v=>()=>{const y=g._value;y.splice(v,1),g.input(y,!1)}}(e,e.context.fns)}function fve(e,t){var n,r;if(!e.props.disabled&&t.currentTarget instanceof HTMLElement){let i;t instanceof MouseEvent?i=t.clientX:(i=t.changedTouches[0].clientX,document.documentElement.style.overflow=e.props.initialBodyOverflow);let s=hW(e,i,t.currentTarget)||0;s=s>e.props.min?s:e.props.min,s=s<e.props.max?s:e.props.max,e.input(s),(r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`))===null||r===void 0||r.focus()}}function pve(e,t){!e.props.disabled&&t.currentTarget instanceof HTMLElement&&bA(e,hW(e,window.TouchEvent&&t instanceof TouchEvent&&t instanceof TouchEvent?t.touches[0].clientX:t instanceof MouseEvent?t.clientX:0,t.currentTarget)||0)}function hve(e){bA(e)}function hW(e,t,n){const r=n.getBoundingClientRect();return function(i,s){const o=1/(s||1);return Math.ceil(i*o)/o}((t-r.x)/r.width*e.props.max,e.props.step)}function tE(e){setTimeout(()=>{var t;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`);n&&(e.props.wrapperWidth=`0 0 ${n.offsetWidth/e.props.max}px`)})}function bA(e,t){let n=0;n=t?Math.round(t/e.props.max*100):typeof e._value=="number"?Math.round(e._value/e.props.max*100):0;const r=100-n;e.props.onWidth=n,e.props.offWidth=r}function gW(e){e.addProps(["inputText","selectionAppearance","searchValue","openOnClick","filteredOptions","search","debounce","showInput","visibilityStyles","selectionStyles","multiple","filter","hasHighlightedRange","clearOnClick","debounce"]),e.props.debounce===void 0?e.props.debounce=200:e.props.debounce=parseInt(e.props.debounce),e.props.nonceKey="searchValue",e.props.searchValue="",e.props.inputText="",e.props.filterOptions=Ks.bind(null,e),e.props.reloadOnCommit=Ve(e.props.reloadOnCommit),e.props.alwaysLoadOnOpen===void 0?e.props.alwaysLoadOnOpen=!0:e.props.alwaysLoadOnOpen=Ve(e.props.alwaysLoadOnOpen),typeof e.props.filter!="function"&&(e.props.filter=(t,n)=>t.label.toLowerCase().includes(n.toLowerCase())),e.on("created",()=>{e.context&&Pi&&(e.context.handlers.focus=KN.bind(null,e),e.context.handlers.input=gve.bind(null,e),e.context.handlers.focus=KN.bind(null,e),e.context.handlers.click=mve.bind(null,e),e.context.handlers.toggleListbox=vve.bind(null,e),e.context.handlers.keydown=tve.bind(null,e),e.context.handlers.selectionKeydown=t=>n=>Zme(e,t,n),e.context.handlers.searchInputTagKeydown=t=>n=>function(r,i,s){if(s.stopPropagation(),!r.props.disabled)switch(s.key){case"ArrowDown":lW(r);break;case"ArrowRight":case"ArrowLeft":uW(r,i,s);break;case"Delete":case"Backspace":cW(r,i,s)}}(e,t,n),e.on("prop:options",({payload:t})=>{if((e.props.initialOptions.length===0&&typeof e.props.optionsLoader!="function"||!e.props.searchValue&&t.length)&&(e.props.initialOptions=[...t]),e.props.selections&&e.props.selections.length&&t.length)for(let n=0;n<e.props.selections.length;n++){const r=e.props.selections[n],i=t.find(s=>Pe(s)===r.value);i&&(e.props.selections[n]=i)}}))}),e.on("prop:expanded",({payload:t})=>{t||VW.delete(e)})}function gve(e,t){if(e.props.disabled)return;const n=t.target;e.props.inputText=n.value,e.emit("handleSearchInput",n.value),e.props.searchValue&&Ks(e,e.props.searchValue,!0)}function mve(e,t){t.stopPropagation(),e.props.disabled||e.props.disabledInternally||(e.props.attrs.onClick&&e.props.attrs.onClick(t),(!e.props.expanded&&e.props.openOnClick||e.props.openOnFocus)&&(e.props.expanded=!0))}function KN(e){e.props.disabled||e.props.disabledInternally||(e.props.attrs.onFocus&&e.props.attrs.onFocus(),e.props.activeSelectionValue=void 0,e.props.skipOpen?e.props.skipOpen=!1:e.props.openOnFocus&&(e.props.expanded=!0))}function vve(e){var t,n,r;e.props.disabled||e.props.disabledInternally||!((t=e.context)===null||t===void 0)&&t.state.loading||(e.props.expanded=!e.props.expanded,e.props.openOnFocus||(r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}`))===null||r===void 0||r.focus())}function yve(e){e.props.searchValue=null,e.on("commit",()=>{e.props.searchValue=null,e.props.highlightedRange||GN(e)}),e.on("created",()=>{if(!e.context||!Ty)return;e.on("handleSearchInput",({payload:s})=>{s===""?(e.props.searchValue=null,e.input([])):s&&e.props.inputStd.length===0?e.props.searchValue=s:s&&e.props.inputStd.length>0&&(e.props.searchValue=function(o){var a;const l=Dv(o);if(o.props.highlightedRange){const[u,c]=YN(o,l);return o.props.inputText.slice(u,c)}return o.props.inputText.slice(((a=l[l.length-1])===null||a===void 0?void 0:a.end)+2)}(e)),!e.props.expanded&&s?e.props.expanded=!0:!s&&e.props.expanded&&(e.props.expanded=!1)}),function(s){Or(`${s.props.id}`,o=>{o instanceof HTMLInputElement&&pE.set(o,s)},s.props.__root),Ty&&!OM&&(OM=!0,document.addEventListener("selectionchange",()=>{const o=hc();if(o instanceof HTMLInputElement&&pE.has(o)){const a=pE.get(o);a&&function(l){clearTimeout(kM.get(l)),kM.set(l,setTimeout(()=>{var u,c,d,f;const p=(u=l.props.__root)===null||u===void 0?void 0:u.getElementById(`${l.props.id}`);if(p instanceof HTMLInputElement){const h=Dv(l),g=h.findIndex(v=>p.selectionStart!==null?p.selectionStart>=v.start&&p.selectionStart<=v.end:p.selectionEnd!==null&&p.selectionEnd>=v.start&&p.selectionEnd<=v.end),m=(c=h[h.length-1])===null||c===void 0?void 0:c.end;if(p.selectionStart===0&&p.selectionEnd===((d=l.props.inputText)===null||d===void 0?void 0:d.length))return;if(typeof l.props.searchValue=="string"&&l.props.highlightedRange){if(h.length){const v=l.props.highlightedRange,[y,b]=YN(l,h);if(p.selectionEnd!==null&&(p.selectionEnd<y||p.selectionEnd>b)){const _=v.end-v.start-(b-y),S=p.selectionEnd;l.props.inputText=l.props.option.label,l.props.highlightedRange=void 0,l.props.searchValue=null,p.value=l.props.inputText,p.selectionStart=p.selectionEnd=S+(S>y?_:0)}}}else if(g>=0&&p.selectionStart!==null&&(m!==((f=l.props.inputText)===null||f===void 0?void 0:f.length)||p.selectionStart<m)){const v=h[g],y=l.props.inputText.substr(0,m),b=v.start+(v.index>0?1:0),_=v.end+(h.length-1>v.index?-1:0);y!==l.props.inputText&&(l.props.inputText=y,p.value=y),l.props.highlightedRange=v,p.selectionStart=b,p.selectionEnd=_}else l.props.highlightedRange=void 0,GN(l);if(p.selectionStart!==null&&p.selectionStart>=m&&l.props.inputText.substring(m,m+2)!==", "){let v=l.props.inputText.substring(0,m);v=l.props.multiple&&l.props.max&&Array.isArray(l.props.inputStd)&&l.props.inputStd.length>=l.props.max?v:`${v},`,l.props.inputText=`${v} ${l.props.inputText.substring(m).replace(/^[,\s]{1,2}/,"")}`}}},5))}(a)}}))}(e);const r=e.context.handlers.keydown;e.context.handlers.keydown=s=>{r(s),function(o,a){var l,u,c,d;if(["ArrowRight","ArrowLeft"].includes(a.key)&&a.target instanceof HTMLInputElement&&a.target.selectionEnd!==null&&a.target.selectionStart!==null){if(a.target.selectionStart===0&&a.target.selectionEnd===((l=o.props.inputText)===null||l===void 0?void 0:l.length))a.key==="ArrowLeft"?t(0):t(-1);else if(!o.props.searchValue){o.props.searchValue=null;const f=Dv(o),p=(u=f[f.length-1])===null||u===void 0?void 0:u.end;a.target.selectionStart<p&&(a.target.selectionStart=Math.max(0,a.key==="ArrowLeft"?a.target.selectionStart-2:a.target.selectionEnd+2))}}else if(["Delete","Backspace"].includes(a.key))o.props.highlightedRange&&!o.props.searchValue?(rw(o,o.props.highlightedRange.option),o.props.inputStd.length===0&&(o.props.highlightedRange=void 0)):a.target instanceof HTMLInputElement&&(o.props.searchValue=null,t(-1,!0)&&a.preventDefault());else if(a.target instanceof HTMLInputElement&&a.target.selectionStart===0&&a.target.selectionEnd===((c=o.props.inputText)===null||c===void 0?void 0:c.length)&&(!((d=o.props.inputText)===null||d===void 0)&&d.length)&&o.props.selections.length===0)a.preventDefault();else if(a.key==="Tab")return;a.key==="ArrowLeft"&&t(-1,!0)&&a.preventDefault()}(e,s)};const i=e.context.handlers.focus;e.context.handlers.focus=s=>{i(e,s);const o=new Event("selectionchange");document.dispatchEvent(o)},e.on("blur",()=>{e.props.selections.length?(e.props.inputText=e.props.selections.map(s=>s.label).join(", "),e.props.searchValue=null):e.props.selections.length||(e.props.inputText="",e.props.searchValue="")})}),e.on("prop:expanded",({payload:r})=>{r||e.props.inputStd.length?r&&(e.props.options.length&&!e.props.alwaysLoadOnOpen||(e.props.options=[],Ks(e,e.props.searchValue))):(e.props.searchValue="",e.props.inputText="")}),e.on("prop:selections",()=>{var r;const i=[...e.props.selections].map(o=>o.label).join(", ");let s="";if(Ty&&e.isCreated){const o=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}`);if(o==null||o.focus(),hc()===o&&Array.isArray(e._value)&&e._value.length){if(e.props.max&&e._value.length>=Number(e.props.max))return;s=", "}}e.props.inputText=`${i}${s}`,e.props.reloadOnCommit&&(e.props.searchValue="",Ks(e,e.props.searchValue))});const t=(r,i=!1)=>{var s,o;const a=(s=e.props.__root)===null||s===void 0?void 0:s.getElementById(`${e.props.id}`);if(!(a instanceof HTMLInputElement))return!1;const l=Dv(e),u=r>=0?r:l.length-1;if(l[u]===void 0)return!1;const c=(o=l[u])===null||o===void 0?void 0:o.end;return a.selectionStart!==null&&(!i||a.selectionStart>=c&&a.selectionStart<=c+2)&&(a.selectionStart=l[u].start+(u>0?1:0),a.selectionEnd=l[u].end+(u<l.length-1?-1:0),!0)};let n;e.on("selectRange",({payload:r})=>t(...r)),e.on("prop:highlightedRange",({payload:r})=>{e.props.hasHighlightedRange=!!r,r&&e.props.expanded&&n!==r.option&&(n=r.option,vA(e))})}function GN(e){var t;if(!Ty)return;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(`${e.props.id}`);n&&n.scrollTo({left:n.scrollWidth,behavior:"smooth"})}function YN(e,t){var n;const r=e.props.highlightedRange,i=r.index,s=r.start+(i?1:0),o=t.length-1>i?t[t.length-1].end-t[i+1].start:0;return[s,((n=e.props.inputText)===null||n===void 0?void 0:n.length)-o+(t.length-1>r.index?-1:0)]}function Dv(e){const t=IA(e);return Array.isArray(t)&&t.length?t.reduce((n,r,i)=>{var s;const o=((s=n[i-1])===null||s===void 0?void 0:s.end)||0;let a=0;return t.length-1!==i&&a++,i!==0&&a++,n.push({option:r,index:i,start:o,end:o+r.label.length+a}),n},[]):[]}function mW(e){(function(t){t.on("prop:expanded",({payload:n})=>{n?(t.props.searchValue="",t.props.options.length&&!t.props.alwaysLoadOnOpen||(t.props.options=[],Ks(t,t.props.searchValue,!0))):(t.props.searchValue="",t.props.inputText="")})})(e),function(t){t.on("handleSearchInput",({payload:n})=>{n&&!t.props.expanded?(t.props.searchExpand=!0,t.props.expanded=!0):!n&&t.props.expanded&&(t.props.expanded=!1),t.props.searchValue=t.props.inputText})}(e),function(t){t.on("prop:selections",()=>{t.isCreated&&(t.props.inputText="",t.props.searchValue="",t.props.optionRemoved||t.props.reloadOnCommit&&Ks(t,t.props.searchValue,!0))})}(e)}function _ve(e){(function(t){function n(i){i.props.inputStd.length===0?(i.props.inputText="",i.props.searchValue=""):(i.props.inputText=i.props.selections[0].label,i.props.searchValue=i.props.selections[0].label)}function r(i){i.props.clearSearchOnOpen&&!i.props.searchExpand&&(i.props.inputText="",i.props.searchValue=""),i.props.searchValue=i.props.inputText,i.props.options.length&&!i.props.alwaysLoadOnOpen||i.props.searchExpand||(i.props.options=[],Ks(i,i.props.searchValue,!0)),i.props.searchExpand&&(i.props.searchExpand=!1)}t.on("prop:expanded",({payload:i})=>{i?r(t):n(t)})})(e),function(t){t.on("handleSearchInput",({payload:n})=>{n===""?(t.props.inputStd.length===0&&(t.props.expanded=!1),t.input(void 0)):n&&!t.props.expanded&&(t.props.searchExpand=!0,t.props.expanded=!0),t.props.searchValue=t.props.inputText})}(e),function(t){t.on("prop:selections",({payload:n})=>{t.props.inputText=n.length?n[0].label:"",t.props.searchValue=n.length?n[0].label:"",t.isCreated&&t.props.expanded&&n.length===0&&Ks(t,t.props.searchValue,!0)})}(e)}function wA(e,t){var n;if(la.has(e))return;la.set(e,[]),t.reverse&&Vd.add(e),t.prefix&&Jf.set(e,t.prefix),t.suffix&&aw.set(e,t.suffix),yW(e,t.pattern,t.partOverrides,t.explicitParts);const r=ow.get(e),i=r==null?void 0:r.some(a=>Ea(a)),s=r==null?void 0:r.some(a=>function(l){return!!l&&l.type==="group"&&Array.isArray(l.parts)}(a));if(i&&s)throw new Error("Cannot use enums and groups in the same mask.");const o=i?"select":(n=t.mode)!==null&&n!==void 0?n:"shift";if(s&&o==="select")throw new Error("Cannot use groups in select mode.");(t.placeholder||o==="select")&&YS.add(e),ul.set(e,o),t.onChange&&Ch.set(e,t.onChange),e.addEventListener("beforeinput",a=>{if(Cy)return;if(a.inputType.startsWith("history"))return function(f,p){f.addEventListener("input",h=>{var g;h.preventDefault(),h.stopImmediatePropagation();const m=la.get(f);if(m!=null&&m.length){const v=((g=$f.get(f))!==null&&g!==void 0?g:m.length-1)+(p.endsWith("Undo")?-1:1),y=m[v];if(!y)return;bW(f,y),f.setSelectionRange(...y.selectionAfter),$f.set(f,v),Ch.has(f)&&Ch.get(f)(y,f)}},{once:!0})}(e,a.inputType);a.preventDefault();const l=(u=a.inputType).startsWith("insert")?"insert":!!u.startsWith("delete")&&(u==="deleteContentForward"?"deleteContentForward":"deleteContentBackward");var u;const c=go(e),d=e.value;l&&Og(e,{type:l,selectionBefore:c,data:a.data,valueBefore:d,suffix:t.suffix,prefix:t.prefix})}),o==="select"&&e.addEventListener("keydown",a=>{switch(a.key){case"ArrowRight":return a.preventDefault(),nE(e);case"ArrowLeft":return a.preventDefault(),nE(e,-1);case"ArrowUp":return void(iM(e,1)&&a.preventDefault());case"ArrowDown":return void(iM(e,-1)&&a.preventDefault());case"Tab":return XS?void a.preventDefault():void(nE(e,a.shiftKey?-1:1)&&a.preventDefault())}}),e.addEventListener("focus",()=>function(a){var l;const u=YS.has(a),c=ul.get(a);if(u){let d=null,f=null,p=!1;const h=c==="shift"?0:1,g=a.value;US(a,{type:"insert",data:g,selectionBefore:[0,0,"none"],valueBefore:g},c==="shift"?"":g,(v,y)=>(d===null&&y.type==="char"&&(d=v.pos-h),(ia(y)||Ea(y))&&v.value.endsWith(y.placeholder)?(f=v.pos-h,!1):(y.type==="char"&&(p=!0),!0)));const m=(l=f??(p?g.length:d))!==null&&l!==void 0?l:null;if(m!==null){let v=[m,m,"none"];if(ul.get(a)==="select"){const[y]=Oi(a),b=sa(a,v);b!==void 0&&b in y&&(v=y[b])}return function(y,b,_=50){yu.set(y,xh(y,b));const S=async()=>{if(!Rg||hc()!==y)return;ul.get(y)==="select"&&(await new Promise(T=>setTimeout(T,10)),function(T){let w=go(T);if(w[0]===w[1]&&w[0]===0||T.value.length===w[1]&&w[0]===0)return;w=BS(T,w);const[x]=Oi(T),E=sa(T,w),O=w[0];E!==void 0&&x.some(M=>O>=M[0]&&O<M[1])&&yu.set(T,xh(T,x[E]))}(y));const I=yu.get(y);I&&y.setSelectionRange(...I)};S(),document.addEventListener("selectionchange",S),setTimeout(()=>{document.removeEventListener("selectionchange",S),yu.delete(y)},_)}(a,v)}}}(e)),e.addEventListener("selection",a=>function(l,u){if(yu.get(l))return;AW(l),u=BS(l,u);const[c]=Oi(l),d=sa(l,u),f=d!==void 0&&xh(l,c[d]);f&&!gc(u,f)&&i0(l,f,!0)}(e,a.detail)),Og(e,{type:"insert",selectionBefore:[0,0,"forward"],data:e.value,valueBefore:"",suffix:t.suffix,prefix:t.prefix})}function XN(e){var t,n;if(Fu.has(e))return;const r=(t=la.get(e))!==null&&t!==void 0?t:[],i=r[(n=$f.get(e))!==null&&n!==void 0?n:r.length-1];if(i){const s=i.selectionAfter,[o,a]=Oi(e,i.valueAfter),l=sa(e,s,[o,a]);if(l!==void 0&&l in o){const u=a[l],c=o[l],d=[s[0]-c[0],s[1]-c[0],"none"];Fu.set(e,[u,d])}}}function QN(e){Fu.delete(e)}function JN(e,t){const n=typeof e=="string"||!la.has(e),r=typeof e=="string"?vW(e):e;if(n)t.prefix&&Jf.set(r,t.prefix),t.suffix&&aw.set(r,t.suffix),r.value=EA(r,r.value),wA(r,t);else{const i=$A(r),s=r.value;r.value="",Og(r,{type:"insert",selectionBefore:[0,i?i.valueAfter.length:0,"none"],valueBefore:i?i.valueAfter:"",data:s,suffix:t.suffix,prefix:t.prefix})}return r.value}function vW(e){return{value:e,selectionStart:0,selectionEnd:0,scrollWidth:0,clientWidth:0,addEventListener:()=>{},dispatchEvent:()=>{},setSelectionRange:()=>{}}}function yW(e,t,n,r,i){i=e&&Vd.has(e)||i;const s=(r??function(f){const p=Object.values(W0e);if(!f)return p;const h={...f},g=[];for(const v of p)if(!wf(v))if("token"in v&&v.token in f){const y={...v,...f[v.token]};ZN(y)&&g.push(y),delete h[v.token]}else g.push(v);const m=Object.values(h);for(const v of m)ZN(v)?g.push(v):console.warn(`Invalid ${v.type} token`,v);return g}(n)).sort((f,p)=>{const h="token"in f?f.token.length:-1,g="token"in p?p.token.length:-1;return h===g?0:h>g?-1:1});let o=[];[t,o]=function(f,p,h,g){let m,v=0,y="",b="",_="";const S=[];for(;y=pi(f);)y===p&&m!==g?(v++,v>1&&(_+=y)):y===h&&v&&m!==g?(v--,v===0?(b+=`{$${S.length}}`,S.push(_),_=""):_+=y):v?_+=y:m!==g||y!==p&&y!==h?b+=y:b=`${b.substring(0,b.length-1)}${y}`,m=y,f=f.substring(y.length);return[b,S]}(t,"{","}","\\");const a=o.length;t=s.reduce((f,p,h)=>"token"in p?f.replaceAll(`\\${p.token}`,"{!}").replaceAll(p.token,`{$${a+h}}`).replaceAll("{!}",p.token):f,t);const l=function(f,p,h){return f.reduce((g,m)=>{const[v,y]=function(S){const[I,...T]=S.split("|"),w=T.reduce((x,E)=>{const[O,M=!0]=E.split(":");return Object.assign(x,{[O]:M})},{});return[I,w]}(m);let b=yW(null,v,void 0,p,h);b=b.map(S=>{const I={...S};if(I.type==="char"&&y.placeholder)I.placeholder=y.placeholder;else if(I.type==="enum")throw new Error("Groups cannot contain enums.");return I});const _={type:"group",parts:b,...y};return g.push(_),g},[])}(o,s,i).concat(s),u=/\{\$\d+\}/g,c=t.match(u),d=t.split(u).reduce((f,p,h)=>{if(p&&(p=p.replaceAll("\\",""),f.push({type:"literal",value:i?[...p].reverse().join(""):p})),c&&c[h]){const g=c[h],m=Number(g.substring(2,g.length-1));!isNaN(m)&&l[m]&&f.push(l[m])}return f},[]);return i&&d.reverse(),e&&ow.set(e,d),d}function ZN(e){return!!e&&(wf(e)||ia(e)||Ea(e))}function ia(e){return!!e&&e.type==="char"&&e.pattern instanceof RegExp&&_W(e)}function Ea(e){return!!e&&e.type==="enum"&&Array.isArray(e.values)&&_W(e)}function _W(e){return!!e&&"placeholder"in e&&"token"in e}function wf(e){return!!e&&e.type==="literal"&&typeof e.value=="string"}function gc(e,t){return e===t||e!==void 0&&t!==void 0&&e[0]===t[0]&&e[1]===t[1]}function go(e){var t,n;return[(t=e.selectionStart)!==null&&t!==void 0?t:e.value.length,(n=e.selectionEnd)!==null&&n!==void 0?n:e.value.length,"none"]}function Og(e,t){var n;Vd.has(e)&&sM(t);let r=!1;switch(Iy.set(e,"playing"),t.type){case"insert":r=function(i,s){let o=eM(s);const a=s.selectionBefore,l=function(c,d){var f,p,h;if(ul.get(c)==="select"){const[g,m]=Oi(c),v=g.findIndex(b=>gc(b,d.selectionBefore)),y=(f=m[v])!==null&&f!==void 0?f:null;if(ia(y)){const b=d.selectionBefore,_=b[1]-b[0],S=d.valueBefore.substring(b[0],b[1]),I=y.selectDirection==="left",T=EW(S,y),w=I?0:function(E,O,M){if(!E)return 0;let V="";for(;E.length;){const H=pi(E);E=E.substring(H.length),O.pattern.test(H)&&(V+=H)}return Math.min(Math.max(V.length,1),M)}(d.data,y,_);if(T.length>=_)return I||(d.insertPos=b[1]-w),((p=y.selectFill)!==null&&p!==void 0?p:y.placeholder).repeat(_);const x=((h=y.selectFill)!==null&&h!==void 0?h:y.placeholder).repeat(_-T.length-(I?0:w));return d.insertPos=I?b[0]+T.length:b[1]-w,y.selectDirection==="left"?`${T}${x}`:`${x}${T}${y.placeholder}`}if(Ea(y)){const b=d.selectionBefore;return d.valueBefore.substring(b[0],b[1])}}return""}(i,s);o=`${o.substring(0,a[0])}${l}${o.substring(a[1])}`;const u=US(i,s,o);return j0e.set(i,u.endPos),{...s,valueAfter:u.value,selectionAfter:Eve(i,u),unmasked:u.unmasked,complete:u.complete,meta:u.meta}}(e,t);break;case"deleteContentBackward":case"deleteContentForward":r=function(i,s){const o=eM(s),a=s.selectionBefore,l=Vd.has(i);let u=a[0],c=a[1];u===c&&(s.type!=="deleteContentBackward"||l?c+=xy(o,u):u-=xy(o,u,"backward"));const d=ul.get(i);let f="";if(d==="select"){const[g,m]=Oi(i),v=sa(i,[u,c,"none"]);if(v!==void 0){const y=m[v],b=g[v];ia(y)?f=y.placeholder.repeat(c-u):Ea(y)&&([f,u]=gc(b,go(i))?[y.placeholder,u]:function(_,S,I,T){const w=T.valueBefore,x=xy(w,T.selectionBefore[0],"backward"),E=Math.max(I[0],T.selectionBefore[0]-x),O=w.substring(I[0],E),M=Nm(S.values,O);let V=M==null?void 0:M.substring(O.length);return M&&!V&&SW(S.values,M)&&(V=M),[V??S.placeholder,V?E:I[0]]}(0,y,b,s))}}const p=`${o.substring(0,u)}${f}${o.substring(c)}`,h=US(i,s,p);return{...s,valueAfter:h.value,selectionAfter:Tve(i,h,s,u),unmasked:h.unmasked,complete:h.complete,meta:h.meta}}(e,t)}if(Vd.has(e)&&r&&sM(r),r&&function(i,s){s.prefix&&(s.valueAfter=s.prefix+s.valueAfter,s.selectionAfter=xh(i,s.selectionAfter)),s.suffix&&(s.valueAfter+=s.suffix)}(e,r),r&&function(i){return i.valueBefore!==i.valueAfter||i.selectionBefore[0]!==i.selectionAfter[0]||i.selectionBefore[1]!==i.selectionAfter[1]}(r)){Ch.has(e)&&vE.set(e,()=>{vE.delete(e),r&&Ch.get(e)(r,e)}),Iy.set(e,"beforeCallback");let i=(n=la.get(e))!==null&&n!==void 0?n:[];const s=$f.get(e);s&&(i=i.slice(0,s),$f.delete(e)),i.push(r),la.set(e,i),Rg&&hc()===e&&typeof document.execCommand=="function"&&!Cy?(i0(e,[0,e.value.length,"forward"],!0),Cy=!0,document.execCommand("insertText",void 0,r.valueAfter),Cy=!1):bW(e,r),Rg&&hc()===e&&i0(e,r.selectionAfter);const o=vE.get(e);o&&o(),AW(e)}Iy.set(e,"complete")}function EA(e,t){var n,r;const i=(n=Jf.get(e))!==null&&n!==void 0?n:"",s=(r=aw.get(e))!==null&&r!==void 0?r:"";return i&&t.startsWith(i)&&(t=t.substring(i.length)),s&&t.endsWith(s)&&(t=t.substring(0,t.length-s.length)),t}function xh(e,t){const n=Jf.get(e),r=[...t];return n&&(r[0]+=n.length,r[1]+=n.length),r}function BS(e,t){const n=Jf.get(e),r=[...t];return n&&(r[0]-=n.length,r[1]-=n.length),r}function eM(e){let t=e.valueBefore;const n=e.selectionBefore;if(e.suffix&&t.endsWith(e.suffix)&&(t=t.substring(0,t.length-e.suffix.length),e.valueBefore=t,n[0]>=t.length&&(n[0]=t.length),n[1]>=t.length&&(n[1]=t.length)),e.prefix&&t.startsWith(e.prefix)){const r=e.prefix.length;t=t.substring(r),e.valueBefore=t,n[0]=Math.max(n[0]-r,0),n[1]=Math.max(n[1]-r,0)}return t}function i0(e,t,n=!1){n&&(Sf.add(e),setTimeout(()=>Sf.delete(e),5)),yu.get(e)&&yu.set(e,t),e.setSelectionRange(...t)}function bW(e,t,n="After"){if(e.value=t[`value${n}`],Rg){const r=new InputEvent("input",{inputType:t.type==="insert"?"insertText":t.type,data:t.data});e.dispatchEvent(r)}}function pi(e){if(e==null)return"";const t=l0.test(e.charAt(0))&&l0.test(e.charAt(1))?2:1;return e.substring(0,t)}function xy(e,t,n="forward"){if(n==="backward")return t===0?0:t===1?1:l0.test(e.charAt(t))&&l0.test(e.charAt(t-1))?2:1;const r=e.length-t;return r===0?0:r===1?1:pi(e.substring(t)).length}function wW(e,t){const n=pi(e.data),r=n.length;if(e.value+=n,e.pos+=r,typeof e.data=="string"&&(e.data=e.data.substring(r),e.data.length||(e.endPos=e.pos)),t)return t.substring(r)}function tM(e){const t=pi(e.buffer),n=t.length;e.value+=t,e.pos+=n,e.buffer=e.buffer.substring(n)}function bve(e,t){const n=pi(t),r=n.length;return e.value+=n,e.pos+=r,t.substring(r)}function wve(e,t){for(;t.buffer;){const n=pi(t.buffer);if(e.pattern.test(n)||t.placeholder&&e.placeholder===n)return void(t.mode!=="replace"&&t.mode!=="select"||(t.buffer=t.buffer.substring(n.length)));t.buffer=t.buffer.substring(n.length)}}function nM(e,t){const n=e.values.concat([e.placeholder]).map(r=>r.toLowerCase()).sort((r,i)=>r.length>i.length?-1:1);for(;t.buffer;){const r=t.buffer.toLowerCase(),i=n.find(s=>r.startsWith(s));if(i){const s=t.buffer.substring(0,i.length);return t.buffer=t.buffer.substring(i.length),s}t.buffer=t.buffer.substring(xy(t.buffer,0))}return null}function EW(e,t){let n=e.replaceAll(t.placeholder,"");const r=t.selectDirection==="left";if(t.selectFill){const s=new RegExp(`${r?"":"^"}${i=t.selectFill,i.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}+${r?"$":""}`);n=n.replace(s,"")}var i;return n}function Eve(e,t){let n=[t.endPos,t.endPos,"forward"];if(t.mode!=="select")return n;const r=go(e);n=[r[0],t.endPos,"none"];const[i,s]=Oi(e,t.value),o=sa(e,n,[i,s]);if(o===void 0||!(o in i)||!(o in s))return n;const a=i[o],l=s[o],u=t.value.slice(a[0],a[1]);if(ia(l)&&EW(u,l).length===u.length&&o<i.length-1)return RM(),i[o+1];if(Ea(l)&&t.insertPos>=a[0]&&t.insertPos<=a[1]){if(t.cycle)return a;const c=function(f,p,h){if(f.originalData===null)return 0;const g=f.insertPos>=p?f.value.substring(p,f.insertPos):"",m=`${g}${f.originalData}`,v=Nm(h.values,m);return v?$W(m,v).length-g.length:0}(t,a[0],l);if(t.insertPos+c===a[1])return SW(l.values,u)?[a[1],a[1],"forward"]:(RM(),i[o+1]?i[o+1]:i[o]);const d=[t.insertPos+c,a[1],"none"];return gc(d,r)||(Sf.add(e),setTimeout(()=>Sf.delete(e),5)),d}return a}function US(e,t,n,r){var i,s;const o=(i=ow.get(e))!==null&&i!==void 0?i:[],a={pos:0,insertPos:(s=t.insertPos)!==null&&s!==void 0?s:t.selectionBefore[0],range:t.selectionBefore,chars:0,placeholder:YS.has(e),buffer:n,data:t.data,originalData:t.data,value:"",mode:ul.get(e)||"replace",endPos:t.selectionBefore[0],rangeParts:Oi(e),unmasked:"",complete:!0,cycle:t.cycle,meta:[]};return VS(o,a,void 0,r),a}function VS(e,t,n,r){var i,s;const o={...t};n!=null&&n.placeholder&&(t.placeholder=!0);const a=n!=null&&n.repeat&&((i=n.nextPart)===null||i===void 0?void 0:i.type)==="literal"?n.nextPart.value:null;let l=0;const u=e.reduce((d,f)=>d+(f.type==="char"?1:0),0),c=t.chars;for(const d of e){const f=e[l+1];switch(d.type){case"literal":Sve(d,t,e.at(-1)===d);break;case"char":xve(d,t,a);break;case"enum":$ve(d,t);break;case"group":const h={repeat:(s=d.repeat)!==null&&s!==void 0&&s,nextPart:f,repeats:0,placeholder:!!d.placeholder};VS(d.parts,t,h,r)}if(r&&r(t,d)===!1)break;const p=wf(f)&&l+2===e.length&&c!==t.chars;if(!(t.buffer||t.data||t.placeholder||p))break;l++}if(t.chars<u&&(t.complete=!1),n){const d=t.chars-c,f=d===u,p=!(!t.data||a&&t.data.startsWith(a)&&t.insertPos<=t.pos),h=!(t.buffer&&a&&t.buffer.startsWith(a)&&t.insertPos>=t.pos+a.length)&&(t.buffer||p);if(n.repeat&&h&&f)return n.repeats++,VS(e,t,n,r);if(!f){t.complete=!1;const g=e.reverse().find(m=>m.type==="literal");e.reverse(),wf(g)&&t.value.endsWith(g.value)&&(t.value=t.value.substring(0,t.value.length-g.value.length),t.pos=t.value.length)}u>1&&d<u&&d!==0&&t.insertPos<=t.pos?t.data="":n.repeat&&!f&&n.repeats&&Object.assign(t,o)}t.placeholder=o.placeholder}function $ve(e,t){const[n,r]=t.rangeParts,i=n[r.indexOf(e)];if(i&&(t.insertPos<=t.pos||t.insertPos>=i[0]&&t.insertPos<=i[1])&&t.data){const s=t.buffer.substring(0,t.insertPos-t.pos),o=`${s}${t.data}`,a=Nm(e.values.concat([e.placeholder]),o);if(a){const l=$W(o,a);return t.data=t.data.substring(l.length),t.value+=a,a!==e.placeholder?t.unmasked+=a:t.complete=!1,t.meta.push({type:a!==e.placeholder?"enum":"placeholder",value:a}),s?t.buffer=t.buffer.substring(s.length):nM(e,t),t.endPos=t.pos+l.length,void(t.pos=t.value.length)}t.data=""}if(t.buffer){const s=nM(e,t);if(s)return t.value+=s,s!==e.placeholder?t.unmasked+=s:t.complete=!1,t.meta.push({type:s!==e.placeholder?"enum":"placeholder",value:s}),void(t.pos=t.value.length)}t.complete=!1,t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder}),t.pos=t.value.length}function Sve(e,t,n){let r=e.value;if(t.data===""&&!t.buffer&&!t.placeholder&&!n)return;let i=!1;for(;r;){const s=t.insertPos<=t.pos?pi(t.data):"",o=pi(r);if(s===o)r=wW(t,r),t.meta.push({type:"literal",value:o}),i=!0;else if(!i||t.data||t.data===null||t.placeholder||n)r=bve(t,r),t.meta.push({type:"literal",value:o});else if(i&&!t.data)break;t.buffer.startsWith(o)&&(t.buffer=t.buffer.substring(o.length))}t.data===null&&!t.buffer&&t.insertPos<=t.pos&&!t.placeholder&&(t.value=t.value.substring(0,t.value.length-e.value.length),t.pos=t.endPos=t.value.length)}function xve(e,t,n){var r;let i=!0;if(t.insertPos<=t.pos)for(;!((r=t.data)===null||r===void 0)&&r.length;){const s=pi(t.data);if(e.pattern.test(s))return wW(t),t.meta.push({type:"char",value:s}),t.chars++,t.unmasked+=s,void wve(e,t);if(typeof t.data=="string"){if(n&&t.data.startsWith(n)){i=!1;break}t.data=t.data.substring(s.length)}}for(;i&&t.buffer;){const s=pi(t.buffer);if(e.pattern.test(s))return t.chars++,t.unmasked+=s,tM(t),void t.meta.push({type:"char",value:s});if(t.placeholder&&s===e.placeholder)return tM(t),void t.meta.push({type:"placeholder",value:s});if(typeof t.buffer=="string"){if(n&&t.buffer.startsWith(n)){t.buffer=t.buffer.substring(n.length);break}t.buffer=t.buffer.substring(s.length)}}t.placeholder?(t.value+=e.placeholder,t.meta.push({type:"placeholder",value:e.placeholder})):t.endPos=t.pos}function Tve(e,t,n,r){const i=[r,r,"none"];if(t.mode==="select"){const s=Oi(e),o=sa(e,i,s),[a,l]=Oi(e,t.value),u=o!==void 0&&rM(n.valueBefore,s[0][o],s[1][o]);if(o!==void 0&&o in a)return u?a.slice(o).every((d,f)=>rM(t.value,d,l[o+f]))&&a[o-1]?a[o-1]:a[o]:[r,a[o][1],"none"]}return i}function rM(e,t,n){if(wf(n))return!1;if(ia(n)){let r=t[0];for(;r<t[1];){const i=pi(e.substring(r));if(i!==n.placeholder)return!1;r+=i.length}}return!Ea(n)||e.substring(t[0],t[1])===n.placeholder}function $W(e,t){let n="";do{const r=pi(e).toLowerCase(),i=pi(t).toLowerCase();if(r!==i)break;n+=r,e=e.substring(r.length),t=t.substring(i.length)}while(e.length&&t.length);return n}function Oi(e,t){const n=ow.get(e);if(!n)return[[],[]];if(gE.has(e))return gE.get(e);const r=t??EA(e,e.value),i=[],s=[];let o=null,a=null,l=0,u=!0;for(const d of n)if(wf(d))o=d,a!==null&&(i.push([a,l,"none"]),a=null),l+=d.value.length;else{if(ia(o)&&ia(d)&&d.token===o.token)l++;else if(ia(d))a===null?(a=l,s.push(d)):(i.push([a,l,"none"]),a=l,s.push(d)),l++;else if(Ea(d)){a&&i.push([a,l,"none"]),xW(d)||(u=!1);const f=Ive(r,d,l);a=null,i.push([l,l+f,"none"]),s.push(d),l+=f}o=d}a!==null&&i.push([a,l,"none"]);const c=[[...i],[...s]];return u&&!t&&gE.set(e,c),c}function Ive(e,t,n){if(xW(t))return t.values[0].length;const r=e.slice(n),i=Nm(t.values.concat([t.placeholder]),r);return i?i.length:0}function Nm(e,t,n=null,r){var i;if(t.length===0)return n;if(!r){const u=e.find(c=>c.toLowerCase()===t.toLowerCase());if(u)return u}const s=pi(t.toLowerCase()),o=`${r??""}${s}`,a=e.filter(u=>u.toLowerCase().startsWith(o)),l=a.find(u=>u.toLowerCase()===o);return l&&(n=l),a.length===0?n:a.length===1?a[0]:(a.length>1&&(n=a[0]),(i=Nm(a,t.substring(s.length),n,o))!==null&&i!==void 0?i:a[0])}function SW(e,t){return t=t.toLowerCase(),e.some(n=>(n=n.toLowerCase()).startsWith(t.toLocaleLowerCase())&&n!==t)}function xW(e){if(!mE.has(e)&&Array.isArray(e.values)&&e.values.length>0){const t=e.values[0].length;if(e.placeholder.length!==t)return!1;mE.set(e,e.values.every(n=>n.length===t))}return mE.get(e)}function nE(e,t=1){const[n]=Oi(e),r=sa(e,BS(e,go(e)));return r!==void 0&&n[r+t]!==void 0&&(e.setSelectionRange(...xh(e,n[r+t])),!0)}function iM(e,t=1){const[n,r]=Oi(e),i=sa(e,go(e));if(i!==void 0&&i in r){const s=r[i];if(Ea(s)){const o=n[i],a=e.value.slice(o[0],o[1]);let l=null,u=s.values.indexOf(a);const c=s.values.length-1;if(u!==-1){const d=u+t;u=d<0?c:d>c?0:d,l=s.values[u]}else a===s.placeholder&&(l=t>0?s.values[0]:s.values[c]);if(l!==null){const d={selectionBefore:o,insertPos:o[0],type:"insert",data:l,valueBefore:e.value,cycle:!0};return setTimeout(()=>Og(e,d),0),!0}}}return!1}function TW(e,t){if(!e.length)return-1;if(e.length===1)return e[0];const n=e.length/2,r=Number.isInteger(n)?n:Math.floor(n),i=Math.abs(t-e[r-1])<Math.abs(t-e[r])?[0,r]:[r];return TW(e.slice(...i),t)}function sa(e,t,n){const[r]=n??Oi(e),i=r.findIndex(l=>l[0]!==l[1]&&(!!gc(l,t)||t[1]>l[0]&&t[1]<l[1]));if(i!==-1)return i;const[s,o]=r.reduce((l,u,c)=>(l[0].add(u[0]),l[0].add(u[1]),l[1][u[0]]=c,l[1][u[1]]=c,l),[new Set,{}]),a=TW([...s],t[1]);return a in o?o[a]:void 0}function $A(e){var t,n;const r=(t=la.get(e))!==null&&t!==void 0?t:[];return r[(n=$f.get(e))!==null&&n!==void 0?n:r.length-1]}function IW(e,t=!1){const n=$A(e);return n&&(n.complete||t)?Vd.has(e)?[...n.unmasked].reverse().join(""):n.unmasked:t?"":null}function CW(e){var t;const n=$A(e);return(t=n==null?void 0:n.meta)!==null&&t!==void 0?t:null}function sM(e){const t=r=>[...r].reverse().join(""),n=(r,i)=>[i-r[1],i-r[0],r[2]];e.data&&(e.data=t(e.data)),e.valueBefore=t(e.valueBefore),"valueAfter"in e&&(e.valueAfter=t(e.valueAfter)),"selectionAfter"in e&&(e.selectionAfter=n(e.selectionBefore,e.valueAfter.length)),e.selectionBefore=n(e.selectionBefore,e.valueBefore.length)}function AW(e){if(e.scrollWidth>e.clientWidth&&e.selectionStart!==null&&e.selectionEnd!==null){const t=e.selectionStart/e.value.length,n=e.selectionEnd/e.value.length;e.scrollLeft=n>.9?e.scrollWidth:t*e.scrollWidth-20,e.dispatchEvent(new CustomEvent("input-scroll",{bubbles:!1,detail:e.scrollLeft}))}}function Gn(e){if(e||(e=new Date),e instanceof Date){const t=new Date(e);return t.setMilliseconds(0),t}if(function(t){const n=t.match(MM);if(n){const r=Number(n[2]);if(r<1||r>12)return!1;if(typeof n[3]!==void 0){const i=Number(n[3]);if(i<1||i>31)return!1}if(typeof n[4]!==void 0){const i=Number(n[4]);if(i<0||i>23)return!1}return!0}return!1}(e=e.trim()))return new Date(function(t){const n=t.match(MM);return n&&n[4]===void 0?t+"T00:00:00":t}(e));throw new Error(`Non ISO 8601 compliant date (${e}).`)}function oM(e){const t=Gn(e);return t.setDate(1),t.setHours(0,0,0),t}function s0(e){const t=Gn(e);return t.setDate(1),t.setMonth(t.getMonth()+1),t.setDate(0),t}function Mm(e){return s0(e).getDate()}function aM(e,t=0){const n=Gn(e);let r=t-n.getDay();return r>0&&(r-=7),n.setDate(n.getDate()+r),n.setHours(0,0,0),n}function Ud(e,t=1){const n=Gn(e);return n.setDate(n.getDate()+t),n}function Xa(e,t=1,n=!1){const r=Gn(e),i=r.getDate();if(n||r.setDate(1),r.setMonth(r.getMonth()+t),!n){const s=Mm(r);r.setDate(s<i?s:i)}return r}function sd(e,t=1,n=!1){const r=Gn(e),i=r.getDate();if(n||r.setDate(1),r.setFullYear(r.getFullYear()+t),!n){const s=Mm(r);r.setDate(s<i?s:i)}return r}function lM(e,t){const n=Gn(e),r=Gn(t);return n.getDate()===r.getDate()&&n.getMonth()===r.getMonth()&&n.getFullYear()===r.getFullYear()}function uM(e,t,n){if(!yE.has(e)){const i=new Date(CA),s=[3,8,9,7,6,4,3],o=["weekday","month","dayPeriod"],a=["long","short","narrow"],l={};for(let u=0;u<12;u++){i.setMonth(0+u),u in s&&i.setDate(s[u]),i.setUTCHours(8+u);for(const c of a){const d=new Intl.DateTimeFormat(e,o.reduce((f,p)=>Object.assign(f,{[p]:c}),{hour12:!0,timeZone:"UTC"})).formatToParts(i).map(oa);if(c==="long"||c==="short"){const f=new Intl.DateTimeFormat(e,{dateStyle:c==="short"?"medium":"long"}).formatToParts(i).map(oa).find(h=>h.type==="month"),p=d.findIndex(h=>h.type==="month");p>-1&&f&&(d[p]=f)}d.forEach(f=>{if(f.type==="literal")return;const p=f.type;l[p]=Object.assign(l[p]||{},{[f.value]:c})})}}yE.set(e,l)}const r=yE.get(e);return r?r[t][n]:void 0}function md(e,t){const n=NM.get(t);if(n&&n[e])return n[e];const r=new Date(CA);r.setUTCHours(e==="am"?5:20);const i=new Intl.DateTimeFormat(t,{timeStyle:"full",timeZone:"UTC",hour12:!0}).formatToParts(r).map(oa).find(s=>s.type==="dayPeriod");if(i){const s=n||{};return NM.set(t,Object.assign(s,{[e]:i.value})),i.value}return e}function Cve(e,t){const n={timeZone:"UTC"};typeof e=="string"?n.dateStyle=e:("date"in e&&(n.dateStyle=e.date),"time"in e&&(n.timeStyle=e.time));const r=new Intl.DateTimeFormat(t,n),i=r.formatToParts(new Date(CA)).map(oa),s=r.formatToParts(new Date("1999-04-05T23:05:01.000Z")).map(oa).find(a=>a.type==="hour"),o=s&&s.value==="23"?24:12;return i.map(a=>{const l=a.type,u=function(d,f,p,h){const g=f.length,m=!isNaN(Number(f));let v;switch(d){case"year":return g===2?Un.get("YY"):Un.get("YYYY");case"month":return m?g===1?Un.get("M"):Un.get("MM"):(v=uM(p,d,f),v==="long"?Un.get("MMMM"):Un.get("MMM"));case"day":return g===1?Un.get("D"):Un.get("DD");case"weekday":switch(v=uM(p,d,f),v){case"narrow":return Un.get("d");case"short":return Un.get("ddd");default:return Un.get("dddd")}case"hour":return h===12?g===1?Un.get("h"):Un.get("hh"):g===1?Un.get("H"):Un.get("HH");case"minute":return g===1?Un.get("m"):Un.get("mm");case"second":return g===1?Un.get("s"):Un.get("ss");case"dayPeriod":return/^[A-Z]+$/u.test(f)?Un.get("A"):Un.get("a");case"literal":return[f,{literal:f},new RegExp("")];case"timeZoneName":const y=f.split("-");return y.length===2&&y[1].length===4?Un.get("ZZ"):Un.get("Z");default:return}}(a.type,a.value,t,a.type==="hour"?o:void 0);if(u===void 0)return;const c=u[1][l];return c?(u[2]||(u[2]=new RegExp(`${u[0]}`,"g")),{option:{[l]:c},partName:l,partValue:c,token:u[0],pattern:u[2],hour12:o===12}):void 0}).filter(a=>!!a)}function Ef(e,t){function n(l,[u,c,d]){const f=Object.keys(c)[0];return{option:c,partName:f,partValue:c[f],token:u,pattern:d,hour12:l}}if(WW.includes(e)||typeof e=="object")return Cve(e,t);let r=e,i=0;const s=l=>{if(l[2]||(l[2]=new RegExp(`(.)?(${l[0]})`,"g")),l[2].test(r)){let u=0;return r=r.replace(l[2],(c,d,f)=>d==="\\"?f:`${typeof d=="string"?d:""}{!${u++?i:i++}!}`),!!u}return!1},o=function(l){const u=l.map(d=>d.partName),c=new Set(u);if(u.length>c.size)throw new Error("Cannot reuse format tokens.");return l}(AA.filter(s).concat(kA.filter(s)).map(n.bind(null,!1)).concat(OA.filter(s).map(n.bind(null,!0)))),a=/^\{!(\d+)!\}$/;return r.split(/(\{!\d+!\})/).map(l=>{const u=l.match(a);return u?o[Number(u[1])]:{option:{literal:l},partName:"literal",partValue:l,token:l,pattern:new RegExp(""),hour12:!1}}).filter(l=>!(l.partName==="literal"&&l.partValue===""))}function SA(e,t="en",n=!1,r=()=>!0){return Ef(e,t).filter(r).reduce((i,s)=>i+(n&&s.partName==="literal"?function(o){return AA.concat(kA).concat(OA).sort((a,l)=>a[0].length>l[0].length?1:-1).reduce((a,l)=>a.replace(l[0],(u,c,d)=>d[c-1]==="\\"?u:`\\${u}`),o)}(s.token):s.token),"").normalize("NFKC")}function Ave(e,t,n,r=!1){function i({partName:a,partValue:l,token:u}){if(a==="literal")return l;const c=s[a];if(a==="hour"&&u==="H")return c.replace(/^0/,"");if(!(a!=="minute"&&a!=="second"||u!=="mm"&&u!=="ss"||c.length!==1))return`0${c}`;if(a==="dayPeriod"){const d=md(o.getHours()<12?"am":"pm",n);return u==="A"?d.toUpperCase():d.toLowerCase()}return a==="timeZoneName"?PW(-1*o.getTimezoneOffset()):c}const s=function(a,l,u,c=!1){function d(v,y=!1){const b=`${u}-u-hc-${y?"h12":"h23"}`;if(g.push(...new Intl.DateTimeFormat(b,v.reduce((_,S)=>S.partName==="literal"?_:(c&&q0e.includes(S.token)&&m.push(S),Object.assign(_,S.option)),{})).formatToParts(f).map(oa)),c&&m.length)for(const _ of m){let S=[];switch(_.token){case"MMMM":S=new Intl.DateTimeFormat(b,{dateStyle:"long"}).formatToParts(f).map(oa);break;case"MMM":S=new Intl.DateTimeFormat(b,{dateStyle:"medium"}).formatToParts(f).map(oa)}const I=S.find(w=>w.type===_.partName),T=g.findIndex(w=>w.type===_.partName);I&&T>-1&&(g[T]=I)}}const f=Gn(a),p=l.filter(v=>v.hour12),h=l.filter(v=>!v.hour12),g=[],m=[];return p.length&&d(p,!0),h.length&&d(h),g.reduce((v,y)=>(v[y.type]=y.value,v),{})}(e,t,n,r),o=Gn(e);return t.map(a=>({...a,value:i(a)}))}function ji(e,t="long",n="en",r=!1,i=()=>!0){return t==="ISO8601"?Gn(e).toISOString():Ave(e,Ef(t,n).filter(i),n,r).map(s=>s.value).join("")}function kve(e){return["numeric","2-digit"].includes(e.partValue)}function kW(e,t){let n=0;const r=a=>[a[n++],a[n]];let i=0;const s=[];let o;do{const[a,l]=r(t);o=l;let u=1;if(a.partName==="literal")u=a.partValue.length;else if(a.token in u0)u=u0[a.token];else if(l)if(l.partName==="literal"){if(u=e.indexOf(l.partValue,i)-i,u<0)throw new Error}else if(l.partName==="dayPeriod"){for(let c=1;c<=4;c++)if(isNaN(Number(e.charAt(i+c)))){u=c;break}}else{const c=e.substring(i).search(/\d/);c!==-1&&(u=i+c)}else u=e.length;s.push({...a,value:e.substring(i,i+u)}),i+=u}while(o);return s}function iw(e,t="en",n=!1){const r=(i,s)=>Array(i).fill("").map((o,a)=>`${s(a)}`);if(e==="M")return r(12,i=>i+1);if(e==="MM")return r(12,i=>{const s=i+1;return s<10?`0${s}`:s});if(e.startsWith("M"))return iw("MM").map(i=>ji(`2000-${i}-05`,e,t,n));if(e.startsWith("d"))return r(7,i=>`0${i+2}`).map(i=>ji(`2022-10-${i}`,e,t));if(e==="a")return[md("am",t).toLowerCase(),md("pm",t).toLowerCase()];if(e==="A")return[md("am",t).toUpperCase(),md("pm",t).toUpperCase()];if(e.startsWith("Y")){const i=new Date().getFullYear();return r(120,s=>s+1).reduce((s,o)=>(o!=="120"&&s.push(ji(`${i+Number(o)}-06-06`,e,t)),s.unshift(ji(i-Number(o)+"-06-06",e,t)),s),[ji(`${i}-06-06`,e,t)])}return e.startsWith("D")?r(31,i=>`${e==="DD"&&i<9?"0":""}${i+1}`):e.startsWith("H")?r(24,i=>`${e==="HH"&&i<10?"0":""}${i}`):e.startsWith("h")?r(12,i=>`${e==="hh"&&i<9?"0":""}${i+1}`):e.startsWith("m")||e.startsWith("s")?r(60,i=>`${e.length>1&&i<10?"0":""}${i}`):[]}function Ga(e,t="ISO8601",n="en"){let r,i=()=>!0,s="backward";if(typeof e=="object"?{date:r,format:t="ISO8601",locale:n="en",dateOverflow:s="backward",partFilter:i=()=>!0}=e:r=e,!r)throw new Error("parse() requires a date string.");const o=()=>{throw new Error(`Date (${r}) does not match format (${SA(t,n)})`)};if(t==="ISO8601")return Gn(r);const a=WW.includes(t)||typeof t=="object",l=function(w){let x;for(const E of w){if(E.partName==="literal"&&!isNaN(parseFloat(E.partValue)))throw new Error(`Numbers in format (${E.partValue}).`);if(x&&x.partName!=="literal"&&E.partName!=="literal"&&!(x.token in u0||E.token in u0||kve(x)&&E.token.toLowerCase()==="a"))throw new Error(`Illegal adjacent tokens (${x.token}, ${E.token})`);x=E}return w}(Ef(t,n).filter(i));if(!l.length)throw new Error("parse() requires a pattern.");let u;try{u=kW(r,l)}catch{return o()}const c=new Date,d=new Map([["YYYY",c.getFullYear()],["MM",c.getMonth()+1],["DD",c.getDate()],["HH",0],["mm",0],["ss",0]]);let f=null,p="";u.forEach(w=>{if(w.partName==="literal")return;if(w.token===w.value)return o();const x=Number(w.value);if(d.has(w.token))d.set(w.token,x);else if(w.token==="YY")d.set("YYYY",function(E){const O=new Date().getFullYear(),M=O%100,V=Math.floor(O/100),H=Number(E);return 100*(V+(H>M+20?-1:0))+H}(w.value));else{const E=w.token;if(E.startsWith("d"))return;if(E==="D")d.set("DD",x);else if(E==="H"||E.startsWith("h"))d.set("HH",x);else if(E==="M")d.set("MM",x);else if(E==="a"||E==="A")f=w.value.toLowerCase()===md("am",n).toLowerCase();else if(E==="Z")p=OW(w.value);else{const O=iw(E,n,a).indexOf(w.value);if(O!==-1)switch(E){case"MMM":case"MMMM":d.set("MM",O+1)}}}});let h=d.get("HH")||0;f===!1?(h+=h===12?0:12,d.set("HH",h===24?0:h)):f===!0&&h===12&&d.set("HH",0),d.set("MM",(d.get("MM")||1)-1);let[g,m,v,y,b,_]=Array.from(d.values());const S=Mm(new Date(`${_E(g)}-${qa(m+1)}-10`));if(S<v&&s==="throw")throw new Error(`Invalid date ${_E(g)}-${qa(m+1)}-${qa(v)}`);v=s==="backward"?Math.min(v,S):v;const I=`${_E(g)}-${qa(m+1)}-${qa(v)}T${qa(y)}:${qa(b)}:${qa(_)}${p}`,T=new Date(I);return isFinite(+T)?T:o()}function OW(e){if(!/^([+-])[0-3][0-9][0-6][0-9]$/.test(e))throw new Error(`Invalid offset: ${e}`);return e}function HS(e,t="UTC",n="browser"){n=n==="browser"?Intl.DateTimeFormat().resolvedOptions().timeZone:n;const r=Gn(e),i=o=>{const a=new Intl.DateTimeFormat("en-US",{year:"numeric",month:"2-digit",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",timeZone:o,hourCycle:"h23"}).formatToParts(r).map(oa),l={};return a.forEach(u=>{l[u.type]=u.value}),new Date(`${l.year}-${l.month}-${l.day}T${l.hour}:${l.minute}:${l.second}Z`)},s=i(t);return PW((i(n).getTime()-s.getTime())/1e3/60)}function oa(e){return e.type==="literal"&&(e.value=e.value.normalize("NFKC")),e}function PW(e){return`${e<0?"-":"+"}${String(Math.floor(Math.abs(e/60))).padStart(2,"0")}${String(Math.abs(e%60)).padStart(2,"0")}`}function RW(e,t="+0000"){const n=Gn(e),r=function(i){OW(i);const[s,o,a,l]=i.match(/([+-])([0-3][0-9])([0-6][0-9])/),u=60*Number(a)+Number(l);return o==="+"?u:-u}(t);return new Date(n.getTime()+1e3*r*60)}function zc(e,t="+0000"){const n=t.slice(0,1)==="+";return RW(e,t.replace(n?"+":"-",n?"-":"+"))}function Ip(e,t,n=7){let r,i;const s=Gn(e);switch(n){case"month":i=s.getDate(),r=Mm(s)-s.getDate();break;case"week":i=s.getDay()+1,r=6-s.getDay();break;case"year":const o=function(l){const u=Gn(l);return(new Date(u.getFullYear()+1,0,0).getTime()-new Date(u.getFullYear(),0,0).getTime())/864e5}(s),a=function(l){const u=Gn(l);return Math.round((new Date(u.getFullYear(),u.getMonth(),u.getDate(),0,0).getTime()-new Date(u.getFullYear(),0,0).getTime())/864e5)}(s);i=a,r=o-a;break;default:r=i=n}for(let o=0;o<=r||o<i;o++){if(o<=r){const a=Ud(s,o);if(t(a))return a}if(o&&o<=i){const a=Ud(s,-o);if(t(a))return a}}return null}function Th(e){return e.partName!=="timeZoneName"}function Ove(e,t){const n=[],r=Gn(t);r.setDate(1);let i=aM(r,e.props.weekStart);i.setHours(r.getHours(),r.getMinutes(),r.getSeconds());const s=function(a,l=0){const u=aM(a,l);return u.setDate(u.getDate()+6),u.setHours(23,59,59),u}(s0(t),e.props.weekStart);let o=[];do o.push(i),o.length===7&&(n.push(o),o=[]),i=Ud(i);while(i.getTime()<=s.getTime());return{monthDay:r,weeks:n}}function cM(e){e.props.calendar=wl(e.props.showMonths,t=>t).map(t=>Ove(e,Xa(e.props.renderedDate,t))),e.props.years=function(t){const n=Number(ji(t.props.renderedDate,"YYYY")),r=n-n%10;return t.props.decade=`${r} - ${r+9}`,wl(10,i=>sd(t.props.renderedDate,r+i-n))}(e),e.props.months=function(t){const n=Gn(t.props.renderedDate);return n.setMonth(0),wl(12,r=>Xa(n,r))}(e)}function Pve(e,t){var n;t.target&&t.target instanceof Element&&(t.target.closest(`#${e.props.id}_panels`)||!(!((n=e.props.__root)===null||n===void 0)&&n.contains(t.target)))||(e.props.expanded=!1)}function uu(e,t){if(!t)return e.props.inputText="",new Date;const n=t instanceof Date?t:Ga(t,e.props.valueFormat,e.props.valueLocale);return e.props.inputText=e.props.formatDate(n,e.props.format,e.props.locale,!1,Th),n}function dM(e){return Array.isArray(e.props.sequence)?wa(e.props.sequence):["day"]}function Cp(e,t,n=!0){var r,i;if(e._value===t)return;if(t==null)return e.input(t,n);e.props.offset=e.props.timezone?HS(t,e.props.timezone):"+0000";const s=RW(t,(r=(i=e.props).offset)!==null&&r!==void 0?r:i.offset="+0000");e.input(ji(s,e.props.valueFormat,e.props.valueLocale,!1),n)}function rE(e,t){var n;const r=["prev_button","month_button","day_button","year_button","next_button"].find(s=>{var o;return(o=e.props.__root)===null||o===void 0?void 0:o.getElementById(`${e.props.id}_${s}`)}),i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_${r}`);i instanceof HTMLElement&&(t.preventDefault(),i.focus())}function Rve(e,t){var n;let r="";if(!(t instanceof HTMLInputElement)||e.props.pickerOnly)return;c0.set(e,t),(n=e.props.__root)===null||n===void 0||n.addEventListener("click",o=>{e.props.expanded&&o.target instanceof HTMLElement&&o.target.closest(`#${e.props.id}_panels`)?JS.add(e):JS.delete(e)}),e.on("prop:inputText",({payload:o})=>{o!==t.value&&(Iy.get(t)==="beforeCallback"&&(r=t.value),XN(t),t.selectionStart=0,t.selectionEnd=t.value.length,function(a,l){var u,c;if(!la.has(a))return;const d=(u=Jf.get(a))!==null&&u!==void 0?u:"",f=(c=aw.get(a))!==null&&c!==void 0?c:"";Og(a,{type:"insert",selectionBefore:go(a),data:l,valueBefore:a.value,suffix:f,prefix:d})}(t,o),t.value=o,setTimeout(()=>QN(t),10))});const[i,s]=Dve(e);wA(t,{pattern:i,explicitParts:s,onChange:({valueAfter:o})=>{if(DW(e),QS.has(e))return QS.delete(e);r&&r===o?r="":(XN(t),e.props.inputText=o,setTimeout(()=>QN(t),10))}})}function DW(e){var t,n;if(e.props.overlay){const r=c0.get(e);!r||!(!((t=e.props.attrs)===null||t===void 0)&&t.placeholder)||e._value||IW(r,!0)||e.props._isFocused||e.props.activeDate&&e.props.expanded?r&&(e.props._isPlaceholder=!1,e.props._overlayParts=mA(CW(r))):(e.props._isPlaceholder=!0,e.props._overlayParts=[{type:"placeholder",value:(n=e.props.attrs)===null||n===void 0?void 0:n.placeholder}])}}function Dve(e){const t=e.props.locale,n=["full","long","medium","short"].includes(e.props.format)||typeof e.props.format=="object",r=Ef(e.props.format,t);return[SA(e.props.format,t,!0,Th),r.reduce((i,s)=>{if(s.partName==="literal")return i;let o=iw(s.token,t,n);if(s.token==="YYYY"&&e.props.minDate&&e.props.maxDate){const l=e.props.minDate.getFullYear();o=wl(e.props.maxDate.getFullYear()-l+1,u=>String(l+u))}const a={type:"enum",token:s.token,values:o,placeholder:s.token==="A"?"A/P":s.token,selectDirection:"left"};return i.push(a),s.token.startsWith("D")&&qW.set(e,o),i},[])]}function Nve(e,t){return!t||!!(e.props.minDate&&t<e.props.minDate)||!!(e.props.maxDate&&t>e.props.maxDate)||void 0}function Mve(e){return typeof e.props.validationLabel=="function"?e.props.validationLabel(e):e.props.validationLabel||e.props.label||e.props.name||String(e.name)}function Lve(e,t){var n,r;if(t instanceof HTMLInputElement&&!BM.get(e)&&z0e){const i=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_overlay`),s=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(`${e.props.id}_overlay_inner`);if(i&&t&&s){BM.set(e,i);const o=getComputedStyle(t).color;t.style.color="transparent",t.style.caretColor=o;const a=new ResizeObserver(()=>{var u;const c=getComputedStyle(t),d=t.getBoundingClientRect(),f=(u=t.parentElement)===null||u===void 0?void 0:u.getBoundingClientRect();e.props._overlayStyles={...e.props._overlayStyles,width:c.width,height:c.height,boxSizing:c.boxSizing,padding:c.padding,margin:c.margin,fontSize:c.fontSize,lineHeight:c.lineHeight,top:d.top-((f==null?void 0:f.top)||d.top)+"px",left:d.left-((f==null?void 0:f.left)||d.left)+"px"}});a.observe(t);const l=u=>{s.scrollLeft=u.detail};t.addEventListener("input-scroll",l),e.on("destroyed",()=>{t.removeEventListener("input-scroll",l),a.disconnect()})}}}function NW(e){e.addProps(["_overlayStyles","_overlayParts","_overlayInnerStyles","_isPlaceholder"]),e.props._overlayStyles={position:"absolute",top:"0",left:"0",pointerEvents:e.props._isPlaceholder?"auto":"none"},e.props._overlayInnerStyles={overflow:"hidden",whiteSpace:"nowrap",paddingRight:"20px"},e.on("created",()=>{e.props.overlay=Ve(e.props.overlay),e.props.pickerOnly=Ve(e.props.pickerOnly),e.props.overlay=e.props.pickerOnly?void 0:e.props.overlay,e.props.overlay&&Or(`${e.props.id}`,Lve.bind(null,e),e.props.__root)}),e.on("prop:_isPlaceholder",()=>{e.props._overlayStyles={...e.props._overlayStyles,pointerEvents:e.props._isPlaceholder?"auto":"none"}})}function Fve(e,t){if(!(t instanceof HTMLInputElement))throw new Error(`Masks can only be applied to an HTMLInputElement (id: ${t.id}).`);ex.set(e,t),wA(t,{...ZS.get(e),onChange:({valueAfter:n,meta:r})=>{e.props._maskValue=n,e.input({maskValue:n}),e.props._overlayParts=mA(r)}})}function xA(e,t,n,r){if(!(e.props.disabled||(e.props.isSourceOption=n,e.props.isSourceOption&&Array.isArray(e.value)&&e.value.length>=e.props.max)))if(n){if(e.props.selectedSourceItems.includes(t))return e.props.selectedSourceItems=e.props.selectedSourceItems.filter(i=>i!==t),e.props.activeValue=void 0,void(e.props.activeDescendant=void 0);e.props.selectedTargetItems=[],e.props.selectedSourceItems=[...e.props.selectedSourceItems,t]}else{if(e.props.selectedTargetItems.includes(t))return void(e.props.selectedTargetItems=e.props.selectedTargetItems.filter(i=>i!==t));e.props.selectedSourceItems=[],e.props.selectedTargetItems=[...e.props.selectedTargetItems,t]}}function o0(e,t){if(e.props.sourceListOrigin=!0,t){const r=Array.isArray(e.value)?[...e.value,t]:[t];return void e.input(r)}const n=e.props.selectedSourceItems.map(r=>Pe(r));Array.isArray(e.value)?e.input([...e.value,...n]):e.input(n),e.props.selectedSourceItems=[]}function a0(e,t){if(e.props.sourceListOrigin=!1,t){const r=Array.isArray(e.value)?e.value.filter(i=>i!==t):[];return void e.input(r)}const n=e.props.selectedTargetItems.map(r=>Pe(r));if(Array.isArray(e.value)){const r=e.value.filter(i=>!n.includes(i));e.input(r)}e.props.selectedTargetItems=[]}function MW(e){var t;const n=(t=e.props.__root)===null||t===void 0?void 0:t.getElementById(e.props.activeDescendant);n&&n.scrollIntoView({block:"nearest",inline:"start"})}function Nv(e){var t;if(Array.isArray(e.value)){const n=[];let r=[...e.props.options];e.value.forEach(i=>{const s=e.props.memoOptions.find(o=>it(Pe(o),i));if(s)n.push(s),e.props.options.findIndex(a=>it(Pe(a),i))!==-1&&(r=r.filter(a=>!it(Pe(a),i)));else{const o=r.find(a=>it(Pe(a),i));o?(n.push(o),r=r.filter(a=>!it(Pe(a),i))):n.push({label:String(i),value:i,noOptionFound:!0})}}),e.props.targetOptions=n,e.props.sourceOptions=r}else e.props.sourceOptions=[...e.props.options],e.props.targetOptions=[];if(e.props.skipSetActiveValue)return void(e.props.skipSetActiveValue=!1);!((t=e.props.__root)===null||t===void 0)&&t.getElementById(e.props.id+"_source_list_items")&&function(n){var r,i,s,o,a,l,u;if(n.props.isDragging)return;if(n.props.sourceSearchActive){if(((i=(r=n.props.__root)===null||r===void 0?void 0:r.activeElement)===null||i===void 0?void 0:i.id)===`${n.props.id}_source_search_input`){const f=n.props.sourceOptions.find(p=>{var h;return!(!((h=p.attrs)===null||h===void 0)&&h.disabled)});return f?void(n.props.activeValue=Pe(f)):void(n.props.activeValue=void 0)}n.props.sourceSearchActive=!1}if(n.props.transferOnSelect===!1)return void(n.props.activeValue=void 0);const c=n.props.sourceListOrigin?n.props.sourceOptions:n.props.targetOptions;let d=!1;for(let f=n.props.activeIndex;f<=c.length;f++)if(!(!((s=c.attrs)===null||s===void 0)&&s.disabled)&&c[f]){d=!0,n.props.activeValue=Pe(c[f]);break}if(!d&&c.length){for(let f=n.props.activeIndex;f>=0;f--)if(!(!((o=c.attrs)===null||o===void 0)&&o.disabled)&&c[f])return d=!0,void(n.props.activeValue=Pe(c[f]))}if(!d){let f;f=n.props.sourceListOrigin?(u=n.props.__root)===null||u===void 0?void 0:u.getElementById(`${n.props.id}`):n.props.searchable?(a=n.props.__root)===null||a===void 0?void 0:a.getElementById(`${n.props.id}_source_search_input`):(l=n.props.__root)===null||l===void 0?void 0:l.getElementById(`${n.props.id}_source_list_items`),f&&f.focus()}}(e)}function LW(e,t){return(t?e.props.sourceOptions:e.props.targetOptions).find(n=>{var r;return!(!((r=n.attrs)===null||r===void 0)&&r.disabled)})}function Bve(e){Array.isArray(e.value)&&e.value.forEach(async t=>{tW(e,t,function(n,r){return[...n.props.options,...n.props.memoOptions].find(s=>it(Pe(s),r))}(e,t))})}function Uve(e){e.context&&(e.context.handlers.loadMore=n0.bind(null,e),e.context.fns.getSourceItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.sourceOptions.length:e.props.sourceOptions.length,e.context.fns.getTargetItemCount=t=>e.props.transferOnSelect===!1&&t.length?t.length+"/"+e.props.targetOptions.length:e.props.targetOptions.length,e.context.fns.isActive=(t,n)=>{if(!e.props.isDragging&&!e.props.touchStarted)return it(n,Pe(t))||void 0},e.context.fns.isSelected=(t,n)=>!!n&&!!Array.isArray(n)&&n.includes(t),e.context.fns.optionLoading=t=>e.props.optionLoaderValues.includes(Pe(t)),e.context.handlers.clearSearch=()=>{(function(t){var n;t.props.sourceSearchActive=!1,t.props.inputText="",Ks(t,"",!0);const r=(n=t.props.__root)===null||n===void 0?void 0:n.getElementById(`${t.props.id}_source_search_input`);r&&r.focus()})(e)},e.context.handlers.sourceSearchBlur=t=>{setTimeout(()=>{var n;if(t.relatedTarget&&t.relatedTarget instanceof HTMLElement&&(t.relatedTarget.id===`${e.props.id}_source_list_items`||t.relatedTarget.id===`${e.props.id}`)){const r=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_source_search_input`);if(!r)return;r.focus()}else e.props.activeValue=void 0})},e.context.handlers.listitemClick=(t,n)=>r=>{fM(e,t,n)},e.context.handlers.transferForward=o0.bind(null,e,void 0),e.context.handlers.transferForwardAll=()=>{let t;const n=e.props.sourceOptions.map(r=>Pe(r));t=Array.isArray(e.value)?[...e.value,...n]:[...n],e.input(t),e.props.selectedSourceItems=[]},e.context.handlers.transferBackward=a0.bind(null,e,void 0),e.context.handlers.transferBackwardAll=()=>{Array.isArray(e.value)&&(e.input([]),e.props.selectedTargetItems=[])},e.context.handlers.onSearch=t=>{(function(n,r){n.props.sourceSearchActive=!0;const i=r.target;n.props.inputText=i.value,Ks(n,i.value,!0)})(e,t)},e.context.handlers.onMouseenter=t=>n=>{n.type!=="touchstart"&&(t?e.props.mouseOnSource=!0:e.props.mouseOnTarget=!0)},e.context.handlers.onMouseleave=t=>n=>{var r;if(n.type==="touchend")return;const i=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(t?`${e.props.id}_source_list_items`:`${e.props.id}`);i&&(i.contains(n.relatedTarget)||(e.props.trackHover=!1,e.props.activeValue=void 0,e.props.activeDescendant=void 0,e.props.activeIndex=void 0,t?e.props.mouseOnSource=!1:e.props.mouseOnTarget=!1))},e.context.handlers.listitemClick=(t,n)=>r=>{r instanceof MouseEvent&&e.props.touchStarted||fM(e,t,n)},e.context.handlers.listitemTouchstart=()=>()=>{(function(t){t.props.touchStarted=!0})(e)},e.context.handlers.listitemTouchend=(t,n)=>r=>{(function(i,s,o,a){if(i.props.touchMoved)return i.props.touchMoved=!1,void(i.props.touchStarted=!1);const l=Pe(s);i.props.activeIndex=i.props.sourceOptions.findIndex(u=>Pe(u)===l),i.props.transferOnSelect?o?o0(i,l):a0(i,l):xA(i,s,o)})(e,t,n)},e.context.handlers.listitemTouchmove=()=>t=>{(function(n){n.props.touchMoved=!0})(e)},e.context.handlers.sourceSearchFocus=t=>{iE(e,!0)},e.context.handlers.sourceListFocused=t=>{iE(e,!0)},e.context.handlers.targetListFocused=()=>{iE(e,!1)},e.context.handlers.sourceListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.targetListBlurred=t=>{e.props.activeValue=void 0},e.context.handlers.sourceListKeydown=t=>{sE(e,t,!0)},e.context.handlers.targetListKeydown=t=>{sE(e,t,!1)},e.context.handlers.sourceSearchKeydown=t=>{sE(e,t,!0)})}function fM(e,t,n,r){var i;if(Pe(t)===tx)return void((i=e.context)===null||i===void 0||i.handlers.loadMore(!0));const s=Pe(t);e.props.activeIndex=e.props.sourceOptions.findIndex(o=>Pe(o)===s),e.props.transferOnSelect?n?o0(e,s):a0(e,s):xA(e,t,n)}function iE(e,t){const n=LW(e,t);n&&(e.props.sourceListOrigin=t,e.props.activeValue=Pe(n))}function sE(e,t,n){if(t.key==="ArrowDown"||t.key==="ArrowUp")(function(r,i,s){var o,a,l,u;r.preventDefault();const c=s?i.props.sourceOptions:i.props.targetOptions,d=c.findIndex(f=>Pe(f)===i.props.activeValue);if(r.key==="ArrowUp"&&d!==0){for(let f=d-1;f>=0;f--)if(!(!((a=(o=c[f])===null||o===void 0?void 0:o.attrs)===null||a===void 0)&&a.disabled)){i.props.sourceListOrigin=s,i.props.activeValue=Pe(c[f]);break}}else if(r.key==="ArrowDown"&&d!==c.length-1){for(let f=d+1;f<c.length;f++)if(!(!((u=(l=c[f])===null||l===void 0?void 0:l.attrs)===null||u===void 0)&&u.disabled)){i.props.sourceListOrigin=s,i.props.activeValue=Pe(c[f]);break}}MW(i)})(t,e,n);else if(t.key==="ArrowRight"||t.key==="ArrowLeft"){if(t.key==="ArrowLeft"&&n||t.key==="ArrowRight"&&!n)return;(function(r,i,s){i.props.searchable||(r.preventDefault(),function(o,a){var l,u,c;if(LW(o,!a))if(a){const d=(l=o.props.__root)===null||l===void 0?void 0:l.getElementById(`${o.props.id}`);d&&d.focus()}else if(o.props.searchable){const d=(u=o.props.__root)===null||u===void 0?void 0:u.getElementById(`${o.props.id}_source_search_input`);d&&d.focus()}else{const d=(c=o.props.__root)===null||c===void 0?void 0:c.getElementById(`${o.props.id}_source_list_items`);d&&d.focus()}}(i,s))})(t,e,n)}else t.key==="Enter"&&function(r,i,s){if(r.preventDefault(),!i.props.activeValue)return;const o=s?i.props.sourceOptions:i.props.targetOptions,a=o.findIndex(u=>Pe(u)===i.props.activeValue);i.props.activeIndex=a;const l=o[a];l&&(i.props.transferOnSelect?s?o0(i,Pe(l)):a0(i,Pe(l)):xA(i,l,s))}(t,e,n)}function Vve(e){e.on("created",()=>{if(Uve(e),e.props.disabled&&(e.props.draggable=!1),Pi){Or(e.props.id+"_source_list_items",n=>{n instanceof HTMLElement&&function(r,i){function s(){return r.props.sourceOptions.map(l=>Pe(l))}function o(l,u){return[]}if(!r.context)return;const a={longTouch:!0,draggingClass:r.context.classes.dragging,dropZoneClass:r.context.classes.dropZone,root:r.props.__root,disabled:!r.props.draggable,touchDraggingClass:r.context.classes.touchDragging,touchDropZoneClass:r.context.classes.touchDropZone,selectionDraggingClass:r.context.classes.selectionDragging,selectionDropZoneClass:r.context.classes.selectionDropZone,touchSelectionDraggingClass:r.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:r.context.classes.touchSelectionDropZone,longTouchClass:r.context.classes.longTouch,draggable:l=>l.getAttribute("role")==="option",plugins:[],dragstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,c==null||c(l,u)},end(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.activeValue=void 0,r.props.activeDescendant=void 0,r.props.activeDescendant=void 0},drop(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},touchstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,r.props.activeDescendant=void 0,r.props.mouseOnSource=!1,r.props.mouseOnTarget=!1,c==null||c(l,u)},touchmove(l,u,c){r.props.selectedSourceItems=[],c==null||c(l,u)},setSelections:l=>r.props.selectedSourceItems.map(u=>Pe(u))};a.plugins=[{setUp:LN.bind(null,{group:r.props.id,drop:(l,u,c)=>{c==null||c(l,u),r.props.isDragging=!1,r.props.trackHover=!1,r.props.selectedTargetItems=[]}},i,a)}],oi(i,s,o,a),r.on("prop:disabled",({payload:l})=>{a.disabled=l,oi(i,s,o,a)}),r.on("prop:draggable",({payload:l})=>{a.disabled=!l,oi(i,s,o,a)})}(e,n)},e.props.__root),Or(`${e.props.id}`,n=>{n instanceof HTMLElement&&function(r,i){function s(){return Array.isArray(r.value)?r.value:[]}function o(l,u){r.props.sourceListOrigin=!0,r.input(u)}if(!r.context)return;const a={longTouch:!0,root:r.props.__root,disabled:!r.props.draggable,draggingClass:r.context.classes.dragging,dropZoneClass:r.context.classes.dropZone,touchDraggingClass:r.context.classes.touchDragging,touchDropZoneClass:r.context.classes.touchDropZone,selectionDraggingClass:r.context.classes.selectionDragging,selectionDropZoneClass:r.context.classes.selectionDropZone,touchSelectionDraggingClass:r.context.classes.touchSelectionDragging,touchSelectionDropZoneClass:r.context.classes.touchSelectionDropZone,longTouchClass:r.context.classes.longTouch,draggable:l=>l.getAttribute("role")==="option",dragstart(l,u,c){r.props.isDragging=!0,r.props.trackHover=!1,r.props.activeValue=void 0,c==null||c(l,u)},end(l,u,c){c==null||c(l,u),r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},drop(l,u,c){c==null||c(l,u),r.props.trackHover=!0,r.props.isDragging=!1,r.props.selectedTargetItems=[],r.props.selectedSourceItems=[],r.props.activeValue=void 0},touchstart(l,u,c){r.props.trackHover=!1,r.props.activeValue=void 0,r.props.isDragging=!0,r.props.activeDescendant=void 0,c==null||c(l,u)},setSelections:l=>r.props.selectedTargetItems.map(u=>Pe(u)),plugins:[]};a.plugins=[{setUp:LN.bind(null,{group:r.props.id,drop:(l,u,c)=>{c==null||c(l,u),r.props.isDragging=!1,r.props.selectedSourceItems=[]}},i,a)}],oi(i,s,o,a),r.on("prop:disabled",({payload:l})=>{a.disabled=l,oi(i,s,o,a)}),r.on("prop:draggable",({payload:l})=>{a.disabled=!l,oi(i,s,o,a)})}(e,n)},e.props.__root);const t=n=>{var r;if(e.props.isDragging)return;e.props.mouseX=n.clientX,e.props.mouseY=n.clientY;const i=e.props.mouseOnSource?`${e.props.id}_source_list_items`:`${e.props.id}`,s=(r=e.props.__root)===null||r===void 0?void 0:r.getElementById(i);if(s){const o=s.getBoundingClientRect();n.clientX>o.x&&n.clientX<o.x+o.width&&n.clientY>o.y&&n.clientY<o.y+o.height&&(e.props.trackHover=!0)}};document.addEventListener("mousemove",t)}})}function jS(e,t){var n;let r=null,i="",s=[];if(e.props.mouseOnSource){if(r=xf.has(e),i=`${e.props.id}_source_list_item`,s=[...e.props.sourceOptions],!s||!s.length||r)return s=[],i="",void(r=null)}else if(e.props.mouseOnTarget&&(r=Dg.has(e),i=`${e.props.id}_target_list_item`,s=[...e.props.targetOptions],!s||!s.length||r))return s=[],i="",void(r=null);const o=s.reduce((l,u,c)=>{var d,f;if(!((d=u.attrs)===null||d===void 0)&&d.disabled)return l;const p=(f=e.props.__root)===null||f===void 0?void 0:f.getElementById(i+`_${c}`);return p&&l.push([p,u]),l},[]),a=(n=e.props.__root)===null||n===void 0?void 0:n.getElementById(`${e.props.id}_load_more`);a&&o.push([a,e.props.loadMoreOption]),e.props.mouseOnSource&&xf.add(e),e.props.mouseOnTarget&&Dg.add(e),o.length&&FW(e,o,null,t)}function FW(e,t,n,r){const i=r?r.getBoundingClientRect():{top:0,bottom:0};if(n=null,e.props.trackHover){if(e.props.mouseY>i.top&&e.props.mouseY<i.bottom){let s=n||0,o=n;const a=(l,u)=>{var c;const d=u[0],{y:f,height:p,x:h,width:g}=d.getBoundingClientRect();if(e.props.mouseX>h&&e.props.mouseX<h+g&&e.props.mouseY>f&&e.props.mouseY<f+p){n=l;const m=u[1];return e.props.activeValue=m&&!(!((c=m.attrs)===null||c===void 0)&&c.disabled)?Pe(m):void 0,!0}return!1};do{if(s!==null&&a(s,t[s])||o!==null&&a(o,t[o]))break;s!==null&&(s++,s>t.length-1&&(s=null)),o!==null&&(o--,o<0&&(o=null))}while(s!==null||o!==null)}}else MW(e);e.props.mouseOnSource||e.props.mouseOnTarget?e.props.mouseOnSource&&xf.has(e)||e.props.mouseOnTarget&&Dg.has(e)?requestAnimationFrame(FW.bind(null,e,t,n,r)):jS(e,r):(xf.delete(e),Dg.delete(e))}function It(e,t){const n=Math.pow(10,t);return Math.round(e*n)/n}function WS(e){const[t,n,r,i]=function(s){s=s.replace("#",""),s.length===3&&(s=s[0]+s[0]+s[1]+s[1]+s[2]+s[2]);const o=parseInt(s.slice(0,2),16),a=parseInt(s.slice(2,4),16),l=parseInt(s.slice(4,6),16),u=s.length>=8?parseInt(s.slice(6,8),16)/255:1;return function(c,d,f,p=1){const h=c/255,g=d/255,m=f/255,v=Math.max(h,g,m),y=Math.min(h,g,m);let b,_=0;const S=(v+y)/2;if(v===y)_=b=0;else{const I=v-y;switch(b=S>.5?I/(2-v-y):I/(v+y),v){case h:_=(g-m)/I+(g<m?6:0);break;case g:_=(m-h)/I+2;break;case m:_=(h-g)/I+4}_*=60}return[_,255*b,255*S,p]}(o,a,l,u)}(e);return[...TA(t,n,r,i)]}function pM(e,t,n,r=1){const i=t/100,s=n/100,o=(2-i)*s/2;return o!==0&&(o===1||(t=o<.5?i*s/(2*o):i*s/(2-2*o))),[e,It(255*t,2),It(255*o,2),r]}function TA(e,t,n,r=1){const i=It(t/255,4),s=It(n/255,4);if(s===1)return[e,0,100,r];const o=It(s+i*Math.min(s,1-s),4);let a=t/2.55;return o!==0&&(a=s!==1&&s!==0?2*(o-s)/o*100:t/2.55),[e,It(a,2),It(100*o,2),r]}function BW(e,t,n,r=1){const i=n/100,s=i*(t/100),o=s*(1-Math.abs(e/60%2-1)),a=i-s;let l=0,u=0,c=0;return[l,u,c]=e<60?[s,o,0]:e<120?[o,s,0]:e<180?[0,s,o]:e<240?[0,o,s]:e<300?[o,0,s]:[s,0,o],l=Math.round(255*(l+a)),u=Math.round(255*(u+a)),c=Math.round(255*(c+a)),[Math.min(Math.max(l,0),255),Math.min(Math.max(u,0),255),Math.min(Math.max(c,0),255),r]}function UW(e,t,n,r=1){const i=e/255,s=t/255,o=n/255,a=Math.max(i,s,o),l=Math.min(i,s,o);let u=0;const c=a,d=a-l,f=a===0?0:d/a;if(a!==l){switch(a){case i:u=(s-o)/d+(s<o?6:0);break;case s:u=(o-i)/d+2;break;case o:u=(i-s)/d+4}u/=6}return[360*u,100*f,100*c,r]}function Hve(e,t,n,r=1){const[i,s,o,a]=BW(e,t,n,r);return function(l,u,c,d=1){const f=h=>Math.round(h).toString(16).padStart(2,"0").toUpperCase(),p=function(h){return Math.round(255*h).toString(16).padStart(2,"0").toUpperCase()}(d);return"#"+f(l)+f(u)+f(c)+`${p==="FF"?"":p}`}(i,s,o,a)}function od(e){return/^(#?)([A-Fa-f0-9]{3}|[A-Fa-f0-9]{6}|[A-Fa-f0-9]{8})$/.test(e)}function oE(e){if(e){if(od(e))return WS(e);if(e.startsWith("rgb")){const t=e.match(zW);if(!t)return[0,0,0,1];const n=r=>r.endsWith("%")?Math.round(2.55*Number(r.slice(0,-1))):Number(r);return UW(n(t[1]),n(t[2]),n(t[3]),t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1)}if(e.startsWith("hsl")){const t=e.match(KW);if(!t)return[0,0,0,1];const n=Number(t[1].replace("deg","").trim()),r=Number(t[2].slice(0,-1))/100,i=Number(t[3].slice(0,-1))/100,s=t[4]?t[4].endsWith("%")?Number(t[4].slice(0,-1))/100:Number(t[4]):1;return TA(n,It(255*r,2),It(255*i,2),s)}}}function hM(e){const[t,n,r,i]=e.split("-").map(s=>Number(s));return[t,n,r,i]}function Kc(e,t=150,n=!0){let r=null,i=!0;return(...s)=>{const o=()=>{e(...s),r=null};n&&i&&(i=!1,o()),r||(r=setTimeout(o,t))}}function Ap(e){return e!==!1&&e!=="false"}function jve(e){return e.tabIndex>=0&&!e.disabled&&e.offsetParent!==null}function gM(e,t){var n;return t=(n=t==null?void 0:t.__original)!==null&&n!==void 0?n:t==null?void 0:t.value,e.props.multiple?!!Array.isArray(e.value)&&e.value.filter(r=>it(r,t)).length>0:t!==void 0?it(e.value,t):(e.props._isChecked=it(e.value,e.props.onValue),e.props._isChecked)}function Wve(e,t={}){const n=e;try{let r=function(i){XM.has(i)&&function(o,a){Ih[o]?Ih[o].add(a):Ih[o]=new Set([a])}(e,o=>{i.props.definition&&(i.props.definition.schema=o||[{$el:aa(13919),children:`${aa(451228594)}${aa(32863693)}`}]),i.emit("schema"),setTimeout(()=>i.destroy(),1e3)})};if(!n)throw new Error("FormKitNoKey");return function(i){const s=()=>{throw new Error(`InvalidFormKitKey ${i}`)};if(!/^fk-/i.test(i))return s();const o=i.substring(3);if(!Yve.test(o))return s();const a=parseInt(o,16).toString(),l=Number(a[0])<6?Number(a[0]):6,u=a.substring(l,l+(a.length-6)),c=a.substring(0,l)+a.substring(l+u.length),d=c.slice(0,2),f=`${c[c.length-1]}${c[0]}`;Number(u)!==Math.floor(Number(c)*Number(d)/Number(f))&&s()}(n),r.library=i=>{if(i.props.type in t){const{schema:s,...o}=t[i.props.type];XM.add(i),i.define({...o,schema:s(e)})}k1e(()=>sw.has(e)&&i.emit(952679114 .toString(32)),4e3)},r}catch(r){throw r instanceof Error&&function(i){if(i.message==="FormKitNoKey")throw new Error("A FormKit API key is required, please visit https://formkit.com/pro")}(r),r}}const mM=[988,24029,396,13078,980],qve=18806588,zve=502357,Kve=16217489;let Gc=189024;const Gve=()=>[30548127325,27022924,34729821653783].map(aa).join("y"),Yve=/^[0-9a-f]+$/,Pi=typeof window<"u",qS=wl(32,e=>e).map(()=>{Gc|=0,Gc=Gc+1831565813|0;let e=Gc^Gc>>>15|Gc;return e=e+e^e>>>427|e^e,((e^e>>>14)>>>0)/4294967296}),aE=Pi?setTimeout:()=>0,Xve=e=>{clearTimeout(zS[e])},zS={},aa=e=>e.toString(32),vM=e=>`${aa(qS[e]).substring(2)}.${aa(mM[e%(mM.length-1)])}`,Mv={},kp={},sw=new Set(["",null,void 0]),Ih={},Qve=()=>({$el:"div",attrs:{key:"$id","data-type":"$type","data-family":"$family","data-multiple":"$attrs.multiple || $multiple || undefined","data-disabled":"$disabled || $disabledInternally || undefined","data-empty":"$state.empty || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined","data-loading":"$state.loading || undefined","data-overscroll":'$behavior === "overscroll" && true || undefined',"data-id":"$id","data-inline":"$inline || undefined","data-is-max":"$max && $value && $value.length >= $max || undefined","data-multi-select":"$transferOnSelect === false || undefined","data-has-overlay":"$overlay || undefined","data-expanded":"$expanded || undefined","data-focused":"$_isFocused || undefined","data-appearance":"$selectionAppearance || undefined","data-is-multiline":"$multiLine || undefined"}}),Jve=()=>({$el:"div",attrs:{id:'$id + "_inner"'}}),Zve=()=>({if:"$label",$el:"label",attrs:{for:"$id",id:"$id + '_label'"}}),eye=()=>({$el:"ul",if:"$fns.length($messages)"}),tye=()=>({$el:"li",for:["message","$messages"],attrs:{key:"$message.key",id:"$id + '-' + $message.key","data-message-type":"$message.type"}}),nye=()=>({$el:"div",if:"$help"}),yM=()=>({$el:null}),KS=(e,t)=>()=>tr(e,t),rye=()=>({$el:"span",if:'$part.type === "placeholder" && $part.value'}),iye=()=>({$el:"span",if:'$part.type === "literal" && $part.value'}),sye=()=>({$el:"span",if:'$part.type === "char" && $part.value'}),oye=()=>({$el:"span",if:'$part.type === "enum" && $part.value'}),aye=()=>({$el:"div",if:"$overlay",attrs:{id:'$id + "_overlay"',class:"$classes.overlay",style:"$_overlayStyles",onClick:"$_isPlaceholder && $handlers.overlayClick"}}),lye=()=>({$el:"div",attrs:{id:'$id + "_overlay_inner"',class:"$classes.overlayInner",style:"$_overlayInnerStyles"}}),uye=()=>({$el:null,for:["part","$_overlayParts"]}),yr=Ss("dd"),{outer:cye,wrapper:dye,inner:fye,icon:Yc,label:pye,prefix:hye,suffix:gye,help:mye,messages:vye,message:yye}=xs(yr),_ye=yr("selector",()=>({$el:"button",bind:"$attrs",attrs:{id:"$id",type:"button",onClick:"$handlers.click",onBlur:"$handlers.blur",onFocus:"$handlers.focus",onKeydown:"$handlers.keydown",tabindex:"0",disabled:"$disabled || $disabledInternally || undefined","aria-haspopup":"listbox","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy"}})),bye=yr("selectionWrapper",()=>({if:"$option || $state.loading",$el:"div"})),wye=yr("selection",()=>({$el:"div"})),Eye=yr("placeholder",()=>({$el:"div",attrs:{key:"placeholder","data-is-placeholder":"true","aria-hidden":'$placeholder === undefined && "true" || undefined',style:{opacity:'$placeholder === undefined && "0" || undefined',"pointer-events":'$placeholder === undefined && "none" || undefined'}}})),lE=yr("optionLoading","span"),$ye=yr("option",()=>({$el:"div"})),_M=yr("removeSelection",()=>({$el:"div",attrs:{id:'$selectionAppearance === "tags" && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"-1",type:"button",key:"$value",onClick:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',onTouchstart:'$handlers.removeSelection && $handlers.removeSelection($selectionAppearance === "tags" && $option || undefined)',"aria-controls":"$id"}})),Sye=yr("selectionsWrapper",()=>({$el:"div",attrs:{id:'$id + "_selections_wrapper"'}})),xye=yr("selections",()=>({$el:"div",attrs:{"aria-live":"polite","aria-hidden":'$lastVisibleIndex && "true" || undefined',"data-test":"$lastVisibleIndex",id:'$id + "_selections"'}})),Tye=yr("truncationCount",()=>({$el:"div",attrs:{id:'$id + "_truncation_count"'}})),Iye=yr("selectionsItem",()=>({$el:"div",for:["selectionLabel","index","$formattedSelections"],attrs:{id:'$id + "_selections_item_" + $index',"data-check":"$selectionLabel",key:"$selectionLabel","aria-hidden":'$lastVisibleIndex && $index > $lastVisibleIndex && "true" || undefined',style:{visibility:'$lastVisibleIndex && $index > $lastVisibleIndex && "hidden" || undefined'}},children:'$selectionLabel || ""'})),Cye=yr("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"0",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onKeydown:"$handlers.selectorTagKeydownHandler($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)","data-active-selection":"$activeSelectionValue === $option.value"}})),Aye=yr("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button",tabindex:"0"}})),kye=yr("tagLabel",()=>({$el:"span"})),Oye=yr("tagsWrapper",()=>({$el:"span",attrs:{id:'$id + "_tags_wrapper"',"aria-live":"polite"}})),Pye=yr("tags",()=>({$el:"span",attrs:{id:'$id + "_selections"'}})),Rye=yr("tagLoading","span"),Dye=gA(yr),VW=new WeakMap,bM=new WeakMap,HW=jr({key:"loading",type:"state",value:!0,visible:!1}),Pg=jr({key:"loading",type:"state",value:!1,visible:!1}),jW=new WeakMap,Qf=Symbol(),IA=e=>{const t=(i=>{const s=[...i.props.options,...i.props.initialOptions];return[...i.props.memoOptions||[],...s]})(e),n=e.props.inputStd||[],r=[];for(const i of n){let s=t.find(o=>it(Pe(o),i));s||(s={value:i,label:Array.isArray(i)?i.join(", "):i,isPlaceholder:!1,noOptionFound:!0}),r.push(s)}return r},Op=new WeakSet,GS=new WeakMap,Nye={position:"fixed",top:0,bottom:0,right:0,left:0,pointerEvents:"none",zIndex:-1,overflowY:"auto","-webkit-overflow-scrolling":"auto"},uE={position:"fixed",overflow:"hidden",height:"100%",width:"100%"},cE={overflow:"hidden",height:"100%"},wM={},EM={};let dE=0;const Mye={schema:cye(dye(pye("$label"),fye(Yc("prefix"),hye(),_ye(Me("$inputStd.length === 0 && $state.loading !== true",Eye('$placeholder || "placeholder"'),Me("$multiple !== true",bye(Me("$state.loading && $selections.length === 0",lE("$ui.isLoading.value"),wye($ye("$option.label")))),Me('$multiple && $selectionAppearance === "truncate"',Sye(xye(Me("$state.loading && $selections.length === 0",lE("$ui.isLoading.value"),Iye()))),Me('$multiple && $selectionAppearance === "tags"',Oye(Pye(Me("$state.loading && $isLoadingOption !== true && $selections.length === 0",lE("$ui.isLoading.value"),Cye(Aye(Me("$state.loading && $optionLoaderValues.includes($option.value)",Rye("$ui.isLoading.value"),kye("$option.label")),_M(Yc("close"))))))))))),Me("$truncationCount && $state.loading !== true",Tye("$truncationCount")),Me("$state.loading",Yc("loader")),Me("$inputStd.length !== 0 && $selectionRemovable",_M(Yc("close")),Yc("select"))),Dye(),gye(),Yc("suffix"))),mye("$help"),vye(yye("$message.value"))),type:"input",family:"dropdown",props:[],features:[wt("select","select"),wt("close","close"),wt("selected","check"),wt("loader","spinner"),on("isLoading"),on("loadMore"),Ca,_A.bind(null,function(e){e.props.closeOnSelect===void 0?e.props.closeOnSelect=!e.props.multiple:e.props.closeOnSelect=Ve(e.props.closeOnSelect),(e.props.multiple&&e.props.selectionAppearance===void 0||e.props.selectionAppearance==="truncate")&&(e.props.selectionAppearance="truncate",e.props.formattedSelections=[]),e.props.multiple?e.props.selectionRemovable=!1:e.props.selectionRemovable=Ve(e.props.selectionRemovable)},function(e){e.props.alwaysLoadOnOpen=e.props.alwaysLoadOnOpen!==void 0&&Ve(e.props.alwaysLoadOnOpen),e.on("created",()=>{e.context&&(e.context.handlers.click=nve.bind(null,e),e.context.handlers.focus=rve.bind(null,e),e.context.handlers.keydown=eve.bind(null,e),e.context.handlers.selectorTagKeydownHandler=t=>Jme.bind(null,e,t))})},function(e){if(e.on("created",()=>{e.context&&ive(e)}),e.props.multiple||function(t){t.on("prop:selections",({payload:n})=>{var r;t.props.firstSelectionLabel=((r=n[0])===null||r===void 0?void 0:r.label)||"",t.props.option=n[0]})}(e),e.props.selectionAppearance==="truncate"&&(e.props.lastVisibleIndex=null,qN(e),e.on("prop:selections",()=>{qN(e)})),e.props.selectionAppearance==="tags"&&pW(e),e.props.multiple&&e.props.selectionAppearance==="tags"){let t=function(){return Array.isArray(e.value)?e.value:[]},n=function(r,i){e.input(i)};e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),Or(`${e.props.id}_selections`,r=>{if(e.context&&r instanceof HTMLElement){const i={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};oi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,oi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,oi(r,t,n,i)})}},e.props.__root)})}e.on("prop:expanded",({payload:t})=>{t&&e.props.optionsLoader&&typeof e.props.optionsLoader=="function"&&(!e.props.options.length||e.props.alwaysLoadOnOpen)&&(e.props.options=[],Dm(e))}),e.props.behavior==="overscroll"&&lve(e)})]},Oa=Ss("tg"),{outer:Lye,wrapper:Fye,label:vze,prefix:Bye,suffix:Uye,help:Vye,messages:Hye,message:jye,icon:Wye}=xs(Oa),qye=Oa("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"checkbox",id:"$id",value:"$value",checked:"$checked",onInput:"$handlers.toggles",onBlur:"$handlers.blur",disabled:"$disabled"}})),zye=Oa("label",()=>({if:"($label && $onValueLabel === undefined && $offValueLabel === undefined) || ($valueLabelDisplay === inner) && $altLabelPosition !== true",$el:"label",attrs:{for:"$id"},children:"$label"})),Kye=Oa("altLabel",()=>({$el:"label",if:"($label && ($onValueLabel || $offValueLabel) && $valueLabelDisplay !== hidden && $valueLabelDisplay !== inner) || $altLabelPosition === true",attrs:{for:"$id","data-label-alt":"true",style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:"$label"})),Gye=Oa("innerLabel",()=>({$el:"div",if:"$valueLabelDisplay === inner && ($checked && $onValueLabel || $offValueLabel)",attrs:{style:{color:{if:"$checked",then:"$valueLabelColorOn",else:"$valueLabelColorOff"}}},children:{if:"$checked",then:"$onValueLabel",else:"$offValueLabel"}})),Yye=Oa("valueLabel",()=>({$el:"label",if:"$valueLabelDisplay !== hidden && $valueLabelDisplay !== inner && (($checked === true && $onValueLabel) || ($checked === false && $offValueLabel))",attrs:{for:"$id"},children:{if:"$checked && $onValueLabel",then:"$onValueLabel",else:{if:"$offValueLabel",then:"$offValueLabel"}}})),Xye=Oa("inner",()=>({$el:"label",attrs:{for:"$id",id:"$id + '_label'"}})),Qye=Oa("track",()=>({$el:"div",attrs:{style:{backgroundColor:{if:"$checked",then:"$trackColorOn",else:"$trackColorOff"}}}})),Jye=Oa("thumb",()=>({$el:"div",attrs:{style:{color:{if:"$checked",then:"$iconColorOn",else:"$iconColorOff"},backgroundColor:{if:"$checked",then:"$thumbColorOn",else:"$thumbColorOff"}}}}));Lye(Fye(Kye(),Xye(Bye(),qye(),Qye(Gye(),Jye(Me("$slots.default","$slots.default",Wye("thumb")))),Uye()),Yye(),zye()),Vye("$help"),Hye(jye("$message.value")));const _r=Ss("rp"),{outer:Zye,inner:e_e,prefix:t_e,suffix:n_e,help:r_e,messages:i_e,message:s_e,icon:Lv}=xs(_r),o_e=_r("empty",()=>({$el:"div"})),a_e=_r("insertControl",()=>({$el:"button",attrs:{disabled:"$value.length >= $max",onClick:"$fns.createInsert($index)",type:"button"}})),l_e=_r("addButton",()=>({$formkit:"button",bind:"$addAttrs",if:"$addButton",disabled:"$value.length >= $max",onClick:"$fns.createAppend()",type:"button"})),u_e=_r("removeControl",()=>({$el:"button",attrs:{disabled:"$value.length <= $min",onClick:"$fns.createRemover($index)",type:"button"}})),c_e=_r("items",()=>({$el:"ul",attrs:{role:"list"}})),d_e=_r("item",()=>({$el:"li",for:["item","index","$items"],attrs:{role:"listitem",key:"$item","data-index":"$index"}})),f_e=_r("downControl",()=>({$el:"button",attrs:{disabled:"$index >= $value.length - 1",onClick:"$fns.createShift($index, 1)",type:"button"}})),p_e=_r("upControl",()=>({$el:"button",attrs:{disabled:"$index <= 0",onClick:"$fns.createShift($index, -1)",type:"button"}})),h_e=_r("content","div"),g_e=_r("fieldset",()=>({$el:"fieldset",attrs:{id:"$id",disabled:"$disabled"}})),m_e=_r("legend",()=>({$el:"legend",if:"$label"})),v_e=_r("group",()=>({$formkit:"group",index:"$index"})),y_e=_r("controls",()=>({$el:"ul",if:"$removeControl || $insertControl || $upControl || $downControl"})),__e=_r("remove",()=>({$el:"li",if:"$removeControl"})),b_e=_r("insert",()=>({$el:"li",if:"$insertControl"})),w_e=_r("up",()=>({$el:"li",if:"$upControl"})),E_e=_r("down",()=>({$el:"li",if:"$downControl"})),Fv=_r("controlLabel","span"),$_e={schema:Zye(g_e(m_e("$label"),r_e("$help"),e_e(t_e(),Me("$value.length === 0",Me("$slots.empty",o_e()),Me("$slots.default",c_e(d_e(h_e(v_e("$slots.default")),y_e(w_e(p_e(Fv("$ui.moveUp.value"),Lv("moveUp"))),__e(u_e(Fv("$ui.remove.value"),Lv("remove"))),b_e(a_e(Fv("$ui.add.value"),Lv("add"))),E_e(f_e(Fv("$ui.moveDown.value"),Lv("moveDown")))))),n_e()))),l_e('$addLabel || ($ui.add.value + " " + ($label || ""))')),i_e(s_e("$message.value"))),type:"list",props:["min","max","total","upControl","downControl","removeControl","insertControl","addLabel","addButton","addAttrs"],features:[function(e){e._c.sync=!0,e.on("created",dve.bind(null,e))},on("remove"),on("add"),on("moveUp"),on("moveDown"),wt("remove","trash"),wt("add","add"),wt("moveUp","arrowUp"),wt("moveDown","arrowDown")]},$M=typeof window<"u",Rc=Ss("rt"),{outer:S_e,wrapper:x_e,inner:T_e,label:I_e,prefix:C_e,suffix:A_e,help:k_e,messages:O_e,message:P_e,icon:Bv}=xs(Rc),R_e=Rc("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"range",max:"$max",name:"$name",min:"0",disabled:"$disabled",step:"$step",onInput:"$handlers.DOMInput",onBlur:"$handlers.blur",value:"$value",style:{position:"absolute",zIndex:"0",top:0,right:0,bottom:0,opacity:"0"}}})),D_e=Rc("itemsWrapper",()=>({$el:"div",attrs:{style:{position:"relative",zIndex:"2"},id:"$id + _items_wrapper",onMousemove:"$hoverHighlight && $handlers.ratingHoverOver",onMouseleave:"$hoverHighlight && $handlers.ratingHoverOut",onTouchstart:"$handlers.ratingHoverOver",onTouchmove:"$handlers.ratingHoverOver",onTouchend:"$handlers.handleClick",onClick:"$handlers.handleClick"}})),N_e=Rc("onItems",()=>({$el:"div",attrs:{id:'$id + "_on_wrapper"',style:{position:"relative",display:"flex",width:'$onWidth + "%"',top:"0",bottom:"0",left:"0",overflow:"hidden",color:"$onColor"}}})),M_e=Rc("offItems",()=>({$el:"div",attrs:{id:'$id + "_off_wrapper"',style:{position:"absolute",display:"flex",flexDirection:"row-reverse",width:'$offWidth + "%"',top:"0",bottom:"0",right:"0",overflow:"hidden",color:"$offColor"}}})),L_e=Rc("onItemWrapper",()=>({$el:"div",for:["item","index","$max"],attrs:{style:{flex:"$wrapperWidth"}}})),F_e=Rc("offItemWrapper",()=>({$el:"div",for:["item","index","$max"],attrs:{style:{flex:"$wrapperWidth"}}}));S_e(x_e(I_e("$label"),T_e(Bv("prefix"),C_e(),D_e(N_e(L_e(Me("$slots.onItem",()=>()=>"$slots.onItem",Me("$slots.default",()=>()=>"$slots.default",Bv("rating"))))),M_e(F_e(Me("$slots.offItem",()=>()=>"$slots.offItem",Me("$slots.default",()=>()=>"$slots.default",Bv("rating")))))),R_e(),A_e(),Bv("suffix"))),k_e("$help"),O_e(P_e("$message.value"))),wt("rating","star");const Co=Ss("ac"),{outer:B_e,wrapper:U_e,inner:V_e,icon:Fo,label:H_e,prefix:j_e,suffix:W_e,help:q_e,messages:z_e,message:K_e}=xs(Co),G_e=Co("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText || undefined",placeholder:"$state.loading && $ui.isLoading.value || $placeholder || undefined",tabindex:'$disabled && "-1" || 0',role:"combobox",autocomplete:"off",autocapitalize:"none",readonly:"$attrs.readonly || $state.loading || $multiple && $max && $value && $value.length >= $max && $hasHighlightedRange !== true || undefined","data-selection-appearance":"$selectionAppearance",disabled:"$disabled || $disabledInternally || undefined",onTouchmove:"$handlers.touchmove",onTouchstart:"$handlers.touchmove",onTouchend:"$handlers.touchend","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined"}})),SM=Co("listboxButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',role:"button",onClick:"$handlers.toggleListbox",tabindex:'$disabled && "-1" || 0',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-disabled":"$disabled || $state.loading || undefined","data-disabled":"$disabled || $disabledInternally || undefined"}})),xM=Co("selectionWrapper",()=>({for:["option","index","$selections"],$el:"div",attrs:{id:'$id + "_selection_wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:'$disabled && "-1" || 1',onKeydown:"$handlers.selectionKeydown && $handlers.selectionKeydown($multiple && $option || undefined)",onClick:"$handlers.selectionClick && $handlers.selectionClick($multiple && $option || undefined)",onFocus:"$handlers.selectionFocus && $handlers.selectionFocus($multiple && $option || undefined)",onBlur:"$handlers.selectionBlur && $handlers.selectionBlur($multiple && $option || undefined)","data-active-selection":"$activeSelectionValue === $option.value"}})),TM=Co("selection",()=>({$el:"div",attrs:{id:'$id + "_selection_" + $index'}})),IM=Co("selections",()=>({$el:"div",attrs:{"aria-live":"polite",id:'$id + "_selections"'}})),fE=Co("removeSelection",()=>({$el:"button",attrs:{id:'$selectionAppearance === "option" && $multiple && $id + "_remove_selection_" + $index || $id + "_remove_selection"',tabindex:"-1",type:"button",onClick:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)",onTouchend:"$handlers.removeSelection && $handlers.removeSelection($multiple && $option || undefined)","aria-controls":"$id"}})),CM=Co("optionLoading","span"),AM=Co("option",()=>({$el:"div",if:"$value !== undefined"})),Y_e=gA(Co),kM=new WeakMap,Ty=typeof window<"u",pE=new WeakMap;let OM=!1;const X_e={schema:B_e(U_e(H_e("$label"),V_e(Fo("prefix"),j_e(),G_e(),Me("$multiple !== true && $selectionAppearance === option && $expanded === false",IM(xM(TM(AM(Me("$state.loading",CM("$ui.isLoading.value"),"$option.label"))),Me("$state.loading && $isSingleOption !== true && $optionLoaderValues.includes($option.value)",Fo("loader")),Me("$selectionRemovable && $isSingleOption",fE(Fo("close")))))),Me("$state.loading && ($isSingleOption !== true || $selections.length === 0)",Fo("loader")),Me('$selectionRemovable && $selectionAppearance === "text-input" && $selections.length > 0',fE(Fo("close")),Me('$selectionAppearance === "text-input" || ($selectionAppearance === "option" && $multiple)',SM(Fo("select")))),Me("$isSingleOption && ($inputStd.length === 0 || $selectionRemovable === undefined || ($expanded) || $state.loading || $optionLoaderValues.length > 0)",SM(Fo("select"))),Y_e(),W_e(),Fo("suffix")),Me("$multiple && $selectionAppearance === option",IM(xM(TM(AM(Me("$state.loading && $isLoadingOption",CM("$ui.isLoading.value"),"$option.label"))),fE(Fo("close")))))),q_e("$help"),z_e(K_e("$message.value"))),type:"input",family:"dropdown",props:[],features:[wt("select","select"),wt("close","close"),wt("selected","check"),wt("loader","spinner"),on("isLoading"),on("loadMore"),Ca,_A.bind(null,function(e){e.props.selectionAppearance!=="option"||e.props.multiple||e.props.selectionRemovable===!1||e.props.selectionRemovable==="false"||(e.props.selectionRemovable=!0),e.props.multiple||(e.props.clearSearchOnOpen=Ve(e.props.clearSearchOnOpen)),e.props.selectionRemovable=Ve(e.props.selectionRemovable),e.props.openOnClick=Ve(e.props.openOnClick),e.props.selectionAppearance!=="option"||e.props.multiple||(e.props.isSingleOption=!0),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.selectionAppearance===void 0&&(e.props.selectionAppearance="text-input"),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=Ve(e.props.allowNewValues)},gW,function(e){if(e.props.multiple)if(e.props.multiple&&e.props.selectionAppearance==="option"){let t=function(){return Array.isArray(e.value)?e.value:[]},n=function(r,i){e.input(i)};mW(e),e.on("created",()=>{e.props.disabled&&(e.props.draggable=!1),Or(`${e.props.id}_selections`,r=>{if(r instanceof HTMLElement&&e.context){const i={longTouch:!0,draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,root:e.props.__root,disabled:!e.props.draggable,longTouchClass:e.context.classes.longTouch,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};oi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,oi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,oi(r,t,n,i)})}},e.props.__root)})}else e.props.multiple&&e.props.selectionAppearance==="text-input"&&yve(e);else _ve(e)})]},Mt=Ss("dp"),{outer:Q_e,wrapper:J_e,inner:Z_e,icon:cu,label:e0e,prefix:t0e,suffix:n0e,help:r0e,messages:i0e,message:s0e}=xs(Mt),o0e=Mt("input",()=>({$el:"input",bind:"$attrs",attrs:{name:"$node.name",id:"$id",onKeydown:"$handlers.inputKeydown",value:"$inputText",onInput:"$handlers.dateInput",onClick:"$pickerOnly && $handlers.open",onBlur:"$handlers._blur",onFocus:"$handlers.focus",readonly:"$pickerOnly || $expanded",disabled:"$disabled"}})),a0e=Mt("panelWrapper",()=>({$el:"div",if:"$expanded",attrs:{id:"$id + _panels",role:"dialog",onBlur:"$handlers._blurOut()",tabindex:"-1","aria-modal":"true","aria-label":"Choose date","data-panel":"$panel"}})),l0e=Mt("next",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _next_button",type:"button",onClick:"$handlers.next"}})),u0e=Mt("nextLabel","span"),c0e=Mt("prev",()=>({$el:"button",if:"$showPagination",attrs:{id:"$id + _prev_button",type:"button",onClick:"$handlers.prev"}})),d0e=Mt("prevLabel","span"),f0e=Mt("calendar",()=>({if:'$panel === "day"',$el:"table",for:["month","$calendar"],attrs:{key:'$fns.format($month.monthDay, "YYYY-MM")'}})),p0e=Mt("calendarWeeks",()=>({$el:"tbody"})),h0e=Mt("calendarHeader",()=>({$el:"thead"})),g0e=Mt("weekDays",()=>({$el:"tr"})),m0e=Mt("weekDay",()=>({$el:"th",for:["day","$month.weeks.0"],attrs:{"aria-label":'$fns.format($day, "dddd")'}})),v0e=Mt("week",()=>({$el:"tr",for:["week","$month.weeks"]})),y0e=Mt("dayCell",()=>({$el:"td",for:["day","$week"],attrs:{key:'$: "day" + $fns.format($day, "D")',onClick:"$handlers.setDate($day)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($day)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(day)",tabindex:'$fns.sameDay($day) && "0" || "-1"',"data-is-extra":"$fns.notInMonth($month.monthDay, $day)","data-disabled":"$fns.isDisabled($day)","aria-selected":"$fns.isSelected($day)","aria-label":'$fns.format($day, "long")'}})),_0e=Mt("day","div"),b0e=Mt("openButton",()=>({$el:"div",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"div",role:"button",onClick:"$handlers.open",onKeydown:"$handlers.openKeydown",tabIndex:'$pickerOnly && "-1" || "0"',"data-disabled":"$disabled","aria-disabled":"$disabled","aria-label":'$value && ($ui.changeDate.value + ", " + $inputText) || $ui.chooseDate.value',"aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),w0e=Mt("years",()=>({if:'$panel === "year"',$el:"ul"})),E0e=Mt("year",()=>({for:["year","$years"],$el:"li",attrs:{key:'$: "year" + $fns.format($year, "YYYY")',onClick:"$handlers.setDate($year)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($year)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(year)",tabindex:'$fns.sameYear($year) && "0" || "-1"',"aria-selected":"$fns.isSelected($year)","data-disabled":"$fns.isDisabledYear($year)"}})),$0e=Mt("months",()=>({if:'$panel === "month"',$el:"ul"})),S0e=Mt("month",()=>({$el:"li",for:["month","$months"],attrs:{key:'$: "month" + $fns.format($month, "M")',onClick:"$handlers.setDate($month)",onKeydown:"$handlers.keyDown",onMouseenter:"$handlers.mouseEnter($month)",onMouseleave:"$handlers.mouseLeave",onBlur:"$handlers._blurOut(month)",tabindex:'$fns.sameMonth($month) && "0" || "-1"',"aria-selected":"$fns.isSelected($month)","data-disabled":"$fns.isDisabledMonth($month)"}})),x0e=Mt("panelHeader",()=>({$el:"header",attrs:{"aria-live":"polite"}})),T0e=Mt("yearsHeader",()=>({$el:"div",if:'$panel === "year"'})),I0e=Mt("monthsHeader",()=>({$el:"div",if:'$panel === "month"'})),C0e=Mt("daysHeader",()=>({$el:"div",if:'$panel === "day"'})),A0e=Mt("timeHeader",()=>({$el:"div",if:'$panel === "time"'})),hE=Mt("yearButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _year_button",onClick:"$handlers.jumpTo(year)"},children:"$fns.format($renderedDate, $yearFormat)"})),PM=Mt("monthButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _month_button",onClick:"$handlers.jumpTo(month)"},children:"$fns.format($renderedDate, $monthButtonFormat)"})),k0e=Mt("dayButton",()=>({$el:"button",attrs:{type:"button",id:"$id + _day_button",onClick:"$handlers.jumpTo(day)",tabindex:"2"},children:"$fns.format($renderedDate, $dayButtonFormat)"})),O0e=Mt("removeSelection",()=>({$el:"button",if:"$clearable && $_value",attrs:{id:'$id + "_remove_selection"',type:"button",onClick:"$handlers.clear","aria-controls":"$id"}})),P0e=Mt("time",()=>({$el:"div",if:'$panel === "time"'})),R0e=Mt("timeInput",()=>({$el:"input",attrs:{type:"time",value:"$localTime",onInput:"$handlers.localTime",onKeydown:"$handlers.keyDown",spellcheck:"false",onBlur:"$handlers._blurOut(time)"}})),D0e=Mt("panelClose",()=>({$el:"button",if:"$showPanelClose && ($inline === undefined || $inline === false)",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:-1,"aria-label":"$ui.close.value"}})),{overlayPlaceholder:N0e,overlayLiteral:M0e,overlayChar:L0e,overlayEnum:F0e,overlay:B0e,overlayParts:U0e,overlayInner:V0e}=eW(Mt),H0e=Mt("panel","div"),la=new WeakMap,$f=new WeakMap,Sf=new WeakSet,j0e=new WeakMap,ow=new WeakMap,YS=new WeakSet,ul=new WeakMap,l0=/[\uD800-\uDBFF]/,yu=new WeakMap,gE=new WeakMap,mE=new WeakMap,Ch=new WeakMap,Iy=new WeakMap,Vd=new WeakSet,Jf=new WeakMap,aw=new WeakMap,vE=new WeakMap,Fu=new WeakMap;let XS=!1;const RM=()=>{XS=!0,setTimeout(()=>{XS=!1},500)},W0e={"#":{type:"char",pattern:/\d/,token:"#",placeholder:"_",selectDirection:"right"},a:{type:"char",pattern:/[a-zA-Z]/,token:"a",placeholder:"_",selectDirection:"left"},h:{type:"char",pattern:/[0-9a-fA-F]/,token:"h",placeholder:"_",selectDirection:"left"},"*":{type:"char",pattern:/./,token:"*",placeholder:"_",selectDirection:"left"}},DM=new WeakMap,Rg=typeof window<"u";let Cy=!1;Rg&&document.addEventListener("selectionchange",()=>{const e=hc();if(!(e instanceof HTMLInputElement))return;if(Fu.has(e))return function(n){const r=Fu.get(n);if(r){const[i,s]=r,[o,a]=Oi(n),l=a.indexOf(i);if(l===-1)return void Fu.delete(n);const u=o[l],c=[u[0]+s[0],u[1],"none"];gc(go(n),c)||i0(n,c)}}(e);if(ul.get(e)!=="select")return;const t=go(e);if(!gc(t,DM.get(e))){if(DM.set(e,t),Sf.has(e))return Sf.delete(e);e.dispatchEvent(new CustomEvent("selection",{detail:go(e)}))}});const CA="1999-03-04T02:05:01.000Z",yE=new Map,AA=[["YYYY",{year:"numeric"}],["YY",{year:"2-digit"}],["MMMM",{month:"long"}],["MMM",{month:"short"}],["MM",{month:"2-digit"}],["M",{month:"numeric"}],["DD",{day:"2-digit"}],["D",{day:"numeric"}],["dddd",{weekday:"long"}],["ddd",{weekday:"short"}],["d",{weekday:"narrow"}],["mm",{minute:"2-digit"}],["m",{minute:"numeric"}],["ss",{second:"2-digit"}],["s",{second:"numeric"}],["Z",{timeZoneName:"short"}]],kA=[["HH",{hour:"2-digit"}],["H",{hour:"numeric"}]],OA=[["hh",{hour:"2-digit"}],["h",{hour:"numeric"}],["a",{dayPeriod:"narrow"}],["A",{dayPeriod:"narrow"}]],u0={DD:2,HH:2,MM:2,YY:2,YYYY:4,hh:2,mm:2,ss:2,Z:5},q0e=["MMMM","MMM","dddd","ddd"],Un=new Map([...AA,...kA,...OA].map(e=>[e[0],e])),NM=new Map,WW=["full","long","medium","short"],MM=/^([0-9]{4})-([0-1][0-9])(?:-([0-3][0-9]))?(?:[T ]?([0-2][0-9])(?::([0-5][0-9]))?(?::([0-5][0-9]))?)?(?:\.[0-9]+)?(Z|(?:\+|\-)[0-9]{4})?$/,qa=e=>String(e).padStart(2,"0"),_E=e=>String(e).padStart(2,"0"),LM=typeof window<"u",QS=new WeakSet,bE=new WeakSet,FM=new WeakSet,c0=new WeakMap,qW=new WeakMap,wE=new WeakSet,JS=new WeakSet,z0e=typeof window<"u",BM=new WeakMap;Q_e(J_e(e0e("$label"),Z_e(cu("prefix"),t0e(),B0e(V0e(U0e(N0e("$part.value"),M0e("$part.value"),L0e("$part.value"),F0e("$part.value")))),o0e(),a0e(x0e(c0e(d0e("$ui.prev.value"),cu("prev")),T0e("$decade"),I0e(hE()),C0e(PM(),hE()),A0e(PM(),k0e(),hE()),l0e(u0e("$ui.next.value"),cu("next")),D0e(cu("close"))),H0e(w0e(E0e("$fns.format($year, $yearFormat)")),$0e(S0e("$fns.format($month, $monthFormat)")),f0e(h0e(g0e(m0e("$fns.format($day, $weekdayFormat)"))),p0e(v0e(y0e(_0e("$fns.format($day, $dateFormat)"))))),P0e(R0e()))),O0e(cu("clear")),b0e(cu("calendar")),n0e(),cu("suffix"))),r0e("$help"),i0e(s0e("$message.value"))),on("next"),on("prev"),on("changeDate"),on("chooseDate"),wt("close","close"),wt("next","right"),wt("clear","close"),wt("prev","left"),wt("calendar","date");const Ao=Ss("tl"),{outer:K0e,wrapper:G0e,inner:Y0e,icon:Pp,label:X0e,prefix:Q0e,suffix:J0e,help:Z0e,messages:ebe,message:tbe}=xs(Ao),nbe=Ao("input",()=>({$el:"input",bind:"$attrs",attrs:{id:"$id",type:"text",onClick:"$handlers.click",onBlur:"$handlers.blur",onKeydown:"$handlers.keydown",onInput:"$handlers.input",onFocus:"$handlers.focus",value:"$inputText",tabindex:"0",placeholder:"$state.loading && $inputStd.length === 0 && $ui.isLoading.value || $placeholder || undefined",role:"combobox",autocomplete:"off",autocapitalize:"none",readonly:"$attrs.readonly || $isLoadingOption || undefined || $multiple && $max && $value && $value.length >= $max",disabled:"$disabled || $disabledInternally || undefined","aria-autocomplete":"list","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined',"aria-describedBy":"$describedBy","aria-activedescendant":"$expanded && $activeDescendant || undefined"}})),rbe=Ao("listboxButton",()=>({$el:"button",attrs:{style:"$visibilityStyles",id:'$id + "_listbox_button"',type:"button",onClick:"$handlers.toggleListbox",tabindex:"-1",disabled:"$disabled || undefined","aria-haspopup":"true","aria-expanded":"$expanded","aria-controls":'$expanded && $id + "_listbox" || undefined'}})),ibe=Ao("tagWrapper",()=>({$el:"span",for:["option","index","$selections"],attrs:{id:'$id + "_tag-wrapper_" + $index',key:"$option.value","data-value":"$option.value",tabindex:"-1",onClick:"$handlers.tagClick && $handlers.tagClick($option)",onFocus:"$handlers.tagFocus && $handlers.tagFocus($option)",onBlur:"$handlers.tagBlur && $handlers.tagBlur($option)",onKeydown:"$handlers.searchInputTagKeydown && $handlers.searchInputTagKeydown($option)","data-active-selection":"$activeSelectionValue === $option.value"}})),sbe=Ao("tag",()=>({$el:"div",attrs:{id:'$id + "_tag_" + $index',role:"button"}})),obe=Ao("removeSelection",()=>({$el:"button",if:"$selections.length > 0",attrs:{id:'$id + "_remove_selection_" + $index',tabindex:"-1",type:"button",onClick:"$handlers.removeSelection && $handlers.removeSelection($option)",onTouchstart:"$handlers.removeSelection && $handlers.removeSelection($option)","aria-controls":"$id"}})),abe=Ao("tagLabel",()=>({$el:"span"})),lbe=Ao("tags",()=>({$el:"div",attrs:{id:'$id + "_selections"',"aria-live":"polite"}})),ube=Ao("tagLoading","span"),cbe=gA(Ao);K0e(G0e(X0e("$label"),Y0e(Pp("prefix"),Q0e(),lbe(ibe(sbe(Me("$state.loading && $optionLoaderValues.includes($option.value)",ube("$ui.isLoading.value"),abe("$option.label")),obe(Pp("close")))),nbe()),Me("$state.loading",Pp("loader")),rbe(Pp("select")),cbe(),J0e(),Pp("suffix"))),Z0e("$help"),ebe(tbe("$message.value"))),_A.bind(null,function(e){e.props.multiple=!0,e.props.openOnClick=Ve(e.props.openOnClick),e.props.closeOnSelect===void 0&&(e.props.closeOnSelect=!0),e.props.closeOnSelect?e.props.resetSearchOnCommit=!1:e.props.resetSearchOnCommit===void 0&&(e.props.resetSearchOnCommit=e.props.multiple),e.props.allowNewValues=Ve(e.props.allowNewValues)},gW,function(e){mW(e),pW(e),e.on("created",()=>{function t(){return Array.isArray(e.value)?e.value:[]}function n(r,i){e.input(i)}e.props.disabled&&(e.props.draggable=!1),Or(`${e.props.id}_selections`,r=>{if(r instanceof HTMLElement){if(!e.context)return;const i={draggingClass:e.context.classes.dragging,dropZoneClass:e.context.classes.dropZone,disabled:!e.props.draggable,root:e.props.__root,touchDraggingClass:e.context.classes.touchDragging,touchDropZoneClass:e.context.classes.touchDropZone,draggable:s=>s.hasAttribute("data-active-selection")};oi(r,t,n,i),e.on("prop:disabled",({payload:s})=>{i.disabled=s,oi(r,t,n,i)}),e.on("prop:draggable",({payload:s})=>{i.disabled=!s,oi(r,t,n,i)})}},e.props.__root)})}),wt("select","select"),wt("close","close"),wt("selected","check"),wt("loader","spinner"),on("isLoading"),on("loadMore");const PA=Ss("mk"),{outer:dbe,wrapper:fbe,inner:pbe,label:hbe,prefix:gbe,suffix:mbe,help:vbe,messages:ybe,message:_be,icon:UM}=xs(PA),{overlayPlaceholder:bbe,overlayLiteral:wbe,overlayChar:Ebe,overlayEnum:$be,overlay:Sbe,overlayParts:xbe,overlayInner:Tbe}=eW(PA),Ibe=PA("input",()=>({$el:"input",bind:"$attrs",attrs:{type:"$type",disabled:"$disabled",name:"$node.name",onBlur:"$handlers.blur",value:"$_maskValue",id:"$id","aria-describedby":"$describedBy"}})),ZS=new WeakMap,ex=new WeakMap,VM=new WeakMap;dbe(fbe(hbe("$label"),pbe(UM("prefix"),gbe(),Sbe(Tbe(xbe(bbe("$part.value"),wbe("$part.value"),Ebe("$part.value"),$be("$part.value")))),Ibe(),mbe(),UM("suffix"))),vbe("$help"),ybe(_be("$message.value")));const Wt=Ss("tf"),{outer:Cbe,wrapper:Abe,inner:yze,icon:Bo,prefix:_ze,suffix:bze,help:kbe,messages:Obe,message:Pbe}=xs(Wt),Rbe=Wt("fieldset",()=>({$el:"fieldset",attrs:{id:'$id + "_fieldset"',role:"presentation","aria-describedby":{if:"$help",then:'$: "help-" + $id',else:void 0}}})),Dbe=Wt("legend",()=>({if:"$label",$el:"legend"})),Nbe=Wt("source",()=>({$el:"div",attrs:{id:'$id + "_source"',class:'$classes.transferlist + " " + $classes.source'}})),Mbe=Wt("sourceHeader",()=>({$el:"div",attrs:{id:'$id + "_source_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.sourceHeader'}})),Lbe=Wt("sourceHeaderLabel",()=>({if:"$sourceLabel",$el:"label",attrs:{id:'$id + "_source_header_label"',for:'$id + "_source_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.sourceHeaderLabel'},children:"$sourceLabel || $label"})),Fbe=Wt("sourceHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_source_header_item_count"',role:"presentation","aria-label":'$sourceOptions.length " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.sourceHeaderItemCount'}})),Bbe=Wt("targetHeaderLabel",()=>({if:"$targetLabel",$el:"label",attrs:{id:'$id + "_target_header_label"',for:'$id + "_target_search_input"',class:'$classes.transferlistHeaderLabel + " " + $classes.targetHeaderLabel'},children:"$targetLabel || $label"})),Ube=Wt("targetHeaderItemCount",()=>({$el:"span",attrs:{id:'$id + "_target_header_item_count"',role:"presentation","aria-label":'$targetOptions.length + " items"',class:'$classes.transferlistHeaderItemCount + " " + $classes.targetHeaderItemCount'},children:"$targetOptions.length"})),Vbe=Wt("sourceControls",()=>({$el:"div",if:"$searchable",attrs:{id:'$id + "_source_controls"',class:'$classes.transferlistControls + " " + $classes.sourceControls'}})),Hbe=Wt("sourceSearch",()=>({if:"$searchable",$el:"div",attrs:{id:'$id + "_source_search"',class:'$classes.transferlistSearch + " " + $classes.sourceSearch'}})),jbe=Wt("sourceSearchInput",()=>({$el:"input",attrs:{id:'$id + "_source_search_input"',type:"text",placeholder:"$placeholder",onInput:"$handlers.onSearch",value:"$inputText",onKeydown:"$handlers.sourceSearchKeydown",disabled:"$disabled","aria-label":"Search",role:"searchbox",autocomplete:"off",class:'$classes.transferlistSearchInput + " " + $classes.sourceSearchInput',onFocus:"$handlers.sourceSearchFocus",onBlur:"$handlers.sourceSearchBlur"}})),Wbe=Wt("sourceSearchClear",()=>({$el:"button",if:'$inputText !== ""',attrs:{id:'$id + "_source_search_clear"',type:"button",onClick:"$handlers.clearSearch","aria-label":"Clear search",class:'$classes.transferlistSearchClear + " " + $classes.sourceSearchClear'}})),qbe=Wt("sourceListItems",()=>({$el:"ul",attrs:{id:'$id + "_source_list_items"',"aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(true)",onMouseout:"$handlers.onMouseleave(true)",role:"listbox","aria-multiselectable":"true","aria-roledescription":"List of options to choose from.",class:'$classes.transferlistListItems + " " + $classes.sourceListItems',onKeydown:"$handlers.sourceListKeydown",tabindex:"$searchable || $sourceOptions.length === 0 && -1 || 0",onFocus:"$handlers.sourceListFocused",onBlur:"$handlers.sourceListBlurred"}})),zbe=Wt("sourceListItem",()=>({for:["option","index","$sourceOptions"],$el:"li",attrs:{id:'$id + "_source_list_item_" + $index',"data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedSourceItems)","data-is-active":"$fns.isActive($option, $activeValue)","data-disabled":"$option.attrs.disabled",role:"option",onClick:"$handlers.listitemClick($option, true)",onTouchstart:"$handlers.listitemTouchstart($option, true)",onTouchmove:"$handlers.listitemTouchmove($option, true)",onTouchend:"$handlers.listitemTouchend($option, true)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.sourceListItem'}})),Kbe=Wt("sourceOption",()=>({$el:"div",attrs:{"data-checked":"$fns.isSelected($option, $selectedSourceItems)",class:'$classes.transferlistOption + " " + $classes.sourceOption'}})),Gbe=Wt("sourceLoadMore",()=>({$el:"li",if:"$state.loading || $state.hasNextPage",attrs:{id:'$id + "_source_load_more"',key:"loadMore",onClick:"$handlers.listitemClick($loadMoreOption)","aria-selected":"false","data-is-active":"$fns.isActive($loadMoreOption)",tabindex:"-1"}})),Ybe=Wt("loadMoreInner","span"),Xbe=Wt("target",()=>({$el:"div",attrs:{id:'$id + "_target"',class:'$classes.transferlist + " " + $classes.target'}})),Qbe=Wt("targetHeader",()=>({$el:"div",attrs:{id:'$id + "_target_header"',role:"presentation",class:'$classes.transferlistHeader + " " + $classes.targetHeader'}})),Jbe=Wt("targetListItems",()=>({$el:"ul",attrs:{id:"$id","aria-activedescendant":"$activeDescendant",onMouseenter:"$handlers.onMouseenter(false)",onMouseout:"$handlers.onMouseleave(false)",class:'$classes.transferlistListItems + " " + $classes.targetListItems',tabindex:"$targetOptions.length === 0 && -1 || 0",onKeydown:"$handlers.targetListKeydown",onFocus:"$handlers.targetListFocused",onBlur:"$handlers.targetListBlurred"}})),Zbe=Wt("targetListItem",()=>({for:["option","index","$targetOptions"],$el:"li",attrs:{id:'$id + "_target_list_item_" + $index',"data-disabled":"$option.attrs.disabled","data-value":"$option.value","aria-selected":"$transferOnSelect === false && $fns.isSelected($option, $selectedTargetItems)","data-is-active":"$fns.isActive($option, $activeValue)",role:"option",onClick:"$handlers.listitemClick($option, false)",onTouchstart:"$handlers.listitemTouchstart($option, false)",onTouchmove:"$handlers.listitemTouchmove($option, false)",onTouchend:"$handlers.listitemTouchend($option, false)",key:"$option.value",class:'$classes.transferlistListItem + " " + $classes.targetListItem'}})),ewe=Wt("targetOption",()=>({$el:"div",attrs:{id:'$id + "_target_list_item_" + $index + "_option"',"data-checked":"$fns.isSelected($option, $selectedTargetItems)",class:'$classes.transferlistOption + " " + $classes.targetOption'}})),twe=Wt("transferControls",()=>({$el:"div",attrs:{id:'$id + "_transfer_controls"'}})),nwe=Wt("transferButtonForward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_forward"',type:"button",disabled:"$selectedSourceItems.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForward","aria-label":"$ui.addSelectedValues.value",title:"$ui.addSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonForward'}})),rwe=Wt("transferButtonForwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_forward_all"',type:"button",disabled:"$sourceOptions.length === 0 || $disabled || ($max && $value && $value.length >= $max)",onClick:"$handlers.transferForwardAll","aria-label":"$ui.addAllValues.value",title:"$ui.addAllValues.value",onFocus:"$handlers.transferForwardAllFocused",class:'$classes.transferlistButton + " " + $classes.transferButtonForwardAll'}})),iwe=Wt("transferButtonBackward",()=>({if:"$transferOnSelect !== true",$el:"button",attrs:{id:'$id + "_transfer_button_backward"',onClick:"$handlers.transferBackward",type:"button",disabled:"$selectedTargetItems.length === 0 || $targetOptions.length === 0 || $disabled","aria-label":"$ui.removeSelectedValues.value",title:"$ui.removeSelectedValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackward'}})),swe=Wt("transferButtonBackwardAll",()=>({$el:"button",attrs:{id:'$id + "_transfer_button_backward_all"',onClick:"$handlers.transferBackwardAll",type:"button",disabled:"$targetOptions.length === 0 || $disabled","aria-label":"$ui.removeAllValues.value",title:"$ui.removeAllValues.value",class:'$classes.transferlistButton + " " + $classes.transferButtonBackwardAll'}})),Uv=Wt("controlLabel","span"),owe=Wt("sourceEmptyMessage",()=>({$el:"li",if:"$showSourceEmptyMessage && $sourceEmptyMessage && $state.loading !== true",attrs:{id:'$id + "_source_empty_message"',key:"$sourceEmptyMessage",role:"presentation"}})),awe=Wt("targetEmptyMessage",()=>({$el:"li",if:"$showTargetEmptyMessage && $targetEmptyMessage",attrs:{id:'$id + "_empty_message"',key:"$emptyMessage",role:"presentation"}})),HM=Wt("emptyMessageInner","span"),tx=Symbol(),xf=new WeakSet,Dg=new WeakSet;Cbe(Rbe(Dbe("$label"),kbe("$help"),Abe(Nbe(Mbe(Lbe(),Fbe(Me("$optionsLoadingCounter > 0",Bo("loader"),"$fns.getSourceItemCount($selectedSourceItems)"))),Vbe(Hbe(jbe(),Wbe(Bo("close")))),qbe(owe(HM("$sourceEmptyMessage")),zbe(Me("$transferOnSelect !== true && $fns.isSelected($option, $selectedSourceItems)",Bo("selected")),Kbe("$option.label")),Gbe(Me("$state.loading && $optionLoadingCounter === 0 || $state.hasNextPage",Ybe(Me("$state.loading",Bo("loader")),"$state.loading && $ui.isLoading.value || $ui.loadMore.value"))))),twe(rwe(Uv("$ui.addAllValues.value"),Bo("fastForward")),nwe(Uv("$ui.addSelectedValues.value"),Bo("moveRight")),iwe(Uv("$ui.removeSelectedValues.value"),Bo("moveLeft")),swe(Uv("$ui.removeAllValues.value"),Bo("rewind"))),Xbe(Qbe(Bbe(),Ube("$fns.getTargetItemCount($selectedTargetItems)")),Jbe(awe(Me("$state.loading !== true",HM("$targetEmptyMessage"))),Zbe(Me("$transferOnSelect !== true && $fns.isSelected($option, $selectedTargetItems)",Bo("selected")),ewe(Me("$fns.optionLoading($option, $optionLoaderValues)","$ui.isLoading.value","$option.label")))))),Obe(Pbe("$message.value")))),wt("moveRight","right"),wt("moveLeft","left"),wt("fastForward","fastForward"),wt("rewind","rewind"),wt("close","close"),wt("loader","spinner"),wt("selected","check"),on("isLoading"),on("loadMore"),on("addAllValues"),on("addSelectedValues"),on("removeSelectedValues"),on("removeAllValues");const rr=Ss("sl"),{outer:lwe,wrapper:uwe,inner:wze,icon:jM,label:cwe,prefix:dwe,suffix:fwe,help:pwe,messages:hwe,message:gwe}=xs(rr),mwe=rr("chart",()=>({$el:"div",if:"$chart"})),vwe=rr("chartBar",()=>({$el:"div",for:["bar","index","$chart"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$bar.at >= $_value.0 && $bar.at <= $_value.1",else:"$bar.at >= $_value.1 && $bar.at <= $_value.0"},else:"$bar.at <= $_value"},style:{left:'$bar.at / ($max - $min) * 100 + "%"',width:'$: "calc(" + (100 / $chart.length) + "% - 2px)"',height:{if:"$largestBar",then:'$bar.value / $largestBar * 100 + "%"'}}}})),ywe=rr("sliderInner",()=>({$el:"div",attrs:{"data-has-mark-labels":"$markLabels && $marks.length > 0"}})),_we=rr("track",()=>({$el:"div",attrs:{id:"$: 'track-' + $id",onClick:"$handlers.clickTrack"}})),bwe=rr("trackWrapper",()=>({$el:"div"})),wwe=rr("trackInner",()=>({$el:"div"})),Ewe=rr("fill",()=>({$el:"div",attrs:{style:"$fillStyles"}})),$we=rr("linkedValues",()=>({$el:"div"})),WM=rr("maxValue",()=>({$formkit:"number",bind:"$computedMaxInputAttrs",ignore:!0,value:{if:"$isMulti",then:"$_value.1",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.maxNode",onBlur:"$handlers.inputBlur"})),Swe=rr("minValue",()=>({$formkit:"number",bind:"$computedMinInputAttrs",ignore:!0,value:{if:"$isMulti",then:"$_value.0",else:"$_value"},tabindex:{if:"$disabled",then:-1},onNode:"$handlers.minNode",onBlur:"$handlers.inputBlur"})),xwe=rr("marks",()=>({$el:"div",if:"$marks"})),Twe=rr("mark",()=>({$el:"span",for:["step","index","$marks"],attrs:{"data-active":{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:"$step.at >= $_value.0 && $step.at <= $_value.1",else:"$step.at >= $_value.1 && $step.at <= $_value.0"},else:"$step.at <= $_value"},class:{if:"$step.class",then:'$: $classes.mark + " " + $step.class',else:"$classes.mark"},style:{left:'$: $fns.calculateMarkPosition($step.at) + "%"'}}})),Iwe=rr("markLabel",()=>({$el:"span",if:"$markLabels",children:{if:"$step.label !== undefined",then:"$step.label",else:""},attrs:{class:'$: $classes.markLabel + " " + $step.labelClass'}})),Cwe=rr("handles",()=>({$el:"ul"})),Awe=rr("handleMax",()=>({$el:"li",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "max"',"data-handle":"max","data-show-tooltip":"$tooltip",class:"$: 'formkit-handle ' + $classes.handle + ' ' + $classes.handleMax",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstart:"$handlers.startDrag",style:"$maxHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),kwe=rr("handleMin",()=>({$el:"li",if:"$isMulti",attrs:{"data-active":"$dragging","data-is-target":'$lastHandleInteraction === "min"',"data-handle":"min","data-show-tooltip":"$tooltip",class:"$: $classes.handle + ' ' + $classes.handleMin",onFocus:"$handlers.focus",onClick:"$handlers.clickHandle",onMousedown:"$handlers.startDrag",onTouchstart:"$handlers.startDrag",style:"$minHandleStyles",tabindex:{if:"$disabled",then:-1,else:0},onBlur:"$handlers.blur",onKeydown:"$handlers.keydown"}})),Owe=rr("handleMinInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMinInner'}})),Pwe=rr("handleMaxInner",()=>({$el:"div",attrs:{class:'$: $classes.handleInner + " " + $classes.handleMaxInner'}})),Rwe=rr("tooltipMax",()=>({$el:"div",if:'$tooltip === true || $tooltip === "auto"',children:{if:"$isMulti",then:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.1, "max")',else:'$tooltipFormat($_value.0, "max")'},else:'$tooltipFormat($_value, "max")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMax"}})),Dwe=rr("tooltipMin",()=>({$el:"div",if:'$isMulti && ($tooltip === true || $tooltip === "auto")',children:{if:"$_value.0 < $_value.1",then:'$tooltipFormat($_value.0, "min")',else:'$tooltipFormat($_value.1, "min")'},attrs:{class:"$classes.tooltip + ' ' + $classes.tooltipMin"}}));lwe(uwe(cwe("$label"),pwe("$help"),ywe(jM("prefix"),dwe(),_we(mwe(vwe()),bwe(wwe(Ewe(),xwe(Twe(Iwe())),Cwe(kwe(Dwe(),Owe()),Awe(Rwe(),Pwe()))))),fwe(),jM("suffix"),Me("$showInput && $isMulti === false",WM())),Me("$showInput && $isMulti",$we(Swe(),WM())),hwe(gwe("$message.value"))));const qt=Ss("cp"),{outer:Nwe,wrapper:Mwe,inner:Lwe,label:Fwe,prefix:Bwe,suffix:Uwe,help:qM,messages:Vwe,message:Hwe,icon:Rp}=xs(qt),jwe=qt("swatchPreview",()=>({$el:"div",attrs:{class:"$classes.swatchPreview",tabindex:{if:"$disabled",then:-1,else:0},onClick:"$handlers.inputPreviewClick",onFocusout:"$handlers.inputPreviewFocusout",onKeydown:"$handlers.inputPreviewKeydown",role:"button","aria-valuetext":'$: "Current color: " + $value'}})),Wwe=qt("valueString",()=>({$el:"span",attrs:{class:"$classes.valueString"},children:{if:'$format === "hex"',then:"$hex",else:{if:'$format === "rgba"',then:"$rgbaString",else:{if:'$format === "hsla"',then:"$hslaString",else:""}}}})),qwe=qt("panel",()=>({$el:"div",attrs:{id:"$id",class:"$classes.panel",onKeydown:"$handlers.panelKeydown","aria-role":{if:"$layout === popover",then:"dialog"},"aria-modal":{if:"$layout === popover",then:"true"},"aria-label":"$label",style:{position:{if:"$inline === undefined || $inline === false",then:"absolute"}}}})),zwe=qt("panelClose",()=>({$el:"button",attrs:{type:"button",class:"$classes.panelClose",onClick:"$handlers.closePanel",tabindex:{if:"$showPanelClose",then:-1,else:0},onKeydown:"$handlers.panelCloseKeydown","aria-label":"$ui.close.value"}})),Kwe=qt("controlGroup",()=>({$el:"div",attrs:{class:"$classes.controlGroup","data-eye-dropper":"$hasNativeEyeDropper && $eyeDropper",role:"group"}})),Gwe=qt("LS",()=>({$el:"div",attrs:{class:"$classes.LS"}})),Ywe=qt("canvasLS",()=>({$el:"canvas",attrs:{id:'$: "canvas-ls-" + $id',class:'$classes.canvas + " " + $classes.canvasLS',width:256,height:256,"aria-hidden":"true"}})),Xwe=qt("controlLS",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},class:'$classes.control + " " + $classes.controlLS',onKeydown:"$handlers.lsKeydown",style:{left:'$controlLSPosition.x + "%"',top:'$controlLSPosition.y + "%"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuetext":'$: "Lightness: " + $hslaPercent.l + "%, Saturation: " + $hslaPercent.s + "%"'}})),Qwe=qt("hue",()=>({$el:"div",attrs:{class:"$classes.hue"}})),Jwe=qt("canvasHue",()=>({$el:"canvas",attrs:{id:'$: "canvas-hue-" + $id',class:'$classes.canvas + " " + $classes.canvasHue',width:256,height:10,"aria-hidden":"true"}})),Zwe=qt("controlHue",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.hueControlKeydown",class:'$classes.control + " " + $classes.controlHue',style:{left:'$: "min(max(" + (($hsla.h / 360) * 100) + "%, 3px), calc(100% - 3px))"',backgroundColor:'$: "hsl(" + $hsla.h + "deg, 100%, 50%)"'},role:"slider","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$h"}})),e1e=qt("alpha",()=>({$el:"div",attrs:{class:"$classes.alpha"}})),t1e=qt("canvasAlpha",()=>({$el:"canvas",attrs:{id:'$: "canvas-alpha-" + $id',class:'$classes.canvas + " " + $classes.canvasAlpha',width:256,height:10,"aria-hidden":"true"}})),n1e=qt("controlAlpha",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.alphaControlKeydown",class:'$classes.control + " " + $classes.controlAlpha',style:{left:'$: "min(max(" + ($hsla.a * 100) + "%, 3px), calc(100% - 3px))"',backgroundImage:'$: "linear-gradient(to right, hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + "), hsla(" + $hsla.h + "deg, " + ($hsla.s / 255) * 100 + "%, " + ($hsla.l / 255) * 100 + "%, " + $hsla.a + ")), linear-gradient(to right, white, white)"'},role:"slider","aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$hsla.a"}})),r1e=qt("preview",()=>({$el:"div",attrs:{class:"$classes.preview"}})),i1e=qt("canvasPreview",()=>({$el:"canvas",attrs:{id:'$: "canvas-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasPreview',width:33,height:33,"aria-hidden":"true"}})),s1e=qt("canvasSwatchPreview",()=>({$el:"div",attrs:{class:"$classes.canvasSwatchPreviewWrapper"},children:[{$el:"canvas",attrs:{id:'$: "canvas-swatch-preview-" + $id',class:'$classes.canvas + " " + $classes.canvasSwatchPreview',width:33,height:33,"aria-hidden":"true"}}]})),o1e=qt("eyeDropper",()=>({$el:"div",attrs:{tabindex:{if:"$disabled",then:-1,else:0},role:"button",onKeydown:"$handlers.eyeDropperKeydown",id:'$: "eye-dropper-" + $id',class:"$classes.eyeDropper"}})),a1e=qt("formatField",()=>({$el:"div",attrs:{class:"$classes.formatField"}})),l1e=qt("colorInputGroup",()=>({$el:"div",attrs:{class:"$classes.colorInputGroup","aria-role":"group"}})),u1e=qt("hexField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hexFieldGroup'},children:[{$el:"input",attrs:{onInput:"$handlers.hexInput",onKeydown:"$handlers.hexKeydown",onFocus:"$handlers.hexFocus",onBlur:"$handlers.hexBlur",id:'$: "hex-" + $id',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",class:'$classes.colorField + " " + $classes.hexField',value:"$hex",autocomplete:"off"}},{$el:"label",children:"HEX",attrs:{for:'$: "hex-" + $id',class:"$classes.fieldLabel"}}]})),c1e=qt("rField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.rFieldGroup'},children:[{$el:"input",attrs:{id:'$: "r-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.rField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.r",autocomplete:"off"}},{$el:"label",children:"R",attrs:{for:'$: "r-" + $id',class:"$classes.fieldLabel"}}]})),d1e=qt("gField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.gFieldGroup'},children:[{$el:"input",attrs:{id:'$: "g-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.gField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.g",autocomplete:"off"}},{$el:"label",children:"G",attrs:{for:'$: "g-" + $id',class:"$classes.fieldLabel"}}]})),f1e=qt("bField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.bFieldGroup'},children:[{$el:"input",attrs:{id:'$: "b-" + $id',onInput:'$handlers.rangeLimitInput("rgba", 0, 255)',onKeydown:'$handlers.rangeLimitKeydown("rgba", 0, 255, 1)',type:"number",class:'$classes.colorField + " " + $classes.bField',min:0,max:255,step:1,tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$rgba.b",autocomplete:"off"}},{$el:"label",children:"B",attrs:{for:'$: "b-" + $id',class:"$classes.fieldLabel"}}]})),p1e=qt("aField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.aFieldGroup'},children:[{$el:"input",attrs:{id:'$: "a-" + $id',onInput:'$handlers.rangeLimitInput("alpha", 0, 1)',onKeydown:'$handlers.rangeLimitKeydown("alpha", 0, 1, 0.01)',type:"text",class:'$classes.colorField + " " + $classes.aField',value:"$rgba.a",tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",autocomplete:"off"},"aria-valuemin":0,"aria-valuemax":1,"aria-valuenow":"$rgba.a"},{$el:"label",children:"A",attrs:{for:'$: "a-" + $id',class:"$classes.fieldLabel"}}]})),h1e=qt("hField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.hFieldGroup'},children:[{$el:"input",attrs:{id:'$: "h-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 360)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 360, 1)',type:"text",class:'$classes.colorField + " " + $classes.hField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.h",autocomplete:"off","aria-valuemin":0,"aria-valuemax":360,"aria-valuenow":"$hsla.h"}},{$el:"label",children:"H",attrs:{for:'$: "h-" + $id',class:"$classes.fieldLabel"}}]})),g1e=qt("sField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.sFieldGroup'},children:[{$el:"input",attrs:{id:'$: "s-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.sField',tabindex:{if:"$disabled",then:-1,else:0},value:"$hslaPercent.s",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.s"}},{$el:"label",children:"S",attrs:{for:'$: "s-" + $id',class:"$classes.fieldLabel"}}]})),m1e=qt("lField",()=>({$el:"div",attrs:{class:'$classes.fieldGroup + " " + $classes.lFieldGroup'},children:[{$el:"input",attrs:{id:'$: "l-" + $id',onInput:'$handlers.rangeLimitInput("hsla", 0, 100)',onKeydown:'$handlers.rangeLimitKeydown("hsla", 0, 100, 1)',type:"text",class:'$classes.colorField + " " + $classes.lField',tabindex:{if:"$disabled",then:-1,else:0},disabled:"$disabled",value:"$hslaPercent.l",autocomplete:"off","aria-valuemin":0,"aria-valuemax":100,"aria-valuenow":"$hsla.l"}},{$el:"label",children:"L",attrs:{for:'$: "l-" + $id',class:"$classes.fieldLabel"}}]})),v1e=qt("formatSwitcher",()=>({$el:"div",attrs:{class:"$classes.formatSwitcher",onClick:"$handlers.toggleFormat",tabindex:{if:"$disabled",then:-1,else:0},onKeydown:"$handlers.formatSwitcherKeydown",role:"button","aria-label":"$ui.next.value"}})),y1e=qt("swatches",()=>({$el:"div",attrs:{id:'$: "swatches-" + $id',class:"$classes.swatches","data-keyboard-nav":"$swatchIsUsingKeyboardNav"}})),_1e=qt("swatch",()=>({$el:"div",for:["swatch","index","$options"],if:"$swatch",attrs:{if:"$swatch.group",then:{class:"$classes.swatchGroup"},else:{class:"$classes.swatch",title:"$swatch.label"}},children:{if:"$swatch.group",then:[{$el:"span",attrs:{class:"$classes.swatchGroupLabel"},children:"$swatch.group"},{$el:"div",for:["groupSwatch","swatchIndex","$swatch.options"],attrs:{class:"$classes.swatch",title:"$groupSwatch.label"},children:[{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($groupSwatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$groupSwatch.label + "-" + $groupSwatch.value',"data-color":"$fns.anyToHsvaString($groupSwatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($groupSwatch.value, 2)","data-group":"$index","data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}]}],else:{$el:"canvas",attrs:{class:"$classes.swatchCanvas",width:21,height:21,onClick:"$handlers.swatchClick",onKeydown:"$handlers.swatchKeydown",tabindex:{if:"$: ($focusedSwatch === $fns.anyToHsvaString($swatch.value, 0))",then:{if:"$disabled",then:-1,else:0},else:-1},key:'$swatch.label + "-" + $swatch.value',"data-color":"$fns.anyToHsvaString($swatch.value, 0)","data-color-precise":"$fns.anyToHsvaString($swatch.value, 2)","data-group":0,"data-label":"$swatch.label",role:"button","aria-label":"$swatch.label"}}}})),zW=/rgba?\((\d+%?)\s*(?:,?\s*|\s+)(\d+%?)\s*(?:,?\s*|\s+)(\d+%?)(?:\s*(?:,?\s*|\s+|\/\s*)(\d*(?:\.\d+)?%?))?\)/i,KW=/^hsla?\((\d{1,3}deg|[\d.]+)\s*,?\s*([\d.]+%)\s*,?\s*([\d.]+%)(?:\s*,?\s*([\d.]+%?))?\)$/i,zM={"canvas-ls":"LS","canvas-hue":"Hue","canvas-alpha":"Alpha"};Nwe(Mwe(Fwe("$label"),Me("$inline && $help",qM("$help")),Lwe(Me("($inline === undefined || $inline === false) && $prefixIcon !== undefined",Rp("prefix","label")),Me("$inline === undefined || $inline === false",Bwe()),Me("$inline === undefined || $inline === false",jwe(s1e(),Me("$showValue",Wwe()))),Me("$inline || $panelIsOpen)",qwe(Me("$showPanelClose && ($inline === undefined || $inline === false)",zwe(Rp("close"))),Me("$panelControls",Kwe(Gwe(Ywe(),Xwe()),r1e(i1e()),Qwe(Jwe(),Zwe()),e1e(t1e(),n1e()),Me("$eyeDropper && $hasNativeEyeDropper",o1e(Rp("eyeDropper"))))),Me("$panelFormat",a1e(l1e(Me('$panelActiveFormat === "hex"',u1e()),Me('$panelActiveFormat === "rgba"',c1e()),Me('$panelActiveFormat === "rgba"',d1e()),Me('$panelActiveFormat === "rgba"',f1e()),Me('$panelActiveFormat === "hsla"',h1e()),Me('$panelActiveFormat === "hsla"',g1e()),Me('$panelActiveFormat === "hsla"',m1e()),Me('$panelActiveFormat === "rgba" || $panelActiveFormat === "hsla"',p1e())),v1e(Rp("switch")))),Me("$options",y1e(_1e())))),Me("$inline === undefined || $inline === false",Uwe()),Me("($inline === undefined || $inline === false) && $suffixIcon !== undefined",Rp("suffix"))),Me("$: ($inline === undefined || $inline === false) && $help",qM("$help"))),Vwe(Hwe("$message.value"))),wt("eyeDropper","color"),wt("close","close"),on("close"),on("next");const Zf=Ss("tb"),{outer:b1e,inner:Eze,wrapper:KM,label:GM,prefix:w1e,suffix:E1e,help:$1e,messages:S1e,message:x1e,icon:YM}=xs(Zf),T1e=Zf("singleToggle",()=>({bind:"$attrs",$el:"button",attrs:{id:"$id",type:"button","aria-label":"$label","aria-pressed":"$fns.isChecked($onValue, $value)",role:"checkbox",onClick:"$handlers.toggleValue()",disabled:"$disabled",class:"$classes.input",onBlur:"$handlers.blur"}})),I1e=Zf("multiToggle",()=>({bind:"$attrs",$el:"button",attrs:{type:"button",id:"$id+'_'+$index","aria-label":"$label","aria-pressed":"$fns.isChecked($option, $value)",role:'$multiple && "checkbox" || "radio"',onClick:"$handlers.toggleValue($option)",class:"$classes.input",title:"$option.help",disabled:"$disabled || $option.disabled",onBlur:"$handlers.blur"}})),Vv=Zf("inputInner",()=>({bind:"$attrs",$el:"span"})),C1e=Zf("options",()=>({$el:"ul",attrs:{id:"$id",role:"group","data-vertical":'$vertical && "true" || "false"',"aria-labelledby":"$id"}})),A1e=Zf("option",()=>({$el:"li",for:["option","index","$options"],attrs:{role:"listitem",key:"$option.value","data-index":"$index"}}));b1e(Me("$options",KM(GM("$label"),C1e(A1e(I1e(Me("$fns.isChecked($option) === true",Vv("$slots.default || $slots.on || $option.onLabel || $option.label"),Vv("$slots.default || $slots.off || $option.offLabel || $option.label")))))),KM(Me("$label && ($slots.default || $slots.on || $onLabel)",GM("$label")),T1e(YM("prefix"),w1e(),Me("$_isChecked === true",Vv("$slots.default || $slots.on || $onLabel || $label"),Vv("$slots.default || $slots.off || $offLabel || $label")),E1e(),YM("suffix")))),$1e("$help"),S1e(x1e("$message.value")));const k1e=typeof window<"u"?setInterval:()=>0,XM=new WeakSet,GW=new Set,Ri=new WeakMap,Hd=new WeakMap,mc=new WeakMap,nx=new WeakMap,O1e=new WeakMap,Tf=new WeakMap,d0=new WeakMap,nh=new WeakSet;let vc;const Qo="__aa_tgt",rx="__aa_del",P1e=e=>{const t=L1e(e);t&&t.forEach(n=>F1e(n))},R1e=e=>{e.forEach(t=>{t.target===vc&&N1e(),Ri.has(t.target)&&Dc(t.target)})};function D1e(e){const t=nx.get(e);t==null||t.disconnect();let n=Ri.get(e),r=0;const i=5;n||(n=If(e),Ri.set(e,n));const{offsetWidth:s,offsetHeight:o}=vc,l=[n.top-i,s-(n.left+i+n.width),o-(n.top+i+n.height),n.left-i].map(c=>`${-1*Math.floor(c)}px`).join(" "),u=new IntersectionObserver(()=>{++r>1&&Dc(e)},{root:vc,threshold:1,rootMargin:l});u.observe(e),nx.set(e,u)}function Dc(e){clearTimeout(d0.get(e));const t=lw(e),n=typeof t=="function"?500:t.duration;d0.set(e,setTimeout(async()=>{const r=mc.get(e);try{await(r==null?void 0:r.finished),Ri.set(e,If(e)),D1e(e)}catch{}},n))}function N1e(){clearTimeout(d0.get(vc)),d0.set(vc,setTimeout(()=>{GW.forEach(e=>JW(e,t=>YW(()=>Dc(t))))},100))}function M1e(e){setTimeout(()=>{O1e.set(e,setInterval(()=>YW(Dc.bind(null,e)),2e3))},Math.round(2e3*Math.random()))}function YW(e){typeof requestIdleCallback=="function"?requestIdleCallback(()=>e()):requestAnimationFrame(()=>e())}let ix,vd;typeof window<"u"&&(vc=document.documentElement,ix=new MutationObserver(P1e),vd=new ResizeObserver(R1e),vd.observe(vc));function L1e(e){return e.reduce((r,i)=>[...r,...Array.from(i.addedNodes),...Array.from(i.removedNodes)],[]).every(r=>r.nodeName==="#comment")?!1:e.reduce((r,i)=>{if(r===!1)return!1;if(i.target instanceof Element){if(EE(i.target),!r.has(i.target)){r.add(i.target);for(let s=0;s<i.target.children.length;s++){const o=i.target.children.item(s);if(o){if(rx in o)return!1;EE(i.target,o),r.add(o)}}}if(i.removedNodes.length)for(let s=0;s<i.removedNodes.length;s++){const o=i.removedNodes[s];if(rx in o)return!1;o instanceof Element&&(r.add(o),EE(i.target,o),Hd.set(o,[i.previousSibling,i.nextSibling]))}}return r},new Set)}function EE(e,t){!t&&!(Qo in e)?Object.defineProperty(e,Qo,{value:e}):t&&!(Qo in t)&&Object.defineProperty(t,Qo,{value:e})}function F1e(e){var t;const n=e.isConnected,r=Ri.has(e);n&&Hd.has(e)&&Hd.delete(e),mc.has(e)&&((t=mc.get(e))===null||t===void 0||t.cancel()),r&&n?B1e(e):r&&!n?V1e(e):U1e(e)}function to(e){return Number(e.replace(/[^0-9.\-]/g,""))}function If(e){const t=e.getBoundingClientRect();return{top:t.top+window.scrollY,left:t.left+window.scrollX,width:t.width,height:t.height}}function XW(e,t,n){let r=t.width,i=t.height,s=n.width,o=n.height;const a=getComputedStyle(e);if(a.getPropertyValue("box-sizing")==="content-box"){const u=to(a.paddingTop)+to(a.paddingBottom)+to(a.borderTopWidth)+to(a.borderBottomWidth),c=to(a.paddingLeft)+to(a.paddingRight)+to(a.borderRightWidth)+to(a.borderLeftWidth);r-=c,s-=c,i-=u,o-=u}return[r,s,i,o].map(Math.round)}function lw(e){return Qo in e&&Tf.has(e[Qo])?Tf.get(e[Qo]):{duration:250,easing:"ease-in-out"}}function QW(e){if(Qo in e)return e[Qo]}function RA(e){const t=QW(e);return t?nh.has(t):!1}function JW(e,...t){t.forEach(n=>n(e,Tf.has(e)));for(let n=0;n<e.children.length;n++){const r=e.children.item(n);r&&t.forEach(i=>i(r,Tf.has(r)))}}function B1e(e){const t=Ri.get(e),n=If(e);if(!RA(e))return Ri.set(e,n);let r;if(!t)return;const i=lw(e);if(typeof i!="function"){const s=t.left-n.left,o=t.top-n.top,[a,l,u,c]=XW(e,t,n),d={transform:`translate(${s}px, ${o}px)`},f={transform:"translate(0, 0)"};a!==l&&(d.width=`${a}px`,f.width=`${l}px`),u!==c&&(d.height=`${u}px`,f.height=`${c}px`),r=e.animate([d,f],{duration:i.duration,easing:i.easing})}else r=new Animation(i(e,"remain",t,n)),r.play();mc.set(e,r),Ri.set(e,n),r.addEventListener("finish",Dc.bind(null,e))}function U1e(e){const t=If(e);Ri.set(e,t);const n=lw(e);if(!RA(e))return;let r;typeof n!="function"?r=e.animate([{transform:"scale(.98)",opacity:0},{transform:"scale(0.98)",opacity:0,offset:.5},{transform:"scale(1)",opacity:1}],{duration:n.duration*1.5,easing:"ease-in"}):(r=new Animation(n(e,"add",t)),r.play()),mc.set(e,r),r.addEventListener("finish",Dc.bind(null,e))}function V1e(e){var t;if(!Hd.has(e)||!Ri.has(e))return;const[n,r]=Hd.get(e);Object.defineProperty(e,rx,{value:!0}),r&&r.parentNode&&r.parentNode instanceof Element?r.parentNode.insertBefore(e,r):n&&n.parentNode?n.parentNode.appendChild(e):(t=QW(e))===null||t===void 0||t.appendChild(e);function i(){var f;e.remove(),Ri.delete(e),Hd.delete(e),mc.delete(e),(f=nx.get(e))===null||f===void 0||f.disconnect()}if(!RA(e))return i();const[s,o,a,l]=H1e(e),u=lw(e),c=Ri.get(e);let d;Object.assign(e.style,{position:"absolute",top:`${s}px`,left:`${o}px`,width:`${a}px`,height:`${l}px`,margin:0,pointerEvents:"none",transformOrigin:"center",zIndex:100}),typeof u!="function"?d=e.animate([{transform:"scale(1)",opacity:1},{transform:"scale(.98)",opacity:0}],{duration:u.duration,easing:"ease-out"}):(d=new Animation(u(e,"remove",c)),d.play()),mc.set(e,d),d.addEventListener("finish",i)}function H1e(e){const t=Ri.get(e),[n,,r]=XW(e,t,If(e));let i=e.parentElement;for(;i&&(getComputedStyle(i).position==="static"||i instanceof HTMLBodyElement);)i=i.parentElement;i||(i=document.body);const s=getComputedStyle(i),o=Ri.get(i)||If(i),a=Math.round(t.top-o.top)-to(s.borderTopWidth),l=Math.round(t.left-o.left)-to(s.borderLeftWidth);return[a,l,n,r]}function j1e(e,t={}){return ix&&vd&&(window.matchMedia("(prefers-reduced-motion: reduce)").matches&&typeof t!="function"&&!t.disrespectUserMotionPreference||(nh.add(e),getComputedStyle(e).position==="static"&&Object.assign(e.style,{position:"relative"}),JW(e,Dc,M1e,i=>vd==null?void 0:vd.observe(i)),typeof t=="function"?Tf.set(e,t):Tf.set(e,{duration:250,easing:"ease-in-out",...t}),ix.observe(e,{childList:!0}),GW.add(e))),Object.freeze({parent:e,enable:()=>{nh.add(e)},disable:()=>{nh.delete(e)},isEnabled:()=>nh.has(e)})}const f0=new Map,ZW=new Map;let W1e=0,ad=null,QM=0;function q1e(){JM(),ad=new MutationObserver(()=>{JM(),!f0.size&&ad&&(ad.disconnect(),ad=null)}),ad.observe(document,{childList:!0,subtree:!0})}function JM(){f0.forEach((e,t)=>{document.getElementById(t)&&(clearTimeout(QM),f0.delete(t),QM=setTimeout(()=>{document.querySelectorAll("[data-auto-animate]").forEach(i=>{let s;const o=i.getAttribute("data-auto-animate");o&&(s=ZW.get(o)),j1e(i,s||e||{})})},250))})}function z1e(e,t={global:["outer","inner"],form:["form"],repeater:["items"]}){return n=>{n.on("created",()=>{var r;if(typeof((r=n.props.definition)===null||r===void 0?void 0:r.schema)=="function"){if(typeof window===void 0)return;const i=n.props.definition.schema;n.props.definition.schema=s=>{const o=i(s),a=Array.isArray(o)?o[0]:o;return Q_(a,l=>{var u,c,d,f;if(fc(l)){let p=!1;const h=(u=l==null?void 0:l.meta)===null||u===void 0?void 0:u.section;let g=!0;if(!((c=l==null?void 0:l.meta)===null||c===void 0)&&c.autoAnimate&&(p=!0,typeof l.meta.autoAnimate=="object")){const m=Object.assign({},e,l.meta.autoAnimate);g=`${n.props.id}-${W1e++}`,ZW.set(g,m)}if(!p&&h&&typeof h=="string"&&(!((d=t.global)===null||d===void 0)&&d.includes(h)||!((f=t[n.props.type])===null||f===void 0)&&f.includes(h))&&(p=!0),!p)return;l!=null&&l.attrs?Object.assign(l.attrs,{"data-auto-animate":g}):l.attrs={"data-auto-animate":g},n.props.id&&f0.set(n.props.id,e)}}),a}}!ad&&typeof window<"u"&&q1e()})}}const ZM=Ke("badge",()=>({$el:"span",attrs:{role:"presentation"}})),K1e=Ke("stepActions",()=>({$el:"div"})),G1e=Ke("stepInner","div"),Y1e=Ke("stepNext",()=>({$el:"div",if:"$isLastStep === false || $stepIndex === 0",children:[{$cmp:"FormKit",bind:"$nextAttrs",props:{type:"button",label:{if:"$nextLabel",then:"$nextLabel",else:"$ui.next.value"},"data-next":"$isLastStep === false",onClick:"$handlers.next"}}]})),X1e=Ke("stepOuter",()=>({$el:"div",attrs:{key:"$id","data-type":"step","data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined",id:"$id",role:"tabpanel","aria-labelledby":'$node.parent.props.id + "_tab_" + $stepIndex',class:"$classes.step",hidden:"$isActiveStep === false || undefined"}})),Q1e=Ke("stepPrevious",()=>({$el:"div",if:"$isFirstStep === false",children:[{$cmp:"FormKit",bind:"$previousAttrs",props:{type:"button",label:{if:"$previousLabel",then:"$previousLabel",else:"$ui.prev.value"},"data-prev":"$isFirstStep === false",onClick:"$handlers.previous"}}]})),J1e=Ke("steps",()=>({$el:"div"})),Z1e=(e,t)=>Ke(`${e}Icon`,()=>{const n=`_raw${e.charAt(0).toUpperCase()}${e.slice(1)}Icon`;return{if:`$step.${e}Icon && $step.${n}`,then:{$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " formkit-icon"`,innerHTML:`$step.${n}`,role:"presentation",onClick:`$handlers.iconClick(${e})`}},else:{if:`$${e}Icon && $${n}`,then:{$el:`${t||"span"}`,attrs:{class:`$classes.${e}Icon + " formkit-icon"`,innerHTML:`$${n}`,role:"presentation",onClick:`$handlers.iconClick(${e})`}}}}})(),eEe=Ke("tab",()=>({$el:"button",for:["step","index","$steps"],attrs:{key:"$step.id",type:"button",onClick:"$step.makeActive","data-active":"$step.isActiveStep","data-valid":"$step.isValid","data-visited":"$step.hasBeenVisited",role:"tab",id:'$id + "_tab_" + $index',"aria-selected":"$step.isActiveStep || false","aria-controls":"$step.id",tabindex:{if:"$step.isActiveStep",then:"0",else:"-1"}}})),tEe=Ke("tabLabel",()=>({$el:"span"})),nEe=Ke("tabs",()=>({$el:"div",attrs:{role:"tablist"}})),rEe=Ke("multiStepOuter",()=>({$el:"div",attrs:{key:"$id",id:"$id",class:"$classes.outer","data-family":"$family || undefined","data-type":"$type","data-multiple":'$attrs.multiple || ($type != "select" && $options != undefined) || undefined',"data-disabled":"$disabled || undefined","data-complete":"$state.complete || undefined","data-invalid":"$state.valid === false && $state.validationVisible || undefined","data-errors":"$state.errors || undefined","data-submitted":"$state.submitted || undefined"}}));rEe(Lu(Pc(nEe(eEe(vs('$tabStyle === "tab" || ($tabStyle === "progress" && $hideProgressLabels === false)',tEe("$step.stepName")),vs("($step.totalErrorCount > 0) && $step.showStepErrors",ZM("$step.totalErrorCount")),vs("$step.isValid && $step.hasBeenVisited",ZM(Z1e("validStep"))))),J1e("$slots.default")),{attrs:{"data-tab-style":"$tabStyle","data-hide-labels":"$hideProgressLabels"}})),wt("validStep","check");X1e(G1e("$slots.default"),K1e(Q1e(),Y1e())),on("next"),on("prev");function iEe(e){return n=>{n.addProps(["floatingLabel"]),(typeof n.props.floatingLabel=="boolean"?n.props.floatingLabel:typeof(e==null?void 0:e.useAsDefault)=="boolean"?e==null?void 0:e.useAsDefault:!1)&&n.on("created",()=>{if(!n.props||!n.props.definition)return;const i=wa(n.props.definition);if(["text","dropdown"].includes(n.props.family)||["datepicker","textarea"].includes(n.props.type)){const s=i.schema;if(typeof s!="function")return;const o=a=>{a.outer={attrs:{"data-floating-label":"true"}},a.label={attrs:{"data-has-value":'$_value !== "" && $_value !== undefined'}};const l=s(a),u=Array.isArray(l)?l[0]:l,[c,d]=fN(u,"label"),[f]=fN(u,"input");return c&&d&&f&&(c.splice(c.indexOf(d),1),f.push(d)),l};i.schema=o,i.schemaMemoKey&&(i.schemaMemoKey+="-floating-label"),n.props.definition=i}})}}const sEe=e=>{var t;return e?!((t=e==null?void 0:e.value)!=null&&t.includes("www.")):!1},oEe=e=>e?/^[a-zA-Z0-9][a-zA-Z0-9-_]{0,61}[a-zA-Z0-9]{0,1}\.([a-zA-Z]{1,15}|[a-zA-Z0-9-]{1,30}\.[a-zA-Z]{2,15})$/.test(e==null?void 0:e.value):!1,aEe=e=>e?/^[a-zA-Z0-9-\p{L}]+$/u.test(e==null?void 0:e.value):!1,lEe=e=>e?/^[A-Za-z0-9](?:[A-Za-z0-9-]{0,61}[A-Za-z0-9])?$/.test(e==null?void 0:e.value):!1,uEe=Object.freeze(Object.defineProperty({__proto__:null,alphanumericAndDashes:aEe,checkNakedUrl:sEe,checkValidDomain:oEe,checkValidSubdomain:lEe},Symbol.toStringTag,{value:"Module"})),cEe={global:{fieldset:"",form:"space-y-4",help:"text-xs text-gray-500",inner:"formkit-disabled:bg-gray-200 formkit-disabled:cursor-not-allowed formkit-disabled:pointer-events-none",input:"appearance-none bg-transparent focus:outline-none focus:ring-0 focus:shadow-none",label:"block mb-2 font-bold text-sm",legend:"font-bold text-sm",loaderIcon:"inline-flex items-center w-4 text-gray-600 animate-spin",message:"text-red-500 mb-1 text-xs",messages:"list-none p-0 mt-1 mb-0",outer:"mb-4 formkit-disabled:opacity-50",prefixIcon:"w-10 flex self-stretch grow-0 shrink-0 text-slate-500 bg-transparent border-r border-slate-400 [&>svg]:w-full [&>svg]:max-w-[1em] [&>svg]:max-h-[1em] [&>svg]:m-auto",suffixIcon:"w-7 pr-3 flex self-stretch grow-0 shrink-0 [&>svg]:w-full [&>svg]:max-w-[1em] [&>svg]:max-h-[1em] [&>svg]:m-auto"},"family:box":{decorator:"block relative h-5 w-5 mr-2 rounded-lg bg-white ring-1 ring-gray-400 peer-checked:ring-brand-primary text-transparent peer-checked:text-brand-primary",decoratorIcon:"flex p-[3px] w-full h-full absolute top-1/2 left-1/2 -translate-y-1/2 -translate-x-1/2",help:"mb-2 mt-1.5",input:"fixed left-[999em] w-0 h-0 overflow-hidden opacity-0 pointer-events-none peer",label:"$reset text-sm text-gray-700 mt-1 select-none",wrapper:"flex items-center mb-1"},"family:button":{input:"$reset inline-flex items-center border-transparent rounded-md text-sm py-2 px-4 text-white bg-brand-primary shadow hover:bg-brand-secondary hover:text-yellow-800 focus:ring-2 focus:ring-brand-primary/75 focus:ring-offset-2 active:shadow-none font-semibold disabled:bg-slate-400 disabled:!text-white disabled:cursor-not-allowed",wrapper:"mb-1",prefixIcon:"$reset block w-4 -ml-2 mr-2 stretch",suffixIcon:"$reset block w-4 ml-2 stretch"},"family:dropdown":{dropdownWrapper:"my-2 w-full shadow-lg rounded formkit-dropdown-wrapper [&::-webkit-scrollbar]:hidden ",emptyMessageInner:"flex items-center justify-center text-sm p-2 text-center w-full text-slate-500 [&>span]:mr-3 [&>span]:ml-0",inner:"max-w-md relative flex ring-1 ring-slate-400 focus-within:ring-brand-primary focus-within:ring-2 rounded mb-2 formkit-disabled:focus-within:ring-slate-400 formkit-disabled:focus-within:ring-1 [&>span:first-child]:focus-within:text-brand-primary",input:"w-full px-3 py-2",listbox:"bg-white shadow-lg rounded overflow-hidden",listboxButton:"flex w-12 self-stretch justify-center mx-auto",listitem:'pl-7 relative hover:bg-slate-300 data-[is-active="true"]:bg-slate-300 aria-selected:bg-brand-primary aria-selected:text-white data-[is-active="true"]:aria-selected:bg-brand-primary data-[is-active="true"]:aria-selected:bg-brand-primary',loaderIcon:"ml-auto",loadMoreInner:"flex items-center justify-center text-sm p-2 text-center w-full text-brand-primary formkit-loading:text-slate-500 cursor-pointer [&>span]:mr-3 [&>span]:ml-0",option:"p-2.5",optionLoading:"pl-2.5 text-slate-400",placeholder:"p-2.5 text-slate-400",selector:"bg-white rounded flex w-full justify-between items-center min-h-[2.625em] [&u] cursor-default",selection:"flex w-full",selectedIcon:"block absolute top-1/2 left-2 w-3 -translate-y-1/2",selectIcon:"flex box-content w-4 px-2 self-stretch grow-0 shrink-0 [&>svg]:w-[1em] cursor-pointer"},"family:text":{inner:"flex items-center max-w-md bg-white ring-1 ring-gray-400 focus-within:ring-brand-primary focus-within:ring-2 [&>label:first-child]:focus-within:text-brand-primary rounded-lg mb-1",input:"w-full px-3 py-2 border-none text-base text-gray-700 placeholder-gray-400"},color:{wrapper:"flex flex-col space-y-2",inner:"rounded-lg p-1 bg-white flex w-full !max-w-[4rem]",input:"$reset !w-full h-12 appearance-none cursor-pointer border border-slate-300 rounded-lg p-2 bg-white [&::-webkit-color-swatch-wrapper]:p-0 [&::-webkit-color-swatch]:border-slate-200 [&::-webkit-color-swatch]:rounded-md",suffixIcon:"min-w-[2.5em] pr-0 pl-0 m-auto"},file:{fileItem:"flex items-center text-gray-800 mb-1 last:mb-0",fileItemIcon:"w-4 mr-2 shrink-0",fileList:'shrink grow peer px-3 py-2 formkit-multiple:data-[has-multiple="true"]:mb-6',fileName:"break-all grow text-ellipsis",fileRemove:"relative z-[2] ml-auto text-[0px] hover:text-red-500 pl-2 peer-data-[has-multiple=true]:text-sm peer-data-[has-multiple=true]:text-brand-primary peer-data-[has-multiple=true]:ml-3 peer-data-[has-multiple=true]:mb-2 formkit-multiple:bottom-[0.15em] formkit-multiple:pl-0 formkit-multiple:ml-0 formkit-multiple:left-[1em] formkit-multiple:formkit-prefix-icon:left-[3.75em]",fileRemoveIcon:"block text-base w-3 relative z-[2]",inner:"relative max-w-md cursor-pointer formkit-multiple:[&>button]:absolute",input:"cursor-pointer text-transparent absolute top-0 right-0 left-0 bottom-0 opacity-0 z-[2]",noFiles:"flex w-full items-center px-3 py-2 text-gray-400",noFilesIcon:"w-4 mr-2"},radio:{decorator:"rounded-full",decoratorIcon:"w-5 p-[5px]"},range:{inner:"$reset flex items-center max-w-md",input:"$reset w-full mb-1 h-2 p-0 rounded-full",prefixIcon:"$reset w-4 mr-1 flex self-stretch grow-0 shrink-0 [&>svg]:max-w-[1em] [&>svg]:max-h-[1em] [&>svg]:m-auto",suffixIcon:"$reset w-4 ml-1 flex self-stretch grow-0 shrink-0 [&>svg]:max-w-[1em] [&>svg]:max-h-[1em] [&>svg]:m-auto"},select:{inner:"flex relative items-center rounded mb-1 ring-1 ring-gray-400 focus-within:ring-brand-primary focus-within:ring-2 [&>span:first-child]:focus-within:text-brand-primary overflow-hidden",input:'w-full pl-3 pr-8 py-2 border-none text-base text-gray-700 placeholder-gray-400 formkit-multiple:p-0 data-[placeholder="true"]:text-gray-400 formkit-multiple:data-[placeholder="true"]:text-inherit bg-white',option:"formkit-multiple:p-3 formkit-multiple:text-sm text-gray-700"},textarea:{inner:"flex rounded-lg mb-1 ring-1 ring-gray-400 focus-within:ring-brand-primary [&>label:first-child]:focus-within:text-brand-primary",input:"block w-full h-32 px-3 py-3 border-none text-base text-gray-700 placeholder-gray-400 focus:shadow-outline bg-white"},autocomplete:{closeIcon:"block grow-0 shrink-0 w-3 mr-3.5",inner:"[&>div>[data-value]]:absolute [&>div>[data-value]]:mb-0 rounded-lg",option:"grow text-ellipsis",input:"border-0 rounded-lg",selection:"static flex items-center left-0 top-0 right-0 bottom-0 mt-0 mb-2 rounded-lg bg-gray-100"},mask:{inner:"flex items-center max-w-md ring-1 ring-gray-400 focus-within:ring-brand-primary focus-within:ring-2 [&>label:first-child]:focus-within:text-brand-primary rounded mb-1",input:"w-full px-3 py-2 border-none text-base text-gray-700 placeholder-gray-400"},dropdown:{tagsWrapper:"max-w-[calc(100%_-_35px)]",tags:"flex items-center flex-wrap gap-1 mx-2 my-1.5",tag:"flex items-center rounded-full bg-gray-200 text-xs text-black py-1 px-2.5 cursor-default",tagLabel:"px-1",selectionsWrapper:"flex w-[calc(100%_-_35px)] overflow-hidden",selections:"inline-flex items-center px-2.5",selectionsItem:"whitespace-nowrap mr-1 last:mr-0",truncationCount:"flex items-center whitespace-nowrap justify-center rounded text-white bg-gray-500 font-bold text-xs px-1 py-0.5",removeSelection:"block w-2.5 my-1 cursor-pointer"},rating:{inner:"relative flex items-center w-[8em] formkit-disabled:bg-transparent",itemsWrapper:"w-full",onItems:"text-yellow-400",onItemWrapper:"[&>*]:w-full [&>svg]:h-auto [&>svg]:max-w-none [&>svg]:max-h-none",offItems:"text-gray-500",offItemWrapper:"[&>*]:w-full [&>svg]:h-auto [&>svg]:max-w-none [&>svg]:max-h-none"},repeater:{content:"grow flex flex-col align-center",controlLabel:"absolute opacity-0 pointer-events-none",controls:"flex items-center items-center gap-1 @sm:gap-2 rounded-lg border border-slate-300 px-2 py-1 text-slate-500 mt-[3px] bg-white h-max",downControl:"hover:text-brand-primary disabled:hover:text-inherit disabled:opacity-25",fieldset:"",help:"mb-2 mt-1.5",items:"space-y-3",item:"flex w-full gap-2 @container",moveDownIcon:"block w-3",moveUpIcon:"block w-3",removeControl:"hover:text-brand-primary disabled:hover:text-inherit disabled:opacity-25",removeIcon:"block w-4",upControl:"hover:text-brand-primary disabled:hover:text-inherit disabled:opacity-25",addButton:"mt-4",up:"flex",down:"flex",remove:"flex"},taglist:{input:"px-1 py-1 w-[0%] grow",removeSelection:"w-2.5 mx-1 self-center text-black leading-none",tag:"flex items-center my-1 p-1 bg-gray-200 text-xs rounded-full",tagWrapper:"mr-1 focus:outline-none focus:text-white [&>div]:focus:bg-brand-primary [&>div>button]:focus:text-white",tagLabel:"pl-2 pr-1",tags:"flex items-center flex-wrap w-full py-1.5 px-2"},toggle:{altLabel:"block w-full mb-1 font-bold text-sm",inner:"$reset inline-block mr-2",input:"peer fixed left-[999em] opacity-0 pointer-events-none",innerLabel:"text-[10px] font-bold absolute left-full top-1/2 -translate-x-full -translate-y-1/2 px-1",thumb:"relative left-0 aspect-square rounded-full transition-all w-5 bg-gray-100",track:"p-0.5 min-w-[3em] relative rounded-full transition-all bg-gray-400 peer-checked:bg-brand-primary peer-checked:[&>div:last-child]:left-full peer-checked:[&>div:last-child]:-translate-x-full peer-checked:[&>div:first-child:not(:last-child)]:left-0 peer-checked:[&>div:first-child:not(:last-child)]:translate-x-0",valueLabel:"font-bold text-sm",wrapper:"flex flex-wrap items-center mb-1"},mediaInput:{help:"mt-2"}};var dEe=typeof global=="object"&&global&&global.Object===Object&&global;const e9=dEe;var fEe=typeof self=="object"&&self&&self.Object===Object&&self,pEe=e9||fEe||Function("return this")();const Mr=pEe;var hEe=Mr.Symbol;const ri=hEe;var t9=Object.prototype,gEe=t9.hasOwnProperty,mEe=t9.toString,Dp=ri?ri.toStringTag:void 0;function vEe(e){var t=gEe.call(e,Dp),n=e[Dp];try{e[Dp]=void 0;var r=!0}catch{}var i=mEe.call(e);return r&&(t?e[Dp]=n:delete e[Dp]),i}var yEe=Object.prototype,_Ee=yEe.toString;function bEe(e){return _Ee.call(e)}var wEe="[object Null]",EEe="[object Undefined]",eL=ri?ri.toStringTag:void 0;function gi(e){return e==null?e===void 0?EEe:wEe:eL&&eL in Object(e)?vEe(e):bEe(e)}function Xn(e){return e!=null&&typeof e=="object"}var $Ee="[object Symbol]";function Zi(e){return typeof e=="symbol"||Xn(e)&&gi(e)==$Ee}var SEe=0/0;function tL(e){return typeof e=="number"?e:Zi(e)?SEe:+e}function Nn(e,t){for(var n=-1,r=e==null?0:e.length,i=Array(r);++n<r;)i[n]=t(e[n],n,e);return i}var xEe=Array.isArray;const at=xEe;var TEe=1/0,nL=ri?ri.prototype:void 0,rL=nL?nL.toString:void 0;function es(e){if(typeof e=="string")return e;if(at(e))return Nn(e,es)+"";if(Zi(e))return rL?rL.call(e):"";var t=e+"";return t=="0"&&1/e==-TEe?"-0":t}function uw(e,t){return function(n,r){var i;if(n===void 0&&r===void 0)return t;if(n!==void 0&&(i=n),r!==void 0){if(i===void 0)return r;typeof n=="string"||typeof r=="string"?(n=es(n),r=es(r)):(n=tL(n),r=tL(r)),i=e(n,r)}return i}}var IEe=uw(function(e,t){return e+t},0);const CEe=IEe;var AEe=/\s/;function n9(e){for(var t=e.length;t--&&AEe.test(e.charAt(t)););return t}var kEe=/^\s+/;function r9(e){return e&&e.slice(0,n9(e)+1).replace(kEe,"")}function Ln(e){var t=typeof e;return e!=null&&(t=="object"||t=="function")}var iL=0/0,OEe=/^[-+]0x[0-9a-f]+$/i,PEe=/^0b[01]+$/i,REe=/^0o[0-7]+$/i,DEe=parseInt;function ys(e){if(typeof e=="number")return e;if(Zi(e))return iL;if(Ln(e)){var t=typeof e.valueOf=="function"?e.valueOf():e;e=Ln(t)?t+"":t}if(typeof e!="string")return e===0?e:+e;e=r9(e);var n=PEe.test(e);return n||REe.test(e)?DEe(e.slice(2),n?2:8):OEe.test(e)?iL:+e}var sL=1/0,NEe=17976931348623157e292;function ua(e){if(!e)return e===0?e:0;if(e=ys(e),e===sL||e===-sL){var t=e<0?-1:1;return t*NEe}return e===e?e:0}function dt(e){var t=ua(e),n=t%1;return t===t?n?t-n:t:0}var MEe="Expected a function";function LEe(e,t){if(typeof t!="function")throw new TypeError(MEe);return e=dt(e),function(){if(--e<1)return t.apply(this,arguments)}}function mi(e){return e}var FEe="[object AsyncFunction]",BEe="[object Function]",UEe="[object GeneratorFunction]",VEe="[object Proxy]";function Pa(e){if(!Ln(e))return!1;var t=gi(e);return t==BEe||t==UEe||t==FEe||t==VEe}var HEe=Mr["__core-js_shared__"];const Ay=HEe;var oL=function(){var e=/[^.]+$/.exec(Ay&&Ay.keys&&Ay.keys.IE_PROTO||"");return e?"Symbol(src)_1."+e:""}();function jEe(e){return!!oL&&oL in e}var WEe=Function.prototype,qEe=WEe.toString;function Nc(e){if(e!=null){try{return qEe.call(e)}catch{}try{return e+""}catch{}}return""}var zEe=/[\\^$.*+?()[\]{}|]/g,KEe=/^\[object .+?Constructor\]$/,GEe=Function.prototype,YEe=Object.prototype,XEe=GEe.toString,QEe=YEe.hasOwnProperty,JEe=RegExp("^"+XEe.call(QEe).replace(zEe,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function i9(e){if(!Ln(e)||jEe(e))return!1;var t=Pa(e)?JEe:KEe;return t.test(Nc(e))}function ZEe(e,t){return e==null?void 0:e[t]}function Mc(e,t){var n=ZEe(e,t);return i9(n)?n:void 0}var e$e=Mc(Mr,"WeakMap");const Ng=e$e;var t$e=Ng&&new Ng;const p0=t$e;var n$e=p0?function(e,t){return p0.set(e,t),e}:mi;const s9=n$e;var aL=Object.create,r$e=function(){function e(){}return function(t){if(!Ln(t))return{};if(aL)return aL(t);e.prototype=t;var n=new e;return e.prototype=void 0,n}}();const ep=r$e;function Mg(e){return function(){var t=arguments;switch(t.length){case 0:return new e;case 1:return new e(t[0]);case 2:return new e(t[0],t[1]);case 3:return new e(t[0],t[1],t[2]);case 4:return new e(t[0],t[1],t[2],t[3]);case 5:return new e(t[0],t[1],t[2],t[3],t[4]);case 6:return new e(t[0],t[1],t[2],t[3],t[4],t[5]);case 7:return new e(t[0],t[1],t[2],t[3],t[4],t[5],t[6])}var n=ep(e.prototype),r=e.apply(n,t);return Ln(r)?r:n}}var i$e=1;function s$e(e,t,n){var r=t&i$e,i=Mg(e);function s(){var o=this&&this!==Mr&&this instanceof s?i:e;return o.apply(r?n:this,arguments)}return s}function ts(e,t,n){switch(n.length){case 0:return e.call(t);case 1:return e.call(t,n[0]);case 2:return e.call(t,n[0],n[1]);case 3:return e.call(t,n[0],n[1],n[2])}return e.apply(t,n)}var o$e=Math.max;function o9(e,t,n,r){for(var i=-1,s=e.length,o=n.length,a=-1,l=t.length,u=o$e(s-o,0),c=Array(l+u),d=!r;++a<l;)c[a]=t[a];for(;++i<o;)(d||i<s)&&(c[n[i]]=e[i]);for(;u--;)c[a++]=e[i++];return c}var a$e=Math.max;function a9(e,t,n,r){for(var i=-1,s=e.length,o=-1,a=n.length,l=-1,u=t.length,c=a$e(s-a,0),d=Array(c+u),f=!r;++i<c;)d[i]=e[i];for(var p=i;++l<u;)d[p+l]=t[l];for(;++o<a;)(f||i<s)&&(d[p+n[o]]=e[i++]);return d}function l$e(e,t){for(var n=e.length,r=0;n--;)e[n]===t&&++r;return r}function cw(){}var u$e=4294967295;function kt(e){this.__wrapped__=e,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=u$e,this.__views__=[]}kt.prototype=ep(cw.prototype);kt.prototype.constructor=kt;function DA(){}var c$e=p0?function(e){return p0.get(e)}:DA;const NA=c$e;var d$e={};const jd=d$e;var f$e=Object.prototype,p$e=f$e.hasOwnProperty;function ky(e){for(var t=e.name+"",n=jd[t],r=p$e.call(jd,t)?n.length:0;r--;){var i=n[r],s=i.func;if(s==null||s==e)return i.name}return t}function ws(e,t){this.__wrapped__=e,this.__actions__=[],this.__chain__=!!t,this.__index__=0,this.__values__=void 0}ws.prototype=ep(cw.prototype);ws.prototype.constructor=ws;function Di(e,t){var n=-1,r=e.length;for(t||(t=Array(r));++n<r;)t[n]=e[n];return t}function l9(e){if(e instanceof kt)return e.clone();var t=new ws(e.__wrapped__,e.__chain__);return t.__actions__=Di(e.__actions__),t.__index__=e.__index__,t.__values__=e.__values__,t}var h$e=Object.prototype,g$e=h$e.hasOwnProperty;function k(e){if(Xn(e)&&!at(e)&&!(e instanceof kt)){if(e instanceof ws)return e;if(g$e.call(e,"__wrapped__"))return l9(e)}return new ws(e)}k.prototype=cw.prototype;k.prototype.constructor=k;function sx(e){var t=ky(e),n=k[t];if(typeof n!="function"||!(t in kt.prototype))return!1;if(e===n)return!0;var r=NA(n);return!!r&&e===r[0]}var m$e=800,v$e=16,y$e=Date.now;function u9(e){var t=0,n=0;return function(){var r=y$e(),i=v$e-(r-n);if(n=r,i>0){if(++t>=m$e)return arguments[0]}else t=0;return e.apply(void 0,arguments)}}var _$e=u9(s9);const c9=_$e;var b$e=/\{\n\/\* \[wrapped with (.+)\] \*/,w$e=/,? & /;function E$e(e){var t=e.match(b$e);return t?t[1].split(w$e):[]}var $$e=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/;function S$e(e,t){var n=t.length;if(!n)return e;var r=n-1;return t[r]=(n>1?"& ":"")+t[r],t=t.join(n>2?", ":" "),e.replace($$e,`{
/* [wrapped with `+t+`] */
`)}function MA(e){return function(){return e}}var x$e=function(){try{var e=Mc(Object,"defineProperty");return e({},"",{}),e}catch{}}();const h0=x$e;var T$e=h0?function(e,t){return h0(e,"toString",{configurable:!0,enumerable:!1,value:MA(t),writable:!0})}:mi;const I$e=T$e;var C$e=u9(I$e);const LA=C$e;function Ts(e,t){for(var n=-1,r=e==null?0:e.length;++n<r&&t(e[n],n,e)!==!1;);return e}function dw(e,t,n,r){for(var i=e.length,s=n+(r?1:-1);r?s--:++s<i;)if(t(e[s],s,e))return s;return-1}function d9(e){return e!==e}function A$e(e,t,n){for(var r=n-1,i=e.length;++r<i;)if(e[r]===t)return r;return-1}function tp(e,t,n){return t===t?A$e(e,t,n):dw(e,d9,n)}function fw(e,t){var n=e==null?0:e.length;return!!n&&tp(e,t,0)>-1}var k$e=1,O$e=2,P$e=8,R$e=16,D$e=32,N$e=64,M$e=128,L$e=256,F$e=512,B$e=[["ary",M$e],["bind",k$e],["bindKey",O$e],["curry",P$e],["curryRight",R$e],["flip",F$e],["partial",D$e],["partialRight",N$e],["rearg",L$e]];function U$e(e,t){return Ts(B$e,function(n){var r="_."+n[0];t&n[1]&&!fw(e,r)&&e.push(r)}),e.sort()}function f9(e,t,n){var r=t+"";return LA(e,S$e(r,U$e(E$e(r),n)))}var V$e=1,H$e=2,j$e=4,W$e=8,lL=32,uL=64;function p9(e,t,n,r,i,s,o,a,l,u){var c=t&W$e,d=c?o:void 0,f=c?void 0:o,p=c?s:void 0,h=c?void 0:s;t|=c?lL:uL,t&=~(c?uL:lL),t&j$e||(t&=~(V$e|H$e));var g=[e,t,i,p,d,h,f,a,l,u],m=n.apply(void 0,g);return sx(e)&&c9(m,g),m.placeholder=r,f9(m,e,t)}function np(e){var t=e;return t.placeholder}var q$e=9007199254740991,z$e=/^(?:0|[1-9]\d*)$/;function Ra(e,t){var n=typeof e;return t=t??q$e,!!t&&(n=="number"||n!="symbol"&&z$e.test(e))&&e>-1&&e%1==0&&e<t}var K$e=Math.min;function G$e(e,t){for(var n=e.length,r=K$e(t.length,n),i=Di(e);r--;){var s=t[r];e[r]=Ra(s,n)?i[s]:void 0}return e}var cL="__lodash_placeholder__";function Ll(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n];(o===t||o===cL)&&(e[n]=cL,s[i++]=n)}return s}var Y$e=1,X$e=2,Q$e=8,J$e=16,Z$e=128,eSe=512;function pw(e,t,n,r,i,s,o,a,l,u){var c=t&Z$e,d=t&Y$e,f=t&X$e,p=t&(Q$e|J$e),h=t&eSe,g=f?void 0:Mg(e);function m(){for(var v=arguments.length,y=Array(v),b=v;b--;)y[b]=arguments[b];if(p)var _=np(m),S=l$e(y,_);if(r&&(y=o9(y,r,i,p)),s&&(y=a9(y,s,o,p)),v-=S,p&&v<u){var I=Ll(y,_);return p9(e,t,pw,m.placeholder,n,y,I,a,l,u-v)}var T=d?n:this,w=f?T[e]:e;return v=y.length,a?y=G$e(y,a):h&&v>1&&y.reverse(),c&&l<v&&(y.length=l),this&&this!==Mr&&this instanceof m&&(w=g||Mg(w)),w.apply(T,y)}return m}function tSe(e,t,n){var r=Mg(e);function i(){for(var s=arguments.length,o=Array(s),a=s,l=np(i);a--;)o[a]=arguments[a];var u=s<3&&o[0]!==l&&o[s-1]!==l?[]:Ll(o,l);if(s-=u.length,s<n)return p9(e,t,pw,i.placeholder,void 0,o,u,void 0,void 0,n-s);var c=this&&this!==Mr&&this instanceof i?r:e;return ts(c,this,o)}return i}var nSe=1;function rSe(e,t,n,r){var i=t&nSe,s=Mg(e);function o(){for(var a=-1,l=arguments.length,u=-1,c=r.length,d=Array(c+l),f=this&&this!==Mr&&this instanceof o?s:e;++u<c;)d[u]=r[u];for(;l--;)d[u++]=arguments[++a];return ts(f,i?n:this,d)}return o}var dL="__lodash_placeholder__",$E=1,iSe=2,sSe=4,fL=8,Np=128,pL=256,oSe=Math.min;function aSe(e,t){var n=e[1],r=t[1],i=n|r,s=i<($E|iSe|Np),o=r==Np&&n==fL||r==Np&&n==pL&&e[7].length<=t[8]||r==(Np|pL)&&t[7].length<=t[8]&&n==fL;if(!(s||o))return e;r&$E&&(e[2]=t[2],i|=n&$E?0:sSe);var a=t[3];if(a){var l=e[3];e[3]=l?o9(l,a,t[4]):a,e[4]=l?Ll(e[3],dL):t[4]}return a=t[5],a&&(l=e[5],e[5]=l?a9(l,a,t[6]):a,e[6]=l?Ll(e[5],dL):t[6]),a=t[7],a&&(e[7]=a),r&Np&&(e[8]=e[8]==null?t[8]:oSe(e[8],t[8])),e[9]==null&&(e[9]=t[9]),e[0]=t[0],e[1]=i,e}var lSe="Expected a function",hL=1,uSe=2,SE=8,xE=16,TE=32,gL=64,mL=Math.max;function Da(e,t,n,r,i,s,o,a){var l=t&uSe;if(!l&&typeof e!="function")throw new TypeError(lSe);var u=r?r.length:0;if(u||(t&=~(TE|gL),r=i=void 0),o=o===void 0?o:mL(dt(o),0),a=a===void 0?a:dt(a),u-=i?i.length:0,t&gL){var c=r,d=i;r=i=void 0}var f=l?void 0:NA(e),p=[e,t,n,r,i,c,d,s,o,a];if(f&&aSe(p,f),e=p[0],t=p[1],n=p[2],r=p[3],i=p[4],a=p[9]=p[9]===void 0?l?0:e.length:mL(p[9]-u,0),!a&&t&(SE|xE)&&(t&=~(SE|xE)),!t||t==hL)var h=s$e(e,t,n);else t==SE||t==xE?h=tSe(e,t,a):(t==TE||t==(hL|TE))&&!i.length?h=rSe(e,t,n,r):h=pw.apply(void 0,p);var g=f?s9:c9;return f9(g(h,p),e,t)}var cSe=128;function h9(e,t,n){return t=n?void 0:t,t=e&&t==null?e.length:t,Da(e,cSe,void 0,void 0,void 0,void 0,t)}function Na(e,t,n){t=="__proto__"&&h0?h0(e,t,{configurable:!0,enumerable:!0,value:n,writable:!0}):e[t]=n}function Js(e,t){return e===t||e!==e&&t!==t}var dSe=Object.prototype,fSe=dSe.hasOwnProperty;function Lm(e,t,n){var r=e[t];(!(fSe.call(e,t)&&Js(r,n))||n===void 0&&!(t in e))&&Na(e,t,n)}function ko(e,t,n,r){var i=!n;n||(n={});for(var s=-1,o=t.length;++s<o;){var a=t[s],l=r?r(n[a],e[a],a,n,e):void 0;l===void 0&&(l=e[a]),i?Na(n,a,l):Lm(n,a,l)}return n}var vL=Math.max;function g9(e,t,n){return t=vL(t===void 0?e.length-1:t,0),function(){for(var r=arguments,i=-1,s=vL(r.length-t,0),o=Array(s);++i<s;)o[i]=r[t+i];i=-1;for(var a=Array(t+1);++i<t;)a[i]=r[i];return a[t]=n(o),ts(e,this,a)}}function _t(e,t){return LA(g9(e,t,mi),e+"")}var pSe=9007199254740991;function hw(e){return typeof e=="number"&&e>-1&&e%1==0&&e<=pSe}function Fi(e){return e!=null&&hw(e.length)&&!Pa(e)}function hi(e,t,n){if(!Ln(n))return!1;var r=typeof t;return(r=="number"?Fi(n)&&Ra(t,n.length):r=="string"&&t in n)?Js(n[t],e):!1}function rp(e){return _t(function(t,n){var r=-1,i=n.length,s=i>1?n[i-1]:void 0,o=i>2?n[2]:void 0;for(s=e.length>3&&typeof s=="function"?(i--,s):void 0,o&&hi(n[0],n[1],o)&&(s=i<3?void 0:s,i=1),t=Object(t);++r<i;){var a=n[r];a&&e(t,a,r,s)}return t})}var hSe=Object.prototype;function Fm(e){var t=e&&e.constructor,n=typeof t=="function"&&t.prototype||hSe;return e===n}function FA(e,t){for(var n=-1,r=Array(e);++n<e;)r[n]=t(n);return r}var gSe="[object Arguments]";function yL(e){return Xn(e)&&gi(e)==gSe}var m9=Object.prototype,mSe=m9.hasOwnProperty,vSe=m9.propertyIsEnumerable,ySe=yL(function(){return arguments}())?yL:function(e){return Xn(e)&&mSe.call(e,"callee")&&!vSe.call(e,"callee")};const yc=ySe;function BA(){return!1}var v9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,_L=v9&&typeof module=="object"&&module&&!module.nodeType&&module,_Se=_L&&_L.exports===v9,bL=_Se?Mr.Buffer:void 0,bSe=bL?bL.isBuffer:void 0,wSe=bSe||BA;const Fl=wSe;var ESe="[object Arguments]",$Se="[object Array]",SSe="[object Boolean]",xSe="[object Date]",TSe="[object Error]",ISe="[object Function]",CSe="[object Map]",ASe="[object Number]",kSe="[object Object]",OSe="[object RegExp]",PSe="[object Set]",RSe="[object String]",DSe="[object WeakMap]",NSe="[object ArrayBuffer]",MSe="[object DataView]",LSe="[object Float32Array]",FSe="[object Float64Array]",BSe="[object Int8Array]",USe="[object Int16Array]",VSe="[object Int32Array]",HSe="[object Uint8Array]",jSe="[object Uint8ClampedArray]",WSe="[object Uint16Array]",qSe="[object Uint32Array]",Cn={};Cn[LSe]=Cn[FSe]=Cn[BSe]=Cn[USe]=Cn[VSe]=Cn[HSe]=Cn[jSe]=Cn[WSe]=Cn[qSe]=!0;Cn[ESe]=Cn[$Se]=Cn[NSe]=Cn[SSe]=Cn[MSe]=Cn[xSe]=Cn[TSe]=Cn[ISe]=Cn[CSe]=Cn[ASe]=Cn[kSe]=Cn[OSe]=Cn[PSe]=Cn[RSe]=Cn[DSe]=!1;function zSe(e){return Xn(e)&&hw(e.length)&&!!Cn[gi(e)]}function ns(e){return function(t){return e(t)}}var y9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,Ah=y9&&typeof module=="object"&&module&&!module.nodeType&&module,KSe=Ah&&Ah.exports===y9,IE=KSe&&e9.process,GSe=function(){try{var e=Ah&&Ah.require&&Ah.require("util").types;return e||IE&&IE.binding&&IE.binding("util")}catch{}}();const Es=GSe;var wL=Es&&Es.isTypedArray,YSe=wL?ns(wL):zSe;const ip=YSe;var XSe=Object.prototype,QSe=XSe.hasOwnProperty;function _9(e,t){var n=at(e),r=!n&&yc(e),i=!n&&!r&&Fl(e),s=!n&&!r&&!i&&ip(e),o=n||r||i||s,a=o?FA(e.length,String):[],l=a.length;for(var u in e)(t||QSe.call(e,u))&&!(o&&(u=="length"||i&&(u=="offset"||u=="parent")||s&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||Ra(u,l)))&&a.push(u);return a}function b9(e,t){return function(n){return e(t(n))}}var JSe=b9(Object.keys,Object);const ZSe=JSe;var exe=Object.prototype,txe=exe.hasOwnProperty;function UA(e){if(!Fm(e))return ZSe(e);var t=[];for(var n in Object(e))txe.call(e,n)&&n!="constructor"&&t.push(n);return t}function br(e){return Fi(e)?_9(e):UA(e)}var nxe=Object.prototype,rxe=nxe.hasOwnProperty,ixe=rp(function(e,t){if(Fm(t)||Fi(t)){ko(t,br(t),e);return}for(var n in t)rxe.call(t,n)&&Lm(e,n,t[n])});const sxe=ixe;function oxe(e){var t=[];if(e!=null)for(var n in Object(e))t.push(n);return t}var axe=Object.prototype,lxe=axe.hasOwnProperty;function uxe(e){if(!Ln(e))return oxe(e);var t=Fm(e),n=[];for(var r in e)r=="constructor"&&(t||!lxe.call(e,r))||n.push(r);return n}function Bi(e){return Fi(e)?_9(e,!0):uxe(e)}var cxe=rp(function(e,t){ko(t,Bi(t),e)});const EL=cxe;var dxe=rp(function(e,t,n,r){ko(t,Bi(t),e,r)});const g0=dxe;var fxe=rp(function(e,t,n,r){ko(t,br(t),e,r)});const pxe=fxe;var hxe=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gxe=/^\w*$/;function VA(e,t){if(at(e))return!1;var n=typeof e;return n=="number"||n=="symbol"||n=="boolean"||e==null||Zi(e)?!0:gxe.test(e)||!hxe.test(e)||t!=null&&e in Object(t)}var mxe=Mc(Object,"create");const Lg=mxe;function vxe(){this.__data__=Lg?Lg(null):{},this.size=0}function yxe(e){var t=this.has(e)&&delete this.__data__[e];return this.size-=t?1:0,t}var _xe="__lodash_hash_undefined__",bxe=Object.prototype,wxe=bxe.hasOwnProperty;function Exe(e){var t=this.__data__;if(Lg){var n=t[e];return n===_xe?void 0:n}return wxe.call(t,e)?t[e]:void 0}var $xe=Object.prototype,Sxe=$xe.hasOwnProperty;function xxe(e){var t=this.__data__;return Lg?t[e]!==void 0:Sxe.call(t,e)}var Txe="__lodash_hash_undefined__";function Ixe(e,t){var n=this.__data__;return this.size+=this.has(e)?0:1,n[e]=Lg&&t===void 0?Txe:t,this}function _c(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}_c.prototype.clear=vxe;_c.prototype.delete=yxe;_c.prototype.get=Exe;_c.prototype.has=xxe;_c.prototype.set=Ixe;function Cxe(){this.__data__=[],this.size=0}function gw(e,t){for(var n=e.length;n--;)if(Js(e[n][0],t))return n;return-1}var Axe=Array.prototype,kxe=Axe.splice;function Oxe(e){var t=this.__data__,n=gw(t,e);if(n<0)return!1;var r=t.length-1;return n==r?t.pop():kxe.call(t,n,1),--this.size,!0}function Pxe(e){var t=this.__data__,n=gw(t,e);return n<0?void 0:t[n][1]}function Rxe(e){return gw(this.__data__,e)>-1}function Dxe(e,t){var n=this.__data__,r=gw(n,e);return r<0?(++this.size,n.push([e,t])):n[r][1]=t,this}function Ma(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}Ma.prototype.clear=Cxe;Ma.prototype.delete=Oxe;Ma.prototype.get=Pxe;Ma.prototype.has=Rxe;Ma.prototype.set=Dxe;var Nxe=Mc(Mr,"Map");const Fg=Nxe;function Mxe(){this.size=0,this.__data__={hash:new _c,map:new(Fg||Ma),string:new _c}}function Lxe(e){var t=typeof e;return t=="string"||t=="number"||t=="symbol"||t=="boolean"?e!=="__proto__":e===null}function mw(e,t){var n=e.__data__;return Lxe(t)?n[typeof t=="string"?"string":"hash"]:n.map}function Fxe(e){var t=mw(this,e).delete(e);return this.size-=t?1:0,t}function Bxe(e){return mw(this,e).get(e)}function Uxe(e){return mw(this,e).has(e)}function Vxe(e,t){var n=mw(this,e),r=n.size;return n.set(e,t),this.size+=n.size==r?0:1,this}function La(e){var t=-1,n=e==null?0:e.length;for(this.clear();++t<n;){var r=e[t];this.set(r[0],r[1])}}La.prototype.clear=Mxe;La.prototype.delete=Fxe;La.prototype.get=Bxe;La.prototype.has=Uxe;La.prototype.set=Vxe;var Hxe="Expected a function";function vw(e,t){if(typeof e!="function"||t!=null&&typeof t!="function")throw new TypeError(Hxe);var n=function(){var r=arguments,i=t?t.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var o=e.apply(this,r);return n.cache=s.set(i,o)||s,o};return n.cache=new(vw.Cache||La),n}vw.Cache=La;var jxe=500;function Wxe(e){var t=vw(e,function(r){return n.size===jxe&&n.clear(),r}),n=t.cache;return t}var qxe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,zxe=/\\(\\)?/g,Kxe=Wxe(function(e){var t=[];return e.charCodeAt(0)===46&&t.push(""),e.replace(qxe,function(n,r,i,s){t.push(i?s.replace(zxe,"$1"):r||n)}),t});const w9=Kxe;function Jt(e){return e==null?"":es(e)}function eu(e,t){return at(e)?e:VA(e,t)?[e]:w9(Jt(e))}var Gxe=1/0;function Oo(e){if(typeof e=="string"||Zi(e))return e;var t=e+"";return t=="0"&&1/e==-Gxe?"-0":t}function Lc(e,t){t=eu(t,e);for(var n=0,r=t.length;e!=null&&n<r;)e=e[Oo(t[n++])];return n&&n==r?e:void 0}function yw(e,t,n){var r=e==null?void 0:Lc(e,t);return r===void 0?n:r}function HA(e,t){for(var n=-1,r=t.length,i=Array(r),s=e==null;++n<r;)i[n]=s?void 0:yw(e,t[n]);return i}function tu(e,t){for(var n=-1,r=t.length,i=e.length;++n<r;)e[i+n]=t[n];return e}var $L=ri?ri.isConcatSpreadable:void 0;function Yxe(e){return at(e)||yc(e)||!!($L&&e&&e[$L])}function Wr(e,t,n,r,i){var s=-1,o=e.length;for(n||(n=Yxe),i||(i=[]);++s<o;){var a=e[s];t>0&&n(a)?t>1?Wr(a,t-1,n,r,i):tu(i,a):r||(i[i.length]=a)}return i}function E9(e){var t=e==null?0:e.length;return t?Wr(e,1):[]}function Fa(e){return LA(g9(e,void 0,E9),e+"")}var Xxe=Fa(HA);const Qxe=Xxe;var Jxe=b9(Object.getPrototypeOf,Object);const _w=Jxe;var Zxe="[object Object]",eTe=Function.prototype,tTe=Object.prototype,$9=eTe.toString,nTe=tTe.hasOwnProperty,rTe=$9.call(Object);function Bm(e){if(!Xn(e)||gi(e)!=Zxe)return!1;var t=_w(e);if(t===null)return!0;var n=nTe.call(t,"constructor")&&t.constructor;return typeof n=="function"&&n instanceof n&&$9.call(n)==rTe}var iTe="[object DOMException]",sTe="[object Error]";function jA(e){if(!Xn(e))return!1;var t=gi(e);return t==sTe||t==iTe||typeof e.message=="string"&&typeof e.name=="string"&&!Bm(e)}var oTe=_t(function(e,t){try{return ts(e,void 0,t)}catch(n){return jA(n)?n:new Error(n)}});const S9=oTe;var aTe="Expected a function";function x9(e,t){var n;if(typeof t!="function")throw new TypeError(aTe);return e=dt(e),function(){return--e>0&&(n=t.apply(this,arguments)),e<=1&&(t=void 0),n}}var lTe=1,uTe=32,WA=_t(function(e,t,n){var r=lTe;if(n.length){var i=Ll(n,np(WA));r|=uTe}return Da(e,r,t,n,i)});WA.placeholder={};const T9=WA;var cTe=Fa(function(e,t){return Ts(t,function(n){n=Oo(n),Na(e,n,T9(e[n],e))}),e});const dTe=cTe;var fTe=1,pTe=2,hTe=32,qA=_t(function(e,t,n){var r=fTe|pTe;if(n.length){var i=Ll(n,np(qA));r|=hTe}return Da(t,r,e,n,i)});qA.placeholder={};const gTe=qA;function $s(e,t,n){var r=-1,i=e.length;t<0&&(t=-t>i?0:i+t),n=n>i?i:n,n<0&&(n+=i),i=t>n?0:n-t>>>0,t>>>=0;for(var s=Array(i);++r<i;)s[r]=e[r+t];return s}function nu(e,t,n){var r=e.length;return n=n===void 0?r:n,!t&&n>=r?e:$s(e,t,n)}var mTe="\\ud800-\\udfff",vTe="\\u0300-\\u036f",yTe="\\ufe20-\\ufe2f",_Te="\\u20d0-\\u20ff",bTe=vTe+yTe+_Te,wTe="\\ufe0e\\ufe0f",ETe="\\u200d",$Te=RegExp("["+ETe+mTe+bTe+wTe+"]");function sp(e){return $Te.test(e)}function STe(e){return e.split("")}var I9="\\ud800-\\udfff",xTe="\\u0300-\\u036f",TTe="\\ufe20-\\ufe2f",ITe="\\u20d0-\\u20ff",CTe=xTe+TTe+ITe,ATe="\\ufe0e\\ufe0f",kTe="["+I9+"]",ox="["+CTe+"]",ax="\\ud83c[\\udffb-\\udfff]",OTe="(?:"+ox+"|"+ax+")",C9="[^"+I9+"]",A9="(?:\\ud83c[\\udde6-\\uddff]){2}",k9="[\\ud800-\\udbff][\\udc00-\\udfff]",PTe="\\u200d",O9=OTe+"?",P9="["+ATe+"]?",RTe="(?:"+PTe+"(?:"+[C9,A9,k9].join("|")+")"+P9+O9+")*",DTe=P9+O9+RTe,NTe="(?:"+[C9+ox+"?",ox,A9,k9,kTe].join("|")+")",MTe=RegExp(ax+"(?="+ax+")|"+NTe+DTe,"g");function LTe(e){return e.match(MTe)||[]}function Gs(e){return sp(e)?LTe(e):STe(e)}function R9(e){return function(t){t=Jt(t);var n=sp(t)?Gs(t):void 0,r=n?n[0]:t.charAt(0),i=n?nu(n,1).join(""):t.slice(1);return r[e]()+i}}var FTe=R9("toUpperCase");const zA=FTe;function D9(e){return zA(Jt(e).toLowerCase())}function KA(e,t,n,r){var i=-1,s=e==null?0:e.length;for(r&&s&&(n=e[++i]);++i<s;)n=t(n,e[i],i,e);return n}function GA(e){return function(t){return e==null?void 0:e[t]}}var BTe={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},UTe=GA(BTe);const VTe=UTe;var HTe=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,jTe="\\u0300-\\u036f",WTe="\\ufe20-\\ufe2f",qTe="\\u20d0-\\u20ff",zTe=jTe+WTe+qTe,KTe="["+zTe+"]",GTe=RegExp(KTe,"g");function N9(e){return e=Jt(e),e&&e.replace(HTe,VTe).replace(GTe,"")}var YTe=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function XTe(e){return e.match(YTe)||[]}var QTe=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function JTe(e){return QTe.test(e)}var M9="\\ud800-\\udfff",ZTe="\\u0300-\\u036f",eIe="\\ufe20-\\ufe2f",tIe="\\u20d0-\\u20ff",nIe=ZTe+eIe+tIe,L9="\\u2700-\\u27bf",F9="a-z\\xdf-\\xf6\\xf8-\\xff",rIe="\\xac\\xb1\\xd7\\xf7",iIe="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",sIe="\\u2000-\\u206f",oIe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",B9="A-Z\\xc0-\\xd6\\xd8-\\xde",aIe="\\ufe0e\\ufe0f",U9=rIe+iIe+sIe+oIe,V9="[']",SL="["+U9+"]",lIe="["+nIe+"]",H9="\\d+",uIe="["+L9+"]",j9="["+F9+"]",W9="[^"+M9+U9+H9+L9+F9+B9+"]",cIe="\\ud83c[\\udffb-\\udfff]",dIe="(?:"+lIe+"|"+cIe+")",fIe="[^"+M9+"]",q9="(?:\\ud83c[\\udde6-\\uddff]){2}",z9="[\\ud800-\\udbff][\\udc00-\\udfff]",ld="["+B9+"]",pIe="\\u200d",xL="(?:"+j9+"|"+W9+")",hIe="(?:"+ld+"|"+W9+")",TL="(?:"+V9+"(?:d|ll|m|re|s|t|ve))?",IL="(?:"+V9+"(?:D|LL|M|RE|S|T|VE))?",K9=dIe+"?",G9="["+aIe+"]?",gIe="(?:"+pIe+"(?:"+[fIe,q9,z9].join("|")+")"+G9+K9+")*",mIe="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",vIe="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",yIe=G9+K9+gIe,_Ie="(?:"+[uIe,q9,z9].join("|")+")"+yIe,bIe=RegExp([ld+"?"+j9+"+"+TL+"(?="+[SL,ld,"$"].join("|")+")",hIe+"+"+IL+"(?="+[SL,ld+xL,"$"].join("|")+")",ld+"?"+xL+"+"+TL,ld+"+"+IL,vIe,mIe,H9,_Ie].join("|"),"g");function wIe(e){return e.match(bIe)||[]}function Y9(e,t,n){return e=Jt(e),t=n?void 0:t,t===void 0?JTe(e)?wIe(e):XTe(e):e.match(t)||[]}var EIe="[']",$Ie=RegExp(EIe,"g");function op(e){return function(t){return KA(Y9(N9(t).replace($Ie,"")),e,"")}}var SIe=op(function(e,t,n){return t=t.toLowerCase(),e+(n?D9(t):t)});const xIe=SIe;function TIe(){if(!arguments.length)return[];var e=arguments[0];return at(e)?e:[e]}var IIe=Mr.isFinite,CIe=Math.min;function YA(e){var t=Math[e];return function(n,r){if(n=ys(n),r=r==null?0:CIe(dt(r),292),r&&IIe(n)){var i=(Jt(n)+"e").split("e"),s=t(i[0]+"e"+(+i[1]+r));return i=(Jt(s)+"e").split("e"),+(i[0]+"e"+(+i[1]-r))}return t(n)}}var AIe=YA("ceil");const kIe=AIe;function X9(e){var t=k(e);return t.__chain__=!0,t}var OIe=Math.ceil,PIe=Math.max;function RIe(e,t,n){(n?hi(e,t,n):t===void 0)?t=1:t=PIe(dt(t),0);var r=e==null?0:e.length;if(!r||t<1)return[];for(var i=0,s=0,o=Array(OIe(r/t));i<r;)o[s++]=$s(e,i,i+=t);return o}function Fc(e,t,n){return e===e&&(n!==void 0&&(e=e<=n?e:n),t!==void 0&&(e=e>=t?e:t)),e}function DIe(e,t,n){return n===void 0&&(n=t,t=void 0),n!==void 0&&(n=ys(n),n=n===n?n:0),t!==void 0&&(t=ys(t),t=t===t?t:0),Fc(ys(e),t,n)}function NIe(){this.__data__=new Ma,this.size=0}function MIe(e){var t=this.__data__,n=t.delete(e);return this.size=t.size,n}function LIe(e){return this.__data__.get(e)}function FIe(e){return this.__data__.has(e)}var BIe=200;function UIe(e,t){var n=this.__data__;if(n instanceof Ma){var r=n.__data__;if(!Fg||r.length<BIe-1)return r.push([e,t]),this.size=++n.size,this;n=this.__data__=new La(r)}return n.set(e,t),this.size=n.size,this}function Hs(e){var t=this.__data__=new Ma(e);this.size=t.size}Hs.prototype.clear=NIe;Hs.prototype.delete=MIe;Hs.prototype.get=LIe;Hs.prototype.has=FIe;Hs.prototype.set=UIe;function Q9(e,t){return e&&ko(t,br(t),e)}function VIe(e,t){return e&&ko(t,Bi(t),e)}var J9=typeof exports=="object"&&exports&&!exports.nodeType&&exports,CL=J9&&typeof module=="object"&&module&&!module.nodeType&&module,HIe=CL&&CL.exports===J9,AL=HIe?Mr.Buffer:void 0,kL=AL?AL.allocUnsafe:void 0;function Z9(e,t){if(t)return e.slice();var n=e.length,r=kL?kL(n):new e.constructor(n);return e.copy(r),r}function ru(e,t){for(var n=-1,r=e==null?0:e.length,i=0,s=[];++n<r;){var o=e[n];t(o,n,e)&&(s[i++]=o)}return s}function XA(){return[]}var jIe=Object.prototype,WIe=jIe.propertyIsEnumerable,OL=Object.getOwnPropertySymbols,qIe=OL?function(e){return e==null?[]:(e=Object(e),ru(OL(e),function(t){return WIe.call(e,t)}))}:XA;const QA=qIe;function zIe(e,t){return ko(e,QA(e),t)}var KIe=Object.getOwnPropertySymbols,GIe=KIe?function(e){for(var t=[];e;)tu(t,QA(e)),e=_w(e);return t}:XA;const eq=GIe;function YIe(e,t){return ko(e,eq(e),t)}function tq(e,t,n){var r=t(e);return at(e)?r:tu(r,n(e))}function lx(e){return tq(e,br,QA)}function JA(e){return tq(e,Bi,eq)}var XIe=Mc(Mr,"DataView");const ux=XIe;var QIe=Mc(Mr,"Promise");const cx=QIe;var JIe=Mc(Mr,"Set");const Wd=JIe;var PL="[object Map]",ZIe="[object Object]",RL="[object Promise]",DL="[object Set]",NL="[object WeakMap]",ML="[object DataView]",eCe=Nc(ux),tCe=Nc(Fg),nCe=Nc(cx),rCe=Nc(Wd),iCe=Nc(Ng),pu=gi;(ux&&pu(new ux(new ArrayBuffer(1)))!=ML||Fg&&pu(new Fg)!=PL||cx&&pu(cx.resolve())!=RL||Wd&&pu(new Wd)!=DL||Ng&&pu(new Ng)!=NL)&&(pu=function(e){var t=gi(e),n=t==ZIe?e.constructor:void 0,r=n?Nc(n):"";if(r)switch(r){case eCe:return ML;case tCe:return PL;case nCe:return RL;case rCe:return DL;case iCe:return NL}return t});const Eo=pu;var sCe=Object.prototype,oCe=sCe.hasOwnProperty;function aCe(e){var t=e.length,n=new e.constructor(t);return t&&typeof e[0]=="string"&&oCe.call(e,"index")&&(n.index=e.index,n.input=e.input),n}var lCe=Mr.Uint8Array;const m0=lCe;function ZA(e){var t=new e.constructor(e.byteLength);return new m0(t).set(new m0(e)),t}function uCe(e,t){var n=t?ZA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.byteLength)}var cCe=/\w*$/;function dCe(e){var t=new e.constructor(e.source,cCe.exec(e));return t.lastIndex=e.lastIndex,t}var LL=ri?ri.prototype:void 0,FL=LL?LL.valueOf:void 0;function fCe(e){return FL?Object(FL.call(e)):{}}function nq(e,t){var n=t?ZA(e.buffer):e.buffer;return new e.constructor(n,e.byteOffset,e.length)}var pCe="[object Boolean]",hCe="[object Date]",gCe="[object Map]",mCe="[object Number]",vCe="[object RegExp]",yCe="[object Set]",_Ce="[object String]",bCe="[object Symbol]",wCe="[object ArrayBuffer]",ECe="[object DataView]",$Ce="[object Float32Array]",SCe="[object Float64Array]",xCe="[object Int8Array]",TCe="[object Int16Array]",ICe="[object Int32Array]",CCe="[object Uint8Array]",ACe="[object Uint8ClampedArray]",kCe="[object Uint16Array]",OCe="[object Uint32Array]";function PCe(e,t,n){var r=e.constructor;switch(t){case wCe:return ZA(e);case pCe:case hCe:return new r(+e);case ECe:return uCe(e,n);case $Ce:case SCe:case xCe:case TCe:case ICe:case CCe:case ACe:case kCe:case OCe:return nq(e,n);case gCe:return new r;case mCe:case _Ce:return new r(e);case vCe:return dCe(e);case yCe:return new r;case bCe:return fCe(e)}}function rq(e){return typeof e.constructor=="function"&&!Fm(e)?ep(_w(e)):{}}var RCe="[object Map]";function DCe(e){return Xn(e)&&Eo(e)==RCe}var BL=Es&&Es.isMap,NCe=BL?ns(BL):DCe;const iq=NCe;var MCe="[object Set]";function LCe(e){return Xn(e)&&Eo(e)==MCe}var UL=Es&&Es.isSet,FCe=UL?ns(UL):LCe;const sq=FCe;var BCe=1,UCe=2,VCe=4,oq="[object Arguments]",HCe="[object Array]",jCe="[object Boolean]",WCe="[object Date]",qCe="[object Error]",aq="[object Function]",zCe="[object GeneratorFunction]",KCe="[object Map]",GCe="[object Number]",lq="[object Object]",YCe="[object RegExp]",XCe="[object Set]",QCe="[object String]",JCe="[object Symbol]",ZCe="[object WeakMap]",eAe="[object ArrayBuffer]",tAe="[object DataView]",nAe="[object Float32Array]",rAe="[object Float64Array]",iAe="[object Int8Array]",sAe="[object Int16Array]",oAe="[object Int32Array]",aAe="[object Uint8Array]",lAe="[object Uint8ClampedArray]",uAe="[object Uint16Array]",cAe="[object Uint32Array]",bn={};bn[oq]=bn[HCe]=bn[eAe]=bn[tAe]=bn[jCe]=bn[WCe]=bn[nAe]=bn[rAe]=bn[iAe]=bn[sAe]=bn[oAe]=bn[KCe]=bn[GCe]=bn[lq]=bn[YCe]=bn[XCe]=bn[QCe]=bn[JCe]=bn[aAe]=bn[lAe]=bn[uAe]=bn[cAe]=!0;bn[qCe]=bn[aq]=bn[ZCe]=!1;function _s(e,t,n,r,i,s){var o,a=t&BCe,l=t&UCe,u=t&VCe;if(n&&(o=i?n(e,r,i,s):n(e)),o!==void 0)return o;if(!Ln(e))return e;var c=at(e);if(c){if(o=aCe(e),!a)return Di(e,o)}else{var d=Eo(e),f=d==aq||d==zCe;if(Fl(e))return Z9(e,a);if(d==lq||d==oq||f&&!i){if(o=l||f?{}:rq(e),!a)return l?YIe(e,VIe(o,e)):zIe(e,Q9(o,e))}else{if(!bn[d])return i?e:{};o=PCe(e,d,a)}}s||(s=new Hs);var p=s.get(e);if(p)return p;s.set(e,o),sq(e)?e.forEach(function(m){o.add(_s(m,t,n,m,e,s))}):iq(e)&&e.forEach(function(m,v){o.set(v,_s(m,t,n,v,e,s))});var h=u?l?JA:lx:l?Bi:br,g=c?void 0:h(e);return Ts(g||e,function(m,v){g&&(v=m,m=e[v]),Lm(o,v,_s(m,t,n,v,e,s))}),o}var dAe=4;function fAe(e){return _s(e,dAe)}var pAe=1,hAe=4;function dx(e){return _s(e,pAe|hAe)}var gAe=1,mAe=4;function vAe(e,t){return t=typeof t=="function"?t:void 0,_s(e,gAe|mAe,t)}var yAe=4;function _Ae(e,t){return t=typeof t=="function"?t:void 0,_s(e,yAe,t)}function bAe(){return new ws(this.value(),this.__chain__)}function wAe(e){for(var t=-1,n=e==null?0:e.length,r=0,i=[];++t<n;){var s=e[t];s&&(i[r++]=s)}return i}function EAe(){var e=arguments.length;if(!e)return[];for(var t=Array(e-1),n=arguments[0],r=e;r--;)t[r-1]=arguments[r];return tu(at(n)?Di(n):[n],Wr(t,1))}var $Ae="__lodash_hash_undefined__";function SAe(e){return this.__data__.set(e,$Ae),this}function xAe(e){return this.__data__.has(e)}function bc(e){var t=-1,n=e==null?0:e.length;for(this.__data__=new La;++t<n;)this.add(e[t])}bc.prototype.add=bc.prototype.push=SAe;bc.prototype.has=xAe;function ek(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(t(e[n],n,e))return!0;return!1}function Bg(e,t){return e.has(t)}var TAe=1,IAe=2;function uq(e,t,n,r,i,s){var o=n&TAe,a=e.length,l=t.length;if(a!=l&&!(o&&l>a))return!1;var u=s.get(e),c=s.get(t);if(u&&c)return u==t&&c==e;var d=-1,f=!0,p=n&IAe?new bc:void 0;for(s.set(e,t),s.set(t,e);++d<a;){var h=e[d],g=t[d];if(r)var m=o?r(g,h,d,t,e,s):r(h,g,d,e,t,s);if(m!==void 0){if(m)continue;f=!1;break}if(p){if(!ek(t,function(v,y){if(!Bg(p,y)&&(h===v||i(h,v,n,r,s)))return p.push(y)})){f=!1;break}}else if(!(h===g||i(h,g,n,r,s))){f=!1;break}}return s.delete(e),s.delete(t),f}function tk(e){var t=-1,n=Array(e.size);return e.forEach(function(r,i){n[++t]=[i,r]}),n}function bw(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=r}),n}var CAe=1,AAe=2,kAe="[object Boolean]",OAe="[object Date]",PAe="[object Error]",RAe="[object Map]",DAe="[object Number]",NAe="[object RegExp]",MAe="[object Set]",LAe="[object String]",FAe="[object Symbol]",BAe="[object ArrayBuffer]",UAe="[object DataView]",VL=ri?ri.prototype:void 0,CE=VL?VL.valueOf:void 0;function VAe(e,t,n,r,i,s,o){switch(n){case UAe:if(e.byteLength!=t.byteLength||e.byteOffset!=t.byteOffset)return!1;e=e.buffer,t=t.buffer;case BAe:return!(e.byteLength!=t.byteLength||!s(new m0(e),new m0(t)));case kAe:case OAe:case DAe:return Js(+e,+t);case PAe:return e.name==t.name&&e.message==t.message;case NAe:case LAe:return e==t+"";case RAe:var a=tk;case MAe:var l=r&CAe;if(a||(a=bw),e.size!=t.size&&!l)return!1;var u=o.get(e);if(u)return u==t;r|=AAe,o.set(e,t);var c=uq(a(e),a(t),r,i,s,o);return o.delete(e),c;case FAe:if(CE)return CE.call(e)==CE.call(t)}return!1}var HAe=1,jAe=Object.prototype,WAe=jAe.hasOwnProperty;function qAe(e,t,n,r,i,s){var o=n&HAe,a=lx(e),l=a.length,u=lx(t),c=u.length;if(l!=c&&!o)return!1;for(var d=l;d--;){var f=a[d];if(!(o?f in t:WAe.call(t,f)))return!1}var p=s.get(e),h=s.get(t);if(p&&h)return p==t&&h==e;var g=!0;s.set(e,t),s.set(t,e);for(var m=o;++d<l;){f=a[d];var v=e[f],y=t[f];if(r)var b=o?r(y,v,f,t,e,s):r(v,y,f,e,t,s);if(!(b===void 0?v===y||i(v,y,n,r,s):b)){g=!1;break}m||(m=f=="constructor")}if(g&&!m){var _=e.constructor,S=t.constructor;_!=S&&"constructor"in e&&"constructor"in t&&!(typeof _=="function"&&_ instanceof _&&typeof S=="function"&&S instanceof S)&&(g=!1)}return s.delete(e),s.delete(t),g}var zAe=1,HL="[object Arguments]",jL="[object Array]",Hv="[object Object]",KAe=Object.prototype,WL=KAe.hasOwnProperty;function GAe(e,t,n,r,i,s){var o=at(e),a=at(t),l=o?jL:Eo(e),u=a?jL:Eo(t);l=l==HL?Hv:l,u=u==HL?Hv:u;var c=l==Hv,d=u==Hv,f=l==u;if(f&&Fl(e)){if(!Fl(t))return!1;o=!0,c=!1}if(f&&!c)return s||(s=new Hs),o||ip(e)?uq(e,t,n,r,i,s):VAe(e,t,l,n,r,i,s);if(!(n&zAe)){var p=c&&WL.call(e,"__wrapped__"),h=d&&WL.call(t,"__wrapped__");if(p||h){var g=p?e.value():e,m=h?t.value():t;return s||(s=new Hs),i(g,m,n,r,s)}}return f?(s||(s=new Hs),qAe(e,t,n,r,i,s)):!1}function Um(e,t,n,r,i){return e===t?!0:e==null||t==null||!Xn(e)&&!Xn(t)?e!==e&&t!==t:GAe(e,t,n,r,Um,i)}var YAe=1,XAe=2;function nk(e,t,n,r){var i=n.length,s=i,o=!r;if(e==null)return!s;for(e=Object(e);i--;){var a=n[i];if(o&&a[2]?a[1]!==e[a[0]]:!(a[0]in e))return!1}for(;++i<s;){a=n[i];var l=a[0],u=e[l],c=a[1];if(o&&a[2]){if(u===void 0&&!(l in e))return!1}else{var d=new Hs;if(r)var f=r(u,c,l,e,t,d);if(!(f===void 0?Um(c,u,YAe|XAe,r,d):f))return!1}}return!0}function cq(e){return e===e&&!Ln(e)}function rk(e){for(var t=br(e),n=t.length;n--;){var r=t[n],i=e[r];t[n]=[r,i,cq(i)]}return t}function dq(e,t){return function(n){return n==null?!1:n[e]===t&&(t!==void 0||e in Object(n))}}function fq(e){var t=rk(e);return t.length==1&&t[0][2]?dq(t[0][0],t[0][1]):function(n){return n===e||nk(n,e,t)}}function QAe(e,t){return e!=null&&t in Object(e)}function pq(e,t,n){t=eu(t,e);for(var r=-1,i=t.length,s=!1;++r<i;){var o=Oo(t[r]);if(!(s=e!=null&&n(e,o)))break;e=e[o]}return s||++r!=i?s:(i=e==null?0:e.length,!!i&&hw(i)&&Ra(o,i)&&(at(e)||yc(e)))}function ik(e,t){return e!=null&&pq(e,t,QAe)}var JAe=1,ZAe=2;function hq(e,t){return VA(e)&&cq(t)?dq(Oo(e),t):function(n){var r=yw(n,e);return r===void 0&&r===t?ik(n,e):Um(t,r,JAe|ZAe)}}function sk(e){return function(t){return t==null?void 0:t[e]}}function eke(e){return function(t){return Lc(t,e)}}function gq(e){return VA(e)?sk(Oo(e)):eke(e)}function ot(e){return typeof e=="function"?e:e==null?mi:typeof e=="object"?at(e)?hq(e[0],e[1]):fq(e):gq(e)}var tke="Expected a function";function nke(e){var t=e==null?0:e.length,n=ot;return e=t?Nn(e,function(r){if(typeof r[1]!="function")throw new TypeError(tke);return[n(r[0]),r[1]]}):[],_t(function(r){for(var i=-1;++i<t;){var s=e[i];if(ts(s[0],this,r))return ts(s[1],this,r)}})}function mq(e,t,n){var r=n.length;if(e==null)return!r;for(e=Object(e);r--;){var i=n[r],s=t[i],o=e[i];if(o===void 0&&!(i in e)||!s(o))return!1}return!0}function rke(e){var t=br(e);return function(n){return mq(n,e,t)}}var ike=1;function ske(e){return rke(_s(e,ike))}function oke(e,t){return t==null||mq(e,t,br(t))}function ake(e,t,n,r){for(var i=-1,s=e==null?0:e.length;++i<s;){var o=e[i];t(r,o,n(o),e)}return r}function vq(e){return function(t,n,r){for(var i=-1,s=Object(t),o=r(t),a=o.length;a--;){var l=o[e?a:++i];if(n(s[l],l,s)===!1)break}return t}}var lke=vq();const ok=lke;function Po(e,t){return e&&ok(e,t,br)}function yq(e,t){return function(n,r){if(n==null)return n;if(!Fi(n))return e(n,r);for(var i=n.length,s=t?i:-1,o=Object(n);(t?s--:++s<i)&&r(o[s],s,o)!==!1;);return n}}var uke=yq(Po);const iu=uke;function cke(e,t,n,r){return iu(e,function(i,s,o){t(r,i,n(i),o)}),r}function ww(e,t){return function(n,r){var i=at(n)?ake:cke,s=t?t():{};return i(n,e,ot(r),s)}}var dke=Object.prototype,fke=dke.hasOwnProperty,pke=ww(function(e,t,n){fke.call(e,n)?++e[n]:Na(e,n,1)});const hke=pke;function gke(e,t){var n=ep(e);return t==null?n:Q9(n,t)}var mke=8;function ak(e,t,n){t=n?void 0:t;var r=Da(e,mke,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=ak.placeholder,r}ak.placeholder={};var vke=16;function lk(e,t,n){t=n?void 0:t;var r=Da(e,vke,void 0,void 0,void 0,void 0,void 0,t);return r.placeholder=lk.placeholder,r}lk.placeholder={};var yke=function(){return Mr.Date.now()};const Oy=yke;var _ke="Expected a function",bke=Math.max,wke=Math.min;function uk(e,t,n){var r,i,s,o,a,l,u=0,c=!1,d=!1,f=!0;if(typeof e!="function")throw new TypeError(_ke);t=ys(t)||0,Ln(n)&&(c=!!n.leading,d="maxWait"in n,s=d?bke(ys(n.maxWait)||0,t):s,f="trailing"in n?!!n.trailing:f);function p(I){var T=r,w=i;return r=i=void 0,u=I,o=e.apply(w,T),o}function h(I){return u=I,a=setTimeout(v,t),c?p(I):o}function g(I){var T=I-l,w=I-u,x=t-T;return d?wke(x,s-w):x}function m(I){var T=I-l,w=I-u;return l===void 0||T>=t||T<0||d&&w>=s}function v(){var I=Oy();if(m(I))return y(I);a=setTimeout(v,g(I))}function y(I){return a=void 0,f&&r?p(I):(r=i=void 0,o)}function b(){a!==void 0&&clearTimeout(a),u=0,r=l=i=a=void 0}function _(){return a===void 0?o:y(Oy())}function S(){var I=Oy(),T=m(I);if(r=arguments,i=this,l=I,T){if(a===void 0)return h(l);if(d)return clearTimeout(a),a=setTimeout(v,t),p(l)}return a===void 0&&(a=setTimeout(v,t)),o}return S.cancel=b,S.flush=_,S}function Eke(e,t){return e==null||e!==e?t:e}var _q=Object.prototype,$ke=_q.hasOwnProperty,Ske=_t(function(e,t){e=Object(e);var n=-1,r=t.length,i=r>2?t[2]:void 0;for(i&&hi(t[0],t[1],i)&&(r=1);++n<r;)for(var s=t[n],o=Bi(s),a=-1,l=o.length;++a<l;){var u=o[a],c=e[u];(c===void 0||Js(c,_q[u])&&!$ke.call(e,u))&&(e[u]=s[u])}return e});const xke=Ske;function fx(e,t,n){(n!==void 0&&!Js(e[t],n)||n===void 0&&!(t in e))&&Na(e,t,n)}function nr(e){return Xn(e)&&Fi(e)}function px(e,t){if(!(t==="constructor"&&typeof e[t]=="function")&&t!="__proto__")return e[t]}function bq(e){return ko(e,Bi(e))}function Tke(e,t,n,r,i,s,o){var a=px(e,n),l=px(t,n),u=o.get(l);if(u){fx(e,n,u);return}var c=s?s(a,l,n+"",e,t,o):void 0,d=c===void 0;if(d){var f=at(l),p=!f&&Fl(l),h=!f&&!p&&ip(l);c=l,f||p||h?at(a)?c=a:nr(a)?c=Di(a):p?(d=!1,c=Z9(l,!0)):h?(d=!1,c=nq(l,!0)):c=[]:Bm(l)||yc(l)?(c=a,yc(a)?c=bq(a):(!Ln(a)||Pa(a))&&(c=rq(l))):d=!1}d&&(o.set(l,c),i(c,l,r,s,o),o.delete(l)),fx(e,n,c)}function Ew(e,t,n,r,i){e!==t&&ok(t,function(s,o){if(i||(i=new Hs),Ln(s))Tke(e,t,o,n,Ew,r,i);else{var a=r?r(px(e,o),s,o+"",e,t,i):void 0;a===void 0&&(a=s),fx(e,o,a)}},Bi)}function wq(e,t,n,r,i,s){return Ln(e)&&Ln(t)&&(s.set(t,e),Ew(e,t,void 0,wq,s),s.delete(t)),e}var Ike=rp(function(e,t,n,r){Ew(e,t,n,r)});const Eq=Ike;var Cke=_t(function(e){return e.push(void 0,wq),ts(Eq,void 0,e)});const Ake=Cke;var kke="Expected a function";function $q(e,t,n){if(typeof e!="function")throw new TypeError(kke);return setTimeout(function(){e.apply(void 0,n)},t)}var Oke=_t(function(e,t){return $q(e,1,t)});const Pke=Oke;var Rke=_t(function(e,t,n){return $q(e,ys(t)||0,n)});const Dke=Rke;function ck(e,t,n){for(var r=-1,i=e==null?0:e.length;++r<i;)if(n(t,e[r]))return!0;return!1}var Nke=200;function Vm(e,t,n,r){var i=-1,s=fw,o=!0,a=e.length,l=[],u=t.length;if(!a)return l;n&&(t=Nn(t,ns(n))),r?(s=ck,o=!1):t.length>=Nke&&(s=Bg,o=!1,t=new bc(t));e:for(;++i<a;){var c=e[i],d=n==null?c:n(c);if(c=r||c!==0?c:0,o&&d===d){for(var f=u;f--;)if(t[f]===d)continue e;l.push(c)}else s(t,d,r)||l.push(c)}return l}var Mke=_t(function(e,t){return nr(e)?Vm(e,Wr(t,1,nr,!0)):[]});const Lke=Mke;function rs(e){var t=e==null?0:e.length;return t?e[t-1]:void 0}var Fke=_t(function(e,t){var n=rs(t);return nr(n)&&(n=void 0),nr(e)?Vm(e,Wr(t,1,nr,!0),ot(n)):[]});const Bke=Fke;var Uke=_t(function(e,t){var n=rs(t);return nr(n)&&(n=void 0),nr(e)?Vm(e,Wr(t,1,nr,!0),void 0,n):[]});const Vke=Uke;var Hke=uw(function(e,t){return e/t},1);const jke=Hke;function Wke(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:dt(t),$s(e,t<0?0:t,r)):[]}function qke(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:dt(t),t=r-t,$s(e,0,t<0?0:t)):[]}function $w(e,t,n,r){for(var i=e.length,s=r?i:-1;(r?s--:++s<i)&&t(e[s],s,e););return n?$s(e,r?0:s,r?s+1:i):$s(e,r?s+1:0,r?i:s)}function zke(e,t){return e&&e.length?$w(e,ot(t),!0,!0):[]}function Kke(e,t){return e&&e.length?$w(e,ot(t),!0):[]}function Ro(e){return typeof e=="function"?e:mi}function qL(e,t){var n=at(e)?Ts:iu;return n(e,Ro(t))}function Gke(e,t){for(var n=e==null?0:e.length;n--&&t(e[n],n,e)!==!1;);return e}var Yke=vq(!0);const Sq=Yke;function dk(e,t){return e&&Sq(e,t,br)}var Xke=yq(dk,!0);const xq=Xke;function zL(e,t){var n=at(e)?Gke:xq;return n(e,Ro(t))}function Qke(e,t,n){e=Jt(e),t=es(t);var r=e.length;n=n===void 0?r:Fc(dt(n),0,r);var i=n;return n-=t.length,n>=0&&e.slice(n,i)==t}function Jke(e,t){return Nn(t,function(n){return[n,e[n]]})}function Zke(e){var t=-1,n=Array(e.size);return e.forEach(function(r){n[++t]=[r,r]}),n}var eOe="[object Map]",tOe="[object Set]";function Tq(e){return function(t){var n=Eo(t);return n==eOe?tk(t):n==tOe?Zke(t):Jke(t,e(t))}}var nOe=Tq(br);const KL=nOe;var rOe=Tq(Bi);const GL=rOe;var iOe={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},sOe=GA(iOe);const oOe=sOe;var Iq=/[&<>"']/g,aOe=RegExp(Iq.source);function Cq(e){return e=Jt(e),e&&aOe.test(e)?e.replace(Iq,oOe):e}var Aq=/[\\^$.*+?()[\]{}|]/g,lOe=RegExp(Aq.source);function uOe(e){return e=Jt(e),e&&lOe.test(e)?e.replace(Aq,"\\$&"):e}function kq(e,t){for(var n=-1,r=e==null?0:e.length;++n<r;)if(!t(e[n],n,e))return!1;return!0}function cOe(e,t){var n=!0;return iu(e,function(r,i,s){return n=!!t(r,i,s),n}),n}function dOe(e,t,n){var r=at(e)?kq:cOe;return n&&hi(e,t,n)&&(t=void 0),r(e,ot(t))}var fOe=4294967295;function Oq(e){return e?Fc(dt(e),0,fOe):0}function pOe(e,t,n,r){var i=e.length;for(n=dt(n),n<0&&(n=-n>i?0:i+n),r=r===void 0||r>i?i:dt(r),r<0&&(r+=i),r=n>r?0:Oq(r);n<r;)e[n++]=t;return e}function hOe(e,t,n,r){var i=e==null?0:e.length;return i?(n&&typeof n!="number"&&hi(e,t,n)&&(n=0,r=i),pOe(e,t,n,r)):[]}function Pq(e,t){var n=[];return iu(e,function(r,i,s){t(r,i,s)&&n.push(r)}),n}function gOe(e,t){var n=at(e)?ru:Pq;return n(e,ot(t))}function Rq(e){return function(t,n,r){var i=Object(t);if(!Fi(t)){var s=ot(n);t=br(t),n=function(a){return s(i[a],a,i)}}var o=e(t,n,r);return o>-1?i[s?t[o]:o]:void 0}}var mOe=Math.max;function Dq(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:dt(n);return i<0&&(i=mOe(r+i,0)),dw(e,ot(t),i)}var vOe=Rq(Dq);const Nq=vOe;function Mq(e,t,n){var r;return n(e,function(i,s,o){if(t(i,s,o))return r=s,!1}),r}function yOe(e,t){return Mq(e,ot(t),Po)}var _Oe=Math.max,bOe=Math.min;function Lq(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r-1;return n!==void 0&&(i=dt(n),i=n<0?_Oe(r+i,0):bOe(i,r-1)),dw(e,ot(t),i,!0)}var wOe=Rq(Lq);const EOe=wOe;function $Oe(e,t){return Mq(e,ot(t),dk)}function YL(e){return e&&e.length?e[0]:void 0}function Fq(e,t){var n=-1,r=Fi(e)?Array(e.length):[];return iu(e,function(i,s,o){r[++n]=t(i,s,o)}),r}function Sw(e,t){var n=at(e)?Nn:Fq;return n(e,ot(t))}function SOe(e,t){return Wr(Sw(e,t),1)}var xOe=1/0;function TOe(e,t){return Wr(Sw(e,t),xOe)}function IOe(e,t,n){return n=n===void 0?1:dt(n),Wr(Sw(e,t),n)}var COe=1/0;function AOe(e){var t=e==null?0:e.length;return t?Wr(e,COe):[]}function kOe(e,t){var n=e==null?0:e.length;return n?(t=t===void 0?1:dt(t),Wr(e,t)):[]}var OOe=512;function POe(e){return Da(e,OOe)}var ROe=YA("floor");const DOe=ROe;var NOe="Expected a function",MOe=8,LOe=32,FOe=128,BOe=256;function Bq(e){return Fa(function(t){var n=t.length,r=n,i=ws.prototype.thru;for(e&&t.reverse();r--;){var s=t[r];if(typeof s!="function")throw new TypeError(NOe);if(i&&!o&&ky(s)=="wrapper")var o=new ws([],!0)}for(r=o?r:n;++r<n;){s=t[r];var a=ky(s),l=a=="wrapper"?NA(s):void 0;l&&sx(l[0])&&l[1]==(FOe|MOe|LOe|BOe)&&!l[4].length&&l[9]==1?o=o[ky(l[0])].apply(o,l[3]):o=s.length==1&&sx(s)?o[a]():o.thru(s)}return function(){var u=arguments,c=u[0];if(o&&u.length==1&&at(c))return o.plant(c).value();for(var d=0,f=n?t[d].apply(this,u):c;++d<n;)f=t[d].call(this,f);return f}})}var UOe=Bq();const VOe=UOe;var HOe=Bq(!0);const jOe=HOe;function WOe(e,t){return e==null?e:ok(e,Ro(t),Bi)}function qOe(e,t){return e==null?e:Sq(e,Ro(t),Bi)}function zOe(e,t){return e&&Po(e,Ro(t))}function KOe(e,t){return e&&dk(e,Ro(t))}function GOe(e){for(var t=-1,n=e==null?0:e.length,r={};++t<n;){var i=e[t];r[i[0]]=i[1]}return r}function xw(e,t){return ru(t,function(n){return Pa(e[n])})}function YOe(e){return e==null?[]:xw(e,br(e))}function XOe(e){return e==null?[]:xw(e,Bi(e))}var QOe=Object.prototype,JOe=QOe.hasOwnProperty,ZOe=ww(function(e,t,n){JOe.call(e,n)?e[n].push(t):Na(e,n,[t])});const ePe=ZOe;function fk(e,t){return e>t}function Tw(e){return function(t,n){return typeof t=="string"&&typeof n=="string"||(t=ys(t),n=ys(n)),e(t,n)}}var tPe=Tw(fk);const nPe=tPe;var rPe=Tw(function(e,t){return e>=t});const iPe=rPe;var sPe=Object.prototype,oPe=sPe.hasOwnProperty;function aPe(e,t){return e!=null&&oPe.call(e,t)}function Uq(e,t){return e!=null&&pq(e,t,aPe)}var lPe=Math.max,uPe=Math.min;function cPe(e,t,n){return e>=uPe(t,n)&&e<lPe(t,n)}function dPe(e,t,n){return t=ua(t),n===void 0?(n=t,t=0):n=ua(n),e=ys(e),cPe(e,t,n)}var fPe="[object String]";function Iw(e){return typeof e=="string"||!at(e)&&Xn(e)&&gi(e)==fPe}function pk(e,t){return Nn(t,function(n){return e[n]})}function ap(e){return e==null?[]:pk(e,br(e))}var pPe=Math.max;function hPe(e,t,n,r){e=Fi(e)?e:ap(e),n=n&&!r?dt(n):0;var i=e.length;return n<0&&(n=pPe(i+n,0)),Iw(e)?n<=i&&e.indexOf(t,n)>-1:!!i&&tp(e,t,n)>-1}var gPe=Math.max;function mPe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=n==null?0:dt(n);return i<0&&(i=gPe(r+i,0)),tp(e,t,i)}function vPe(e){var t=e==null?0:e.length;return t?$s(e,0,-1):[]}var yPe=Math.min;function hk(e,t,n){for(var r=n?ck:fw,i=e[0].length,s=e.length,o=s,a=Array(s),l=1/0,u=[];o--;){var c=e[o];o&&t&&(c=Nn(c,ns(t))),l=yPe(c.length,l),a[o]=!n&&(t||i>=120&&c.length>=120)?new bc(o&&c):void 0}c=e[0];var d=-1,f=a[0];e:for(;++d<i&&u.length<l;){var p=c[d],h=t?t(p):p;if(p=n||p!==0?p:0,!(f?Bg(f,h):r(u,h,n))){for(o=s;--o;){var g=a[o];if(!(g?Bg(g,h):r(e[o],h,n)))continue e}f&&f.push(h),u.push(p)}}return u}function gk(e){return nr(e)?e:[]}var _Pe=_t(function(e){var t=Nn(e,gk);return t.length&&t[0]===e[0]?hk(t):[]});const bPe=_Pe;var wPe=_t(function(e){var t=rs(e),n=Nn(e,gk);return t===rs(n)?t=void 0:n.pop(),n.length&&n[0]===e[0]?hk(n,ot(t)):[]});const EPe=wPe;var $Pe=_t(function(e){var t=rs(e),n=Nn(e,gk);return t=typeof t=="function"?t:void 0,t&&n.pop(),n.length&&n[0]===e[0]?hk(n,void 0,t):[]});const SPe=$Pe;function xPe(e,t,n,r){return Po(e,function(i,s,o){t(r,n(i),s,o)}),r}function Vq(e,t){return function(n,r){return xPe(n,e,t(r),{})}}var TPe=Object.prototype,IPe=TPe.toString,CPe=Vq(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=IPe.call(t)),e[t]=n},MA(mi));const APe=CPe;var Hq=Object.prototype,kPe=Hq.hasOwnProperty,OPe=Hq.toString,PPe=Vq(function(e,t,n){t!=null&&typeof t.toString!="function"&&(t=OPe.call(t)),kPe.call(e,t)?e[t].push(n):e[t]=[n]},ot);const RPe=PPe;function jq(e,t){return t.length<2?e:Lc(e,$s(t,0,-1))}function Hm(e,t,n){t=eu(t,e),e=jq(e,t);var r=e==null?e:e[Oo(rs(t))];return r==null?void 0:ts(r,e,n)}var DPe=_t(Hm);const NPe=DPe;var MPe=_t(function(e,t,n){var r=-1,i=typeof t=="function",s=Fi(e)?Array(e.length):[];return iu(e,function(o){s[++r]=i?ts(t,o,n):Hm(o,t,n)}),s});const LPe=MPe;var FPe="[object ArrayBuffer]";function BPe(e){return Xn(e)&&gi(e)==FPe}var XL=Es&&Es.isArrayBuffer,UPe=XL?ns(XL):BPe;const VPe=UPe;var HPe="[object Boolean]";function jPe(e){return e===!0||e===!1||Xn(e)&&gi(e)==HPe}var WPe="[object Date]";function qPe(e){return Xn(e)&&gi(e)==WPe}var QL=Es&&Es.isDate,zPe=QL?ns(QL):qPe;const KPe=zPe;function GPe(e){return Xn(e)&&e.nodeType===1&&!Bm(e)}var YPe="[object Map]",XPe="[object Set]",QPe=Object.prototype,JPe=QPe.hasOwnProperty;function ZPe(e){if(e==null)return!0;if(Fi(e)&&(at(e)||typeof e=="string"||typeof e.splice=="function"||Fl(e)||ip(e)||yc(e)))return!e.length;var t=Eo(e);if(t==YPe||t==XPe)return!e.size;if(Fm(e))return!UA(e).length;for(var n in e)if(JPe.call(e,n))return!1;return!0}function eRe(e,t){return Um(e,t)}function tRe(e,t,n){n=typeof n=="function"?n:void 0;var r=n?n(e,t):void 0;return r===void 0?Um(e,t,void 0,n):!!r}var nRe=Mr.isFinite;function rRe(e){return typeof e=="number"&&nRe(e)}function Wq(e){return typeof e=="number"&&e==dt(e)}function iRe(e,t){return e===t||nk(e,t,rk(t))}function sRe(e,t,n){return n=typeof n=="function"?n:void 0,nk(e,t,rk(t),n)}var oRe="[object Number]";function qq(e){return typeof e=="number"||Xn(e)&&gi(e)==oRe}function aRe(e){return qq(e)&&e!=+e}var lRe=Ay?Pa:BA;const uRe=lRe;var cRe="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.";function dRe(e){if(uRe(e))throw new Error(cRe);return i9(e)}function fRe(e){return e==null}function pRe(e){return e===null}var hRe="[object RegExp]";function gRe(e){return Xn(e)&&gi(e)==hRe}var JL=Es&&Es.isRegExp,mRe=JL?ns(JL):gRe;const mk=mRe;var ZL=9007199254740991;function vRe(e){return Wq(e)&&e>=-ZL&&e<=ZL}function yRe(e){return e===void 0}var _Re="[object WeakMap]";function bRe(e){return Xn(e)&&Eo(e)==_Re}var wRe="[object WeakSet]";function ERe(e){return Xn(e)&&gi(e)==wRe}var $Re=1;function SRe(e){return ot(typeof e=="function"?e:_s(e,$Re))}var xRe=Array.prototype,TRe=xRe.join;function IRe(e,t){return e==null?"":TRe.call(e,t)}var CRe=op(function(e,t,n){return e+(n?"-":"")+t.toLowerCase()});const ARe=CRe;var kRe=ww(function(e,t,n){Na(e,n,t)});const ORe=kRe;function PRe(e,t,n){for(var r=n+1;r--;)if(e[r]===t)return r;return r}var RRe=Math.max,DRe=Math.min;function NRe(e,t,n){var r=e==null?0:e.length;if(!r)return-1;var i=r;return n!==void 0&&(i=dt(n),i=i<0?RRe(r+i,0):DRe(i,r-1)),t===t?PRe(e,t,i):dw(e,d9,i,!0)}var MRe=op(function(e,t,n){return e+(n?" ":"")+t.toLowerCase()});const LRe=MRe;var FRe=R9("toLowerCase");const BRe=FRe;function vk(e,t){return e<t}var URe=Tw(vk);const VRe=URe;var HRe=Tw(function(e,t){return e<=t});const jRe=HRe;function WRe(e,t){var n={};return t=ot(t),Po(e,function(r,i,s){Na(n,t(r,i,s),r)}),n}function qRe(e,t){var n={};return t=ot(t),Po(e,function(r,i,s){Na(n,i,t(r,i,s))}),n}var zRe=1;function KRe(e){return fq(_s(e,zRe))}var GRe=1;function YRe(e,t){return hq(e,_s(t,GRe))}function Cw(e,t,n){for(var r=-1,i=e.length;++r<i;){var s=e[r],o=t(s);if(o!=null&&(a===void 0?o===o&&!Zi(o):n(o,a)))var a=o,l=s}return l}function XRe(e){return e&&e.length?Cw(e,mi,fk):void 0}function QRe(e,t){return e&&e.length?Cw(e,ot(t),fk):void 0}function yk(e,t){for(var n,r=-1,i=e.length;++r<i;){var s=t(e[r]);s!==void 0&&(n=n===void 0?s:n+s)}return n}var JRe=0/0;function zq(e,t){var n=e==null?0:e.length;return n?yk(e,t)/n:JRe}function ZRe(e){return zq(e,mi)}function eDe(e,t){return zq(e,ot(t))}var tDe=rp(function(e,t,n){Ew(e,t,n)});const nDe=tDe;var rDe=_t(function(e,t){return function(n){return Hm(n,e,t)}});const iDe=rDe;var sDe=_t(function(e,t){return function(n){return Hm(e,n,t)}});const oDe=sDe;function aDe(e){return e&&e.length?Cw(e,mi,vk):void 0}function lDe(e,t){return e&&e.length?Cw(e,ot(t),vk):void 0}function Kq(e,t,n){var r=br(t),i=xw(t,r),s=!(Ln(n)&&"chain"in n)||!!n.chain,o=Pa(e);return Ts(i,function(a){var l=t[a];e[a]=l,o&&(e.prototype[a]=function(){var u=this.__chain__;if(s||u){var c=e(this.__wrapped__),d=c.__actions__=Di(this.__actions__);return d.push({func:l,args:arguments,thisArg:e}),c.__chain__=u,c}return l.apply(e,tu([this.value()],arguments))})}),e}var uDe=uw(function(e,t){return e*t},1);const cDe=uDe;var dDe="Expected a function";function jm(e){if(typeof e!="function")throw new TypeError(dDe);return function(){var t=arguments;switch(t.length){case 0:return!e.call(this);case 1:return!e.call(this,t[0]);case 2:return!e.call(this,t[0],t[1]);case 3:return!e.call(this,t[0],t[1],t[2])}return!e.apply(this,t)}}function fDe(e){for(var t,n=[];!(t=e.next()).done;)n.push(t.value);return n}var pDe="[object Map]",hDe="[object Set]",AE=ri?ri.iterator:void 0;function Gq(e){if(!e)return[];if(Fi(e))return Iw(e)?Gs(e):Di(e);if(AE&&e[AE])return fDe(e[AE]());var t=Eo(e),n=t==pDe?tk:t==hDe?bw:ap;return n(e)}function gDe(){this.__values__===void 0&&(this.__values__=Gq(this.value()));var e=this.__index__>=this.__values__.length,t=e?void 0:this.__values__[this.__index__++];return{done:e,value:t}}function Yq(e,t){var n=e.length;if(n)return t+=t<0?n:0,Ra(t,n)?e[t]:void 0}function mDe(e,t){return e&&e.length?Yq(e,dt(t)):void 0}function vDe(e){return e=dt(e),_t(function(t){return Yq(t,e)})}function _k(e,t){return t=eu(t,e),e=jq(e,t),e==null||delete e[Oo(rs(t))]}function yDe(e){return Bm(e)?void 0:e}var _De=1,bDe=2,wDe=4,EDe=Fa(function(e,t){var n={};if(e==null)return n;var r=!1;t=Nn(t,function(s){return s=eu(s,e),r||(r=s.length>1),s}),ko(e,JA(e),n),r&&(n=_s(n,_De|bDe|wDe,yDe));for(var i=t.length;i--;)_k(n,t[i]);return n});const $De=EDe;function Wm(e,t,n,r){if(!Ln(e))return e;t=eu(t,e);for(var i=-1,s=t.length,o=s-1,a=e;a!=null&&++i<s;){var l=Oo(t[i]),u=n;if(l==="__proto__"||l==="constructor"||l==="prototype")return e;if(i!=o){var c=a[l];u=r?r(c,l,a):void 0,u===void 0&&(u=Ln(c)?c:Ra(t[i+1])?[]:{})}Lm(a,l,u),a=a[l]}return e}function Xq(e,t,n){for(var r=-1,i=t.length,s={};++r<i;){var o=t[r],a=Lc(e,o);n(a,o)&&Wm(s,eu(o,e),a)}return s}function Qq(e,t){if(e==null)return{};var n=Nn(JA(e),function(r){return[r]});return t=ot(t),Xq(e,n,function(r,i){return t(r,i[0])})}function SDe(e,t){return Qq(e,jm(ot(t)))}function xDe(e){return x9(2,e)}function TDe(e,t){var n=e.length;for(e.sort(t);n--;)e[n]=e[n].value;return e}function Jq(e,t){if(e!==t){var n=e!==void 0,r=e===null,i=e===e,s=Zi(e),o=t!==void 0,a=t===null,l=t===t,u=Zi(t);if(!a&&!u&&!s&&e>t||s&&o&&l&&!a&&!u||r&&o&&l||!n&&l||!i)return 1;if(!r&&!s&&!u&&e<t||u&&n&&i&&!r&&!s||a&&n&&i||!o&&i||!l)return-1}return 0}function IDe(e,t,n){for(var r=-1,i=e.criteria,s=t.criteria,o=i.length,a=n.length;++r<o;){var l=Jq(i[r],s[r]);if(l){if(r>=a)return l;var u=n[r];return l*(u=="desc"?-1:1)}}return e.index-t.index}function Zq(e,t,n){t.length?t=Nn(t,function(s){return at(s)?function(o){return Lc(o,s.length===1?s[0]:s)}:s}):t=[mi];var r=-1;t=Nn(t,ns(ot));var i=Fq(e,function(s,o,a){var l=Nn(t,function(u){return u(s)});return{criteria:l,index:++r,value:s}});return TDe(i,function(s,o){return IDe(s,o,n)})}function CDe(e,t,n,r){return e==null?[]:(at(t)||(t=t==null?[]:[t]),n=r?void 0:n,at(n)||(n=n==null?[]:[n]),Zq(e,t,n))}function bk(e){return Fa(function(t){return t=Nn(t,ns(ot)),_t(function(n){var r=this;return e(t,function(i){return ts(i,r,n)})})})}var ADe=bk(Nn);const kDe=ADe;var ODe=_t;const PDe=ODe;var RDe=Math.min,DDe=PDe(function(e,t){t=t.length==1&&at(t[0])?Nn(t[0],ns(ot)):Nn(Wr(t,1),ns(ot));var n=t.length;return _t(function(r){for(var i=-1,s=RDe(r.length,n);++i<s;)r[i]=t[i].call(this,r[i]);return ts(e,this,r)})});const NDe=DDe;var MDe=bk(kq);const LDe=MDe;var FDe=bk(ek);const BDe=FDe;var UDe=9007199254740991,VDe=Math.floor;function hx(e,t){var n="";if(!e||t<1||t>UDe)return n;do t%2&&(n+=e),t=VDe(t/2),t&&(e+=e);while(t);return n}var HDe=sk("length");const jDe=HDe;var ez="\\ud800-\\udfff",WDe="\\u0300-\\u036f",qDe="\\ufe20-\\ufe2f",zDe="\\u20d0-\\u20ff",KDe=WDe+qDe+zDe,GDe="\\ufe0e\\ufe0f",YDe="["+ez+"]",gx="["+KDe+"]",mx="\\ud83c[\\udffb-\\udfff]",XDe="(?:"+gx+"|"+mx+")",tz="[^"+ez+"]",nz="(?:\\ud83c[\\udde6-\\uddff]){2}",rz="[\\ud800-\\udbff][\\udc00-\\udfff]",QDe="\\u200d",iz=XDe+"?",sz="["+GDe+"]?",JDe="(?:"+QDe+"(?:"+[tz,nz,rz].join("|")+")"+sz+iz+")*",ZDe=sz+iz+JDe,eNe="(?:"+[tz+gx+"?",gx,nz,rz,YDe].join("|")+")",e2=RegExp(mx+"(?="+mx+")|"+eNe+ZDe,"g");function tNe(e){for(var t=e2.lastIndex=0;e2.test(e);)++t;return t}function lp(e){return sp(e)?tNe(e):jDe(e)}var nNe=Math.ceil;function v0(e,t){t=t===void 0?" ":es(t);var n=t.length;if(n<2)return n?hx(t,e):t;var r=hx(t,nNe(e/lp(t)));return sp(t)?nu(Gs(r),0,e).join(""):r.slice(0,e)}var rNe=Math.ceil,iNe=Math.floor;function sNe(e,t,n){e=Jt(e),t=dt(t);var r=t?lp(e):0;if(!t||r>=t)return e;var i=(t-r)/2;return v0(iNe(i),n)+e+v0(rNe(i),n)}function oNe(e,t,n){e=Jt(e),t=dt(t);var r=t?lp(e):0;return t&&r<t?e+v0(t-r,n):e}function aNe(e,t,n){e=Jt(e),t=dt(t);var r=t?lp(e):0;return t&&r<t?v0(t-r,n)+e:e}var lNe=/^\s+/,uNe=Mr.parseInt;function cNe(e,t,n){return n||t==null?t=0:t&&(t=+t),uNe(Jt(e).replace(lNe,""),t||0)}var dNe=32,wk=_t(function(e,t){var n=Ll(t,np(wk));return Da(e,dNe,void 0,t,n)});wk.placeholder={};const oz=wk;var fNe=64,Ek=_t(function(e,t){var n=Ll(t,np(Ek));return Da(e,fNe,void 0,t,n)});Ek.placeholder={};const pNe=Ek;var hNe=ww(function(e,t,n){e[n?0:1].push(t)},function(){return[[],[]]});const gNe=hNe;function mNe(e,t){return Xq(e,t,function(n,r){return ik(e,r)})}var vNe=Fa(function(e,t){return e==null?{}:mNe(e,t)});const yNe=vNe;function _Ne(e){for(var t,n=this;n instanceof cw;){var r=l9(n);r.__index__=0,r.__values__=void 0,t?i.__wrapped__=r:t=r;var i=r;n=n.__wrapped__}return i.__wrapped__=e,t}function bNe(e){return function(t){return e==null?void 0:Lc(e,t)}}function wNe(e,t,n,r){for(var i=n-1,s=e.length;++i<s;)if(r(e[i],t))return i;return-1}var ENe=Array.prototype,t2=ENe.splice;function $k(e,t,n,r){var i=r?wNe:tp,s=-1,o=t.length,a=e;for(e===t&&(t=Di(t)),n&&(a=Nn(e,ns(n)));++s<o;)for(var l=0,u=t[s],c=n?n(u):u;(l=i(a,c,l,r))>-1;)a!==e&&t2.call(a,l,1),t2.call(e,l,1);return e}function az(e,t){return e&&e.length&&t&&t.length?$k(e,t):e}var $Ne=_t(az);const SNe=$Ne;function xNe(e,t,n){return e&&e.length&&t&&t.length?$k(e,t,ot(n)):e}function TNe(e,t,n){return e&&e.length&&t&&t.length?$k(e,t,void 0,n):e}var INe=Array.prototype,CNe=INe.splice;function lz(e,t){for(var n=e?t.length:0,r=n-1;n--;){var i=t[n];if(n==r||i!==s){var s=i;Ra(i)?CNe.call(e,i,1):_k(e,i)}}return e}var ANe=Fa(function(e,t){var n=e==null?0:e.length,r=HA(e,t);return lz(e,Nn(t,function(i){return Ra(i,n)?+i:i}).sort(Jq)),r});const kNe=ANe;var ONe=Math.floor,PNe=Math.random;function Sk(e,t){return e+ONe(PNe()*(t-e+1))}var RNe=parseFloat,DNe=Math.min,NNe=Math.random;function MNe(e,t,n){if(n&&typeof n!="boolean"&&hi(e,t,n)&&(t=n=void 0),n===void 0&&(typeof t=="boolean"?(n=t,t=void 0):typeof e=="boolean"&&(n=e,e=void 0)),e===void 0&&t===void 0?(e=0,t=1):(e=ua(e),t===void 0?(t=e,e=0):t=ua(t)),e>t){var r=e;e=t,t=r}if(n||e%1||t%1){var i=NNe();return DNe(e+i*(t-e+RNe("1e-"+((i+"").length-1))),t)}return Sk(e,t)}var LNe=Math.ceil,FNe=Math.max;function BNe(e,t,n,r){for(var i=-1,s=FNe(LNe((t-e)/(n||1)),0),o=Array(s);s--;)o[r?s:++i]=e,e+=n;return o}function uz(e){return function(t,n,r){return r&&typeof r!="number"&&hi(t,n,r)&&(n=r=void 0),t=ua(t),n===void 0?(n=t,t=0):n=ua(n),r=r===void 0?t<n?1:-1:ua(r),BNe(t,n,r,e)}}var UNe=uz();const VNe=UNe;var HNe=uz(!0);const jNe=HNe;var WNe=256,qNe=Fa(function(e,t){return Da(e,WNe,void 0,void 0,void 0,t)});const zNe=qNe;function cz(e,t,n,r,i){return i(e,function(s,o,a){n=r?(r=!1,s):t(n,s,o,a)}),n}function KNe(e,t,n){var r=at(e)?KA:cz,i=arguments.length<3;return r(e,ot(t),n,i,iu)}function GNe(e,t,n,r){var i=e==null?0:e.length;for(r&&i&&(n=e[--i]);i--;)n=t(n,e[i],i,e);return n}function YNe(e,t,n){var r=at(e)?GNe:cz,i=arguments.length<3;return r(e,ot(t),n,i,xq)}function XNe(e,t){var n=at(e)?ru:Pq;return n(e,jm(ot(t)))}function QNe(e,t){var n=[];if(!(e&&e.length))return n;var r=-1,i=[],s=e.length;for(t=ot(t);++r<s;){var o=e[r];t(o,r,e)&&(n.push(o),i.push(r))}return lz(e,i),n}function JNe(e,t,n){return(n?hi(e,t,n):t===void 0)?t=1:t=dt(t),hx(Jt(e),t)}function ZNe(){var e=arguments,t=Jt(e[0]);return e.length<3?t:t.replace(e[1],e[2])}var eMe="Expected a function";function tMe(e,t){if(typeof e!="function")throw new TypeError(eMe);return t=t===void 0?t:dt(t),_t(e,t)}function nMe(e,t,n){t=eu(t,e);var r=-1,i=t.length;for(i||(i=1,e=void 0);++r<i;){var s=e==null?void 0:e[Oo(t[r])];s===void 0&&(r=i,s=n),e=Pa(s)?s.call(e):s}return e}var rMe=Array.prototype,iMe=rMe.reverse;function vx(e){return e==null?e:iMe.call(e)}var sMe=YA("round");const oMe=sMe;function dz(e){var t=e.length;return t?e[Sk(0,t-1)]:void 0}function aMe(e){return dz(ap(e))}function lMe(e){var t=at(e)?dz:aMe;return t(e)}function Aw(e,t){var n=-1,r=e.length,i=r-1;for(t=t===void 0?r:t;++n<t;){var s=Sk(n,i),o=e[s];e[s]=e[n],e[n]=o}return e.length=t,e}function uMe(e,t){return Aw(Di(e),Fc(t,0,e.length))}function cMe(e,t){var n=ap(e);return Aw(n,Fc(t,0,n.length))}function dMe(e,t,n){(n?hi(e,t,n):t===void 0)?t=1:t=dt(t);var r=at(e)?uMe:cMe;return r(e,t)}function fMe(e,t,n){return e==null?e:Wm(e,t,n)}function pMe(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:Wm(e,t,n,r)}function hMe(e){return Aw(Di(e))}function gMe(e){return Aw(ap(e))}function mMe(e){var t=at(e)?hMe:gMe;return t(e)}var vMe="[object Map]",yMe="[object Set]";function _Me(e){if(e==null)return 0;if(Fi(e))return Iw(e)?lp(e):e.length;var t=Eo(e);return t==vMe||t==yMe?e.size:UA(e).length}function bMe(e,t,n){var r=e==null?0:e.length;return r?(n&&typeof n!="number"&&hi(e,t,n)?(t=0,n=r):(t=t==null?0:dt(t),n=n===void 0?r:dt(n)),$s(e,t,n)):[]}var wMe=op(function(e,t,n){return e+(n?"_":"")+t.toLowerCase()});const EMe=wMe;function $Me(e,t){var n;return iu(e,function(r,i,s){return n=t(r,i,s),!n}),!!n}function SMe(e,t,n){var r=at(e)?ek:$Me;return n&&hi(e,t,n)&&(t=void 0),r(e,ot(t))}var xMe=_t(function(e,t){if(e==null)return[];var n=t.length;return n>1&&hi(e,t[0],t[1])?t=[]:n>2&&hi(t[0],t[1],t[2])&&(t=[t[0]]),Zq(e,Wr(t,1),[])});const TMe=xMe;var IMe=4294967295,CMe=IMe-1,AMe=Math.floor,kMe=Math.min;function xk(e,t,n,r){var i=0,s=e==null?0:e.length;if(s===0)return 0;t=n(t);for(var o=t!==t,a=t===null,l=Zi(t),u=t===void 0;i<s;){var c=AMe((i+s)/2),d=n(e[c]),f=d!==void 0,p=d===null,h=d===d,g=Zi(d);if(o)var m=r||h;else u?m=h&&(r||f):a?m=h&&f&&(r||!p):l?m=h&&f&&!p&&(r||!g):p||g?m=!1:m=r?d<=t:d<t;m?i=c+1:s=c}return kMe(s,CMe)}var OMe=4294967295,PMe=OMe>>>1;function kw(e,t,n){var r=0,i=e==null?r:e.length;if(typeof t=="number"&&t===t&&i<=PMe){for(;r<i;){var s=r+i>>>1,o=e[s];o!==null&&!Zi(o)&&(n?o<=t:o<t)?r=s+1:i=s}return i}return xk(e,t,mi,n)}function RMe(e,t){return kw(e,t)}function DMe(e,t,n){return xk(e,t,ot(n))}function NMe(e,t){var n=e==null?0:e.length;if(n){var r=kw(e,t);if(r<n&&Js(e[r],t))return r}return-1}function MMe(e,t){return kw(e,t,!0)}function LMe(e,t,n){return xk(e,t,ot(n),!0)}function FMe(e,t){var n=e==null?0:e.length;if(n){var r=kw(e,t,!0)-1;if(Js(e[r],t))return r}return-1}function fz(e,t){for(var n=-1,r=e.length,i=0,s=[];++n<r;){var o=e[n],a=t?t(o):o;if(!n||!Js(a,l)){var l=a;s[i++]=o===0?0:o}}return s}function BMe(e){return e&&e.length?fz(e):[]}function UMe(e,t){return e&&e.length?fz(e,ot(t)):[]}var VMe=4294967295;function HMe(e,t,n){return n&&typeof n!="number"&&hi(e,t,n)&&(t=n=void 0),n=n===void 0?VMe:n>>>0,n?(e=Jt(e),e&&(typeof t=="string"||t!=null&&!mk(t))&&(t=es(t),!t&&sp(e))?nu(Gs(e),0,n):e.split(t,n)):[]}var jMe="Expected a function",WMe=Math.max;function qMe(e,t){if(typeof e!="function")throw new TypeError(jMe);return t=t==null?0:WMe(dt(t),0),_t(function(n){var r=n[t],i=nu(n,0,t);return r&&tu(i,r),ts(e,this,i)})}var zMe=op(function(e,t,n){return e+(n?" ":"")+zA(t)});const KMe=zMe;function GMe(e,t,n){return e=Jt(e),n=n==null?0:Fc(dt(n),0,e.length),t=es(t),e.slice(n,n+t.length)==t}function YMe(){return{}}function XMe(){return""}function QMe(){return!0}var JMe=uw(function(e,t){return e-t},0);const ZMe=JMe;function eLe(e){return e&&e.length?yk(e,mi):0}function tLe(e,t){return e&&e.length?yk(e,ot(t)):0}function nLe(e){var t=e==null?0:e.length;return t?$s(e,1,t):[]}function rLe(e,t,n){return e&&e.length?(t=n||t===void 0?1:dt(t),$s(e,0,t<0?0:t)):[]}function iLe(e,t,n){var r=e==null?0:e.length;return r?(t=n||t===void 0?1:dt(t),t=r-t,$s(e,t<0?0:t,r)):[]}function sLe(e,t){return e&&e.length?$w(e,ot(t),!1,!0):[]}function oLe(e,t){return e&&e.length?$w(e,ot(t)):[]}function aLe(e,t){return t(e),e}var pz=Object.prototype,lLe=pz.hasOwnProperty;function n2(e,t,n,r){return e===void 0||Js(e,pz[n])&&!lLe.call(r,n)?t:e}var uLe={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"};function cLe(e){return"\\"+uLe[e]}var dLe=/<%=([\s\S]+?)%>/g;const hz=dLe;var fLe=/<%-([\s\S]+?)%>/g;const pLe=fLe;var hLe=/<%([\s\S]+?)%>/g;const gLe=hLe;var mLe={escape:pLe,evaluate:gLe,interpolate:hz,variable:"",imports:{_:{escape:Cq}}};const yx=mLe;var vLe="Invalid `variable` option passed into `_.template`",yLe=/\b__p \+= '';/g,_Le=/\b(__p \+=) '' \+/g,bLe=/(__e\(.*?\)|\b__t\)) \+\n'';/g,wLe=/[()=,{}\[\]\/\s]/,ELe=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,jv=/($^)/,$Le=/['\n\r\u2028\u2029\\]/g,SLe=Object.prototype,r2=SLe.hasOwnProperty;function xLe(e,t,n){var r=yx.imports._.templateSettings||yx;n&&hi(e,t,n)&&(t=void 0),e=Jt(e),t=g0({},t,r,n2);var i=g0({},t.imports,r.imports,n2),s=br(i),o=pk(i,s),a,l,u=0,c=t.interpolate||jv,d="__p += '",f=RegExp((t.escape||jv).source+"|"+c.source+"|"+(c===hz?ELe:jv).source+"|"+(t.evaluate||jv).source+"|$","g"),p=r2.call(t,"sourceURL")?"//# sourceURL="+(t.sourceURL+"").replace(/\s/g," ")+`
`:"";e.replace(f,function(m,v,y,b,_,S){return y||(y=b),d+=e.slice(u,S).replace($Le,cLe),v&&(a=!0,d+=`' +
__e(`+v+`) +
'`),_&&(l=!0,d+=`';
`+_+`;
__p += '`),y&&(d+=`' +
((__t = (`+y+`)) == null ? '' : __t) +
'`),u=S+m.length,m}),d+=`';
`;var h=r2.call(t,"variable")&&t.variable;if(!h)d=`with (obj) {
`+d+`
}
`;else if(wLe.test(h))throw new Error(vLe);d=(l?d.replace(yLe,""):d).replace(_Le,"$1").replace(bLe,"$1;"),d="function("+(h||"obj")+`) {
`+(h?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(a?", __e = _.escape":"")+(l?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+d+`return __p
}`;var g=S9(function(){return Function(s,p+"return "+d).apply(void 0,o)});if(g.source=d,jA(g))throw g;return g}var TLe="Expected a function";function ILe(e,t,n){var r=!0,i=!0;if(typeof e!="function")throw new TypeError(TLe);return Ln(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),uk(e,t,{leading:r,maxWait:t,trailing:i})}function qm(e,t){return t(e)}var CLe=9007199254740991,kE=4294967295,ALe=Math.min;function kLe(e,t){if(e=dt(e),e<1||e>CLe)return[];var n=kE,r=ALe(e,kE);t=Ro(t),e-=kE;for(var i=FA(r,t);++n<e;)t(n);return i}function OLe(){return this}function gz(e,t){var n=e;return n instanceof kt&&(n=n.value()),KA(t,function(r,i){return i.func.apply(i.thisArg,tu([r],i.args))},n)}function OE(){return gz(this.__wrapped__,this.__actions__)}function PLe(e){return Jt(e).toLowerCase()}function RLe(e){return at(e)?Nn(e,Oo):Zi(e)?[e]:Di(w9(Jt(e)))}var i2=9007199254740991;function DLe(e){return e?Fc(dt(e),-i2,i2):e===0?e:0}function NLe(e){return Jt(e).toUpperCase()}function MLe(e,t,n){var r=at(e),i=r||Fl(e)||ip(e);if(t=ot(t),n==null){var s=e&&e.constructor;i?n=r?new s:[]:Ln(e)?n=Pa(s)?ep(_w(e)):{}:n={}}return(i?Ts:Po)(e,function(o,a,l){return t(n,o,a,l)}),n}function mz(e,t){for(var n=e.length;n--&&tp(t,e[n],0)>-1;);return n}function vz(e,t){for(var n=-1,r=e.length;++n<r&&tp(t,e[n],0)>-1;);return n}function LLe(e,t,n){if(e=Jt(e),e&&(n||t===void 0))return r9(e);if(!e||!(t=es(t)))return e;var r=Gs(e),i=Gs(t),s=vz(r,i),o=mz(r,i)+1;return nu(r,s,o).join("")}function FLe(e,t,n){if(e=Jt(e),e&&(n||t===void 0))return e.slice(0,n9(e)+1);if(!e||!(t=es(t)))return e;var r=Gs(e),i=mz(r,Gs(t))+1;return nu(r,0,i).join("")}var BLe=/^\s+/;function ULe(e,t,n){if(e=Jt(e),e&&(n||t===void 0))return e.replace(BLe,"");if(!e||!(t=es(t)))return e;var r=Gs(e),i=vz(r,Gs(t));return nu(r,i).join("")}var VLe=30,HLe="...",jLe=/\w*$/;function WLe(e,t){var n=VLe,r=HLe;if(Ln(t)){var i="separator"in t?t.separator:i;n="length"in t?dt(t.length):n,r="omission"in t?es(t.omission):r}e=Jt(e);var s=e.length;if(sp(e)){var o=Gs(e);s=o.length}if(n>=s)return e;var a=n-lp(r);if(a<1)return r;var l=o?nu(o,0,a).join(""):e.slice(0,a);if(i===void 0)return l+r;if(o&&(a+=l.length-a),mk(i)){if(e.slice(a).search(i)){var u,c=l;for(i.global||(i=RegExp(i.source,Jt(jLe.exec(i))+"g")),i.lastIndex=0;u=i.exec(c);)var d=u.index;l=l.slice(0,d===void 0?a:d)}}else if(e.indexOf(es(i),a)!=a){var f=l.lastIndexOf(i);f>-1&&(l=l.slice(0,f))}return l+r}function qLe(e){return h9(e,1)}var zLe={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},KLe=GA(zLe);const GLe=KLe;var yz=/&(?:amp|lt|gt|quot|#39);/g,YLe=RegExp(yz.source);function XLe(e){return e=Jt(e),e&&YLe.test(e)?e.replace(yz,GLe):e}var QLe=1/0,JLe=Wd&&1/bw(new Wd([,-0]))[1]==QLe?function(e){return new Wd(e)}:DA;const ZLe=JLe;var e2e=200;function Bl(e,t,n){var r=-1,i=fw,s=e.length,o=!0,a=[],l=a;if(n)o=!1,i=ck;else if(s>=e2e){var u=t?null:ZLe(e);if(u)return bw(u);o=!1,i=Bg,l=new bc}else l=t?[]:a;e:for(;++r<s;){var c=e[r],d=t?t(c):c;if(c=n||c!==0?c:0,o&&d===d){for(var f=l.length;f--;)if(l[f]===d)continue e;t&&l.push(d),a.push(c)}else i(l,d,n)||(l!==a&&l.push(d),a.push(c))}return a}var t2e=_t(function(e){return Bl(Wr(e,1,nr,!0))});const n2e=t2e;var r2e=_t(function(e){var t=rs(e);return nr(t)&&(t=void 0),Bl(Wr(e,1,nr,!0),ot(t))});const i2e=r2e;var s2e=_t(function(e){var t=rs(e);return t=typeof t=="function"?t:void 0,Bl(Wr(e,1,nr,!0),void 0,t)});const o2e=s2e;function a2e(e){return e&&e.length?Bl(e):[]}function l2e(e,t){return e&&e.length?Bl(e,ot(t)):[]}function u2e(e,t){return t=typeof t=="function"?t:void 0,e&&e.length?Bl(e,void 0,t):[]}var c2e=0;function d2e(e){var t=++c2e;return Jt(e)+t}function f2e(e,t){return e==null?!0:_k(e,t)}var p2e=Math.max;function Tk(e){if(!(e&&e.length))return[];var t=0;return e=ru(e,function(n){if(nr(n))return t=p2e(n.length,t),!0}),FA(t,function(n){return Nn(e,sk(n))})}function _z(e,t){if(!(e&&e.length))return[];var n=Tk(e);return t==null?n:Nn(n,function(r){return ts(t,void 0,r)})}function bz(e,t,n,r){return Wm(e,t,n(Lc(e,t)),r)}function h2e(e,t,n){return e==null?e:bz(e,t,Ro(n))}function g2e(e,t,n,r){return r=typeof r=="function"?r:void 0,e==null?e:bz(e,t,Ro(n),r)}var m2e=op(function(e,t,n){return e+(n?" ":"")+t.toUpperCase()});const v2e=m2e;function y2e(e){return e==null?[]:pk(e,Bi(e))}var _2e=_t(function(e,t){return nr(e)?Vm(e,t):[]});const b2e=_2e;function w2e(e,t){return oz(Ro(t),e)}var E2e=Fa(function(e){var t=e.length,n=t?e[0]:0,r=this.__wrapped__,i=function(s){return HA(s,e)};return t>1||this.__actions__.length||!(r instanceof kt)||!Ra(n)?this.thru(i):(r=r.slice(n,+n+(t?1:0)),r.__actions__.push({func:qm,args:[i],thisArg:void 0}),new ws(r,this.__chain__).thru(function(s){return t&&!s.length&&s.push(void 0),s}))});const $2e=E2e;function S2e(){return X9(this)}function x2e(){var e=this.__wrapped__;if(e instanceof kt){var t=e;return this.__actions__.length&&(t=new kt(this)),t=t.reverse(),t.__actions__.push({func:qm,args:[vx],thisArg:void 0}),new ws(t,this.__chain__)}return this.thru(vx)}function Ik(e,t,n){var r=e.length;if(r<2)return r?Bl(e[0]):[];for(var i=-1,s=Array(r);++i<r;)for(var o=e[i],a=-1;++a<r;)a!=i&&(s[i]=Vm(s[i]||o,e[a],t,n));return Bl(Wr(s,1),t,n)}var T2e=_t(function(e){return Ik(ru(e,nr))});const I2e=T2e;var C2e=_t(function(e){var t=rs(e);return nr(t)&&(t=void 0),Ik(ru(e,nr),ot(t))});const A2e=C2e;var k2e=_t(function(e){var t=rs(e);return t=typeof t=="function"?t:void 0,Ik(ru(e,nr),void 0,t)});const O2e=k2e;var P2e=_t(Tk);const R2e=P2e;function wz(e,t,n){for(var r=-1,i=e.length,s=t.length,o={};++r<i;){var a=r<s?t[r]:void 0;n(o,e[r],a)}return o}function D2e(e,t){return wz(e||[],t||[],Lm)}function N2e(e,t){return wz(e||[],t||[],Wm)}var M2e=_t(function(e){var t=e.length,n=t>1?e[t-1]:void 0;return n=typeof n=="function"?(e.pop(),n):void 0,_z(e,n)});const L2e=M2e,Ue={chunk:RIe,compact:wAe,concat:EAe,difference:Lke,differenceBy:Bke,differenceWith:Vke,drop:Wke,dropRight:qke,dropRightWhile:zke,dropWhile:Kke,fill:hOe,findIndex:Dq,findLastIndex:Lq,first:YL,flatten:E9,flattenDeep:AOe,flattenDepth:kOe,fromPairs:GOe,head:YL,indexOf:mPe,initial:vPe,intersection:bPe,intersectionBy:EPe,intersectionWith:SPe,join:IRe,last:rs,lastIndexOf:NRe,nth:mDe,pull:SNe,pullAll:az,pullAllBy:xNe,pullAllWith:TNe,pullAt:kNe,remove:QNe,reverse:vx,slice:bMe,sortedIndex:RMe,sortedIndexBy:DMe,sortedIndexOf:NMe,sortedLastIndex:MMe,sortedLastIndexBy:LMe,sortedLastIndexOf:FMe,sortedUniq:BMe,sortedUniqBy:UMe,tail:nLe,take:rLe,takeRight:iLe,takeRightWhile:sLe,takeWhile:oLe,union:n2e,unionBy:i2e,unionWith:o2e,uniq:a2e,uniqBy:l2e,uniqWith:u2e,unzip:Tk,unzipWith:_z,without:b2e,xor:I2e,xorBy:A2e,xorWith:O2e,zip:R2e,zipObject:D2e,zipObjectDeep:N2e,zipWith:L2e},un={countBy:hke,each:qL,eachRight:zL,every:dOe,filter:gOe,find:Nq,findLast:EOe,flatMap:SOe,flatMapDeep:TOe,flatMapDepth:IOe,forEach:qL,forEachRight:zL,groupBy:ePe,includes:hPe,invokeMap:LPe,keyBy:ORe,map:Sw,orderBy:CDe,partition:gNe,reduce:KNe,reduceRight:YNe,reject:XNe,sample:lMe,sampleSize:dMe,shuffle:mMe,size:_Me,some:SMe,sortBy:TMe},F2e={now:Oy},Qn={after:LEe,ary:h9,before:x9,bind:T9,bindKey:gTe,curry:ak,curryRight:lk,debounce:uk,defer:Pke,delay:Dke,flip:POe,memoize:vw,negate:jm,once:xDe,overArgs:NDe,partial:oz,partialRight:pNe,rearg:zNe,rest:tMe,spread:qMe,throttle:ILe,unary:qLe,wrap:w2e},ze={castArray:TIe,clone:fAe,cloneDeep:dx,cloneDeepWith:vAe,cloneWith:_Ae,conformsTo:oke,eq:Js,gt:nPe,gte:iPe,isArguments:yc,isArray:at,isArrayBuffer:VPe,isArrayLike:Fi,isArrayLikeObject:nr,isBoolean:jPe,isBuffer:Fl,isDate:KPe,isElement:GPe,isEmpty:ZPe,isEqual:eRe,isEqualWith:tRe,isError:jA,isFinite:rRe,isFunction:Pa,isInteger:Wq,isLength:hw,isMap:iq,isMatch:iRe,isMatchWith:sRe,isNaN:aRe,isNative:dRe,isNil:fRe,isNull:pRe,isNumber:qq,isObject:Ln,isObjectLike:Xn,isPlainObject:Bm,isRegExp:mk,isSafeInteger:vRe,isSet:sq,isString:Iw,isSymbol:Zi,isTypedArray:ip,isUndefined:yRe,isWeakMap:bRe,isWeakSet:ERe,lt:VRe,lte:jRe,toArray:Gq,toFinite:ua,toInteger:dt,toLength:Oq,toNumber:ys,toPlainObject:bq,toSafeInteger:DLe,toString:Jt},vi={add:CEe,ceil:kIe,divide:jke,floor:DOe,max:XRe,maxBy:QRe,mean:ZRe,meanBy:eDe,min:aDe,minBy:lDe,multiply:cDe,round:oMe,subtract:ZMe,sum:eLe,sumBy:tLe},Ck={clamp:DIe,inRange:dPe,random:MNe},nt={assign:sxe,assignIn:EL,assignInWith:g0,assignWith:pxe,at:Qxe,create:gke,defaults:xke,defaultsDeep:Ake,entries:KL,entriesIn:GL,extend:EL,extendWith:g0,findKey:yOe,findLastKey:$Oe,forIn:WOe,forInRight:qOe,forOwn:zOe,forOwnRight:KOe,functions:YOe,functionsIn:XOe,get:yw,has:Uq,hasIn:ik,invert:APe,invertBy:RPe,invoke:NPe,keys:br,keysIn:Bi,mapKeys:WRe,mapValues:qRe,merge:nDe,mergeWith:Eq,omit:$De,omitBy:SDe,pick:yNe,pickBy:Qq,result:nMe,set:fMe,setWith:pMe,toPairs:KL,toPairsIn:GL,transform:MLe,unset:f2e,update:h2e,updateWith:g2e,values:ap,valuesIn:y2e},Do={at:$2e,chain:X9,commit:bAe,lodash:k,next:gDe,plant:_Ne,reverse:x2e,tap:aLe,thru:qm,toIterator:OLe,toJSON:OE,value:OE,valueOf:OE,wrapperChain:S2e},Gt={camelCase:xIe,capitalize:D9,deburr:N9,endsWith:Qke,escape:Cq,escapeRegExp:uOe,kebabCase:ARe,lowerCase:LRe,lowerFirst:BRe,pad:sNe,padEnd:oNe,padStart:aNe,parseInt:cNe,repeat:JNe,replace:ZNe,snakeCase:EMe,split:HMe,startCase:KMe,startsWith:GMe,template:xLe,templateSettings:yx,toLower:PLe,toUpper:NLe,trim:LLe,trimEnd:FLe,trimStart:ULe,truncate:WLe,unescape:XLe,upperCase:v2e,upperFirst:zA,words:Y9},en={attempt:S9,bindAll:dTe,cond:nke,conforms:ske,constant:MA,defaultTo:Eke,flow:VOe,flowRight:jOe,identity:mi,iteratee:SRe,matches:KRe,matchesProperty:YRe,method:iDe,methodOf:oDe,mixin:Kq,noop:DA,nthArg:vDe,over:kDe,overEvery:LDe,overSome:BDe,property:gq,propertyOf:bNe,range:VNe,rangeRight:jNe,stubArray:XA,stubFalse:BA,stubObject:YMe,stubString:XMe,stubTrue:QMe,times:kLe,toPath:RLe,uniqueId:d2e};function B2e(){var e=new kt(this.__wrapped__);return e.__actions__=Di(this.__actions__),e.__dir__=this.__dir__,e.__filtered__=this.__filtered__,e.__iteratees__=Di(this.__iteratees__),e.__takeCount__=this.__takeCount__,e.__views__=Di(this.__views__),e}function U2e(){if(this.__filtered__){var e=new kt(this);e.__dir__=-1,e.__filtered__=!0}else e=this.clone(),e.__dir__*=-1;return e}var V2e=Math.max,H2e=Math.min;function j2e(e,t,n){for(var r=-1,i=n.length;++r<i;){var s=n[r],o=s.size;switch(s.type){case"drop":e+=o;break;case"dropRight":t-=o;break;case"take":t=H2e(t,e+o);break;case"takeRight":e=V2e(e,t-o);break}}return{start:e,end:t}}var W2e=1,q2e=2,z2e=Math.min;function K2e(){var e=this.__wrapped__.value(),t=this.__dir__,n=at(e),r=t<0,i=n?e.length:0,s=j2e(0,i,this.__views__),o=s.start,a=s.end,l=a-o,u=r?a:o-1,c=this.__iteratees__,d=c.length,f=0,p=z2e(l,this.__takeCount__);if(!n||!r&&i==l&&p==l)return gz(e,this.__actions__);var h=[];e:for(;l--&&f<p;){u+=t;for(var g=-1,m=e[u];++g<d;){var v=c[g],y=v.iteratee,b=v.type,_=y(m);if(b==q2e)m=_;else if(!_){if(b==W2e)continue e;break e}}h[f++]=m}return h}/**
 * @license
 * Lodash (Custom Build) <https://lodash.com/>
 * Build: `lodash modularize exports="es" -o ./`
 * Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
 * Released under MIT license <https://lodash.com/license>
 * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
 * Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
 */var G2e="4.17.21",Y2e=2,X2e=1,Q2e=3,Ez=4294967295,J2e=Array.prototype,Z2e=Object.prototype,$z=Z2e.hasOwnProperty,s2=ri?ri.iterator:void 0,eFe=Math.max,o2=Math.min,Ak=function(e){return function(t,n,r){if(r==null){var i=Ln(n),s=i&&br(n),o=s&&s.length&&xw(n,s);(o?o.length:i)||(r=n,n=t,t=this)}return e(t,n,r)}}(Kq);k.after=Qn.after;k.ary=Qn.ary;k.assign=nt.assign;k.assignIn=nt.assignIn;k.assignInWith=nt.assignInWith;k.assignWith=nt.assignWith;k.at=nt.at;k.before=Qn.before;k.bind=Qn.bind;k.bindAll=en.bindAll;k.bindKey=Qn.bindKey;k.castArray=ze.castArray;k.chain=Do.chain;k.chunk=Ue.chunk;k.compact=Ue.compact;k.concat=Ue.concat;k.cond=en.cond;k.conforms=en.conforms;k.constant=en.constant;k.countBy=un.countBy;k.create=nt.create;k.curry=Qn.curry;k.curryRight=Qn.curryRight;k.debounce=Qn.debounce;k.defaults=nt.defaults;k.defaultsDeep=nt.defaultsDeep;k.defer=Qn.defer;k.delay=Qn.delay;k.difference=Ue.difference;k.differenceBy=Ue.differenceBy;k.differenceWith=Ue.differenceWith;k.drop=Ue.drop;k.dropRight=Ue.dropRight;k.dropRightWhile=Ue.dropRightWhile;k.dropWhile=Ue.dropWhile;k.fill=Ue.fill;k.filter=un.filter;k.flatMap=un.flatMap;k.flatMapDeep=un.flatMapDeep;k.flatMapDepth=un.flatMapDepth;k.flatten=Ue.flatten;k.flattenDeep=Ue.flattenDeep;k.flattenDepth=Ue.flattenDepth;k.flip=Qn.flip;k.flow=en.flow;k.flowRight=en.flowRight;k.fromPairs=Ue.fromPairs;k.functions=nt.functions;k.functionsIn=nt.functionsIn;k.groupBy=un.groupBy;k.initial=Ue.initial;k.intersection=Ue.intersection;k.intersectionBy=Ue.intersectionBy;k.intersectionWith=Ue.intersectionWith;k.invert=nt.invert;k.invertBy=nt.invertBy;k.invokeMap=un.invokeMap;k.iteratee=en.iteratee;k.keyBy=un.keyBy;k.keys=br;k.keysIn=nt.keysIn;k.map=un.map;k.mapKeys=nt.mapKeys;k.mapValues=nt.mapValues;k.matches=en.matches;k.matchesProperty=en.matchesProperty;k.memoize=Qn.memoize;k.merge=nt.merge;k.mergeWith=nt.mergeWith;k.method=en.method;k.methodOf=en.methodOf;k.mixin=Ak;k.negate=jm;k.nthArg=en.nthArg;k.omit=nt.omit;k.omitBy=nt.omitBy;k.once=Qn.once;k.orderBy=un.orderBy;k.over=en.over;k.overArgs=Qn.overArgs;k.overEvery=en.overEvery;k.overSome=en.overSome;k.partial=Qn.partial;k.partialRight=Qn.partialRight;k.partition=un.partition;k.pick=nt.pick;k.pickBy=nt.pickBy;k.property=en.property;k.propertyOf=en.propertyOf;k.pull=Ue.pull;k.pullAll=Ue.pullAll;k.pullAllBy=Ue.pullAllBy;k.pullAllWith=Ue.pullAllWith;k.pullAt=Ue.pullAt;k.range=en.range;k.rangeRight=en.rangeRight;k.rearg=Qn.rearg;k.reject=un.reject;k.remove=Ue.remove;k.rest=Qn.rest;k.reverse=Ue.reverse;k.sampleSize=un.sampleSize;k.set=nt.set;k.setWith=nt.setWith;k.shuffle=un.shuffle;k.slice=Ue.slice;k.sortBy=un.sortBy;k.sortedUniq=Ue.sortedUniq;k.sortedUniqBy=Ue.sortedUniqBy;k.split=Gt.split;k.spread=Qn.spread;k.tail=Ue.tail;k.take=Ue.take;k.takeRight=Ue.takeRight;k.takeRightWhile=Ue.takeRightWhile;k.takeWhile=Ue.takeWhile;k.tap=Do.tap;k.throttle=Qn.throttle;k.thru=qm;k.toArray=ze.toArray;k.toPairs=nt.toPairs;k.toPairsIn=nt.toPairsIn;k.toPath=en.toPath;k.toPlainObject=ze.toPlainObject;k.transform=nt.transform;k.unary=Qn.unary;k.union=Ue.union;k.unionBy=Ue.unionBy;k.unionWith=Ue.unionWith;k.uniq=Ue.uniq;k.uniqBy=Ue.uniqBy;k.uniqWith=Ue.uniqWith;k.unset=nt.unset;k.unzip=Ue.unzip;k.unzipWith=Ue.unzipWith;k.update=nt.update;k.updateWith=nt.updateWith;k.values=nt.values;k.valuesIn=nt.valuesIn;k.without=Ue.without;k.words=Gt.words;k.wrap=Qn.wrap;k.xor=Ue.xor;k.xorBy=Ue.xorBy;k.xorWith=Ue.xorWith;k.zip=Ue.zip;k.zipObject=Ue.zipObject;k.zipObjectDeep=Ue.zipObjectDeep;k.zipWith=Ue.zipWith;k.entries=nt.toPairs;k.entriesIn=nt.toPairsIn;k.extend=nt.assignIn;k.extendWith=nt.assignInWith;Ak(k,k);k.add=vi.add;k.attempt=en.attempt;k.camelCase=Gt.camelCase;k.capitalize=Gt.capitalize;k.ceil=vi.ceil;k.clamp=Ck.clamp;k.clone=ze.clone;k.cloneDeep=ze.cloneDeep;k.cloneDeepWith=ze.cloneDeepWith;k.cloneWith=ze.cloneWith;k.conformsTo=ze.conformsTo;k.deburr=Gt.deburr;k.defaultTo=en.defaultTo;k.divide=vi.divide;k.endsWith=Gt.endsWith;k.eq=ze.eq;k.escape=Gt.escape;k.escapeRegExp=Gt.escapeRegExp;k.every=un.every;k.find=un.find;k.findIndex=Ue.findIndex;k.findKey=nt.findKey;k.findLast=un.findLast;k.findLastIndex=Ue.findLastIndex;k.findLastKey=nt.findLastKey;k.floor=vi.floor;k.forEach=un.forEach;k.forEachRight=un.forEachRight;k.forIn=nt.forIn;k.forInRight=nt.forInRight;k.forOwn=nt.forOwn;k.forOwnRight=nt.forOwnRight;k.get=nt.get;k.gt=ze.gt;k.gte=ze.gte;k.has=nt.has;k.hasIn=nt.hasIn;k.head=Ue.head;k.identity=mi;k.includes=un.includes;k.indexOf=Ue.indexOf;k.inRange=Ck.inRange;k.invoke=nt.invoke;k.isArguments=ze.isArguments;k.isArray=at;k.isArrayBuffer=ze.isArrayBuffer;k.isArrayLike=ze.isArrayLike;k.isArrayLikeObject=ze.isArrayLikeObject;k.isBoolean=ze.isBoolean;k.isBuffer=ze.isBuffer;k.isDate=ze.isDate;k.isElement=ze.isElement;k.isEmpty=ze.isEmpty;k.isEqual=ze.isEqual;k.isEqualWith=ze.isEqualWith;k.isError=ze.isError;k.isFinite=ze.isFinite;k.isFunction=ze.isFunction;k.isInteger=ze.isInteger;k.isLength=ze.isLength;k.isMap=ze.isMap;k.isMatch=ze.isMatch;k.isMatchWith=ze.isMatchWith;k.isNaN=ze.isNaN;k.isNative=ze.isNative;k.isNil=ze.isNil;k.isNull=ze.isNull;k.isNumber=ze.isNumber;k.isObject=Ln;k.isObjectLike=ze.isObjectLike;k.isPlainObject=ze.isPlainObject;k.isRegExp=ze.isRegExp;k.isSafeInteger=ze.isSafeInteger;k.isSet=ze.isSet;k.isString=ze.isString;k.isSymbol=ze.isSymbol;k.isTypedArray=ze.isTypedArray;k.isUndefined=ze.isUndefined;k.isWeakMap=ze.isWeakMap;k.isWeakSet=ze.isWeakSet;k.join=Ue.join;k.kebabCase=Gt.kebabCase;k.last=rs;k.lastIndexOf=Ue.lastIndexOf;k.lowerCase=Gt.lowerCase;k.lowerFirst=Gt.lowerFirst;k.lt=ze.lt;k.lte=ze.lte;k.max=vi.max;k.maxBy=vi.maxBy;k.mean=vi.mean;k.meanBy=vi.meanBy;k.min=vi.min;k.minBy=vi.minBy;k.stubArray=en.stubArray;k.stubFalse=en.stubFalse;k.stubObject=en.stubObject;k.stubString=en.stubString;k.stubTrue=en.stubTrue;k.multiply=vi.multiply;k.nth=Ue.nth;k.noop=en.noop;k.now=F2e.now;k.pad=Gt.pad;k.padEnd=Gt.padEnd;k.padStart=Gt.padStart;k.parseInt=Gt.parseInt;k.random=Ck.random;k.reduce=un.reduce;k.reduceRight=un.reduceRight;k.repeat=Gt.repeat;k.replace=Gt.replace;k.result=nt.result;k.round=vi.round;k.sample=un.sample;k.size=un.size;k.snakeCase=Gt.snakeCase;k.some=un.some;k.sortedIndex=Ue.sortedIndex;k.sortedIndexBy=Ue.sortedIndexBy;k.sortedIndexOf=Ue.sortedIndexOf;k.sortedLastIndex=Ue.sortedLastIndex;k.sortedLastIndexBy=Ue.sortedLastIndexBy;k.sortedLastIndexOf=Ue.sortedLastIndexOf;k.startCase=Gt.startCase;k.startsWith=Gt.startsWith;k.subtract=vi.subtract;k.sum=vi.sum;k.sumBy=vi.sumBy;k.template=Gt.template;k.times=en.times;k.toFinite=ze.toFinite;k.toInteger=dt;k.toLength=ze.toLength;k.toLower=Gt.toLower;k.toNumber=ze.toNumber;k.toSafeInteger=ze.toSafeInteger;k.toString=ze.toString;k.toUpper=Gt.toUpper;k.trim=Gt.trim;k.trimEnd=Gt.trimEnd;k.trimStart=Gt.trimStart;k.truncate=Gt.truncate;k.unescape=Gt.unescape;k.uniqueId=en.uniqueId;k.upperCase=Gt.upperCase;k.upperFirst=Gt.upperFirst;k.each=un.forEach;k.eachRight=un.forEachRight;k.first=Ue.head;Ak(k,function(){var e={};return Po(k,function(t,n){$z.call(k.prototype,n)||(e[n]=t)}),e}(),{chain:!1});k.VERSION=G2e;(k.templateSettings=Gt.templateSettings).imports._=k;Ts(["bind","bindKey","curry","curryRight","partial","partialRight"],function(e){k[e].placeholder=k});Ts(["drop","take"],function(e,t){kt.prototype[e]=function(n){n=n===void 0?1:eFe(dt(n),0);var r=this.__filtered__&&!t?new kt(this):this.clone();return r.__filtered__?r.__takeCount__=o2(n,r.__takeCount__):r.__views__.push({size:o2(n,Ez),type:e+(r.__dir__<0?"Right":"")}),r},kt.prototype[e+"Right"]=function(n){return this.reverse()[e](n).reverse()}});Ts(["filter","map","takeWhile"],function(e,t){var n=t+1,r=n==X2e||n==Q2e;kt.prototype[e]=function(i){var s=this.clone();return s.__iteratees__.push({iteratee:ot(i),type:n}),s.__filtered__=s.__filtered__||r,s}});Ts(["head","last"],function(e,t){var n="take"+(t?"Right":"");kt.prototype[e]=function(){return this[n](1).value()[0]}});Ts(["initial","tail"],function(e,t){var n="drop"+(t?"":"Right");kt.prototype[e]=function(){return this.__filtered__?new kt(this):this[n](1)}});kt.prototype.compact=function(){return this.filter(mi)};kt.prototype.find=function(e){return this.filter(e).head()};kt.prototype.findLast=function(e){return this.reverse().find(e)};kt.prototype.invokeMap=_t(function(e,t){return typeof e=="function"?new kt(this):this.map(function(n){return Hm(n,e,t)})});kt.prototype.reject=function(e){return this.filter(jm(ot(e)))};kt.prototype.slice=function(e,t){e=dt(e);var n=this;return n.__filtered__&&(e>0||t<0)?new kt(n):(e<0?n=n.takeRight(-e):e&&(n=n.drop(e)),t!==void 0&&(t=dt(t),n=t<0?n.dropRight(-t):n.take(t-e)),n)};kt.prototype.takeRightWhile=function(e){return this.reverse().takeWhile(e).reverse()};kt.prototype.toArray=function(){return this.take(Ez)};Po(kt.prototype,function(e,t){var n=/^(?:filter|find|map|reject)|While$/.test(t),r=/^(?:head|last)$/.test(t),i=k[r?"take"+(t=="last"?"Right":""):t],s=r||/^find/.test(t);i&&(k.prototype[t]=function(){var o=this.__wrapped__,a=r?[1]:arguments,l=o instanceof kt,u=a[0],c=l||at(o),d=function(v){var y=i.apply(k,tu([v],a));return r&&f?y[0]:y};c&&n&&typeof u=="function"&&u.length!=1&&(l=c=!1);var f=this.__chain__,p=!!this.__actions__.length,h=s&&!f,g=l&&!p;if(!s&&c){o=g?o:new kt(this);var m=e.apply(o,a);return m.__actions__.push({func:qm,args:[d],thisArg:void 0}),new ws(m,f)}return h&&g?e.apply(this,a):(m=this.thru(d),h?r?m.value()[0]:m.value():m)})});Ts(["pop","push","shift","sort","splice","unshift"],function(e){var t=J2e[e],n=/^(?:push|sort|unshift)$/.test(e)?"tap":"thru",r=/^(?:pop|shift)$/.test(e);k.prototype[e]=function(){var i=arguments;if(r&&!this.__chain__){var s=this.value();return t.apply(at(s)?s:[],i)}return this[n](function(o){return t.apply(at(o)?o:[],i)})}});Po(kt.prototype,function(e,t){var n=k[t];if(n){var r=n.name+"";$z.call(jd,r)||(jd[r]=[]),jd[r].push({name:t,func:n})}});jd[pw(void 0,Y2e).name]=[{name:"wrapper",func:void 0}];kt.prototype.clone=B2e;kt.prototype.reverse=U2e;kt.prototype.value=K2e;k.prototype.at=Do.at;k.prototype.chain=Do.wrapperChain;k.prototype.commit=Do.commit;k.prototype.next=Do.next;k.prototype.plant=Do.plant;k.prototype.reverse=Do.reverse;k.prototype.toJSON=k.prototype.valueOf=k.prototype.value=Do.value;k.prototype.first=k.prototype.head;s2&&(k.prototype[s2]=Do.toIterator);const Sz=Symbol("firebaseApp");function xz(e){return Pr()&&lt(Sz,null)||Tc(e)}const Wv=new WeakMap;function tFe(e,t){if(!Wv.has(e)){const n=CF(!0);Wv.set(e,n);const{unmount:r}=t;t.unmount=()=>{r.call(t),n.stop(),Wv.delete(e)}}return Wv.get(e)}const Tz=new WeakMap;function Ow(e){return Tz.get(xz(e))}const qv=new WeakMap;function Iz(e){const t=xz(e);if(!qv.has(t)){let n;const i=[new Promise(s=>{n=s}),s=>{qv.set(t,s),n(s.value)}];qv.set(t,i)}return qv.get(t)}function kk(e){const t=Iz(e);return Array.isArray(t)?t[0]:Promise.resolve(t.value)}function nFe(e,t){const n=Nj(t);$j(n,r=>{const i=Iz();e.value=r,Array.isArray(i)&&i[1](e)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cz="firebasestorage.googleapis.com",rFe="storageBucket",iFe=2*60*1e3,sFe=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class No extends ss{constructor(t,n,r=0){super(PE(t),`Firebase Storage: ${n} (${PE(t)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,No.prototype)}get status(){return this.status_}set status(t){this.status_=t}_codeEquals(t){return PE(t)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(t){this.customData.serverResponse=t,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var $o;(function(e){e.UNKNOWN="unknown",e.OBJECT_NOT_FOUND="object-not-found",e.BUCKET_NOT_FOUND="bucket-not-found",e.PROJECT_NOT_FOUND="project-not-found",e.QUOTA_EXCEEDED="quota-exceeded",e.UNAUTHENTICATED="unauthenticated",e.UNAUTHORIZED="unauthorized",e.UNAUTHORIZED_APP="unauthorized-app",e.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",e.INVALID_CHECKSUM="invalid-checksum",e.CANCELED="canceled",e.INVALID_EVENT_NAME="invalid-event-name",e.INVALID_URL="invalid-url",e.INVALID_DEFAULT_BUCKET="invalid-default-bucket",e.NO_DEFAULT_BUCKET="no-default-bucket",e.CANNOT_SLICE_BLOB="cannot-slice-blob",e.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",e.NO_DOWNLOAD_URL="no-download-url",e.INVALID_ARGUMENT="invalid-argument",e.INVALID_ARGUMENT_COUNT="invalid-argument-count",e.APP_DELETED="app-deleted",e.INVALID_ROOT_OPERATION="invalid-root-operation",e.INVALID_FORMAT="invalid-format",e.INTERNAL_ERROR="internal-error",e.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})($o||($o={}));function PE(e){return"storage/"+e}function oFe(){const e="An unknown error occurred, please check the error payload for server response.";return new No($o.UNKNOWN,e)}function aFe(){return new No($o.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function lFe(){return new No($o.CANCELED,"User canceled the upload/download.")}function uFe(e){return new No($o.INVALID_URL,"Invalid URL '"+e+"'.")}function cFe(e){return new No($o.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+e+"'.")}function a2(e){return new No($o.INVALID_ARGUMENT,e)}function Az(){return new No($o.APP_DELETED,"The Firebase app was deleted.")}function dFe(e){return new No($o.INVALID_ROOT_OPERATION,"The operation '"+e+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fs{constructor(t,n){this.bucket=t,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(t,n){let r;try{r=Fs.makeFromUrl(t,n)}catch{return new Fs(t,"")}if(r.path==="")return r;throw cFe(t)}static makeFromUrl(t,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(_){_.path.charAt(_.path.length-1)==="/"&&(_.path_=_.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function u(_){_.path_=decodeURIComponent(_.path)}const c="v[A-Za-z0-9_]+",d=n.replace(/[.]/g,"\\."),f="(/([^?#]*).*)?$",p=new RegExp(`^https?://${d}/${c}/b/${i}/o${f}`,"i"),h={bucket:1,path:3},g=n===Cz?"(?:storage.googleapis.com|storage.cloud.google.com)":n,m="([^?#]*)",v=new RegExp(`^https?://${g}/${i}/${m}`,"i"),b=[{regex:a,indices:l,postModify:s},{regex:p,indices:h,postModify:u},{regex:v,indices:{bucket:1,path:2},postModify:u}];for(let _=0;_<b.length;_++){const S=b[_],I=S.regex.exec(t);if(I){const T=I[S.indices.bucket];let w=I[S.indices.path];w||(w=""),r=new Fs(T,w),S.postModify(r);break}}if(r==null)throw uFe(t);return r}}class fFe{constructor(t){this.promise_=Promise.reject(t)}getPromise(){return this.promise_}cancel(t=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pFe(e,t,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let u=!1;function c(...m){u||(u=!0,t.apply(null,m))}function d(m){i=setTimeout(()=>{i=null,e(p,l())},m)}function f(){s&&clearTimeout(s)}function p(m,...v){if(u){f();return}if(m){f(),c.call(null,m,...v);return}if(l()||o){f(),c.call(null,m,...v);return}r<64&&(r*=2);let b;a===1?(a=2,b=0):b=(r+Math.random())*1e3,d(b)}let h=!1;function g(m){h||(h=!0,f(),!u&&(i!==null?(m||(a=2),clearTimeout(i),d(0)):m||(a=1)))}return d(0),s=setTimeout(()=>{o=!0,g(!0)},n),g}function hFe(e){e(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gFe(e){return e!==void 0}function l2(e,t,n,r){if(r<t)throw a2(`Invalid value for '${e}'. Expected ${t} or greater.`);if(r>n)throw a2(`Invalid value for '${e}'. Expected ${n} or less.`)}function mFe(e){const t=encodeURIComponent;let n="?";for(const r in e)if(e.hasOwnProperty(r)){const i=t(r)+"="+t(e[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var y0;(function(e){e[e.NO_ERROR=0]="NO_ERROR",e[e.NETWORK_ERROR=1]="NETWORK_ERROR",e[e.ABORT=2]="ABORT"})(y0||(y0={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vFe(e,t){const n=e>=500&&e<600,i=[408,429].indexOf(e)!==-1,s=t.indexOf(e)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yFe{constructor(t,n,r,i,s,o,a,l,u,c,d,f=!0){this.url_=t,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=u,this.progressCallback_=c,this.connectionFactory_=d,this.retry=f,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((p,h)=>{this.resolve_=p,this.reject_=h,this.start_()})}start_(){const t=(r,i)=>{if(i){r(!1,new zv(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,u=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,u)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===y0.NO_ERROR,l=s.getStatus();if(!a||vFe(l,this.additionalRetryCodes_)&&this.retry){const c=s.getErrorCode()===y0.ABORT;r(!1,new zv(!1,null,c));return}const u=this.successCodes_.indexOf(l)!==-1;r(!0,new zv(u,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());gFe(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=oFe();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?Az():lFe();o(l)}else{const l=aFe();o(l)}};this.canceled_?n(!1,new zv(!1,null,!0)):this.backoffId_=pFe(t,n,this.timeout_)}getPromise(){return this.promise_}cancel(t){this.canceled_=!0,this.appDelete_=t||!1,this.backoffId_!==null&&hFe(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class zv{constructor(t,n,r){this.wasSuccessCode=t,this.connection=n,this.canceled=!!r}}function _Fe(e,t){t!==null&&t.length>0&&(e.Authorization="Firebase "+t)}function bFe(e,t){e["X-Firebase-Storage-Version"]="webjs/"+(t??"AppManager")}function wFe(e,t){t&&(e["X-Firebase-GMPID"]=t)}function EFe(e,t){t!==null&&(e["X-Firebase-AppCheck"]=t)}function $Fe(e,t,n,r,i,s,o=!0){const a=mFe(e.urlParams),l=e.url+a,u=Object.assign({},e.headers);return wFe(u,t),_Fe(u,n),bFe(u,s),EFe(u,r),new yFe(l,e.method,u,e.body,e.successCodes,e.additionalRetryCodes,e.handler,e.errorHandler,e.timeout,e.progressCallback,i,o)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SFe(e){if(e.length===0)return null;const t=e.lastIndexOf("/");return t===-1?"":e.slice(0,t)}function xFe(e){const t=e.lastIndexOf("/",e.length-2);return t===-1?e:e.slice(t+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _0{constructor(t,n){this._service=t,n instanceof Fs?this._location=n:this._location=Fs.makeFromUrl(n,t.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(t,n){return new _0(t,n)}get root(){const t=new Fs(this._location.bucket,"");return this._newRef(this._service,t)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return xFe(this._location.path)}get storage(){return this._service}get parent(){const t=SFe(this._location.path);if(t===null)return null;const n=new Fs(this._location.bucket,t);return new _0(this._service,n)}_throwIfRoot(t){if(this._location.path==="")throw dFe(t)}}function u2(e,t){const n=t==null?void 0:t[rFe];return n==null?null:Fs.makeFromBucketSpec(n,e)}class TFe{constructor(t,n,r,i,s){this.app=t,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Cz,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=iFe,this._maxUploadRetryTime=sFe,this._requests=new Set,i!=null?this._bucket=Fs.makeFromBucketSpec(i,this._host):this._bucket=u2(this._host,this.app.options)}get host(){return this._host}set host(t){this._host=t,this._url!=null?this._bucket=Fs.makeFromBucketSpec(this._url,t):this._bucket=u2(t,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(t){l2("time",0,Number.POSITIVE_INFINITY,t),this._maxUploadRetryTime=t}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(t){l2("time",0,Number.POSITIVE_INFINITY,t),this._maxOperationRetryTime=t}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const t=this._authProvider.getImmediate({optional:!0});if(t){const n=await t.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const t=this._appCheckProvider.getImmediate({optional:!0});return t?(await t.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(t=>t.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(t){return new _0(this,t)}_makeRequest(t,n,r,i,s=!0){if(this._deleted)return new fFe(Az());{const o=$Fe(t,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(t,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(t,n,r,i).getPromise()}}const c2="@firebase/storage",d2="0.11.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IFe="storage";function CFe(e,{instanceIdentifier:t}){const n=e.getProvider("app").getImmediate(),r=e.getProvider("auth-internal"),i=e.getProvider("app-check-internal");return new TFe(n,r,i,t,jl)}function AFe(){fi(new ni(IFe,CFe,"PUBLIC").setMultipleInstances(!0)),mr(c2,d2,""),mr(c2,d2,"esm2017")}AFe();function kFe(e){return(t,n)=>{const r=tFe(t,n).run(()=>ne(e));Tz.set(t,r),nFe(r,t)}}function OFe(e,{firebaseApp:t,modules:n=[]}){e.provide(Sz,t);for(const r of n)e.use(r.bind(null,t))}/*!
  * vue-router v4.2.2
  * (c) 2023 Eduardo San Martin Morote
  * @license MIT
  */const ud=typeof window<"u";function PFe(e){return e.__esModule||e[Symbol.toStringTag]==="Module"}const tn=Object.assign;function RE(e,t){const n={};for(const r in t){const i=t[r];n[r]=Ys(i)?i.map(e):e(i)}return n}const kh=()=>{},Ys=Array.isArray,RFe=/\/$/,DFe=e=>e.replace(RFe,"");function DE(e,t,n="/"){let r,i={},s="",o="";const a=t.indexOf("#");let l=t.indexOf("?");return a<l&&a>=0&&(l=-1),l>-1&&(r=t.slice(0,l),s=t.slice(l+1,a>-1?a:t.length),i=e(s)),a>-1&&(r=r||t.slice(0,a),o=t.slice(a,t.length)),r=FFe(r??t,n),{fullPath:r+(s&&"?")+s+o,path:r,query:i,hash:o}}function NFe(e,t){const n=t.query?e(t.query):"";return t.path+(n&&"?")+n+(t.hash||"")}function f2(e,t){return!t||!e.toLowerCase().startsWith(t.toLowerCase())?e:e.slice(t.length)||"/"}function MFe(e,t,n){const r=t.matched.length-1,i=n.matched.length-1;return r>-1&&r===i&&Cf(t.matched[r],n.matched[i])&&kz(t.params,n.params)&&e(t.query)===e(n.query)&&t.hash===n.hash}function Cf(e,t){return(e.aliasOf||e)===(t.aliasOf||t)}function kz(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(!LFe(e[n],t[n]))return!1;return!0}function LFe(e,t){return Ys(e)?p2(e,t):Ys(t)?p2(t,e):e===t}function p2(e,t){return Ys(t)?e.length===t.length&&e.every((n,r)=>n===t[r]):e.length===1&&e[0]===t}function FFe(e,t){if(e.startsWith("/"))return e;if(!e)return t;const n=t.split("/"),r=e.split("/"),i=r[r.length-1];(i===".."||i===".")&&r.push("");let s=n.length-1,o,a;for(o=0;o<r.length;o++)if(a=r[o],a!==".")if(a==="..")s>1&&s--;else break;return n.slice(0,s).join("/")+"/"+r.slice(o-(o===r.length?1:0)).join("/")}var Ug;(function(e){e.pop="pop",e.push="push"})(Ug||(Ug={}));var Oh;(function(e){e.back="back",e.forward="forward",e.unknown=""})(Oh||(Oh={}));function BFe(e){if(!e)if(ud){const t=document.querySelector("base");e=t&&t.getAttribute("href")||"/",e=e.replace(/^\w+:\/\/[^\/]+/,"")}else e="/";return e[0]!=="/"&&e[0]!=="#"&&(e="/"+e),DFe(e)}const UFe=/^[^#]+#/;function VFe(e,t){return e.replace(UFe,"#")+t}function HFe(e,t){const n=document.documentElement.getBoundingClientRect(),r=e.getBoundingClientRect();return{behavior:t.behavior,left:r.left-n.left-(t.left||0),top:r.top-n.top-(t.top||0)}}const Pw=()=>({left:window.pageXOffset,top:window.pageYOffset});function jFe(e){let t;if("el"in e){const n=e.el,r=typeof n=="string"&&n.startsWith("#"),i=typeof n=="string"?r?document.getElementById(n.slice(1)):document.querySelector(n):n;if(!i)return;t=HFe(i,e)}else t=e;"scrollBehavior"in document.documentElement.style?window.scrollTo(t):window.scrollTo(t.left!=null?t.left:window.pageXOffset,t.top!=null?t.top:window.pageYOffset)}function h2(e,t){return(history.state?history.state.position-t:-1)+e}const _x=new Map;function WFe(e,t){_x.set(e,t)}function qFe(e){const t=_x.get(e);return _x.delete(e),t}let zFe=()=>location.protocol+"//"+location.host;function Oz(e,t){const{pathname:n,search:r,hash:i}=t,s=e.indexOf("#");if(s>-1){let a=i.includes(e.slice(s))?e.slice(s).length:1,l=i.slice(a);return l[0]!=="/"&&(l="/"+l),f2(l,"")}return f2(n,e)+r+i}function KFe(e,t,n,r){let i=[],s=[],o=null;const a=({state:f})=>{const p=Oz(e,location),h=n.value,g=t.value;let m=0;if(f){if(n.value=p,t.value=f,o&&o===h){o=null;return}m=g?f.position-g.position:0}else r(p);i.forEach(v=>{v(n.value,h,{delta:m,type:Ug.pop,direction:m?m>0?Oh.forward:Oh.back:Oh.unknown})})};function l(){o=n.value}function u(f){i.push(f);const p=()=>{const h=i.indexOf(f);h>-1&&i.splice(h,1)};return s.push(p),p}function c(){const{history:f}=window;f.state&&f.replaceState(tn({},f.state,{scroll:Pw()}),"")}function d(){for(const f of s)f();s=[],window.removeEventListener("popstate",a),window.removeEventListener("beforeunload",c)}return window.addEventListener("popstate",a),window.addEventListener("beforeunload",c,{passive:!0}),{pauseListeners:l,listen:u,destroy:d}}function g2(e,t,n,r=!1,i=!1){return{back:e,current:t,forward:n,replaced:r,position:window.history.length,scroll:i?Pw():null}}function GFe(e){const{history:t,location:n}=window,r={value:Oz(e,n)},i={value:t.state};i.value||s(r.value,{back:null,current:r.value,forward:null,position:t.length-1,replaced:!0,scroll:null},!0);function s(l,u,c){const d=e.indexOf("#"),f=d>-1?(n.host&&document.querySelector("base")?e:e.slice(d))+l:zFe()+e+l;try{t[c?"replaceState":"pushState"](u,"",f),i.value=u}catch(p){console.error(p),n[c?"replace":"assign"](f)}}function o(l,u){const c=tn({},t.state,g2(i.value.back,l,i.value.forward,!0),u,{position:i.value.position});s(l,c,!0),r.value=l}function a(l,u){const c=tn({},i.value,t.state,{forward:l,scroll:Pw()});s(c.current,c,!0);const d=tn({},g2(r.value,l,null),{position:c.position+1},u);s(l,d,!1),r.value=l}return{location:r,state:i,push:a,replace:o}}function YFe(e){e=BFe(e);const t=GFe(e),n=KFe(e,t.state,t.location,t.replace);function r(s,o=!0){o||n.pauseListeners(),history.go(s)}const i=tn({location:"",base:e,go:r,createHref:VFe.bind(null,e)},t,n);return Object.defineProperty(i,"location",{enumerable:!0,get:()=>t.location.value}),Object.defineProperty(i,"state",{enumerable:!0,get:()=>t.state.value}),i}function XFe(e){return typeof e=="string"||e&&typeof e=="object"}function Pz(e){return typeof e=="string"||typeof e=="symbol"}const za={path:"/",name:void 0,params:{},query:{},hash:"",fullPath:"/",matched:[],meta:{},redirectedFrom:void 0},Rz=Symbol("");var m2;(function(e){e[e.aborted=4]="aborted",e[e.cancelled=8]="cancelled",e[e.duplicated=16]="duplicated"})(m2||(m2={}));function Af(e,t){return tn(new Error,{type:e,[Rz]:!0},t)}function Uo(e,t){return e instanceof Error&&Rz in e&&(t==null||!!(e.type&t))}const v2="[^/]+?",QFe={sensitive:!1,strict:!1,start:!0,end:!0},JFe=/[.+*?^${}()[\]/\\]/g;function ZFe(e,t){const n=tn({},QFe,t),r=[];let i=n.start?"^":"";const s=[];for(const u of e){const c=u.length?[]:[90];n.strict&&!u.length&&(i+="/");for(let d=0;d<u.length;d++){const f=u[d];let p=40+(n.sensitive?.25:0);if(f.type===0)d||(i+="/"),i+=f.value.replace(JFe,"\\$&"),p+=40;else if(f.type===1){const{value:h,repeatable:g,optional:m,regexp:v}=f;s.push({name:h,repeatable:g,optional:m});const y=v||v2;if(y!==v2){p+=10;try{new RegExp(`(${y})`)}catch(_){throw new Error(`Invalid custom RegExp for param "${h}" (${y}): `+_.message)}}let b=g?`((?:${y})(?:/(?:${y}))*)`:`(${y})`;d||(b=m&&u.length<2?`(?:/${b})`:"/"+b),m&&(b+="?"),i+=b,p+=20,m&&(p+=-8),g&&(p+=-20),y===".*"&&(p+=-50)}c.push(p)}r.push(c)}if(n.strict&&n.end){const u=r.length-1;r[u][r[u].length-1]+=.7000000000000001}n.strict||(i+="/?"),n.end?i+="$":n.strict&&(i+="(?:/|$)");const o=new RegExp(i,n.sensitive?"":"i");function a(u){const c=u.match(o),d={};if(!c)return null;for(let f=1;f<c.length;f++){const p=c[f]||"",h=s[f-1];d[h.name]=p&&h.repeatable?p.split("/"):p}return d}function l(u){let c="",d=!1;for(const f of e){(!d||!c.endsWith("/"))&&(c+="/"),d=!1;for(const p of f)if(p.type===0)c+=p.value;else if(p.type===1){const{value:h,repeatable:g,optional:m}=p,v=h in u?u[h]:"";if(Ys(v)&&!g)throw new Error(`Provided param "${h}" is an array but it is not repeatable (* or + modifiers)`);const y=Ys(v)?v.join("/"):v;if(!y)if(m)f.length<2&&(c.endsWith("/")?c=c.slice(0,-1):d=!0);else throw new Error(`Missing required param "${h}"`);c+=y}}return c||"/"}return{re:o,score:r,keys:s,parse:a,stringify:l}}function eBe(e,t){let n=0;for(;n<e.length&&n<t.length;){const r=t[n]-e[n];if(r)return r;n++}return e.length<t.length?e.length===1&&e[0]===40+40?-1:1:e.length>t.length?t.length===1&&t[0]===40+40?1:-1:0}function tBe(e,t){let n=0;const r=e.score,i=t.score;for(;n<r.length&&n<i.length;){const s=eBe(r[n],i[n]);if(s)return s;n++}if(Math.abs(i.length-r.length)===1){if(y2(r))return 1;if(y2(i))return-1}return i.length-r.length}function y2(e){const t=e[e.length-1];return e.length>0&&t[t.length-1]<0}const nBe={type:0,value:""},rBe=/[a-zA-Z0-9_]/;function iBe(e){if(!e)return[[]];if(e==="/")return[[nBe]];if(!e.startsWith("/"))throw new Error(`Invalid path "${e}"`);function t(p){throw new Error(`ERR (${n})/"${u}": ${p}`)}let n=0,r=n;const i=[];let s;function o(){s&&i.push(s),s=[]}let a=0,l,u="",c="";function d(){u&&(n===0?s.push({type:0,value:u}):n===1||n===2||n===3?(s.length>1&&(l==="*"||l==="+")&&t(`A repeatable param (${u}) must be alone in its segment. eg: '/:ids+.`),s.push({type:1,value:u,regexp:c,repeatable:l==="*"||l==="+",optional:l==="*"||l==="?"})):t("Invalid state to consume buffer"),u="")}function f(){u+=l}for(;a<e.length;){if(l=e[a++],l==="\\"&&n!==2){r=n,n=4;continue}switch(n){case 0:l==="/"?(u&&d(),o()):l===":"?(d(),n=1):f();break;case 4:f(),n=r;break;case 1:l==="("?n=2:rBe.test(l)?f():(d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--);break;case 2:l===")"?c[c.length-1]=="\\"?c=c.slice(0,-1)+l:n=3:c+=l;break;case 3:d(),n=0,l!=="*"&&l!=="?"&&l!=="+"&&a--,c="";break;default:t("Unknown state");break}}return n===2&&t(`Unfinished custom RegExp for param "${u}"`),d(),o(),i}function sBe(e,t,n){const r=ZFe(iBe(e.path),n),i=tn(r,{record:e,parent:t,children:[],alias:[]});return t&&!i.record.aliasOf==!t.record.aliasOf&&t.children.push(i),i}function oBe(e,t){const n=[],r=new Map;t=w2({strict:!1,end:!0,sensitive:!1},t);function i(c){return r.get(c)}function s(c,d,f){const p=!f,h=aBe(c);h.aliasOf=f&&f.record;const g=w2(t,c),m=[h];if("alias"in c){const b=typeof c.alias=="string"?[c.alias]:c.alias;for(const _ of b)m.push(tn({},h,{components:f?f.record.components:h.components,path:_,aliasOf:f?f.record:h}))}let v,y;for(const b of m){const{path:_}=b;if(d&&_[0]!=="/"){const S=d.record.path,I=S[S.length-1]==="/"?"":"/";b.path=d.record.path+(_&&I+_)}if(v=sBe(b,d,g),f?f.alias.push(v):(y=y||v,y!==v&&y.alias.push(v),p&&c.name&&!b2(v)&&o(c.name)),h.children){const S=h.children;for(let I=0;I<S.length;I++)s(S[I],v,f&&f.children[I])}f=f||v,(v.record.components&&Object.keys(v.record.components).length||v.record.name||v.record.redirect)&&l(v)}return y?()=>{o(y)}:kh}function o(c){if(Pz(c)){const d=r.get(c);d&&(r.delete(c),n.splice(n.indexOf(d),1),d.children.forEach(o),d.alias.forEach(o))}else{const d=n.indexOf(c);d>-1&&(n.splice(d,1),c.record.name&&r.delete(c.record.name),c.children.forEach(o),c.alias.forEach(o))}}function a(){return n}function l(c){let d=0;for(;d<n.length&&tBe(c,n[d])>=0&&(c.record.path!==n[d].record.path||!Dz(c,n[d]));)d++;n.splice(d,0,c),c.record.name&&!b2(c)&&r.set(c.record.name,c)}function u(c,d){let f,p={},h,g;if("name"in c&&c.name){if(f=r.get(c.name),!f)throw Af(1,{location:c});g=f.record.name,p=tn(_2(d.params,f.keys.filter(y=>!y.optional).map(y=>y.name)),c.params&&_2(c.params,f.keys.map(y=>y.name))),h=f.stringify(p)}else if("path"in c)h=c.path,f=n.find(y=>y.re.test(h)),f&&(p=f.parse(h),g=f.record.name);else{if(f=d.name?r.get(d.name):n.find(y=>y.re.test(d.path)),!f)throw Af(1,{location:c,currentLocation:d});g=f.record.name,p=tn({},d.params,c.params),h=f.stringify(p)}const m=[];let v=f;for(;v;)m.unshift(v.record),v=v.parent;return{name:g,path:h,params:p,matched:m,meta:uBe(m)}}return e.forEach(c=>s(c)),{addRoute:s,resolve:u,removeRoute:o,getRoutes:a,getRecordMatcher:i}}function _2(e,t){const n={};for(const r of t)r in e&&(n[r]=e[r]);return n}function aBe(e){return{path:e.path,redirect:e.redirect,name:e.name,meta:e.meta||{},aliasOf:void 0,beforeEnter:e.beforeEnter,props:lBe(e),children:e.children||[],instances:{},leaveGuards:new Set,updateGuards:new Set,enterCallbacks:{},components:"components"in e?e.components||null:e.component&&{default:e.component}}}function lBe(e){const t={},n=e.props||!1;if("component"in e)t.default=n;else for(const r in e.components)t[r]=typeof n=="boolean"?n:n[r];return t}function b2(e){for(;e;){if(e.record.aliasOf)return!0;e=e.parent}return!1}function uBe(e){return e.reduce((t,n)=>tn(t,n.meta),{})}function w2(e,t){const n={};for(const r in e)n[r]=r in t?t[r]:e[r];return n}function Dz(e,t){return t.children.some(n=>n===e||Dz(e,n))}const Nz=/#/g,cBe=/&/g,dBe=/\//g,fBe=/=/g,pBe=/\?/g,Mz=/\+/g,hBe=/%5B/g,gBe=/%5D/g,Lz=/%5E/g,mBe=/%60/g,Fz=/%7B/g,vBe=/%7C/g,Bz=/%7D/g,yBe=/%20/g;function Ok(e){return encodeURI(""+e).replace(vBe,"|").replace(hBe,"[").replace(gBe,"]")}function _Be(e){return Ok(e).replace(Fz,"{").replace(Bz,"}").replace(Lz,"^")}function bx(e){return Ok(e).replace(Mz,"%2B").replace(yBe,"+").replace(Nz,"%23").replace(cBe,"%26").replace(mBe,"`").replace(Fz,"{").replace(Bz,"}").replace(Lz,"^")}function bBe(e){return bx(e).replace(fBe,"%3D")}function wBe(e){return Ok(e).replace(Nz,"%23").replace(pBe,"%3F")}function EBe(e){return e==null?"":wBe(e).replace(dBe,"%2F")}function b0(e){try{return decodeURIComponent(""+e)}catch{}return""+e}function $Be(e){const t={};if(e===""||e==="?")return t;const r=(e[0]==="?"?e.slice(1):e).split("&");for(let i=0;i<r.length;++i){const s=r[i].replace(Mz," "),o=s.indexOf("="),a=b0(o<0?s:s.slice(0,o)),l=o<0?null:b0(s.slice(o+1));if(a in t){let u=t[a];Ys(u)||(u=t[a]=[u]),u.push(l)}else t[a]=l}return t}function E2(e){let t="";for(let n in e){const r=e[n];if(n=bBe(n),r==null){r!==void 0&&(t+=(t.length?"&":"")+n);continue}(Ys(r)?r.map(s=>s&&bx(s)):[r&&bx(r)]).forEach(s=>{s!==void 0&&(t+=(t.length?"&":"")+n,s!=null&&(t+="="+s))})}return t}function SBe(e){const t={};for(const n in e){const r=e[n];r!==void 0&&(t[n]=Ys(r)?r.map(i=>i==null?null:""+i):r==null?r:""+r)}return t}const xBe=Symbol(""),$2=Symbol(""),Rw=Symbol(""),Pk=Symbol(""),wx=Symbol("");function Mp(){let e=[];function t(r){return e.push(r),()=>{const i=e.indexOf(r);i>-1&&e.splice(i,1)}}function n(){e=[]}return{add:t,list:()=>e,reset:n}}function Qa(e,t,n,r,i){const s=r&&(r.enterCallbacks[i]=r.enterCallbacks[i]||[]);return()=>new Promise((o,a)=>{const l=d=>{d===!1?a(Af(4,{from:n,to:t})):d instanceof Error?a(d):XFe(d)?a(Af(2,{from:t,to:d})):(s&&r.enterCallbacks[i]===s&&typeof d=="function"&&s.push(d),o())},u=e.call(r&&r.instances[i],t,n,l);let c=Promise.resolve(u);e.length<3&&(c=c.then(l)),c.catch(d=>a(d))})}function NE(e,t,n,r){const i=[];for(const s of e)for(const o in s.components){let a=s.components[o];if(!(t!=="beforeRouteEnter"&&!s.instances[o]))if(TBe(a)){const u=(a.__vccOpts||a)[t];u&&i.push(Qa(u,n,r,s,o))}else{let l=a();i.push(()=>l.then(u=>{if(!u)return Promise.reject(new Error(`Couldn't resolve component "${o}" at "${s.path}"`));const c=PFe(u)?u.default:u;s.components[o]=c;const f=(c.__vccOpts||c)[t];return f&&Qa(f,n,r,s,o)()}))}}return i}function TBe(e){return typeof e=="object"||"displayName"in e||"props"in e||"__vccOpts"in e}function S2(e){const t=lt(Rw),n=lt(Pk),r=Ae(()=>t.resolve(ve(e.to))),i=Ae(()=>{const{matched:l}=r.value,{length:u}=l,c=l[u-1],d=n.matched;if(!c||!d.length)return-1;const f=d.findIndex(Cf.bind(null,c));if(f>-1)return f;const p=x2(l[u-2]);return u>1&&x2(c)===p&&d[d.length-1].path!==p?d.findIndex(Cf.bind(null,l[u-2])):f}),s=Ae(()=>i.value>-1&&kBe(n.params,r.value.params)),o=Ae(()=>i.value>-1&&i.value===n.matched.length-1&&kz(n.params,r.value.params));function a(l={}){return ABe(l)?t[ve(e.replace)?"replace":"push"](ve(e.to)).catch(kh):Promise.resolve()}return{route:r,href:Ae(()=>r.value.href),isActive:s,isExactActive:o,navigate:a}}const IBe=mn({name:"RouterLink",compatConfig:{MODE:3},props:{to:{type:[String,Object],required:!0},replace:Boolean,activeClass:String,exactActiveClass:String,custom:Boolean,ariaCurrentValue:{type:String,default:"page"}},useLink:S2,setup(e,{slots:t}){const n=Wi(S2(e)),{options:r}=lt(Rw),i=Ae(()=>({[T2(e.activeClass,r.linkActiveClass,"router-link-active")]:n.isActive,[T2(e.exactActiveClass,r.linkExactActiveClass,"router-link-exact-active")]:n.isExactActive}));return()=>{const s=t.default&&t.default(n);return e.custom?s:Xt("a",{"aria-current":n.isExactActive?e.ariaCurrentValue:null,href:n.href,onClick:n.navigate,class:i.value},s)}}}),CBe=IBe;function ABe(e){if(!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)&&!e.defaultPrevented&&!(e.button!==void 0&&e.button!==0)){if(e.currentTarget&&e.currentTarget.getAttribute){const t=e.currentTarget.getAttribute("target");if(/\b_blank\b/i.test(t))return}return e.preventDefault&&e.preventDefault(),!0}}function kBe(e,t){for(const n in t){const r=t[n],i=e[n];if(typeof r=="string"){if(r!==i)return!1}else if(!Ys(i)||i.length!==r.length||r.some((s,o)=>s!==i[o]))return!1}return!0}function x2(e){return e?e.aliasOf?e.aliasOf.path:e.path:""}const T2=(e,t,n)=>e??t??n,OBe=mn({name:"RouterView",inheritAttrs:!1,props:{name:{type:String,default:"default"},route:Object},compatConfig:{MODE:3},setup(e,{attrs:t,slots:n}){const r=lt(wx),i=Ae(()=>e.route||r.value),s=lt($2,0),o=Ae(()=>{let u=ve(s);const{matched:c}=i.value;let d;for(;(d=c[u])&&!d.components;)u++;return u}),a=Ae(()=>i.value.matched[o.value]);Kn($2,Ae(()=>o.value+1)),Kn(xBe,a),Kn(wx,i);const l=ne();return xt(()=>[l.value,a.value,e.name],([u,c,d],[f,p,h])=>{c&&(c.instances[d]=u,p&&p!==c&&u&&u===f&&(c.leaveGuards.size||(c.leaveGuards=p.leaveGuards),c.updateGuards.size||(c.updateGuards=p.updateGuards))),u&&c&&(!p||!Cf(c,p)||!f)&&(c.enterCallbacks[d]||[]).forEach(g=>g(u))},{flush:"post"}),()=>{const u=i.value,c=e.name,d=a.value,f=d&&d.components[c];if(!f)return I2(n.default,{Component:f,route:u});const p=d.props[c],h=p?p===!0?u.params:typeof p=="function"?p(u):p:null,m=Xt(f,tn({},h,t,{onVnodeUnmounted:v=>{v.component.isUnmounted&&(d.instances[c]=null)},ref:l}));return I2(n.default,{Component:m,route:u})||m}}});function I2(e,t){if(!e)return null;const n=e(t);return n.length===1?n[0]:n}const PBe=OBe;function RBe(e){const t=oBe(e.routes,e),n=e.parseQuery||$Be,r=e.stringifyQuery||E2,i=e.history,s=Mp(),o=Mp(),a=Mp(),l=da(za);let u=za;ud&&e.scrollBehavior&&"scrollRestoration"in history&&(history.scrollRestoration="manual");const c=RE.bind(null,L=>""+L),d=RE.bind(null,EBe),f=RE.bind(null,b0);function p(L,W){let q,ue;return Pz(L)?(q=t.getRecordMatcher(L),ue=W):ue=L,t.addRoute(ue,q)}function h(L){const W=t.getRecordMatcher(L);W&&t.removeRoute(W)}function g(){return t.getRoutes().map(L=>L.record)}function m(L){return!!t.getRecordMatcher(L)}function v(L,W){if(W=tn({},W||l.value),typeof L=="string"){const U=DE(n,L,W.path),z=t.resolve({path:U.path},W),Q=i.createHref(U.fullPath);return tn(U,z,{params:f(z.params),hash:b0(U.hash),redirectedFrom:void 0,href:Q})}let q;if("path"in L)q=tn({},L,{path:DE(n,L.path,W.path).path});else{const U=tn({},L.params);for(const z in U)U[z]==null&&delete U[z];q=tn({},L,{params:d(U)}),W.params=d(W.params)}const ue=t.resolve(q,W),Fe=L.hash||"";ue.params=c(f(ue.params));const P=NFe(r,tn({},L,{hash:_Be(Fe),path:ue.path})),R=i.createHref(P);return tn({fullPath:P,hash:Fe,query:r===E2?SBe(L.query):L.query||{}},ue,{redirectedFrom:void 0,href:R})}function y(L){return typeof L=="string"?DE(n,L,l.value.path):tn({},L)}function b(L,W){if(u!==L)return Af(8,{from:W,to:L})}function _(L){return T(L)}function S(L){return _(tn(y(L),{replace:!0}))}function I(L){const W=L.matched[L.matched.length-1];if(W&&W.redirect){const{redirect:q}=W;let ue=typeof q=="function"?q(L):q;return typeof ue=="string"&&(ue=ue.includes("?")||ue.includes("#")?ue=y(ue):{path:ue},ue.params={}),tn({query:L.query,hash:L.hash,params:"path"in ue?{}:L.params},ue)}}function T(L,W){const q=u=v(L),ue=l.value,Fe=L.state,P=L.force,R=L.replace===!0,U=I(q);if(U)return T(tn(y(U),{state:typeof U=="object"?tn({},Fe,U.state):Fe,force:P,replace:R}),W||q);const z=q;z.redirectedFrom=W;let Q;return!P&&MFe(r,ue,q)&&(Q=Af(16,{to:z,from:ue}),Ye(ue,ue,!0,!1)),(Q?Promise.resolve(Q):E(z,ue)).catch(J=>Uo(J)?Uo(J,2)?J:ft(J):xe(J,z,ue)).then(J=>{if(J){if(Uo(J,2))return T(tn({replace:R},y(J.to),{state:typeof J.to=="object"?tn({},Fe,J.to.state):Fe,force:P}),W||z)}else J=M(z,ue,!0,R,Fe);return O(z,ue,J),J})}function w(L,W){const q=b(L,W);return q?Promise.reject(q):Promise.resolve()}function x(L){const W=j.values().next().value;return W&&typeof W.runWithContext=="function"?W.runWithContext(L):L()}function E(L,W){let q;const[ue,Fe,P]=DBe(L,W);q=NE(ue.reverse(),"beforeRouteLeave",L,W);for(const U of ue)U.leaveGuards.forEach(z=>{q.push(Qa(z,L,W))});const R=w.bind(null,L,W);return q.push(R),G(q).then(()=>{q=[];for(const U of s.list())q.push(Qa(U,L,W));return q.push(R),G(q)}).then(()=>{q=NE(Fe,"beforeRouteUpdate",L,W);for(const U of Fe)U.updateGuards.forEach(z=>{q.push(Qa(z,L,W))});return q.push(R),G(q)}).then(()=>{q=[];for(const U of L.matched)if(U.beforeEnter&&!W.matched.includes(U))if(Ys(U.beforeEnter))for(const z of U.beforeEnter)q.push(Qa(z,L,W));else q.push(Qa(U.beforeEnter,L,W));return q.push(R),G(q)}).then(()=>(L.matched.forEach(U=>U.enterCallbacks={}),q=NE(P,"beforeRouteEnter",L,W),q.push(R),G(q))).then(()=>{q=[];for(const U of o.list())q.push(Qa(U,L,W));return q.push(R),G(q)}).catch(U=>Uo(U,8)?U:Promise.reject(U))}function O(L,W,q){for(const ue of a.list())x(()=>ue(L,W,q))}function M(L,W,q,ue,Fe){const P=b(L,W);if(P)return P;const R=W===za,U=ud?history.state:{};q&&(ue||R?i.replace(L.fullPath,tn({scroll:R&&U&&U.scroll},Fe)):i.push(L.fullPath,Fe)),l.value=L,Ye(L,W,q,R),ft()}let V;function H(){V||(V=i.listen((L,W,q)=>{if(!X.listening)return;const ue=v(L),Fe=I(ue);if(Fe){T(tn(Fe,{replace:!0}),ue).catch(kh);return}u=ue;const P=l.value;ud&&WFe(h2(P.fullPath,q.delta),Pw()),E(ue,P).catch(R=>Uo(R,12)?R:Uo(R,2)?(T(R.to,ue).then(U=>{Uo(U,20)&&!q.delta&&q.type===Ug.pop&&i.go(-1,!1)}).catch(kh),Promise.reject()):(q.delta&&i.go(-q.delta,!1),xe(R,ue,P))).then(R=>{R=R||M(ue,P,!1),R&&(q.delta&&!Uo(R,8)?i.go(-q.delta,!1):q.type===Ug.pop&&Uo(R,20)&&i.go(-1,!1)),O(ue,P,R)}).catch(kh)}))}let me=Mp(),ce=Mp(),ae;function xe(L,W,q){ft(L);const ue=ce.list();return ue.length?ue.forEach(Fe=>Fe(L,W,q)):console.error(L),Promise.reject(L)}function Ie(){return ae&&l.value!==za?Promise.resolve():new Promise((L,W)=>{me.add([L,W])})}function ft(L){return ae||(ae=!L,H(),me.list().forEach(([W,q])=>L?q(L):W()),me.reset()),L}function Ye(L,W,q,ue){const{scrollBehavior:Fe}=e;if(!ud||!Fe)return Promise.resolve();const P=!q&&qFe(h2(L.fullPath,0))||(ue||!q)&&history.state&&history.state.scroll||null;return qn().then(()=>Fe(L,W,P)).then(R=>R&&jFe(R)).catch(R=>xe(R,L,W))}const St=L=>i.go(L);let F;const j=new Set,X={currentRoute:l,listening:!0,addRoute:p,removeRoute:h,hasRoute:m,getRoutes:g,resolve:v,options:e,push:_,replace:S,go:St,back:()=>St(-1),forward:()=>St(1),beforeEach:s.add,beforeResolve:o.add,afterEach:a.add,onError:ce.add,isReady:Ie,install(L){const W=this;L.component("RouterLink",CBe),L.component("RouterView",PBe),L.config.globalProperties.$router=W,Object.defineProperty(L.config.globalProperties,"$route",{enumerable:!0,get:()=>ve(l)}),ud&&!F&&l.value===za&&(F=!0,_(i.location).catch(Fe=>{}));const q={};for(const Fe in za)q[Fe]=Ae(()=>l.value[Fe]);L.provide(Rw,W),L.provide(Pk,Wi(q)),L.provide(wx,l);const ue=L.unmount;j.add(L),L.unmount=function(){j.delete(L),j.size<1&&(u=za,V&&V(),V=null,l.value=za,F=!1,ae=!1),ue()}}};function G(L){return L.reduce((W,q)=>W.then(()=>x(q)),Promise.resolve())}return X}function DBe(e,t){const n=[],r=[],i=[],s=Math.max(t.matched.length,e.matched.length);for(let o=0;o<s;o++){const a=t.matched[o];a&&(e.matched.find(u=>Cf(u,a))?r.push(a):n.push(a));const l=e.matched[o];l&&(t.matched.find(u=>Cf(u,l))||i.push(l))}return[n,r,i]}function Rk(){return lt(Rw)}function up(){return lt(Pk)}const $ze=async()=>{var r,i,s;const e=Rk(),t=up();if(await kk()){const o=(r=t==null?void 0:t.query)!=null&&r.redirect&&typeof((i=t==null?void 0:t.query)==null?void 0:i.redirect)=="string"?(s=t==null?void 0:t.query)==null?void 0:s.redirect:"/";e.push(o)}},NBe=e=>{var t;return((t=e==null?void 0:e.metadata)==null?void 0:t.createdAt)>1713850333e3?e.emailVerified:!0},MBe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},LBe=Z("path",{fill:"currentColor",d:"m17.705 7.705l-1.41-1.41L12 10.59L7.705 6.295l-1.41 1.41L10.59 12l-4.295 4.295l1.41 1.41L12 13.41l4.295 4.295l1.41-1.41L13.41 12l4.295-4.295z"},null,-1),FBe=[LBe];function BBe(e,t){return re(),Le("svg",MBe,FBe)}const UBe={name:"gridicons-cross-small",render:BBe},VBe={viewBox:"0 0 20 20",width:"1.2em",height:"1.2em"},HBe=Z("path",{fill:"currentColor",d:"M10 1.6a8.4 8.4 0 1 0 0 16.8a8.4 8.4 0 0 0 0-16.8zm4.789 11.461L13.06 14.79L10 11.729l-3.061 3.06L5.21 13.06L8.272 10L5.211 6.939L6.94 5.211L10 8.271l3.061-3.061l1.729 1.729L11.728 10l3.061 3.061z"},null,-1),jBe=[HBe];function WBe(e,t){return re(),Le("svg",VBe,jBe)}const qBe={name:"entypo-circle-with-cross",render:WBe};const Is=(e,t)=>{const n=e.__vccOpts||e;for(const[r,i]of t)n[r]=i;return n},zBe={name:"UiLoader",props:{iconColorClass:{type:String,default:"text-brand-primary"},textColorClass:{type:String,default:"text-slate-800 dark:text-white"},label:{type:String,default:"Loading..."},size:{type:String,default:"base"}},data(){return{classObject:{[`ui-loader-${this.size}`]:this.size,[this.textColorClass]:this.textColorClass}}}},KBe=["aria-label"];function GBe(e,t,n,r,i,s){const o=qBe;return re(),Le("div",{class:Vr(["flex items-center font-black animate-pulse",i.classObject])},[we(o,{class:Vr(["animate-spin ui-loader-icon",n.iconColorClass])},null,8,["class"]),gr(e.$slots,"default",{},()=>[n.label?(re(),Le("span",{key:0,"aria-label":n.label},gs(n.label),9,KBe)):Xe("",!0)])],2)}const Bc=Is(zBe,[["render",GBe]]),YBe={components:{UiLoader:Bc},props:{danger:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},loading:{type:Boolean,default:!1},loadingLabel:{type:String,default:""},loadingClass:{type:String,default:"text-white"},size:{type:String,default:"base"},theme:{type:String,default:"primary"},to:{type:String,default:""}},data(){return{classObject:{[`ui-button-${this.size}`]:this.size,[`ui-button-${this.theme}`]:this.theme,[`ui-button-${this.loading}`]:this.loading,"ui-button-danger":this.danger},loaderClassObject:{[`ui-loader-${this.theme}`]:this.theme}}},computed:{is(){var e,t;return(e=this==null?void 0:this.$attrs)!=null&&e.href?"a":(t=this==null?void 0:this.$props)!=null&&t.to?"router-link":"button"},type(){var e,t;return(e=this==null?void 0:this.$attrs)!=null&&e.type?(t=this==null?void 0:this.$attrs)==null?void 0:t.type:(this==null?void 0:this.is)==="button"?"button":null}}};function XBe(e,t,n,r,i,s){const o=Bc;return re(),We(Yd(s.is),fa({to:n.to,class:["ui-button",i.classObject]},e.$attrs,{type:s.type,disabled:n.loading||n.disabled}),{default:Ze(()=>[n.loading?(re(),We(o,{key:0,textColorClass:n.loadingClass,iconColorClass:n.loadingClass,label:n.loadingLabel,size:n.size,class:"!font-semibold"},null,8,["textColorClass","iconColorClass","label","size"])):gr(e.$slots,"default",{key:1})]),_:3},16,["to","class","type","disabled"])}const Uc=Is(YBe,[["render",XBe]]);const QBe={name:"UiModal",inheritAttrs:!1,props:{actions:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},contentClasses:{type:String,default:""},escToClose:{type:Boolean,default:!0},isAppModal:{type:Boolean,default:!0},loading:{type:Boolean,default:!1},name:{type:String,required:!0},showClose:{type:Boolean,default:!0}},emits:["confirm","cancel"]},JBe={key:0,class:"mr-8 text-xl font-bold pt-1 px-1"},ZBe={class:"flex-grow overflow-auto p-1"},e5e={key:1,class:"flex items-center justify-center flex-shrink-0 space-x-2 pb-1 px-1"},t5e=["onClick"];function n5e(e,t,n,r,i,s){const o=Uc,a=UBe,l=Wu("VueFinalModal");return re(),We(l,fa(e.$attrs,{name:n.name,ssr:!1,"esc-to-close":n.escToClose,"click-to-close":n.clickToClose,classes:"flex justify-center items-center backdrop-blur-sm my-4","content-class":`relative flex flex-col max-h-full p-4 md:p-6 mx-4 space-y-4 bg-white border border-slate-300 rounded-3xl shadow-md ${n.contentClasses}`}),{default:Ze(({params:u,close:c})=>[e.$slots.title?(re(),Le("span",JBe,[gr(e.$slots,"title",{},void 0,!0)])):Xe("",!0),Z("div",ZBe,[gr(e.$slots,"default",{params:u,onClose:t[0]||(t[0]=d=>e.$emit("cancel"))},void 0,!0)]),e.$slots.actions||n.actions?(re(),Le("div",e5e,[gr(e.$slots,"actions",{},()=>[we(o,{size:"sm",theme:n.isAppModal?"brand-primary":"primary",onClick:d=>e.$emit("confirm",c)},{default:Ze(()=>[En(" Confirm ")]),_:2},1032,["theme","onClick"]),we(o,{size:"sm",theme:"outline",onClick:d=>e.$emit("cancel",c)},{default:Ze(()=>[En(" Cancel ")]),_:2},1032,["onClick"])],!0)])):Xe("",!0),n.showClose?(re(),Le("button",{key:2,type:"button",class:"absolute top-2 !mt-0 right-3 text-slate-600 hover:text-red-800",onClick:c},[we(a)],8,t5e)):Xe("",!0)]),_:3},16,["name","esc-to-close","click-to-close","content-class"])}const r5e=Is(QBe,[["render",n5e],["__scopeId","data-v-510e0639"]]),Bu=async(e={},t={},n={})=>{const{$vfm:r}=await At(()=>Promise.resolve().then(()=>Z8),void 0);r==null||r.show({component:r5e,bind:e,on:{confirm(i){i()},...n,cancel(i){i()}},slots:t})},ME=async e=>{const{$vfm:t}=await At(()=>Promise.resolve().then(()=>Z8),void 0);t==null||t.hide(e)};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var _e=function(){return _e=Object.assign||function(t){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(t[s]=n[s])}return t},_e.apply(this,arguments)};function Dk(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n}function Pt(e){var t=typeof Symbol=="function"&&Symbol.iterator,n=t&&e[t],r=0;if(n)return n.call(e);if(e&&typeof e.length=="number")return{next:function(){return e&&r>=e.length&&(e=void 0),{value:e&&e[r++],done:!e}}};throw new TypeError(t?"Object is not iterable.":"Symbol.iterator is not defined.")}function Vt(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s}function In(e,t,n){if(n||arguments.length===2)for(var r=0,i=t.length,s;r<i;r++)(s||!(r in t))&&(s||(s=Array.prototype.slice.call(t,0,r)),s[r]=t[r]);return e.concat(s||Array.prototype.slice.call(t))}var Zt;(function(e){e.Start="xstate.start",e.Stop="xstate.stop",e.Raise="xstate.raise",e.Send="xstate.send",e.Cancel="xstate.cancel",e.NullEvent="",e.Assign="xstate.assign",e.After="xstate.after",e.DoneState="done.state",e.DoneInvoke="done.invoke",e.Log="xstate.log",e.Init="xstate.init",e.Invoke="xstate.invoke",e.ErrorExecution="error.execution",e.ErrorCommunication="error.communication",e.ErrorPlatform="error.platform",e.ErrorCustom="xstate.error",e.Update="xstate.update",e.Pure="xstate.pure",e.Choose="xstate.choose"})(Zt||(Zt={}));var Ul;(function(e){e.Parent="#_parent",e.Internal="#_internal"})(Ul||(Ul={}));var w0=Zt.Start,Dw=Zt.Stop,cp=Zt.Raise,zm=Zt.Send,Nk=Zt.Cancel,Uz=Zt.NullEvent,Nw=Zt.Assign,i5e=Zt.After,s5e=Zt.DoneState,Mw=Zt.Log,Vz=Zt.Init,E0=Zt.Invoke,o5e=Zt.ErrorExecution,Ex=Zt.ErrorPlatform,Mk=Zt.ErrorCustom,Lw=Zt.Update,Hz=Zt.Choose,jz=Zt.Pure;const a5e=Object.freeze(Object.defineProperty({__proto__:null,after:i5e,assign:Nw,cancel:Nk,choose:Hz,doneState:s5e,error:Mk,errorExecution:o5e,errorPlatform:Ex,init:Vz,invoke:E0,log:Mw,nullEvent:Uz,pure:jz,raise:cp,send:zm,start:w0,stop:Dw,update:Lw},Symbol.toStringTag,{value:"Module"}));var Wz=".",C2={},$x="xstate.guard",l5e="",Kv;function Lk(e,t,n){n===void 0&&(n=Wz);var r=Ph(e,n),i=Ph(t,n);return Yt(i)?Yt(r)?i===r:!1:Yt(r)?r in i:Object.keys(r).every(function(s){return s in i?Lk(r[s],i[s]):!1})}function qz(e){try{return Yt(e)||typeof e=="number"?"".concat(e):e.type}catch{throw new Error("Events must be strings or objects with a string event.type property.")}}function Sx(e,t){try{return dp(e)?e:e.toString().split(t)}catch{throw new Error("'".concat(e,"' is not a valid state path."))}}function u5e(e){return typeof e=="object"&&"value"in e&&"context"in e&&"event"in e&&"_event"in e}function Ph(e,t){if(u5e(e))return e.value;if(dp(e))return $0(e);if(typeof e!="string")return e;var n=Sx(e,t);return $0(n)}function $0(e){if(e.length===1)return e[0];for(var t={},n=t,r=0;r<e.length-1;r++)r===e.length-2?n[e[r]]=e[r+1]:(n[e[r]]={},n=n[e[r]]);return t}function rh(e,t){for(var n={},r=Object.keys(e),i=0;i<r.length;i++){var s=r[i];n[s]=t(e[s],s,e,i)}return n}function A2(e,t,n){var r,i,s={};try{for(var o=Pt(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,u=e[l];n(u)&&(s[l]=t(u,l,e))}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}var c5e=function(e){return function(t){var n,r,i=t;try{for(var s=Pt(e),o=s.next();!o.done;o=s.next()){var a=o.value;i=i[a]}}catch(l){n={error:l}}finally{try{o&&!o.done&&(r=s.return)&&r.call(s)}finally{if(n)throw n.error}}return i}};function d5e(e,t){return function(n){var r,i,s=n;try{for(var o=Pt(e),a=o.next();!a.done;a=o.next()){var l=a.value;s=s[t][l]}}catch(u){r={error:u}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}}function Py(e){if(!e)return[[]];if(Yt(e))return[[e]];var t=Vn(Object.keys(e).map(function(n){var r=e[n];return typeof r!="string"&&(!r||!Object.keys(r).length)?[[n]]:Py(e[n]).map(function(i){return[n].concat(i)})}));return t}function Vn(e){var t;return(t=[]).concat.apply(t,In([],Vt(e),!1))}function zz(e){return dp(e)?e:[e]}function ks(e){return e===void 0?[]:zz(e)}function S0(e,t,n){var r,i;if(Ht(e))return e(t,n.data);var s={};try{for(var o=Pt(Object.keys(e)),a=o.next();!a.done;a=o.next()){var l=a.value,u=e[l];Ht(u)?s[l]=u(t,n.data):s[l]=u}}catch(c){r={error:c}}finally{try{a&&!a.done&&(i=o.return)&&i.call(o)}finally{if(r)throw r.error}}return s}function f5e(e){return/^(done|error)\./.test(e)}function k2(e){return!!(e instanceof Promise||e!==null&&(Ht(e)||typeof e=="object")&&Ht(e.then))}function p5e(e){return e!==null&&typeof e=="object"&&"transition"in e&&typeof e.transition=="function"}function h5e(e,t){var n,r,i=Vt([[],[]],2),s=i[0],o=i[1];try{for(var a=Pt(e),l=a.next();!l.done;l=a.next()){var u=l.value;t(u)?s.push(u):o.push(u)}}catch(c){n={error:c}}finally{try{l&&!l.done&&(r=a.return)&&r.call(a)}finally{if(n)throw n.error}}return[s,o]}function Kz(e,t){return rh(e.states,function(n,r){if(n){var i=(Yt(t)?void 0:t[r])||(n?n.current:void 0);if(i)return{current:i,states:Kz(n,i)}}})}function g5e(e,t){return{current:t,states:Kz(e,t)}}function O2(e,t,n,r){var i=e&&n.reduce(function(s,o){var a,l,u=o.assignment,c={state:r,action:o,_event:t},d={};if(Ht(u))d=u(s,t.data,c);else try{for(var f=Pt(Object.keys(u)),p=f.next();!p.done;p=f.next()){var h=p.value,g=u[h];d[h]=Ht(g)?g(s,t.data,c):g}}catch(m){a={error:m}}finally{try{p&&!p.done&&(l=f.return)&&l.call(f)}finally{if(a)throw a.error}}return Object.assign({},s,d)},e);return i}var m5e=function(){};function dp(e){return Array.isArray(e)}function Ht(e){return typeof e=="function"}function Yt(e){return typeof e=="string"}function Gz(e,t){if(e)return Yt(e)?{type:$x,name:e,predicate:t?t[e]:void 0}:Ht(e)?{type:$x,name:e.name,predicate:e}:e}function v5e(e){try{return"subscribe"in e&&Ht(e.subscribe)}catch{return!1}}var rl=function(){return typeof Symbol=="function"&&Symbol.observable||"@@observable"}();Kv={},Kv[rl]=function(){return this},Kv[Symbol.observable]=function(){return this};function kf(e){return!!e&&"__xstatenode"in e}function y5e(e){return!!e&&typeof e.send=="function"}function Fw(e,t){return Yt(e)||typeof e=="number"?_e({type:e},t):e}function Lr(e,t){if(!Yt(e)&&"$$type"in e&&e.$$type==="scxml")return e;var n=Fw(e);return _e({name:n.type,data:n,$$type:"scxml",type:"external"},t)}function Xc(e,t){var n=zz(t).map(function(r){return typeof r>"u"||typeof r=="string"||kf(r)?{target:r,event:e}:_e(_e({},r),{event:e})});return n}function _5e(e){if(!(e===void 0||e===l5e))return ks(e)}function Yz(e,t,n,r,i){var s=e.options.guards,o={state:i,cond:t,_event:r};if(t.type===$x)return((s==null?void 0:s[t.name])||t.predicate)(n,r.data,o);var a=s==null?void 0:s[t.type];if(!a)throw new Error("Guard '".concat(t.type,"' is not implemented on machine '").concat(e.id,"'."));return a(n,r.data,o)}function Xz(e){return typeof e=="string"?{type:e}:e}function Rh(e,t,n){var r=function(){},i=typeof e=="object",s=i?e:null;return{next:((i?e.next:e)||r).bind(s),error:((i?e.error:t)||r).bind(s),complete:((i?e.complete:n)||r).bind(s)}}function Gv(e,t){return"".concat(e,":invocation[").concat(t,"]")}function xx(e){return(e.type===cp||e.type===zm&&e.to===Ul.Internal)&&typeof e.delay!="number"}var Uu=Lr({type:Vz});function x0(e,t){return t&&t[e]||void 0}function Of(e,t){var n;if(Yt(e)||typeof e=="number"){var r=x0(e,t);Ht(r)?n={type:e,exec:r}:r?n=r:n={type:e,exec:void 0}}else if(Ht(e))n={type:e.name||e.toString(),exec:e};else{var r=x0(e.type,t);if(Ht(r))n=_e(_e({},e),{exec:r});else if(r){var i=r.type||e.type;n=_e(_e(_e({},r),e),{type:i})}else n=e}return n}var zo=function(e,t){if(!e)return[];var n=dp(e)?e:[e];return n.map(function(r){return Of(r,t)})};function Bw(e){var t=Of(e);return _e(_e({id:Yt(e)?e:t.id},t),{type:t.type})}function Qz(e,t){return{type:cp,event:typeof e=="function"?e:Fw(e),delay:t?t.delay:void 0,id:t==null?void 0:t.id}}function Jz(e,t,n,r){var i={_event:n},s=Lr(Ht(e.event)?e.event(t,n.data,i):e.event),o;if(Yt(e.delay)){var a=r&&r[e.delay];o=Ht(a)?a(t,n.data,i):a}else o=Ht(e.delay)?e.delay(t,n.data,i):e.delay;return _e(_e({},e),{type:cp,_event:s,delay:o})}function fp(e,t){return{to:t?t.to:void 0,type:zm,event:Ht(e)?e:Fw(e),delay:t?t.delay:void 0,id:t&&t.id!==void 0?t.id:Ht(e)?e.name:qz(e)}}function Zz(e,t,n,r){var i={_event:n},s=Lr(Ht(e.event)?e.event(t,n.data,i):e.event),o;if(Yt(e.delay)){var a=r&&r[e.delay];o=Ht(a)?a(t,n.data,i):a}else o=Ht(e.delay)?e.delay(t,n.data,i):e.delay;var l=Ht(e.to)?e.to(t,n.data,i):e.to;return _e(_e({},e),{to:l,_event:s,event:s.data,delay:o})}function Uw(e,t){return fp(e,_e(_e({},t),{to:Ul.Parent}))}function b5e(e,t,n){return fp(t,_e(_e({},n),{to:e}))}function w5e(){return Uw(Lw)}function E5e(e,t){return fp(e,_e(_e({},t),{to:function(n,r,i){var s=i._event;return s.origin}}))}var $5e=function(e,t){return{context:e,event:t}};function S5e(e,t){return e===void 0&&(e=$5e),{type:Mw,label:t,expr:e}}var e8=function(e,t,n){return _e(_e({},e),{value:Yt(e.expr)?e.expr:e.expr(t,n.data,{_event:n})})},t8=function(e){return{type:Nk,sendId:e}};function n8(e){var t=Bw(e);return{type:Zt.Start,activity:t,exec:void 0}}function r8(e){var t=Ht(e)?e:Bw(e);return{type:Zt.Stop,activity:t,exec:void 0}}function i8(e,t,n){var r=Ht(e.activity)?e.activity(t,n.data):e.activity,i=typeof r=="string"?{id:r}:r,s={type:Zt.Stop,activity:i};return s}var s8=function(e){return{type:Nw,assignment:e}};function x5e(e){return typeof e=="object"&&"type"in e}function o8(e,t){var n=t?"#".concat(t):"";return"".concat(Zt.After,"(").concat(e,")").concat(n)}function ih(e,t){var n="".concat(Zt.DoneState,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function Dh(e,t){var n="".concat(Zt.DoneInvoke,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function yd(e,t){var n="".concat(Zt.ErrorPlatform,".").concat(e),r={type:n,data:t};return r.toString=function(){return n},r}function T5e(e){return{type:Zt.Pure,get:e}}function I5e(e,t){return fp(function(n,r){return r},_e(_e({},t),{to:e}))}function C5e(e,t){return Uw(function(n,r,i){return{type:Mk,data:Ht(e)?e(n,r,i):e}},_e(_e({},t),{to:Ul.Parent}))}function A5e(e){return{type:Zt.Choose,conds:e}}var k5e=function(e){var t,n,r=[];try{for(var i=Pt(e),s=i.next();!s.done;s=i.next())for(var o=s.value,a=0;a<o.actions.length;){if(o.actions[a].type===Nw){r.push(o.actions[a]),o.actions.splice(a,1);continue}a++}}catch(l){t={error:l}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r};function Vg(e,t,n,r,i,s,o){o===void 0&&(o=!1);var a=o?[]:k5e(i),l=a.length?O2(n,r,a,t):n,u=o?[n]:void 0,c=[];function d(h,g){var m;switch(g.type){case cp:{var v=Jz(g,l,r,e.options.delays);return s&&typeof v.delay=="number"&&s(v,l,r),v}case zm:var y=Zz(g,l,r,e.options.delays);return s&&y.to!==Ul.Internal&&(h==="entry"?c.push(y):s(y,l,r)),y;case Mw:{var b=e8(g,l,r);return s==null||s(b,l,r),b}case Hz:{var _=g,S=(m=_.conds.find(function(ce){var ae=Gz(ce.cond,e.options.guards);return!ae||Yz(e,ae,l,r,s?void 0:t)}))===null||m===void 0?void 0:m.actions;if(!S)return[];var I=Vt(Vg(e,t,l,r,[{type:h,actions:zo(ks(S),e.options.actions)}],s,o),2),T=I[0],w=I[1];return l=w,u==null||u.push(l),T}case jz:{var S=g.get(l,r.data);if(!S)return[];var x=Vt(Vg(e,t,l,r,[{type:h,actions:zo(ks(S),e.options.actions)}],s,o),2),E=x[0],O=x[1];return l=O,u==null||u.push(l),E}case Dw:{var b=i8(g,l,r);return s==null||s(b,n,r),b}case Nw:{l=O2(l,r,[g],s?void 0:t),u==null||u.push(l);break}default:var M=Of(g,e.options.actions),V=M.exec;if(s)s(M,l,r);else if(V&&u){var H=u.length-1,me=_e(_e({},M),{exec:function(ce){for(var ae=[],xe=1;xe<arguments.length;xe++)ae[xe-1]=arguments[xe];V.apply(void 0,In([u[H]],Vt(ae),!1))}});M=me}return M}}function f(h){var g,m,v=[];try{for(var y=Pt(h.actions),b=y.next();!b.done;b=y.next()){var _=b.value,S=d(h.type,_);S&&(v=v.concat(S))}}catch(I){g={error:I}}finally{try{b&&!b.done&&(m=y.return)&&m.call(y)}finally{if(g)throw g.error}}return c.forEach(function(I){s(I,l,r)}),c.length=0,v}var p=Vn(i.map(f));return[p,l]}const Sze=Object.freeze(Object.defineProperty({__proto__:null,actionTypes:a5e,after:o8,assign:s8,cancel:t8,choose:A5e,done:ih,doneInvoke:Dh,error:yd,escalate:C5e,forwardTo:I5e,getActionFunction:x0,initEvent:Uu,isActionObject:x5e,log:S5e,pure:T5e,raise:Qz,resolveActions:Vg,resolveLog:e8,resolveRaise:Jz,resolveSend:Zz,resolveStop:i8,respond:E5e,send:fp,sendParent:Uw,sendTo:b5e,sendUpdate:w5e,start:n8,stop:r8,toActionObject:Of,toActionObjects:zo,toActivityDefinition:Bw},Symbol.toStringTag,{value:"Module"}));var P2=[],cd=function(e,t){P2.push(e);var n=t(e);return P2.pop(),n};function a8(e){var t;return t={id:e,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},getSnapshot:function(){},toJSON:function(){return{id:e}}},t[rl]=function(){return this},t}function O5e(e,t,n,r){var i,s=Xz(e.src),o=(i=t==null?void 0:t.options.services)===null||i===void 0?void 0:i[s.type],a=e.data?S0(e.data,n,r):void 0,l=o?l8(o,e.id,a):a8(e.id);return l.meta=e,l}function l8(e,t,n){var r=a8(t);if(r.deferred=!0,kf(e)){var i=r.state=cd(void 0,function(){return(n?e.withContext(n):e).initialState});r.getSnapshot=function(){return i}}return r}function P5e(e){try{return typeof e.send=="function"}catch{return!1}}function R5e(e){return P5e(e)&&"id"in e}function D5e(e){var t;return _e((t={subscribe:function(){return{unsubscribe:function(){}}},id:"anonymous",getSnapshot:function(){}},t[rl]=function(){return this},t),e)}var T0=function(e){return e.type==="atomic"||e.type==="final"};function u8(e){return Object.keys(e.states).map(function(t){return e.states[t]})}function Hg(e){return u8(e).filter(function(t){return t.type!=="history"})}function c8(e){var t=[e];return T0(e)?t:t.concat(Vn(Hg(e).map(c8)))}function sh(e,t){var n,r,i,s,o,a,l,u,c=new Set(e),d=Tx(c),f=new Set(t);try{for(var p=Pt(f),h=p.next();!h.done;h=p.next())for(var g=h.value,m=g.parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(x){n={error:x}}finally{try{h&&!h.done&&(r=p.return)&&r.call(p)}finally{if(n)throw n.error}}var v=Tx(f);try{for(var y=Pt(f),b=y.next();!b.done;b=y.next()){var g=b.value;if(g.type==="compound"&&(!v.get(g)||!v.get(g).length))d.get(g)?d.get(g).forEach(function(E){return f.add(E)}):g.initialStateNodes.forEach(function(E){return f.add(E)});else if(g.type==="parallel")try{for(var _=(o=void 0,Pt(Hg(g))),S=_.next();!S.done;S=_.next()){var I=S.value;f.has(I)||(f.add(I),d.get(I)?d.get(I).forEach(function(E){return f.add(E)}):I.initialStateNodes.forEach(function(E){return f.add(E)}))}}catch(E){o={error:E}}finally{try{S&&!S.done&&(a=_.return)&&a.call(_)}finally{if(o)throw o.error}}}}catch(x){i={error:x}}finally{try{b&&!b.done&&(s=y.return)&&s.call(y)}finally{if(i)throw i.error}}try{for(var T=Pt(f),w=T.next();!w.done;w=T.next())for(var g=w.value,m=g.parent;m&&!f.has(m);)f.add(m),m=m.parent}catch(x){l={error:x}}finally{try{w&&!w.done&&(u=T.return)&&u.call(T)}finally{if(l)throw l.error}}return f}function d8(e,t){var n=t.get(e);if(!n)return{};if(e.type==="compound"){var r=n[0];if(r){if(T0(r))return r.key}else return{}}var i={};return n.forEach(function(s){i[s.key]=d8(s,t)}),i}function Tx(e){var t,n,r=new Map;try{for(var i=Pt(e),s=i.next();!s.done;s=i.next()){var o=s.value;r.has(o)||r.set(o,[]),o.parent&&(r.has(o.parent)||r.set(o.parent,[]),r.get(o.parent).push(o))}}catch(a){t={error:a}}finally{try{s&&!s.done&&(n=i.return)&&n.call(i)}finally{if(t)throw t.error}}return r}function N5e(e,t){var n=sh([e],t);return d8(e,Tx(n))}function oh(e,t){return Array.isArray(e)?e.some(function(n){return n===t}):e instanceof Set?e.has(t):!1}function M5e(e){return In([],Vt(new Set(Vn(In([],Vt(e.map(function(t){return t.ownEvents})),!1)))),!1)}function Ry(e,t){return t.type==="compound"?Hg(t).some(function(n){return n.type==="final"&&oh(e,n)}):t.type==="parallel"?Hg(t).every(function(n){return Ry(e,n)}):!1}function L5e(e){return e===void 0&&(e=[]),e.reduce(function(t,n){return n.meta!==void 0&&(t[n.id]=n.meta),t},{})}function R2(e){return new Set(Vn(e.map(function(t){return t.tags})))}function f8(e,t){if(e===t)return!0;if(e===void 0||t===void 0)return!1;if(Yt(e)||Yt(t))return e===t;var n=Object.keys(e),r=Object.keys(t);return n.length===r.length&&n.every(function(i){return f8(e[i],t[i])})}function F5e(e){return typeof e!="object"||e===null?!1:"value"in e&&"_event"in e}function B5e(e,t){var n=e.exec,r=_e(_e({},e),{exec:n!==void 0?function(){return n(t.context,t.event,{action:e,state:t,_event:t._event})}:void 0});return r}var ls=function(){function e(t){var n=this,r;this.actions=[],this.activities=C2,this.meta={},this.events=[],this.value=t.value,this.context=t.context,this._event=t._event,this._sessionid=t._sessionid,this.event=this._event.data,this.historyValue=t.historyValue,this.history=t.history,this.actions=t.actions||[],this.activities=t.activities||C2,this.meta=L5e(t.configuration),this.events=t.events||[],this.matches=this.matches.bind(this),this.toStrings=this.toStrings.bind(this),this.configuration=t.configuration,this.transitions=t.transitions,this.children=t.children,this.done=!!t.done,this.tags=(r=Array.isArray(t.tags)?new Set(t.tags):t.tags)!==null&&r!==void 0?r:new Set,this.machine=t.machine,Object.defineProperty(this,"nextEvents",{get:function(){return M5e(n.configuration)}})}return e.from=function(t,n){if(t instanceof e)return t.context!==n?new e({value:t.value,context:n,_event:t._event,_sessionid:null,historyValue:t.historyValue,history:t.history,actions:[],activities:t.activities,meta:{},events:[],configuration:[],transitions:[],children:{}}):t;var r=Uu;return new e({value:t,context:n,_event:r,_sessionid:null,historyValue:void 0,history:void 0,actions:[],activities:void 0,meta:void 0,events:[],configuration:[],transitions:[],children:{}})},e.create=function(t){return new e(t)},e.inert=function(t,n){if(t instanceof e){if(!t.actions.length)return t;var r=Uu;return new e({value:t.value,context:n,_event:r,_sessionid:null,historyValue:t.historyValue,history:t.history,activities:t.activities,configuration:t.configuration,transitions:[],children:{}})}return e.from(t,n)},e.prototype.toStrings=function(t,n){var r=this;if(t===void 0&&(t=this.value),n===void 0&&(n="."),Yt(t))return[t];var i=Object.keys(t);return i.concat.apply(i,In([],Vt(i.map(function(s){return r.toStrings(t[s],n).map(function(o){return s+n+o})})),!1))},e.prototype.toJSON=function(){var t=this;t.configuration,t.transitions;var n=t.tags;t.machine;var r=Dk(t,["configuration","transitions","tags","machine"]);return _e(_e({},r),{tags:Array.from(n)})},e.prototype.matches=function(t){return Lk(t,this.value)},e.prototype.hasTag=function(t){return this.tags.has(t)},e.prototype.can=function(t){var n;m5e(!!this.machine);var r=(n=this.machine)===null||n===void 0?void 0:n.getTransitionData(this,t);return!!(r!=null&&r.transitions.length)&&r.transitions.some(function(i){return i.target!==void 0||i.actions.length})},e}(),U5e={deferEvents:!1},D2=function(){function e(t){this.processingEvent=!1,this.queue=[],this.initialized=!1,this.options=_e(_e({},U5e),t)}return e.prototype.initialize=function(t){if(this.initialized=!0,t){if(!this.options.deferEvents){this.schedule(t);return}this.process(t)}this.flushEvents()},e.prototype.schedule=function(t){if(!this.initialized||this.processingEvent){this.queue.push(t);return}if(this.queue.length!==0)throw new Error("Event queue should be empty when it is not processing events");this.process(t),this.flushEvents()},e.prototype.clear=function(){this.queue=[]},e.prototype.flushEvents=function(){for(var t=this.queue.shift();t;)this.process(t),t=this.queue.shift()},e.prototype.process=function(t){this.processingEvent=!0;try{t()}catch(n){throw this.clear(),n}finally{this.processingEvent=!1}},e}(),LE=new Map,V5e=0,Lp={bookId:function(){return"x:".concat(V5e++)},register:function(e,t){return LE.set(e,t),e},get:function(e){return LE.get(e)},free:function(e){LE.delete(e)}};function Fk(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global}function H5e(){var e=Fk();if(e&&"__xstate__"in e)return e.__xstate__}function j5e(e){if(Fk()){var t=H5e();t&&t.register(e)}}function W5e(e,t){t===void 0&&(t={});var n=e.initialState,r=new Set,i=[],s=!1,o=function(){if(!s){for(s=!0;i.length>0;){var u=i.shift();n=e.transition(n,u,l),r.forEach(function(c){return c.next(n)})}s=!1}},a=D5e({id:t.id,send:function(u){i.push(u),o()},getSnapshot:function(){return n},subscribe:function(u,c,d){var f=Rh(u,c,d);return r.add(f),f.next(n),{unsubscribe:function(){r.delete(f)}}}}),l={parent:t.parent,self:a,id:t.id||"anonymous",observers:r};return n=e.start?e.start(l):n,a}var q5e={sync:!1,autoForward:!1},$r;(function(e){e[e.NotStarted=0]="NotStarted",e[e.Running=1]="Running",e[e.Stopped=2]="Stopped"})($r||($r={}));var z5e=function(){function e(t,n){n===void 0&&(n=e.defaultOptions);var r=this;this.machine=t,this.delayedEventsMap={},this.listeners=new Set,this.contextListeners=new Set,this.stopListeners=new Set,this.doneListeners=new Set,this.eventListeners=new Set,this.sendListeners=new Set,this.initialized=!1,this.status=$r.NotStarted,this.children=new Map,this.forwardTo=new Set,this._outgoingQueue=[],this.init=this.start,this.send=function(c,d){if(dp(c))return r.batch(c),r.state;var f=Lr(Fw(c,d));if(r.status===$r.Stopped)return r.state;if(r.status!==$r.Running&&!r.options.deferEvents)throw new Error('Event "'.concat(f.name,'" was sent to uninitialized service "').concat(r.machine.id,`". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.
Event: `).concat(JSON.stringify(f.data)));return r.scheduler.schedule(function(){r.forward(f);var p=r._nextState(f);r.update(p,f)}),r._state},this.sendTo=function(c,d,f){var p=r.parent&&(d===Ul.Parent||r.parent.id===d),h=p?r.parent:Yt(d)?d===Ul.Internal?r:r.children.get(d)||Lp.get(d):y5e(d)?d:void 0;if(!h){if(!p)throw new Error("Unable to send event to child '".concat(d,"' from service '").concat(r.id,"'."));return}if("machine"in h){if(r.status!==$r.Stopped||r.parent!==h||r.state.done){var g=_e(_e({},c),{name:c.name===Mk?"".concat(yd(r.id)):c.name,origin:r.sessionId});!f&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([h,g]):h.send(g)}}else!f&&r.machine.config.predictableActionArguments?r._outgoingQueue.push([h,c.data]):h.send(c.data)},this._exec=function(c,d,f,p){p===void 0&&(p=r.machine.options.actions);var h=c.exec||x0(c.type,p),g=Ht(h)?h:h?h.exec:c.exec;if(g)try{return g(d,f.data,r.machine.config.predictableActionArguments?{action:c,_event:f}:{action:c,state:r.state,_event:f})}catch(H){throw r.parent&&r.parent.send({type:"xstate.error",data:H}),H}switch(c.type){case cp:{var m=c;r.defer(m);break}case zm:var v=c;if(typeof v.delay=="number"){r.defer(v);return}else v.to?r.sendTo(v._event,v.to,f===Uu):r.send(v._event);break;case Nk:r.cancel(c.sendId);break;case w0:{if(r.status!==$r.Running)return;var y=c.activity;if(!r.machine.config.predictableActionArguments&&!r.state.activities[y.id||y.type])break;if(y.type===Zt.Invoke){var b=Xz(y.src),_=r.machine.options.services?r.machine.options.services[b.type]:void 0,S=y.id,I=y.data,T="autoForward"in y?y.autoForward:!!y.forward;if(!_)return;var w=I?S0(I,d,f):void 0;if(typeof _=="string")return;var x=Ht(_)?_(d,f.data,{data:w,src:b,meta:y.meta}):_;if(!x)return;var E=void 0;kf(x)&&(x=w?x.withContext(w):x,E={autoForward:T}),r.spawn(x,S,E)}else r.spawnActivity(y);break}case Dw:{r.stopChild(c.activity.id);break}case Mw:var O=c,M=O.label,V=O.value;M?r.logger(M,V):r.logger(V);break}};var i=_e(_e({},e.defaultOptions),n),s=i.clock,o=i.logger,a=i.parent,l=i.id,u=l!==void 0?l:t.id;this.id=u,this.logger=o,this.clock=s,this.parent=a,this.options=i,this.scheduler=new D2({deferEvents:this.options.deferEvents}),this.sessionId=Lp.bookId()}return Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this;return this._initialState?this._initialState:cd(this,function(){return t._initialState=t.machine.initialState,t._initialState})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),e.prototype.execute=function(t,n){var r,i;try{for(var s=Pt(t.actions),o=s.next();!o.done;o=s.next()){var a=o.value;this.exec(a,t,n)}}catch(l){r={error:l}}finally{try{o&&!o.done&&(i=s.return)&&i.call(s)}finally{if(r)throw r.error}}},e.prototype.update=function(t,n){var r,i,s,o,a,l,u,c,d=this;if(t._sessionid=this.sessionId,this._state=t,(!this.machine.config.predictableActionArguments||n===Uu)&&this.options.execute)this.execute(this.state);else for(var f=void 0;f=this._outgoingQueue.shift();)f[0].send(f[1]);if(this.children.forEach(function(x){d.state.children[x.id]=x}),this.devTools&&this.devTools.send(n.data,t),t.event)try{for(var p=Pt(this.eventListeners),h=p.next();!h.done;h=p.next()){var g=h.value;g(t.event)}}catch(x){r={error:x}}finally{try{h&&!h.done&&(i=p.return)&&i.call(p)}finally{if(r)throw r.error}}try{for(var m=Pt(this.listeners),v=m.next();!v.done;v=m.next()){var g=v.value;g(t,t.event)}}catch(x){s={error:x}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}try{for(var y=Pt(this.contextListeners),b=y.next();!b.done;b=y.next()){var _=b.value;_(this.state.context,this.state.history?this.state.history.context:void 0)}}catch(x){a={error:x}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}if(this.state.done){var S=t.configuration.find(function(x){return x.type==="final"&&x.parent===d.machine}),I=S&&S.doneData?S0(S.doneData,t.context,n):void 0;this._doneEvent=Dh(this.id,I);try{for(var T=Pt(this.doneListeners),w=T.next();!w.done;w=T.next()){var g=w.value;g(this._doneEvent)}}catch(x){u={error:x}}finally{try{w&&!w.done&&(c=T.return)&&c.call(T)}finally{if(u)throw u.error}}this._stop(),this._stopChildren(),Lp.free(this.sessionId)}},e.prototype.onTransition=function(t){return this.listeners.add(t),this.status===$r.Running&&t(this.state,this.state.event),this},e.prototype.subscribe=function(t,n,r){var i=this,s=Rh(t,n,r);this.listeners.add(s.next),this.status!==$r.NotStarted&&s.next(this.state);var o=function(){i.doneListeners.delete(o),i.stopListeners.delete(o),s.complete()};return this.status===$r.Stopped?s.complete():(this.onDone(o),this.onStop(o)),{unsubscribe:function(){i.listeners.delete(s.next),i.doneListeners.delete(o),i.stopListeners.delete(o)}}},e.prototype.onEvent=function(t){return this.eventListeners.add(t),this},e.prototype.onSend=function(t){return this.sendListeners.add(t),this},e.prototype.onChange=function(t){return this.contextListeners.add(t),this},e.prototype.onStop=function(t){return this.stopListeners.add(t),this},e.prototype.onDone=function(t){return this.status===$r.Stopped&&this._doneEvent?t(this._doneEvent):this.doneListeners.add(t),this},e.prototype.off=function(t){return this.listeners.delete(t),this.eventListeners.delete(t),this.sendListeners.delete(t),this.stopListeners.delete(t),this.doneListeners.delete(t),this.contextListeners.delete(t),this},e.prototype.start=function(t){var n=this;if(this.status===$r.Running)return this;this.machine._init(),Lp.register(this.sessionId,this),this.initialized=!0,this.status=$r.Running;var r=t===void 0?this.initialState:cd(this,function(){return F5e(t)?n.machine.resolveState(t):n.machine.resolveState(ls.from(t,n.machine.context))});return this.options.devTools&&this.attachDev(),this.scheduler.initialize(function(){n.update(r,Uu)}),this},e.prototype._stopChildren=function(){this.children.forEach(function(t){Ht(t.stop)&&t.stop()}),this.children.clear()},e.prototype._stop=function(){var t,n,r,i,s,o,a,l,u,c;try{for(var d=Pt(this.listeners),f=d.next();!f.done;f=d.next()){var p=f.value;this.listeners.delete(p)}}catch(T){t={error:T}}finally{try{f&&!f.done&&(n=d.return)&&n.call(d)}finally{if(t)throw t.error}}try{for(var h=Pt(this.stopListeners),g=h.next();!g.done;g=h.next()){var p=g.value;p(),this.stopListeners.delete(p)}}catch(T){r={error:T}}finally{try{g&&!g.done&&(i=h.return)&&i.call(h)}finally{if(r)throw r.error}}try{for(var m=Pt(this.contextListeners),v=m.next();!v.done;v=m.next()){var p=v.value;this.contextListeners.delete(p)}}catch(T){s={error:T}}finally{try{v&&!v.done&&(o=m.return)&&o.call(m)}finally{if(s)throw s.error}}try{for(var y=Pt(this.doneListeners),b=y.next();!b.done;b=y.next()){var p=b.value;this.doneListeners.delete(p)}}catch(T){a={error:T}}finally{try{b&&!b.done&&(l=y.return)&&l.call(y)}finally{if(a)throw a.error}}if(!this.initialized)return this;this.initialized=!1,this.status=$r.Stopped,this._initialState=void 0;try{for(var _=Pt(Object.keys(this.delayedEventsMap)),S=_.next();!S.done;S=_.next()){var I=S.value;this.clock.clearTimeout(this.delayedEventsMap[I])}}catch(T){u={error:T}}finally{try{S&&!S.done&&(c=_.return)&&c.call(_)}finally{if(u)throw u.error}}this.scheduler.clear(),this.scheduler=new D2({deferEvents:this.options.deferEvents})},e.prototype.stop=function(){var t=this,n=this.scheduler;return this._stop(),n.schedule(function(){var r=Lr({type:"xstate.stop"}),i=cd(t,function(){var s=Vn(In([],Vt(t.state.configuration),!1).sort(function(c,d){return d.order-c.order}).map(function(c){return zo(c.onExit,t.machine.options.actions)})),o=Vt(Vg(t.machine,t.state,t.state.context,r,[{type:"exit",actions:s}],t.machine.config.predictableActionArguments?t._exec:void 0,t.machine.config.predictableActionArguments||t.machine.config.preserveActionOrder),2),a=o[0],l=o[1],u=new ls({value:t.state.value,context:l,_event:r,_sessionid:t.sessionId,historyValue:void 0,history:t.state,actions:a.filter(function(c){return!xx(c)}),activities:{},events:[],configuration:[],transitions:[],children:{},done:t.state.done,tags:t.state.tags,machine:t.machine});return u.changed=!0,u});t.update(i,r),t._stopChildren(),Lp.free(t.sessionId)}),this},e.prototype.batch=function(t){var n=this;if(!(this.status===$r.NotStarted&&this.options.deferEvents)){if(this.status!==$r.Running)throw new Error("".concat(t.length,' event(s) were sent to uninitialized service "').concat(this.machine.id,'". Make sure .start() is called for this service, or set { deferEvents: true } in the service options.'))}if(t.length){var r=!!this.machine.config.predictableActionArguments&&this._exec;this.scheduler.schedule(function(){var i,s,o=n.state,a=!1,l=[],u=function(p){var h=Lr(p);n.forward(h),o=cd(n,function(){return n.machine.transition(o,h,void 0,r||void 0)}),l.push.apply(l,In([],Vt(n.machine.config.predictableActionArguments?o.actions:o.actions.map(function(g){return B5e(g,o)})),!1)),a=a||!!o.changed};try{for(var c=Pt(t),d=c.next();!d.done;d=c.next()){var f=d.value;u(f)}}catch(p){i={error:p}}finally{try{d&&!d.done&&(s=c.return)&&s.call(c)}finally{if(i)throw i.error}}o.changed=a,o.actions=l,n.update(o,Lr(t[t.length-1]))})}},e.prototype.sender=function(t){return this.send.bind(this,t)},e.prototype._nextState=function(t,n){var r=this;n===void 0&&(n=!!this.machine.config.predictableActionArguments&&this._exec);var i=Lr(t);if(i.name.indexOf(Ex)===0&&!this.state.nextEvents.some(function(o){return o.indexOf(Ex)===0}))throw i.data.data;var s=cd(this,function(){return r.machine.transition(r.state,i,void 0,n||void 0)});return s},e.prototype.nextState=function(t){return this._nextState(t,!1)},e.prototype.forward=function(t){var n,r;try{for(var i=Pt(this.forwardTo),s=i.next();!s.done;s=i.next()){var o=s.value,a=this.children.get(o);if(!a)throw new Error("Unable to forward event '".concat(t,"' from interpreter '").concat(this.id,"' to nonexistant child '").concat(o,"'."));a.send(t)}}catch(l){n={error:l}}finally{try{s&&!s.done&&(r=i.return)&&r.call(i)}finally{if(n)throw n.error}}},e.prototype.defer=function(t){var n=this,r=this.clock.setTimeout(function(){"to"in t&&t.to?n.sendTo(t._event,t.to,!0):n.send(t._event)},t.delay);t.id&&(this.delayedEventsMap[t.id]=r)},e.prototype.cancel=function(t){this.clock.clearTimeout(this.delayedEventsMap[t]),delete this.delayedEventsMap[t]},e.prototype.exec=function(t,n,r){r===void 0&&(r=this.machine.options.actions),this._exec(t,n.context,n._event,r)},e.prototype.removeChild=function(t){var n;this.children.delete(t),this.forwardTo.delete(t),(n=this.state)===null||n===void 0||delete n.children[t]},e.prototype.stopChild=function(t){var n=this.children.get(t);n&&(this.removeChild(t),Ht(n.stop)&&n.stop())},e.prototype.spawn=function(t,n,r){if(this.status!==$r.Running)return l8(t,n);if(k2(t))return this.spawnPromise(Promise.resolve(t),n);if(Ht(t))return this.spawnCallback(t,n);if(R5e(t))return this.spawnActor(t,n);if(v5e(t))return this.spawnObservable(t,n);if(kf(t))return this.spawnMachine(t,_e(_e({},r),{id:n}));if(p5e(t))return this.spawnBehavior(t,n);throw new Error('Unable to spawn entity "'.concat(n,'" of type "').concat(typeof t,'".'))},e.prototype.spawnMachine=function(t,n){var r=this;n===void 0&&(n={});var i=new e(t,_e(_e({},this.options),{parent:this,id:n.id||t.id})),s=_e(_e({},q5e),n);s.sync&&i.onTransition(function(a){r.send(Lw,{state:a,id:i.id})});var o=i;return this.children.set(i.id,o),s.autoForward&&this.forwardTo.add(i.id),i.onDone(function(a){r.removeChild(i.id),r.send(Lr(a,{origin:i.id}))}).start(),o},e.prototype.spawnBehavior=function(t,n){var r=W5e(t,{id:n,parent:this});return this.children.set(n,r),r},e.prototype.spawnPromise=function(t,n){var r,i=this,s=!1,o;t.then(function(l){s||(o=l,i.removeChild(n),i.send(Lr(Dh(n,l),{origin:n})))},function(l){if(!s){i.removeChild(n);var u=yd(n,l);try{i.send(Lr(u,{origin:n}))}catch{i.devTools&&i.devTools.send(u,i.state),i.machine.strict&&i.stop()}}});var a=(r={id:n,send:function(){},subscribe:function(l,u,c){var d=Rh(l,u,c),f=!1;return t.then(function(p){f||(d.next(p),!f&&d.complete())},function(p){f||d.error(p)}),{unsubscribe:function(){return f=!0}}},stop:function(){s=!0},toJSON:function(){return{id:n}},getSnapshot:function(){return o}},r[rl]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnCallback=function(t,n){var r,i=this,s=!1,o=new Set,a=new Set,l,u=function(f){l=f,a.forEach(function(p){return p(f)}),!s&&i.send(Lr(f,{origin:n}))},c;try{c=t(u,function(f){o.add(f)})}catch(f){this.send(yd(n,f))}if(k2(c))return this.spawnPromise(c,n);var d=(r={id:n,send:function(f){return o.forEach(function(p){return p(f)})},subscribe:function(f){var p=Rh(f);return a.add(p.next),{unsubscribe:function(){a.delete(p.next)}}},stop:function(){s=!0,Ht(c)&&c()},toJSON:function(){return{id:n}},getSnapshot:function(){return l}},r[rl]=function(){return this},r);return this.children.set(n,d),d},e.prototype.spawnObservable=function(t,n){var r,i=this,s,o=t.subscribe(function(l){s=l,i.send(Lr(l,{origin:n}))},function(l){i.removeChild(n),i.send(Lr(yd(n,l),{origin:n}))},function(){i.removeChild(n),i.send(Lr(Dh(n),{origin:n}))}),a=(r={id:n,send:function(){},subscribe:function(l,u,c){return t.subscribe(l,u,c)},stop:function(){return o.unsubscribe()},getSnapshot:function(){return s},toJSON:function(){return{id:n}}},r[rl]=function(){return this},r);return this.children.set(n,a),a},e.prototype.spawnActor=function(t,n){return this.children.set(n,t),t},e.prototype.spawnActivity=function(t){var n=this.machine.options&&this.machine.options.activities?this.machine.options.activities[t.type]:void 0;if(n){var r=n(this.state.context,t);this.spawnEffect(t.id,r)}},e.prototype.spawnEffect=function(t,n){var r;this.children.set(t,(r={id:t,send:function(){},subscribe:function(){return{unsubscribe:function(){}}},stop:n||void 0,getSnapshot:function(){},toJSON:function(){return{id:t}}},r[rl]=function(){return this},r))},e.prototype.attachDev=function(){var t=Fk();if(this.options.devTools&&t){if(t.__REDUX_DEVTOOLS_EXTENSION__){var n=typeof this.options.devTools=="object"?this.options.devTools:void 0;this.devTools=t.__REDUX_DEVTOOLS_EXTENSION__.connect(_e(_e({name:this.id,autoPause:!0,stateSanitizer:function(r){return{value:r.value,context:r.context,actions:r.actions}}},n),{features:_e({jump:!1,skip:!1},n?n.features:void 0)}),this.machine),this.devTools.init(this.state)}j5e(this)}},e.prototype.toJSON=function(){return{id:this.id}},e.prototype[rl]=function(){return this},e.prototype.getSnapshot=function(){return this.status===$r.NotStarted?this.initialState:this._state},e.defaultOptions={execute:!0,deferEvents:!0,clock:{setTimeout:function(t,n){return setTimeout(t,n)},clearTimeout:function(t){return clearTimeout(t)}},logger:console.log.bind(console),devTools:!1},e.interpret=p8,e}();function p8(e,t){var n=new z5e(e,t);return n}function K5e(e){if(typeof e=="string"){var t={type:e};return t.toString=function(){return e},t}return e}function Yv(e){return _e(_e({type:E0},e),{toJSON:function(){e.onDone,e.onError;var t=Dk(e,["onDone","onError"]);return _e(_e({},t),{type:E0,src:K5e(e.src)})}})}var Xv="",Ix="#",FE="*",Qc={},Jc=function(e){return e[0]===Ix},G5e=function(){return{actions:{},guards:{},services:{},activities:{},delays:{}}},Y5e=function(){function e(t,n,r,i){r===void 0&&(r="context"in t?t.context:void 0);var s=this,o;this.config=t,this._context=r,this.order=-1,this.__xstatenode=!0,this.__cache={events:void 0,relativeValue:new Map,initialStateValue:void 0,initialState:void 0,on:void 0,transitions:void 0,candidates:{},delayedTransitions:void 0},this.idMap={},this.tags=[],this.options=Object.assign(G5e(),n),this.parent=i==null?void 0:i.parent,this.key=this.config.key||(i==null?void 0:i.key)||this.config.id||"(machine)",this.machine=this.parent?this.parent.machine:this,this.path=this.parent?this.parent.path.concat(this.key):[],this.delimiter=this.config.delimiter||(this.parent?this.parent.delimiter:Wz),this.id=this.config.id||In([this.machine.key],Vt(this.path),!1).join(this.delimiter),this.version=this.parent?this.parent.version:this.config.version,this.type=this.config.type||(this.config.parallel?"parallel":this.config.states&&Object.keys(this.config.states).length?"compound":this.config.history?"history":"atomic"),this.schema=this.parent?this.machine.schema:(o=this.config.schema)!==null&&o!==void 0?o:{},this.description=this.config.description,this.initial=this.config.initial,this.states=this.config.states?rh(this.config.states,function(u,c){var d,f=new e(u,{},void 0,{parent:s,key:c});return Object.assign(s.idMap,_e((d={},d[f.id]=f,d),f.idMap)),f}):Qc;var a=0;function l(u){var c,d;u.order=a++;try{for(var f=Pt(u8(u)),p=f.next();!p.done;p=f.next()){var h=p.value;l(h)}}catch(g){c={error:g}}finally{try{p&&!p.done&&(d=f.return)&&d.call(f)}finally{if(c)throw c.error}}}l(this),this.history=this.config.history===!0?"shallow":this.config.history||!1,this._transient=!!this.config.always||(this.config.on?Array.isArray(this.config.on)?this.config.on.some(function(u){var c=u.event;return c===Xv}):Xv in this.config.on:!1),this.strict=!!this.config.strict,this.onEntry=ks(this.config.entry||this.config.onEntry).map(function(u){return Of(u)}),this.onExit=ks(this.config.exit||this.config.onExit).map(function(u){return Of(u)}),this.meta=this.config.meta,this.doneData=this.type==="final"?this.config.data:void 0,this.invoke=ks(this.config.invoke).map(function(u,c){var d,f;if(kf(u)){var p=Gv(s.id,c);return s.machine.options.services=_e((d={},d[p]=u,d),s.machine.options.services),Yv({src:p,id:p})}else if(Yt(u.src)){var p=u.id||Gv(s.id,c);return Yv(_e(_e({},u),{id:p,src:u.src}))}else if(kf(u.src)||Ht(u.src)){var p=u.id||Gv(s.id,c);return s.machine.options.services=_e((f={},f[p]=u.src,f),s.machine.options.services),Yv(_e(_e({id:p},u),{src:p}))}else{var h=u.src;return Yv(_e(_e({id:Gv(s.id,c)},u),{src:h}))}}),this.activities=ks(this.config.activities).concat(this.invoke).map(function(u){return Bw(u)}),this.transition=this.transition.bind(this),this.tags=ks(this.config.tags)}return e.prototype._init=function(){this.__cache.transitions||c8(this).forEach(function(t){return t.on})},e.prototype.withConfig=function(t,n){var r=this.options,i=r.actions,s=r.activities,o=r.guards,a=r.services,l=r.delays;return new e(this.config,{actions:_e(_e({},i),t.actions),activities:_e(_e({},s),t.activities),guards:_e(_e({},o),t.guards),services:_e(_e({},a),t.services),delays:_e(_e({},l),t.delays)},n??this.context)},e.prototype.withContext=function(t){return new e(this.config,this.options,t)},Object.defineProperty(e.prototype,"context",{get:function(){return Ht(this._context)?this._context():this._context},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"definition",{get:function(){return{id:this.id,key:this.key,version:this.version,context:this.context,type:this.type,initial:this.initial,history:this.history,states:rh(this.states,function(t){return t.definition}),on:this.on,transitions:this.transitions,entry:this.onEntry,exit:this.onExit,activities:this.activities||[],meta:this.meta,order:this.order||-1,data:this.doneData,invoke:this.invoke,description:this.description,tags:this.tags}},enumerable:!1,configurable:!0}),e.prototype.toJSON=function(){return this.definition},Object.defineProperty(e.prototype,"on",{get:function(){if(this.__cache.on)return this.__cache.on;var t=this.transitions;return this.__cache.on=t.reduce(function(n,r){return n[r.eventType]=n[r.eventType]||[],n[r.eventType].push(r),n},{})},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"after",{get:function(){return this.__cache.delayedTransitions||(this.__cache.delayedTransitions=this.getDelayedTransitions(),this.__cache.delayedTransitions)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transitions",{get:function(){return this.__cache.transitions||(this.__cache.transitions=this.formatTransitions(),this.__cache.transitions)},enumerable:!1,configurable:!0}),e.prototype.getCandidates=function(t){if(this.__cache.candidates[t])return this.__cache.candidates[t];var n=t===Xv,r=this.transitions.filter(function(i){var s=i.eventType===t;return n?s:s||i.eventType===FE});return this.__cache.candidates[t]=r,r},e.prototype.getDelayedTransitions=function(){var t=this,n=this.config.after;if(!n)return[];var r=function(s,o){var a=Ht(s)?"".concat(t.id,":delay[").concat(o,"]"):s,l=o8(a,t.id);return t.onEntry.push(fp(l,{delay:s})),t.onExit.push(t8(l)),l},i=dp(n)?n.map(function(s,o){var a=r(s.delay,o);return _e(_e({},s),{event:a})}):Vn(Object.keys(n).map(function(s,o){var a=n[s],l=Yt(a)?{target:a}:a,u=isNaN(+s)?s:+s,c=r(u,o);return ks(l).map(function(d){return _e(_e({},d),{event:c,delay:u})})}));return i.map(function(s){var o=s.delay;return _e(_e({},t.formatTransition(s)),{delay:o})})},e.prototype.getStateNodes=function(t){var n,r=this;if(!t)return[];var i=t instanceof ls?t.value:Ph(t,this.delimiter);if(Yt(i)){var s=this.getStateNode(i).initial;return s!==void 0?this.getStateNodes((n={},n[i]=s,n)):[this,this.states[i]]}var o=Object.keys(i),a=[this];return a.push.apply(a,In([],Vt(Vn(o.map(function(l){return r.getStateNode(l).getStateNodes(i[l])}))),!1)),a},e.prototype.handles=function(t){var n=qz(t);return this.events.includes(n)},e.prototype.resolveState=function(t){var n=t instanceof ls?t:ls.create(t),r=Array.from(sh([],this.getStateNodes(n.value)));return new ls(_e(_e({},n),{value:this.resolve(n.value),configuration:r,done:Ry(r,this),tags:R2(r),machine:this.machine}))},e.prototype.transitionLeafNode=function(t,n,r){var i=this.getStateNode(t),s=i.next(n,r);return!s||!s.transitions.length?this.next(n,r):s},e.prototype.transitionCompoundNode=function(t,n,r){var i=Object.keys(t),s=this.getStateNode(i[0]),o=s._transition(t[i[0]],n,r);return!o||!o.transitions.length?this.next(n,r):o},e.prototype.transitionParallelNode=function(t,n,r){var i,s,o={};try{for(var a=Pt(Object.keys(t)),l=a.next();!l.done;l=a.next()){var u=l.value,c=t[u];if(c){var d=this.getStateNode(u),f=d._transition(c,n,r);f&&(o[u]=f)}}}catch(v){i={error:v}}finally{try{l&&!l.done&&(s=a.return)&&s.call(a)}finally{if(i)throw i.error}}var p=Object.keys(o).map(function(v){return o[v]}),h=Vn(p.map(function(v){return v.transitions})),g=p.some(function(v){return v.transitions.length>0});if(!g)return this.next(n,r);var m=Vn(Object.keys(o).map(function(v){return o[v].configuration}));return{transitions:h,exitSet:Vn(p.map(function(v){return v.exitSet})),configuration:m,source:n,actions:Vn(Object.keys(o).map(function(v){return o[v].actions}))}},e.prototype._transition=function(t,n,r){return Yt(t)?this.transitionLeafNode(t,n,r):Object.keys(t).length===1?this.transitionCompoundNode(t,n,r):this.transitionParallelNode(t,n,r)},e.prototype.getTransitionData=function(t,n){return this._transition(t.value,t,Lr(n))},e.prototype.next=function(t,n){var r,i,s=this,o=n.name,a=[],l=[],u;try{for(var c=Pt(this.getCandidates(o)),d=c.next();!d.done;d=c.next()){var f=d.value,p=f.cond,h=f.in,g=t.context,m=h?Yt(h)&&Jc(h)?t.matches(Ph(this.getStateNodeById(h).path,this.delimiter)):Lk(Ph(h,this.delimiter),c5e(this.path.slice(0,-2))(t.value)):!0,v=!1;try{v=!p||Yz(this.machine,p,g,n,t)}catch(_){throw new Error("Unable to evaluate guard '".concat(p.name||p.type,"' in transition for event '").concat(o,"' in state node '").concat(this.id,`':
`).concat(_.message))}if(v&&m){f.target!==void 0&&(l=f.target),a.push.apply(a,In([],Vt(f.actions),!1)),u=f;break}}}catch(_){r={error:_}}finally{try{d&&!d.done&&(i=c.return)&&i.call(c)}finally{if(r)throw r.error}}if(u){if(!l.length)return{transitions:[u],exitSet:[],configuration:t.value?[this]:[],source:t,actions:a};var y=Vn(l.map(function(_){return s.getRelativeStateNodes(_,t.historyValue)})),b=!!u.internal;return{transitions:[u],exitSet:b?[]:Vn(l.map(function(_){return s.getPotentiallyReenteringNodes(_)})),configuration:y,source:t,actions:a}}},e.prototype.getPotentiallyReenteringNodes=function(t){if(this.order<t.order)return[this];for(var n=[],r=this,i=t;r&&r!==i;)n.push(r),r=r.parent;return r!==i?[]:(n.push(i),n)},e.prototype.getActions=function(t,n,r,i,s,o,a){var l,u,c,d,f=this,p=o?sh([],this.getStateNodes(o.value)):[],h=new Set;try{for(var g=Pt(Array.from(t).sort(function(O,M){return O.order-M.order})),m=g.next();!m.done;m=g.next()){var v=m.value;(!oh(p,v)||oh(r.exitSet,v)||v.parent&&h.has(v.parent))&&h.add(v)}}catch(O){l={error:O}}finally{try{m&&!m.done&&(u=g.return)&&u.call(g)}finally{if(l)throw l.error}}try{for(var y=Pt(p),b=y.next();!b.done;b=y.next()){var v=b.value;(!oh(t,v)||oh(r.exitSet,v.parent))&&r.exitSet.push(v)}}catch(O){c={error:O}}finally{try{b&&!b.done&&(d=y.return)&&d.call(y)}finally{if(c)throw c.error}}r.exitSet.sort(function(O,M){return M.order-O.order});var _=Array.from(h).sort(function(O,M){return O.order-M.order}),S=new Set(r.exitSet),I=Vn(_.map(function(O){var M=[];if(O.type!=="final")return M;var V=O.parent;if(!V.parent)return M;M.push(ih(O.id,O.doneData),ih(V.id,O.doneData?S0(O.doneData,i,s):void 0));var H=V.parent;return H.type==="parallel"&&Hg(H).every(function(me){return Ry(r.configuration,me)})&&M.push(ih(H.id)),M})),T=_.map(function(O){var M=O.onEntry,V=O.activities.map(function(H){return n8(H)});return{type:"entry",actions:zo(a?In(In([],Vt(M),!1),Vt(V),!1):In(In([],Vt(V),!1),Vt(M),!1),f.machine.options.actions)}}).concat({type:"state_done",actions:I.map(function(O){return Qz(O)})}),w=Array.from(S).map(function(O){return{type:"exit",actions:zo(In(In([],Vt(O.onExit),!1),Vt(O.activities.map(function(M){return r8(M)})),!1),f.machine.options.actions)}}),x=w.concat({type:"transition",actions:zo(r.actions,this.machine.options.actions)}).concat(T);if(n){var E=zo(Vn(In([],Vt(t),!1).sort(function(O,M){return M.order-O.order}).map(function(O){return O.onExit})),this.machine.options.actions).filter(function(O){return!xx(O)});return x.concat({type:"stop",actions:E})}return x},e.prototype.transition=function(t,n,r,i){t===void 0&&(t=this.initialState);var s=Lr(n),o;if(t instanceof ls)o=r===void 0?t:this.resolveState(ls.from(t,r));else{var a=Yt(t)?this.resolve($0(this.getResolvedPath(t))):this.resolve(t),l=r??this.machine.context;o=this.resolveState(ls.from(a,l))}if(this.strict&&!this.events.includes(s.name)&&!f5e(s.name))throw new Error("Machine '".concat(this.id,"' does not accept event '").concat(s.name,"'"));var u=this._transition(o.value,o,s)||{transitions:[],configuration:[],exitSet:[],source:o,actions:[]},c=sh([],this.getStateNodes(o.value)),d=u.configuration.length?sh(c,u.configuration):c;return u.configuration=In([],Vt(d),!1),this.resolveTransition(u,o,o.context,i,s)},e.prototype.resolveRaisedTransition=function(t,n,r,i){var s,o=t.actions;return t=this.transition(t,n,void 0,i),t._event=r,t.event=r.data,(s=t.actions).unshift.apply(s,In([],Vt(o),!1)),t},e.prototype.resolveTransition=function(t,n,r,i,s){var o,a,l,u,c=this;s===void 0&&(s=Uu);var d=t.configuration,f=!n||t.transitions.length>0,p=f?t.configuration:n?n.configuration:[],h=Ry(p,this),g=f?N5e(this.machine,d):void 0,m=n?n.historyValue?n.historyValue:t.source?this.machine.historyValue(n.value):void 0:void 0,v=this.getActions(new Set(p),h,t,r,s,n,i),y=n?_e({},n.activities):{};try{for(var b=Pt(v),_=b.next();!_.done;_=b.next()){var S=_.value;try{for(var I=(l=void 0,Pt(S.actions)),T=I.next();!T.done;T=I.next()){var w=T.value;w.type===w0?y[w.activity.id||w.activity.type]=w:w.type===Dw&&(y[w.activity.id||w.activity.type]=!1)}}catch(j){l={error:j}}finally{try{T&&!T.done&&(u=I.return)&&u.call(I)}finally{if(l)throw l.error}}}}catch(j){o={error:j}}finally{try{_&&!_.done&&(a=b.return)&&a.call(b)}finally{if(o)throw o.error}}var x=Vt(Vg(this,n,r,s,v,i,this.machine.config.predictableActionArguments||this.machine.config.preserveActionOrder),2),E=x[0],O=x[1],M=Vt(h5e(E,xx),2),V=M[0],H=M[1],me=E.filter(function(j){var X;return j.type===w0&&((X=j.activity)===null||X===void 0?void 0:X.type)===E0}),ce=me.reduce(function(j,X){return j[X.activity.id]=O5e(X.activity,c.machine,O,s),j},n?_e({},n.children):{}),ae=new ls({value:g||n.value,context:O,_event:s,_sessionid:n?n._sessionid:null,historyValue:g?m?g5e(m,g):void 0:n?n.historyValue:void 0,history:!g||t.source?n:void 0,actions:g?H:[],activities:g?y:n?n.activities:{},events:[],configuration:p,transitions:t.transitions,children:ce,done:h,tags:R2(p),machine:this}),xe=r!==O;ae.changed=s.name===Lw||xe;var Ie=ae.history;Ie&&delete Ie.history;var ft=!h&&(this._transient||d.some(function(j){return j._transient}));if(!f&&(!ft||s.name===Xv))return ae;var Ye=ae;if(!h)for(ft&&(Ye=this.resolveRaisedTransition(Ye,{type:Uz},s,i));V.length;){var St=V.shift();Ye=this.resolveRaisedTransition(Ye,St._event,s,i)}var F=Ye.changed||(Ie?!!Ye.actions.length||xe||typeof Ie.value!=typeof Ye.value||!f8(Ye.value,Ie.value):void 0);return Ye.changed=F,Ye.history=Ie,Ye},e.prototype.getStateNode=function(t){if(Jc(t))return this.machine.getStateNodeById(t);if(!this.states)throw new Error("Unable to retrieve child state '".concat(t,"' from '").concat(this.id,"'; no child states exist."));var n=this.states[t];if(!n)throw new Error("Child state '".concat(t,"' does not exist on '").concat(this.id,"'"));return n},e.prototype.getStateNodeById=function(t){var n=Jc(t)?t.slice(Ix.length):t;if(n===this.id)return this;var r=this.machine.idMap[n];if(!r)throw new Error("Child state node '#".concat(n,"' does not exist on machine '").concat(this.id,"'"));return r},e.prototype.getStateNodeByPath=function(t){if(typeof t=="string"&&Jc(t))try{return this.getStateNodeById(t.slice(1))}catch{}for(var n=Sx(t,this.delimiter).slice(),r=this;n.length;){var i=n.shift();if(!i.length)break;r=r.getStateNode(i)}return r},e.prototype.resolve=function(t){var n,r=this;if(!t)return this.initialStateValue||Qc;switch(this.type){case"parallel":return rh(this.initialStateValue,function(s,o){return s?r.getStateNode(o).resolve(t[o]||s):Qc});case"compound":if(Yt(t)){var i=this.getStateNode(t);return i.type==="parallel"||i.type==="compound"?(n={},n[t]=i.initialStateValue,n):t}return Object.keys(t).length?rh(t,function(s,o){return s?r.getStateNode(o).resolve(s):Qc}):this.initialStateValue||{};default:return t||Qc}},e.prototype.getResolvedPath=function(t){if(Jc(t)){var n=this.machine.idMap[t.slice(Ix.length)];if(!n)throw new Error("Unable to find state node '".concat(t,"'"));return n.path}return Sx(t,this.delimiter)},Object.defineProperty(e.prototype,"initialStateValue",{get:function(){var t;if(this.__cache.initialStateValue)return this.__cache.initialStateValue;var n;if(this.type==="parallel")n=A2(this.states,function(r){return r.initialStateValue||Qc},function(r){return r.type!=="history"});else if(this.initial!==void 0){if(!this.states[this.initial])throw new Error("Initial state '".concat(this.initial,"' not found on '").concat(this.key,"'"));n=T0(this.states[this.initial])?this.initial:(t={},t[this.initial]=this.states[this.initial].initialStateValue,t)}else n={};return this.__cache.initialStateValue=n,this.__cache.initialStateValue},enumerable:!1,configurable:!0}),e.prototype.getInitialState=function(t,n){this._init();var r=this.getStateNodes(t);return this.resolveTransition({configuration:r,exitSet:[],transitions:[],source:void 0,actions:[]},void 0,n??this.machine.context,void 0)},Object.defineProperty(e.prototype,"initialState",{get:function(){var t=this.initialStateValue;if(!t)throw new Error("Cannot retrieve initial state from simple state '".concat(this.id,"'."));return this.getInitialState(t)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){var t;if(this.type==="history"){var n=this.config;Yt(n.target)?t=Jc(n.target)?$0(this.machine.getStateNodeById(n.target).path.slice(this.path.length-1)):n.target:t=n.target}return t},enumerable:!1,configurable:!0}),e.prototype.getRelativeStateNodes=function(t,n,r){return r===void 0&&(r=!0),r?t.type==="history"?t.resolveHistory(n):t.initialStateNodes:[t]},Object.defineProperty(e.prototype,"initialStateNodes",{get:function(){var t=this;if(T0(this))return[this];if(this.type==="compound"&&!this.initial)return[this];var n=Py(this.initialStateValue);return Vn(n.map(function(r){return t.getFromRelativePath(r)}))},enumerable:!1,configurable:!0}),e.prototype.getFromRelativePath=function(t){if(!t.length)return[this];var n=Vt(t),r=n[0],i=n.slice(1);if(!this.states)throw new Error("Cannot retrieve subPath '".concat(r,"' from node with no states"));var s=this.getStateNode(r);if(s.type==="history")return s.resolveHistory();if(!this.states[r])throw new Error("Child state '".concat(r,"' does not exist on '").concat(this.id,"'"));return this.states[r].getFromRelativePath(i)},e.prototype.historyValue=function(t){if(Object.keys(this.states).length)return{current:t||this.initialStateValue,states:A2(this.states,function(n,r){if(!t)return n.historyValue();var i=Yt(t)?void 0:t[r];return n.historyValue(i||n.initialStateValue)},function(n){return!n.history})}},e.prototype.resolveHistory=function(t){var n=this;if(this.type!=="history")return[this];var r=this.parent;if(!t){var i=this.target;return i?Vn(Py(i).map(function(o){return r.getFromRelativePath(o)})):r.initialStateNodes}var s=d5e(r.path,"states")(t).current;return Yt(s)?[r.getStateNode(s)]:Vn(Py(s).map(function(o){return n.history==="deep"?r.getFromRelativePath(o):[r.states[o[0]]]}))},Object.defineProperty(e.prototype,"stateIds",{get:function(){var t=this,n=Vn(Object.keys(this.states).map(function(r){return t.states[r].stateIds}));return[this.id].concat(n)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"events",{get:function(){var t,n,r,i;if(this.__cache.events)return this.__cache.events;var s=this.states,o=new Set(this.ownEvents);if(s)try{for(var a=Pt(Object.keys(s)),l=a.next();!l.done;l=a.next()){var u=l.value,c=s[u];if(c.states)try{for(var d=(r=void 0,Pt(c.events)),f=d.next();!f.done;f=d.next()){var p=f.value;o.add("".concat(p))}}catch(h){r={error:h}}finally{try{f&&!f.done&&(i=d.return)&&i.call(d)}finally{if(r)throw r.error}}}}catch(h){t={error:h}}finally{try{l&&!l.done&&(n=a.return)&&n.call(a)}finally{if(t)throw t.error}}return this.__cache.events=Array.from(o)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ownEvents",{get:function(){var t=new Set(this.transitions.filter(function(n){return!(!n.target&&!n.actions.length&&n.internal)}).map(function(n){return n.eventType}));return Array.from(t)},enumerable:!1,configurable:!0}),e.prototype.resolveTarget=function(t){var n=this;if(t!==void 0)return t.map(function(r){if(!Yt(r))return r;var i=r[0]===n.delimiter;if(i&&!n.parent)return n.getStateNodeByPath(r.slice(1));var s=i?n.key+r:r;if(n.parent)try{var o=n.parent.getStateNodeByPath(s);return o}catch(a){throw new Error("Invalid transition definition for state node '".concat(n.id,`':
`).concat(a.message))}else return n.getStateNodeByPath(s)})},e.prototype.formatTransition=function(t){var n=this,r=_5e(t.target),i="internal"in t?t.internal:r?r.some(function(l){return Yt(l)&&l[0]===n.delimiter}):!0,s=this.machine.options.guards,o=this.resolveTarget(r),a=_e(_e({},t),{actions:zo(ks(t.actions)),cond:Gz(t.cond,s),target:o,source:this,internal:i,eventType:t.event,toJSON:function(){return _e(_e({},a),{target:a.target?a.target.map(function(l){return"#".concat(l.id)}):void 0,source:"#".concat(n.id)})}});return a},e.prototype.formatTransitions=function(){var t,n,r=this,i;if(!this.config.on)i=[];else if(Array.isArray(this.config.on))i=this.config.on;else{var s=this.config.on,o=FE,a=s[o],l=a===void 0?[]:a,u=Dk(s,[typeof o=="symbol"?o:o+""]);i=Vn(Object.keys(u).map(function(y){var b=Xc(y,u[y]);return b}).concat(Xc(FE,l)))}var c=this.config.always?Xc("",this.config.always):[],d=this.config.onDone?Xc(String(ih(this.id)),this.config.onDone):[],f=Vn(this.invoke.map(function(y){var b=[];return y.onDone&&b.push.apply(b,In([],Vt(Xc(String(Dh(y.id)),y.onDone)),!1)),y.onError&&b.push.apply(b,In([],Vt(Xc(String(yd(y.id)),y.onError)),!1)),b})),p=this.after,h=Vn(In(In(In(In([],Vt(d),!1),Vt(f),!1),Vt(i),!1),Vt(c),!1).map(function(y){return ks(y).map(function(b){return r.formatTransition(b)})}));try{for(var g=Pt(p),m=g.next();!m.done;m=g.next()){var v=m.value;h.push(v)}}catch(y){t={error:y}}finally{try{m&&!m.done&&(n=g.return)&&n.call(g)}finally{if(t)throw t.error}}return h},e}();function X5e(e,t){return new Y5e(e,t)}var qd=s8,xze=Uw,I0=globalThis&&globalThis.__assign||function(){return I0=Object.assign||function(e){for(var t,n=1,r=arguments.length;n<r;n++){t=arguments[n];for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])}return e},I0.apply(this,arguments)},Q5e=globalThis&&globalThis.__rest||function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(e!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]]);return n},J5e=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function Z5e(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=J5e(t,2),i=r[0],s=i===void 0?{}:i,o=r[1],a=typeof e=="function"?e():e,l=s.context,u=s.guards,c=s.actions,d=s.activities,f=s.services,p=s.delays,h=s.state,g=Q5e(s,["context","guards","actions","activities","services","delays","state"]),m={context:l,guards:u,actions:c,activities:d,services:f,delays:p},v=a.withConfig(m,function(){return I0(I0({},a.context),l)}),y=p8(v,g).start(h?ls.create(h):void 0),b;return Qt(function(){o&&(b=y.subscribe(Rh(o)))}),Vl(function(){y.stop(),b==null||b.unsubscribe()}),y}var eUe=globalThis&&globalThis.__read||function(e,t){var n=typeof Symbol=="function"&&e[Symbol.iterator];if(!n)return e;var r=n.call(e),i,s=[],o;try{for(;(t===void 0||t-- >0)&&!(i=r.next()).done;)s.push(i.value)}catch(a){o={error:a}}finally{try{i&&!i.done&&(n=r.return)&&n.call(r)}finally{if(o)throw o.error}}return s};function tUe(e){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];var r=eUe(t,1),i=r[0],s=i===void 0?{}:i;function o(c){var d=c.changed===void 0&&Object.keys(c.children).length;(c.changed||d)&&(u.value=c)}var a=Z5e(e,s,o),l=a.machine.initialState,u=da(s.state?ls.create(s.state):l);return{state:u,send:a.send,service:a}}function nUe(e){return"state"in e}var N2=function(){};function rUe(e){return"getSnapshot"in e?e.getSnapshot():nUe(e)?e.state:void 0}function iUe(e,t){t===void 0&&(t=rUe);var n=hn(e)?e:da(e),r=da(t(n.value)),i=function(s){n.value.send(s)};return xt(n,function(s,o,a){r.value=t(s);var l=s.subscribe({next:function(u){return r.value=u},error:N2,complete:N2}).unsubscribe;a(function(){return l()})},{immediate:!0}),{state:r,send:i}}function js(e,t){var n;const r=da();return Kt(()=>{r.value=e()},{...t,flush:(n=t==null?void 0:t.flush)!=null?n:"sync"}),xo(r)}function Km(e){return Yg()?(qx(e),!0):!1}function Ni(e){return typeof e=="function"?e():ve(e)}const Gm=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const sUe=e=>e!=null,oUe=Object.prototype.toString,aUe=e=>oUe.call(e)==="[object Object]",El=()=>{},lUe=uUe();function uUe(){var e,t;return Gm&&((e=window==null?void 0:window.navigator)==null?void 0:e.userAgent)&&(/iP(ad|hone|od)/.test(window.navigator.userAgent)||((t=window==null?void 0:window.navigator)==null?void 0:t.maxTouchPoints)>2&&/iPad|Macintosh/.test(window==null?void 0:window.navigator.userAgent))}function cUe(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const h8=e=>e();function dUe(e=h8){const t=ne(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:xo(t),pause:n,resume:r,eventFilter:i}}function fUe(e){let t;function n(){return t||(t=e()),t}return n.reset=async()=>{const r=t;t=void 0,r&&await r},n}function pUe(e,t){var n;if(typeof e=="number")return e+t;const r=((n=e.match(/^-?[0-9]+\.?[0-9]*/))==null?void 0:n[0])||"",i=e.slice(r.length),s=Number.parseFloat(r)+t;return Number.isNaN(s)?e:s+i}function g8(e){return e||Pr()}function hUe(e,t,n={}){const{eventFilter:r=h8,...i}=n;return xt(e,cUe(r,t),i)}function gUe(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:o,resume:a,isActive:l}=dUe(r);return{stop:hUe(e,t,{...i,eventFilter:s}),pause:o,resume:a,isActive:l}}function m8(e,t=!0,n){g8()?Qt(e,n):t?e():qn(e)}function mUe(e,t){g8(t)&&ur(e,t)}function vUe(e,t,n={}){const{immediate:r=!0}=n,i=ne(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...u)},Ni(t))}return r&&(i.value=!0,Gm&&l()),Km(a),{isPending:xo(i),start:l,stop:a}}function Vu(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=hn(e),s=ne(e);function o(a){if(arguments.length)return s.value=a,s.value;{const l=Ni(n);return s.value=s.value===l?Ni(r):l,s.value}}return i?o:[s,o]}function co(e){var t;const n=Ni(e);return(t=n==null?void 0:n.$el)!=null?t:n}const So=Gm?window:void 0,yUe=Gm?window.document:void 0,v8=Gm?window.navigator:void 0;function Ws(...e){let t,n,r,i;if(typeof e[0]=="string"||Array.isArray(e[0])?([n,r,i]=e,t=So):[t,n,r,i]=e,!t)return El;Array.isArray(n)||(n=[n]),Array.isArray(r)||(r=[r]);const s=[],o=()=>{s.forEach(c=>c()),s.length=0},a=(c,d,f,p)=>(c.addEventListener(d,f,p),()=>c.removeEventListener(d,f,p)),l=xt(()=>[co(t),Ni(i)],([c,d])=>{if(o(),!c)return;const f=aUe(d)?{...d}:d;s.push(...n.flatMap(p=>r.map(h=>a(c,p,h,f))))},{immediate:!0,flush:"post"}),u=()=>{l(),o()};return Km(u),u}let M2=!1;function Tze(e,t,n={}){const{window:r=So,ignore:i=[],capture:s=!0,detectIframe:o=!1}=n;if(!r)return El;lUe&&!M2&&(M2=!0,Array.from(r.document.body.children).forEach(f=>f.addEventListener("click",El)),r.document.documentElement.addEventListener("click",El));let a=!0;const l=f=>i.some(p=>{if(typeof p=="string")return Array.from(r.document.querySelectorAll(p)).some(h=>h===f.target||f.composedPath().includes(h));{const h=co(p);return h&&(f.target===h||f.composedPath().includes(h))}}),c=[Ws(r,"click",f=>{const p=co(e);if(!(!p||p===f.target||f.composedPath().includes(p))){if(f.detail===0&&(a=!l(f)),!a){a=!0;return}t(f)}},{passive:!0,capture:s}),Ws(r,"pointerdown",f=>{const p=co(e);a=!l(f)&&!!(p&&!f.composedPath().includes(p))},{passive:!0}),o&&Ws(r,"blur",f=>{setTimeout(()=>{var p;const h=co(e);((p=r.document.activeElement)==null?void 0:p.tagName)==="IFRAME"&&!(h!=null&&h.contains(r.document.activeElement))&&t(f)},0)})].filter(Boolean);return()=>c.forEach(f=>f())}function _Ue(){const e=ne(!1);return Pr()&&Qt(()=>{e.value=!0}),e}function pp(e){const t=_Ue();return Ae(()=>(t.value,!!e()))}function Fp(e,t={}){const{window:n=So}=t,r=pp(()=>n&&"matchMedia"in n&&typeof n.matchMedia=="function");let i;const s=ne(!1),o=u=>{s.value=u.matches},a=()=>{i&&("removeEventListener"in i?i.removeEventListener("change",o):i.removeListener(o))},l=Kt(()=>{r.value&&(a(),i=n.matchMedia(Ni(e)),"addEventListener"in i?i.addEventListener("change",o):i.addListener(o),s.value=i.matches)});return Km(()=>{l(),a(),i=void 0}),s}const Ize={sm:640,md:768,lg:1024,xl:1280,"2xl":1536};function Cze(e,t={}){function n(a,l){let u=Ni(e[a]);return l!=null&&(u=pUe(u,l)),typeof u=="number"&&(u=`${u}px`),u}const{window:r=So}=t;function i(a){return r?r.matchMedia(a).matches:!1}const s=a=>Fp(()=>`(min-width: ${n(a)})`,t),o=Object.keys(e).reduce((a,l)=>(Object.defineProperty(a,l,{get:()=>s(l),enumerable:!0,configurable:!0}),a),{});return Object.assign(o,{greater(a){return Fp(()=>`(min-width: ${n(a,.1)})`,t)},greaterOrEqual:s,smaller(a){return Fp(()=>`(max-width: ${n(a,-.1)})`,t)},smallerOrEqual(a){return Fp(()=>`(max-width: ${n(a)})`,t)},between(a,l){return Fp(()=>`(min-width: ${n(a)}) and (max-width: ${n(l,-.1)})`,t)},isGreater(a){return i(`(min-width: ${n(a,.1)})`)},isGreaterOrEqual(a){return i(`(min-width: ${n(a)})`)},isSmaller(a){return i(`(max-width: ${n(a,-.1)})`)},isSmallerOrEqual(a){return i(`(max-width: ${n(a)})`)},isInBetween(a,l){return i(`(min-width: ${n(a)}) and (max-width: ${n(l,-.1)})`)},current(){const a=Object.keys(e).map(l=>[l,s(l)]);return Ae(()=>a.filter(([,l])=>l.value).map(([l])=>l))}})}function L2(e,t={}){const{controls:n=!1,navigator:r=v8}=t,i=pp(()=>r&&"permissions"in r);let s;const o=typeof e=="string"?{name:e}:e,a=ne(),l=()=>{s&&(a.value=s.state)},u=fUe(async()=>{if(i.value){if(!s)try{s=await r.permissions.query(o),Ws(s,"change",l),l()}catch{a.value="prompt"}return s}});return u(),n?{state:a,isSupported:i,query:u}:a}function Aze(e={}){const{navigator:t=v8,read:n=!1,source:r,copiedDuring:i=1500,legacy:s=!1}=e,o=pp(()=>t&&"clipboard"in t),a=L2("clipboard-read"),l=L2("clipboard-write"),u=Ae(()=>o.value||s),c=ne(""),d=ne(!1),f=vUe(()=>d.value=!1,i);function p(){o.value&&a.value!=="denied"?t.clipboard.readText().then(v=>{c.value=v}):c.value=m()}u.value&&n&&Ws(["copy","cut"],p);async function h(v=Ni(r)){u.value&&v!=null&&(o.value&&l.value!=="denied"?await t.clipboard.writeText(v):g(v),c.value=v,d.value=!0,f.start())}function g(v){const y=document.createElement("textarea");y.value=v??"",y.style.position="absolute",y.style.opacity="0",document.body.appendChild(y),y.select(),document.execCommand("copy"),y.remove()}function m(){var v,y,b;return(b=(y=(v=document==null?void 0:document.getSelection)==null?void 0:v.call(document))==null?void 0:y.toString())!=null?b:""}return{isSupported:u,text:c,copied:d,copy:h}}const Qv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Jv="__vueuse_ssr_handlers__",bUe=wUe();function wUe(){return Jv in Qv||(Qv[Jv]=Qv[Jv]||{}),Qv[Jv]}function EUe(e,t){return bUe[e]||t}function $Ue(e){return e==null?"any":e instanceof Set?"set":e instanceof Map?"map":e instanceof Date?"date":typeof e=="boolean"?"boolean":typeof e=="string"?"string":typeof e=="object"?"object":Number.isNaN(e)?"any":"number"}const SUe={boolean:{read:e=>e==="true",write:e=>String(e)},object:{read:e=>JSON.parse(e),write:e=>JSON.stringify(e)},number:{read:e=>Number.parseFloat(e),write:e=>String(e)},any:{read:e=>e,write:e=>String(e)},string:{read:e=>e,write:e=>String(e)},map:{read:e=>new Map(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e.entries()))},set:{read:e=>new Set(JSON.parse(e)),write:e=>JSON.stringify(Array.from(e))},date:{read:e=>new Date(e),write:e=>e.toISOString()}},F2="vueuse-storage";function kze(e,t,n,r={}){var i;const{flush:s="pre",deep:o=!0,listenToStorageChanges:a=!0,writeDefaults:l=!0,mergeDefaults:u=!1,shallow:c,window:d=So,eventFilter:f,onError:p=x=>{console.error(x)},initOnMounted:h}=r,g=(c?da:ne)(typeof t=="function"?t():t);if(!n)try{n=EUe("getDefaultStorage",()=>{var x;return(x=So)==null?void 0:x.localStorage})()}catch(x){p(x)}if(!n)return g;const m=Ni(t),v=$Ue(m),y=(i=r.serializer)!=null?i:SUe[v],{pause:b,resume:_}=gUe(g,()=>S(g.value),{flush:s,deep:o,eventFilter:f});return d&&a&&m8(()=>{Ws(d,"storage",w),Ws(d,F2,T),h&&w()}),h||w(),g;function S(x){try{if(x==null)n.removeItem(e);else{const E=y.write(x),O=n.getItem(e);O!==E&&(n.setItem(e,E),d&&d.dispatchEvent(new CustomEvent(F2,{detail:{key:e,oldValue:O,newValue:E,storageArea:n}})))}}catch(E){p(E)}}function I(x){const E=x?x.newValue:n.getItem(e);if(E==null)return l&&m!=null&&n.setItem(e,y.write(m)),m;if(!x&&u){const O=y.read(E);return typeof u=="function"?u(O,m):v==="object"&&!Array.isArray(O)?{...m,...O}:O}else return typeof E!="string"?E:y.read(E)}function T(x){w(x.detail)}function w(x){if(!(x&&x.storageArea!==n)){if(x&&x.key==null){g.value=m;return}if(!(x&&x.key!==e)){b();try{(x==null?void 0:x.newValue)!==y.write(g.value)&&(g.value=I(x))}catch(E){p(E)}finally{x?qn(_):_()}}}}}function xUe(e,t,n={}){const{window:r=So,...i}=n;let s;const o=pp(()=>r&&"ResizeObserver"in r),a=()=>{s&&(s.disconnect(),s=void 0)},l=Ae(()=>Array.isArray(e)?e.map(d=>co(d)):[co(e)]),u=xt(l,d=>{if(a(),o.value&&r){s=new ResizeObserver(t);for(const f of d)f&&s.observe(f,i)}},{immediate:!0,flush:"post",deep:!0}),c=()=>{a(),u()};return Km(c),{isSupported:o,stop:c}}function Oze(e,t,n={}){const{root:r,rootMargin:i="0px",threshold:s=.1,window:o=So,immediate:a=!0}=n,l=pp(()=>o&&"IntersectionObserver"in o),u=Ae(()=>{const h=Ni(e);return(Array.isArray(h)?h:[h]).map(co).filter(sUe)});let c=El;const d=ne(a),f=l.value?xt(()=>[u.value,co(r),d.value],([h,g])=>{if(c(),!d.value||!h.length)return;const m=new IntersectionObserver(t,{root:co(g),rootMargin:i,threshold:s});h.forEach(v=>v&&m.observe(v)),c=()=>{m.disconnect(),c=El}},{immediate:a,flush:"post"}):El,p=()=>{c(),f(),d.value=!1};return Km(p),{isSupported:l,isActive:d,pause(){c(),d.value=!1},resume(){d.value=!0},stop:p}}const Bp=new Map;function Pze(e){const t=Yg();function n(a){var l;const u=Bp.get(e)||new Set;u.add(a),Bp.set(e,u);const c=()=>i(a);return(l=t==null?void 0:t.cleanups)==null||l.push(c),c}function r(a){function l(...u){i(l),a(...u)}return n(l)}function i(a){const l=Bp.get(e);l&&(l.delete(a),l.size||s())}function s(){Bp.delete(e)}function o(a,l){var u;(u=Bp.get(e))==null||u.forEach(c=>c(a,l))}return{on:n,once:r,off:i,emit:o,reset:s}}function TUe(e={}){const{window:t=So}=e,n=t==null?void 0:t.navigator,r=pp(()=>n&&"connection"in n),i=ne(!0),s=ne(!1),o=ne(void 0),a=ne(void 0),l=ne(void 0),u=ne(void 0),c=ne(void 0),d=ne(void 0),f=ne("unknown"),p=r.value&&n.connection;function h(){n&&(i.value=n.onLine,o.value=i.value?void 0:Date.now(),a.value=i.value?Date.now():void 0,p&&(l.value=p.downlink,u.value=p.downlinkMax,d.value=p.effectiveType,c.value=p.rtt,s.value=p.saveData,f.value=p.type))}return t&&(Ws(t,"offline",()=>{i.value=!1,o.value=Date.now()}),Ws(t,"online",()=>{i.value=!0,a.value=Date.now()})),p&&Ws(p,"change",h,!1),h(),{isSupported:r,isOnline:i,saveData:s,offlineAt:o,onlineAt:a,downlink:l,downlinkMax:u,effectiveType:d,rtt:c,type:f}}function Rze(e={}){const{window:t=So}=e;if(!t)return ne(["en"]);const n=t.navigator,r=ne(n.languages);return Ws(t,"languagechange",()=>{r.value=n.languages}),r}function Dze(e,t=El,n={}){const{immediate:r=!0,manual:i=!1,type:s="text/javascript",async:o=!0,crossOrigin:a,referrerPolicy:l,noModule:u,defer:c,document:d=yUe,attrs:f={}}=n,p=ne(null);let h=null;const g=y=>new Promise((b,_)=>{const S=w=>(p.value=w,b(w),w);if(!d){b(!1);return}let I=!1,T=d.querySelector(`script[src="${Ni(e)}"]`);T?T.hasAttribute("data-loaded")&&S(T):(T=d.createElement("script"),T.type=s,T.async=o,T.src=Ni(e),c&&(T.defer=c),a&&(T.crossOrigin=a),u&&(T.noModule=u),l&&(T.referrerPolicy=l),Object.entries(f).forEach(([w,x])=>T==null?void 0:T.setAttribute(w,x)),I=!0),T.addEventListener("error",w=>_(w)),T.addEventListener("abort",w=>_(w)),T.addEventListener("load",()=>{T.setAttribute("data-loaded","true"),t(T),S(T)}),I&&(T=d.head.appendChild(T)),y||S(T)}),m=(y=!0)=>(h||(h=g(y)),h),v=()=>{if(!d)return;h=null,p.value&&(p.value=null);const y=d.querySelector(`script[src="${Ni(e)}"]`);y&&d.head.removeChild(y)};return r&&!i&&m8(m),i||mUe(v),{scriptTag:p,load:m,unload:v}}function Nze(e){const t=ne(e==null?void 0:e.element),n=ne(e==null?void 0:e.input),r=ne(1);function i(){var s,o;if(!t.value)return;let a="";t.value.style.height="1px",r.value=(s=t.value)==null?void 0:s.scrollHeight,e!=null&&e.styleTarget?Ni(e.styleTarget).style.height=`${r.value}px`:a=`${r.value}px`,t.value.style.height=a,(o=e==null?void 0:e.onResize)==null||o.call(e)}return xt([n,t],()=>qn(i),{immediate:!0}),xUe(t,()=>i()),e!=null&&e.watch&&xt(e.watch,i,{immediate:!0,deep:!0}),{textarea:t,input:n,triggerResize:i}}const y8=(e,t)=>t===void 0?e:{...dx(e),...dx(t)},_8={OnboardingStart:"onboarding_start",OnboardingComplete:"onboarding_complete",NewCustomer:"new_customer",Publish:"site_publish",ViewPlans:"view_plans",Checkout:"begin_checkout",Purchase:"purchase"},b8=(e,t={})=>{Ig!=null&&MH(Ig,e,t,{})},Mze=(e,t)=>{Ig!=null&&Ale(Ig,{[e]:t})},Lze=async(e,t)=>{const r={transaction_id:`${e}-${t}`,currency:"USD",plan:t,value:0,tax:0,shipping:0};b8(_8.Purchase,r)},jg="a-f\\d",IUe=`#?[${jg}]{3}[${jg}]?`,CUe=`#?[${jg}]{6}([${jg}]{2})?`,AUe=new RegExp(`[^#${jg}]`,"gi"),kUe=new RegExp(`^${IUe}$|^${CUe}$`,"i");function B2(e,t={}){if(typeof e!="string"||AUe.test(e)||!kUe.test(e))throw new TypeError("Expected a valid hex string");e=e.replace(/^#/,"");let n=1;e.length===8&&(n=Number.parseInt(e.slice(6,8),16)/255,e=e.slice(0,6)),e.length===4&&(n=Number.parseInt(e.slice(3,4).repeat(2),16)/255,e=e.slice(0,3)),e.length===3&&(e=e[0]+e[0]+e[1]+e[1]+e[2]+e[2]);const r=Number.parseInt(e,16),i=r>>16,s=r>>8&255,o=r&255,a=typeof t.alpha=="number"?t.alpha:n;if(t.format==="array")return[i,s,o,a];if(t.format==="css"){const l=a===1?"":` / ${Number((a*100).toFixed(2))}%`;return`rgb(${i} ${s} ${o}${l})`}return{red:i,green:s,blue:o,alpha:a}}const Fze=e=>e!==void 0?new Date(e).toLocaleDateString("en-gb",{year:"numeric",month:"long",day:"numeric"}):void 0,Bze=e=>{const r=new Date(e),i=new Date,s=Math.round(Math.abs((r-i)/864e5));if(s>0)return s===1?`${s} day ago`:`${s} days ago`;const o=Math.round(Math.abs((r-i)/36e5));return o>0?o===1?`${o} hour ago`:`${o} hours ago`:"moments ago"},OUe=(e,t)=>{var n;if(window!=null&&window.document){const r=document==null?void 0:document.querySelector(":root"),i=document.querySelector("#previewer"),s=(n=i==null?void 0:i.contentDocument)==null?void 0:n.querySelector(":root"),o=[r,s],a=B2(e||"#000000"),l=B2(t||"#000000");o.forEach(u=>{var c,d,f;(c=u==null?void 0:u.style)==null||c.setProperty("--color-primary",`${a.red} ${a.green} ${a.blue}`),(d=u==null?void 0:u.style)==null||d.setProperty("--color-secondary",`${l.red} ${l.green} ${l.blue}`),(f=u==null?void 0:u.style)==null||f.setProperty("--plyr-color-main",e)})}},Uze=e=>{for(var t in e)break;return t},Vze=(e={},t)=>{const n=Nq(e,r=>(r==null?void 0:r.slug)===t);return n==null?void 0:n.id},Bk=async(e,t={},n=7e4)=>{var l,u,c;fr.log(`Calling ${e}...`,{functionName:e,params:t,timeout:n});const i=await BH(Gj,e,{timeout:n})(t),s=(l=i==null?void 0:i.data)==null?void 0:l.success,o=((u=i==null?void 0:i.data)==null?void 0:u.data)||(i==null?void 0:i.data),a=((c=i==null?void 0:i.data)==null?void 0:c.error)||`Function call ${e} failed`;if(Uq(i,"data.success")&&s===!1)throw fr.error(a,{functionName:e,params:t,response:i}),Error(a);return fr.log(`Called ${e} successfully!`,{data:o}),o},PUe=async(e,t={})=>{var i;const r=await BH(Yj,e)(t);return((i=r==null?void 0:r.data)==null?void 0:i.data)||(r==null?void 0:r.data)},{VITE_APP_ENV:RUe}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"758a0a4ad93468160f24fe350a2c4dc83e8d41ab",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_UNSPLASH_ACCESS_KEY:"2Z53wBSWJVEmkXRa81cfNdjIQazdP-K9wf_X_m5DIzQ",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1};let Zc=null;const w8=(e,t)=>{var r;const n=" "+((r=e==null?void 0:e.event)==null?void 0:r.type)+"  "+JSON.stringify(e==null?void 0:e.value,null,0);return console.groupCollapsed(t?`%c ${t}:`:"State Service:","color: #bada55",n)},E8=e=>{var t,n;if((t=e==null?void 0:e.event)!=null&&t.type){console.groupCollapsed("%c Event:","color: #fbbf24",(n=e==null?void 0:e.event)==null?void 0:n.type),console.group("Event Payload:");for(const[r,i]of Object.entries(e==null?void 0:e.event))if(i&&typeof i=="object"){if(console.group(`${r} (${typeof i})`),Object.entries(i).length<3)for(const[s,o]of Object.entries(i))s&&o&&console.log(s,o);else console.log(i);console.groupEnd()}else console.log(`${r}: ${i} (${typeof i})`);console.groupEnd(),console.groupEnd()}},DUe=e=>{for(const[t,n]of Object.entries(e))if(n&&typeof n=="object"){if(console.groupCollapsed(`${t} (${typeof n})`),Object.entries(n).length<3)for(const[r,i]of Object.entries(n))r&&i&&console.log(r,i);else console.log(n);console.groupEnd()}else console.log(`${t}: ${n} (${typeof n})`)},$8=e=>{console.groupCollapsed("%c Context","color: #17D3C8"),e!=null&&e.context&&DUe(e==null?void 0:e.context),console.groupEnd()},NUe=e=>{var t;if(e!=null&&e.children){console.groupCollapsed("%c Child Services","color: #F5F0D9");for(const[n,r]of Object.entries(e.children))if(r&&typeof r=="object"){console.group(`${n} (${typeof r})`);const i=(t=e.children[n])==null?void 0:t.state;w8(i,n),E8(i),$8(i),console.groupEnd(),console.groupEnd()}else console.log(`${n}: ${r} (${typeof r})`);console.groupEnd()}},MUe=e=>{const t=e.actions.filter(n=>{var r;return!((r=n==null?void 0:n.type)!=null&&r.includes("xstate."))}).map(n=>n==null?void 0:n.type);t!=null&&t.length&&console.log("%c Actions","color: #F59E0B",t==null?void 0:t.join(", "))},S8=(e,t="")=>{if(!e)return console.error(`watchService can't init for ${t}`),!1;RUe!=="production"&&e.onTransition(n=>{w8(n,t),E8(n),$8(n),MUe(n),NUe(n),console.groupEnd()})},LUe={analyticsTrackEvent:(e,t,{action:n})=>(n==null?void 0:n.analyticsEvent)&&b8(_8[n.analyticsEvent]),assignErrors:qd({errorMessage:(e,{data:t,error:n,errorMessage:r})=>{let i=r||(n==null?void 0:n.message)||(t==null?void 0:t.message)||"Unknown error";return i=i==null?void 0:i.replace("FirebaseError: ",""),i==="internal"&&(i="Please try again or contact support."),i},errors:(e,{error:t,errors:n})=>{const i=[t].map(s=>{var o;return s!=null&&s.message?(o=s==null?void 0:s.message)==null?void 0:o.replace("FirebaseError: ",""):s});return i.length>0?i:["Unknown error"]}}),redirectToCheckoutUrl:(e,{url:t})=>window.location.assign(t),resetErrors:qd({errorMessage:"",errors:[]}),resetState:qd({}),showToast:({toast:e},t,{action:n})=>{var r;n.dismissPreviousToast&&Zc&&(Zc==null||Zc.dismiss(),Zc=null),Zc=e==null?void 0:e.open({message:(n==null?void 0:n.message)||((r=t==null?void 0:t.error)==null?void 0:r.message)||(t==null?void 0:t.toastMsg)||"",type:(n==null?void 0:n.toastType)||"default",...(n==null?void 0:n.toastOptions)||(t==null?void 0:t.toastOptions)||{}})},trackErrors:(e,t,{state:n})=>{var r,i;fr.error((t==null?void 0:t.data)||(t==null?void 0:t.error),{label:"Machine Error",event:t==null?void 0:t.type,machine:(r=n==null?void 0:n.machine)==null?void 0:r.id,errorEventType:((i=t==null?void 0:t.data)==null?void 0:i.type)||(t==null?void 0:t.errorEventType),state:n==null?void 0:n.value,context:e})},updatePreviewFrame:async(e,t,{state:n})=>{var u,c,d,f;const{previewFrame:r,regeneratingContent:i,siteId:s}=e,o=(u=r==null?void 0:r.value)==null?void 0:u.contentWindow,a=(e==null?void 0:e.siteData)||((c=e==null?void 0:e.idea)==null?void 0:c.siteData),l=(e==null?void 0:e.pageData)||((d=e==null?void 0:e.idea)==null?void 0:d.pageData);o?await s5.send(o,"updatePage",{regeneratingContent:i,pageData:l||((f=a==null?void 0:a.pages)==null?void 0:f.index),sharedData:(a==null?void 0:a.shared)||(l==null?void 0:l.shared),siteConfig:a==null?void 0:a.config,siteId:s},{timeout:1e4}).catch(async p=>{var h,g;["UPDATE_SITE_DATA","LOAD_PAGE_SUCCESS"].includes(t==null?void 0:t.type)||fr.warn(p,{label:"Post Robot Error",event:t==null?void 0:t.type,machine:(h=n==null?void 0:n.machine)==null?void 0:h.id,errorEventType:((g=t==null?void 0:t.data)==null?void 0:g.type)||(t==null?void 0:t.errorEventType),state:n==null?void 0:n.value})}):console.log("No frame found for "+(t?t.type:"undefined")+" event in "+(n&&n.machine?n.machine.id:"undefined"))}},Hze=(e,t)=>{var i,s,o,a;const n=y8(e==null?void 0:e.siteData,t==null?void 0:t.siteData),r={id:"index",name:"Homepage",type:"IndexPage",slug:"index",sortOrder:0,showInFooter:!1,showInHeader:!1,visible:!0};return n.pages.index&&(n.pages.index={...r,...n.pages.index}),OUe((s=(i=n==null?void 0:n.config)==null?void 0:i.theme)==null?void 0:s.primaryColor,(a=(o=n==null?void 0:n.config)==null?void 0:o.theme)==null?void 0:a.secondaryColor),n},jze=(e,t)=>{const n={id:"index",name:"Homepage",type:"IndexPage"},r=y8(e==null?void 0:e.pageData,t==null?void 0:t.pageData);return{...n,...r}},FUe=(e,t="",n={},r=!0)=>{if(!e)return console.error(`setupMachine can't init for ${t}`),!1;const{state:i,send:s,service:o}=tUe(e,n);return r&&S8(o,t),{state:i,send:s,service:o}},Wze=(e,t="",n=!1)=>{if(!e)return console.error(`setupActor can't init for ${t}`),!1;const{state:r,send:i}=iUe(e);return n&&S8(e,t),{state:r,send:i}},BE=(e,t,n=null)=>js(()=>{var r;return yw((r=e==null?void 0:e.value)==null?void 0:r.context,t,n)});const BUe={name:"UiCenter"},UUe={class:"flex justify-center items-center","data-testid":"ui-center"};function VUe(e,t,n,r,i,s){return re(),Le("div",UUe,[gr(e.$slots,"default",{},void 0,!0)])}const x8=Is(BUe,[["render",VUe],["__scopeId","data-v-1b62b8f4"]]),HUe={name:"UiLoader",props:{iconColorClass:{type:String,default:"text-brand-primary"},label:{type:String,default:"Loading..."}}};function jUe(e,t,n,r,i,s){const o=Bc,a=x8;return re(),We(a,null,{default:Ze(()=>[we(o,{iconColorClass:n.iconColorClass,label:n.label},null,8,["iconColorClass","label"])]),_:1})}const T8=Is(HUe,[["render",jUe]]),WUe=Object.freeze(Object.defineProperty({__proto__:null,default:T8},Symbol.toStringTag,{value:"Module"})),qUe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},zUe=Z("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm1 15h-2v-2h2v2zm0-4h-2V7h2v6z"},null,-1),KUe=[zUe];function GUe(e,t){return re(),Le("svg",qUe,KUe)}const YUe={name:"ic-baseline-error",render:GUe},XUe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},QUe=Z("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 15c-.55 0-1-.45-1-1v-4c0-.55.45-1 1-1s1 .45 1 1v4c0 .55-.45 1-1 1zm1-8h-2V7h2v2z"},null,-1),JUe=[QUe];function ZUe(e,t){return re(),Le("svg",XUe,JUe)}const e4e={name:"ic-round-info",render:ZUe},t4e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},n4e=Z("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm-2 15l-5-5l1.41-1.41L10 14.17l7.59-7.59L19 8l-9 9z"},null,-1),r4e=[n4e];function i4e(e,t){return re(),Le("svg",t4e,r4e)}const s4e={name:"ic-baseline-check-circle",render:i4e},o4e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},a4e=Z("path",{fill:"currentColor",d:"M4.47 21h15.06c1.54 0 2.5-1.67 1.73-3L13.73 4.99c-.77-1.33-2.69-1.33-3.46 0L2.74 18c-.77 1.33.19 3 1.73 3zM12 14c-.55 0-1-.45-1-1v-2c0-.55.45-1 1-1s1 .45 1 1v2c0 .55-.45 1-1 1zm1 4h-2v-2h2v2z"},null,-1),l4e=[a4e];function u4e(e,t){return re(),Le("svg",o4e,l4e)}const c4e={name:"ic-round-warning",render:u4e};const d4e={name:"UiAlert",props:{buttonAction:{type:Function,default:null},buttonLabel:{type:String,default:"Retry?"},messages:{type:Array,default:()=>[]},title:{type:String,default:""},type:{type:String,default:""}}},f4e=e=>(tT("data-v-f73880a4"),e=e(),nT(),e),p4e={class:"flex"},h4e={class:"flex-shrink-0"},g4e={class:"ml-3 space-y-2"},m4e={key:0,class:"text-base font-bold ui-alert-title"},v4e={key:1,class:"space-y-2 ui-alert-content"},y4e={class:"space-y-4"},_4e={key:0,class:"text-sm ui-alert-details space-y-1"},b4e=f4e(()=>Z("p",{class:"font-semibold"},"Additional Details",-1)),w4e={role:"list",class:"pl-5 space-y-1 list-disc"},E4e={class:"flex items-center gap-2"};function $4e(e,t,n,r,i,s){const o=c4e,a=s4e,l=e4e,u=YUe,c=Uc;return re(),Le("div",{class:Vr(["p-4 rounded-md shadow",`ui-alert-${n.type}`])},[Z("div",p4e,[Z("div",h4e,[n.type==="warning"?(re(),We(o,{key:0,class:"w-6 h-6 ui-alert-icon"})):Xe("",!0),n.type==="success"?(re(),We(a,{key:1,class:"w-6 h-6 ui-alert-icon"})):Xe("",!0),n.type==="info"?(re(),We(l,{key:2,class:"w-6 h-6 ui-alert-icon"})):Xe("",!0),n.type==="error"?(re(),We(u,{key:3,class:"w-6 h-6 ui-alert-icon"})):Xe("",!0)]),Z("div",g4e,[n.title?(re(),Le("h3",m4e,gs(n.title),1)):Xe("",!0),e.$slots.default||n.buttonAction||n.messages.length?(re(),Le("div",v4e,[Z("div",y4e,[Z("div",null,[gr(e.$slots,"default",{},void 0,!0)]),n.messages.length&&n.messages[0]?(re(),Le("div",_4e,[b4e,Z("ul",w4e,[(re(!0),Le(pn,null,qu(n.messages,(d,f)=>(re(),Le("li",{key:f},gs(d),1))),128))])])):Xe("",!0),Z("div",E4e,[gr(e.$slots,"controls",{},void 0,!0),n.buttonAction?(re(),We(c,{key:0,size:"xs",theme:"tertiary",onClick:n.buttonAction},{default:Ze(()=>[En(gs(n.buttonLabel),1)]),_:1},8,["onClick"])):Xe("",!0)])])])):Xe("",!0)])])],2)}const I8=Is(d4e,[["render",$4e],["__scopeId","data-v-f73880a4"]]),S4e={};function x4e(e,t){const n=I8;return re(),Le("div",null,[we(n,{type:"error",title:"Could not load component "},{default:Ze(()=>[En(" Sorry it looks like there was an issue loading this component. Please refresh your page to try again. ")]),_:1})])}const T4e=Is(S4e,[["render",x4e]]),Cs={loadingComponent:T8,delay:200,errorComponent:T4e,timeout:15e3,onError:(e,t,n,r)=>{var i;console.log(e,t,n,r),(i=e==null?void 0:e.message)!=null&&i.match(/fetch/)&&r<=3?t():n()}},I4e=()=>{var e;return(window==null?void 0:window.Rewardful)&&((e=window.Rewardful)==null?void 0:e.referral)||"checkout_"+new Date().getTime()},C4e=async e=>{try{const t=await PUe("ext-firestore-stripe-payments-createPortalLink",{returnUrl:e,locale:"auto"});return t==null?void 0:t.url}catch(t){return fr.error("getCustomPortalUrl failed",t),!1}},qze=async(e,t)=>{try{const n={priceId:e,hostUrl:`${window.location.protocol}//${window.location.host}`,cancelUrl:`${window.location.origin}${window.location.pathname}?ref=PaymentCancel`},r=I4e();return r&&(n.clientReferenceId=r),t!=null&&t.siteId&&(n.siteId=t.siteId),t!=null&&t.subscriptionId&&(n.subscriptionId=t.subscriptionId),t!=null&&t.promotionCodeId&&(n.promotionCodeId=t.promotionCodeId),t!=null&&t.trialPeriodDays&&(n.trialPeriodDays=t.trialPeriodDays),t!=null&&t.creditCardNotRequired&&(n.creditCardNotRequired=t.creditCardNotRequired),n.adjustableQuantity=!1,n.includeCustomQuestions=!1,Bk("createCheckout",n)}catch(n){fr.error("createCheckout failed",n)}},A4e=is({...Cs,loader:()=>At(()=>import("./PlanSelector-a2bf851d.js"),["assets/PlanSelector-a2bf851d.js","assets/circle-check-filled-6f67c410.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/switch-7a7b90fb.js"])}),k4e=is({...Cs,loader:()=>At(()=>Promise.resolve().then(()=>WUe),void 0)}),O4e=is({...Cs,loader:()=>At(()=>import("./DowngradePlan-af191234.js"),[])}),zze=({openAuthModal:e})=>({onDowngrade:async(i,s,o)=>{var l;Bu({id:"loader",name:"loader",clickToClose:!0,showClose:!1},{default:{component:k4e,bind:{label:"Checking Plan Settings..."}}});const a=await C4e((l=window==null?void 0:window.location)==null?void 0:l.origin);ME("loader"),Bu({name:"downgrade-site-confirm",actions:!1},{default:{component:O4e,bind:{url:a},on:{confirm(){o&&typeof o=="function"&&o(),ME("downgrade-site-confirm")},cancel(){ME("downgrade-site-confirm")}}}})},onUpgrade:async i=>{const s=i==null?void 0:i.id;s||fr.log("onUpgrade called without siteId!"),Bu({name:"plan-selector"},{default:{component:A4e,bind:{openAuthModal:e,siteId:s,site:i,trial:!1}}})},planClasses:{Free:"text-gray-600 bg-gray-200","Basic Site":"text-yellow-700 bg-yellow-200","Growth Site":"text-cyan-700 bg-cyan-200","Premium Site":"text-indigo-700 bg-indigo-200",Pro:"text-yellow-700 bg-yellow-200 before:content-['Legacy_']",Basic:"text-yellow-700 bg-yellow-200 before:content-['Legacy_']",Starter:"text-yellow-700 bg-yellow-200 before:content-['Legacy_']"}}),P4e=is({...Cs,loader:()=>At(()=>import("./DomainSettings-748ecf4b.js"),["assets/DomainSettings-748ecf4b.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/plugins-98ed0274.js","assets/circle-check-filled-6f67c410.js"])}),Kze=()=>{const e=lt("openAuthModal"),t=lt("siteService");return{openDomainSettings:()=>{Bu({name:"custom-domain",contentClasses:"w-full max-w-3xl"},{default:{component:P4e,bind:{openAuthModal:e,siteService:t}}})}}},R4e=["name"],D4e={class:"w-full"},N4e={__name:"ContentInput",props:{context:{type:Object,default:()=>({})}},setup(e){const t=e,n=is({...Cs,loader:()=>At(()=>import("./Tiptap-a1e8c30f.js"),["assets/Tiptap-a1e8c30f.js","assets/helpers-7cfbe709.js","assets/Tiptap-969f7948.css"])}),i=uk(s=>{var o,a;(a=(o=t==null?void 0:t.context)==null?void 0:o.node)==null||a.input(s)},100);return(s,o)=>{var a,l,u;return re(),Le("div",{class:"ring-1 ring-gray-400 focus-within:ring-brand-primary focus-within:ring-2 [&>label:first-child]:focus-within:text-brand-primary rounded mb-1 bg-white","data-testid":"content-input","data-formkit-custom-input":"",name:(l=(a=e.context)==null?void 0:a.node)==null?void 0:l.name},[Z("div",D4e,[we(ve(n),{value:e.context._value,controls:(u=e.context)==null?void 0:u.controls,onInput:ve(i)},null,8,["value","controls","onInput"])])],8,R4e)}}},M4e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},L4e=Z("path",{fill:"currentColor",d:"M17.75 3A3.25 3.25 0 0 1 21 6.25v11.5A3.25 3.25 0 0 1 17.75 21H6.25A3.25 3.25 0 0 1 3 17.75V6.25A3.25 3.25 0 0 1 6.25 3h11.5Zm.58 16.401l-5.805-5.686a.75.75 0 0 0-.966-.071l-.084.07l-5.807 5.687c.182.064.378.099.582.099h11.5c.203 0 .399-.035.58-.099l-5.805-5.686L18.33 19.4ZM17.75 4.5H6.25A1.75 1.75 0 0 0 4.5 6.25v11.5c0 .208.036.408.103.594l5.823-5.701a2.25 2.25 0 0 1 3.02-.116l.128.116l5.822 5.702c.067-.186.104-.386.104-.595V6.25a1.75 1.75 0 0 0-1.75-1.75Zm-2.498 2a2.252 2.252 0 1 1 0 4.504a2.252 2.252 0 0 1 0-4.504Zm0 1.5a.752.752 0 1 0 0 1.504a.752.752 0 0 0 0-1.504Z"},null,-1),F4e=[L4e];function B4e(e,t){return re(),Le("svg",M4e,F4e)}const U4e={name:"fluent-image24-regular",render:B4e},Nh=/^[a-z0-9]+(-[a-z0-9]+)*$/,Vw=(e,t,n,r="")=>{const i=e.split(":");if(e.slice(0,1)==="@"){if(i.length<2||i.length>3)return null;r=i.shift().slice(1)}if(i.length>3||!i.length)return null;if(i.length>1){const a=i.pop(),l=i.pop(),u={provider:i.length>0?i[0]:r,prefix:l,name:a};return t&&!Dy(u)?null:u}const s=i[0],o=s.split("-");if(o.length>1){const a={provider:r,prefix:o.shift(),name:o.join("-")};return t&&!Dy(a)?null:a}if(n&&r===""){const a={provider:r,prefix:"",name:s};return t&&!Dy(a,n)?null:a}return null},Dy=(e,t)=>e?!!((e.provider===""||e.provider.match(Nh))&&(t&&e.prefix===""||e.prefix.match(Nh))&&e.name.match(Nh)):!1,C8=Object.freeze({left:0,top:0,width:16,height:16}),C0=Object.freeze({rotate:0,vFlip:!1,hFlip:!1}),Hw=Object.freeze({...C8,...C0}),Cx=Object.freeze({...Hw,body:"",hidden:!1});function V4e(e,t){const n={};!e.hFlip!=!t.hFlip&&(n.hFlip=!0),!e.vFlip!=!t.vFlip&&(n.vFlip=!0);const r=((e.rotate||0)+(t.rotate||0))%4;return r&&(n.rotate=r),n}function U2(e,t){const n=V4e(e,t);for(const r in Cx)r in C0?r in e&&!(r in n)&&(n[r]=C0[r]):r in t?n[r]=t[r]:r in e&&(n[r]=e[r]);return n}function H4e(e,t){const n=e.icons,r=e.aliases||Object.create(null),i=Object.create(null);function s(o){if(n[o])return i[o]=[];if(!(o in i)){i[o]=null;const a=r[o]&&r[o].parent,l=a&&s(a);l&&(i[o]=[a].concat(l))}return i[o]}return(t||Object.keys(n).concat(Object.keys(r))).forEach(s),i}function j4e(e,t,n){const r=e.icons,i=e.aliases||Object.create(null);let s={};function o(a){s=U2(r[a]||i[a],s)}return o(t),n.forEach(o),U2(e,s)}function A8(e,t){const n=[];if(typeof e!="object"||typeof e.icons!="object")return n;e.not_found instanceof Array&&e.not_found.forEach(i=>{t(i,null),n.push(i)});const r=H4e(e);for(const i in r){const s=r[i];s&&(t(i,j4e(e,i,s)),n.push(i))}return n}const W4e={provider:"",aliases:{},not_found:{},...C8};function UE(e,t){for(const n in t)if(n in e&&typeof e[n]!=typeof t[n])return!1;return!0}function k8(e){if(typeof e!="object"||e===null)return null;const t=e;if(typeof t.prefix!="string"||!e.icons||typeof e.icons!="object"||!UE(e,W4e))return null;const n=t.icons;for(const i in n){const s=n[i];if(!i.match(Nh)||typeof s.body!="string"||!UE(s,Cx))return null}const r=t.aliases||Object.create(null);for(const i in r){const s=r[i],o=s.parent;if(!i.match(Nh)||typeof o!="string"||!n[o]&&!r[o]||!UE(s,Cx))return null}return t}const V2=Object.create(null);function q4e(e,t){return{provider:e,prefix:t,icons:Object.create(null),missing:new Set}}function wc(e,t){const n=V2[e]||(V2[e]=Object.create(null));return n[t]||(n[t]=q4e(e,t))}function Uk(e,t){return k8(t)?A8(t,(n,r)=>{r?e.icons[n]=r:e.missing.add(n)}):[]}function z4e(e,t,n){try{if(typeof n.body=="string")return e.icons[t]={...n},!0}catch{}return!1}let Wg=!1;function O8(e){return typeof e=="boolean"&&(Wg=e),Wg}function K4e(e){const t=typeof e=="string"?Vw(e,!0,Wg):e;if(t){const n=wc(t.provider,t.prefix),r=t.name;return n.icons[r]||(n.missing.has(r)?null:void 0)}}function G4e(e,t){const n=Vw(e,!0,Wg);if(!n)return!1;const r=wc(n.provider,n.prefix);return z4e(r,n.name,t)}function Y4e(e,t){if(typeof e!="object")return!1;if(typeof t!="string"&&(t=e.provider||""),Wg&&!t&&!e.prefix){let i=!1;return k8(e)&&(e.prefix="",A8(e,(s,o)=>{o&&G4e(s,o)&&(i=!0)})),i}const n=e.prefix;if(!Dy({provider:t,prefix:n,name:"a"}))return!1;const r=wc(t,n);return!!Uk(r,e)}const P8=Object.freeze({width:null,height:null}),R8=Object.freeze({...P8,...C0}),X4e=/(-?[0-9.]*[0-9]+[0-9.]*)/g,Q4e=/^-?[0-9.]*[0-9]+[0-9.]*$/g;function H2(e,t,n){if(t===1)return e;if(n=n||100,typeof e=="number")return Math.ceil(e*t*n)/n;if(typeof e!="string")return e;const r=e.split(X4e);if(r===null||!r.length)return e;const i=[];let s=r.shift(),o=Q4e.test(s);for(;;){if(o){const a=parseFloat(s);isNaN(a)?i.push(s):i.push(Math.ceil(a*t*n)/n)}else i.push(s);if(s=r.shift(),s===void 0)return i.join("");o=!o}}const J4e=e=>e==="unset"||e==="undefined"||e==="none";function Z4e(e,t){const n={...Hw,...e},r={...R8,...t},i={left:n.left,top:n.top,width:n.width,height:n.height};let s=n.body;[n,r].forEach(h=>{const g=[],m=h.hFlip,v=h.vFlip;let y=h.rotate;m?v?y+=2:(g.push("translate("+(i.width+i.left).toString()+" "+(0-i.top).toString()+")"),g.push("scale(-1 1)"),i.top=i.left=0):v&&(g.push("translate("+(0-i.left).toString()+" "+(i.height+i.top).toString()+")"),g.push("scale(1 -1)"),i.top=i.left=0);let b;switch(y<0&&(y-=Math.floor(y/4)*4),y=y%4,y){case 1:b=i.height/2+i.top,g.unshift("rotate(90 "+b.toString()+" "+b.toString()+")");break;case 2:g.unshift("rotate(180 "+(i.width/2+i.left).toString()+" "+(i.height/2+i.top).toString()+")");break;case 3:b=i.width/2+i.left,g.unshift("rotate(-90 "+b.toString()+" "+b.toString()+")");break}y%2===1&&(i.left!==i.top&&(b=i.left,i.left=i.top,i.top=b),i.width!==i.height&&(b=i.width,i.width=i.height,i.height=b)),g.length&&(s='<g transform="'+g.join(" ")+'">'+s+"</g>")});const o=r.width,a=r.height,l=i.width,u=i.height;let c,d;o===null?(d=a===null?"1em":a==="auto"?u:a,c=H2(d,l/u)):(c=o==="auto"?l:o,d=a===null?H2(c,u/l):a==="auto"?u:a);const f={},p=(h,g)=>{J4e(g)||(f[h]=g.toString())};return p("width",c),p("height",d),f.viewBox=i.left.toString()+" "+i.top.toString()+" "+l.toString()+" "+u.toString(),{attributes:f,body:s}}const e3e=/\sid="(\S+)"/g,t3e="IconifyId"+Date.now().toString(16)+(Math.random()*16777216|0).toString(16);let n3e=0;function r3e(e,t=t3e){const n=[];let r;for(;r=e3e.exec(e);)n.push(r[1]);if(!n.length)return e;const i="suffix"+(Math.random()*16777216|Date.now()).toString(16);return n.forEach(s=>{const o=typeof t=="function"?t(s):t+(n3e++).toString(),a=s.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");e=e.replace(new RegExp('([#;"])('+a+')([")]|\\.[a-z])',"g"),"$1"+o+i+"$3")}),e=e.replace(new RegExp(i,"g"),""),e}const Ax=Object.create(null);function i3e(e,t){Ax[e]=t}function kx(e){return Ax[e]||Ax[""]}function Vk(e){let t;if(typeof e.resources=="string")t=[e.resources];else if(t=e.resources,!(t instanceof Array)||!t.length)return null;return{resources:t,path:e.path||"/",maxURL:e.maxURL||500,rotate:e.rotate||750,timeout:e.timeout||5e3,random:e.random===!0,index:e.index||0,dataAfterTimeout:e.dataAfterTimeout!==!1}}const Hk=Object.create(null),Up=["https://api.simplesvg.com","https://api.unisvg.com"],Ny=[];for(;Up.length>0;)Up.length===1||Math.random()>.5?Ny.push(Up.shift()):Ny.push(Up.pop());Hk[""]=Vk({resources:["https://api.iconify.design"].concat(Ny)});function s3e(e,t){const n=Vk(t);return n===null?!1:(Hk[e]=n,!0)}function jk(e){return Hk[e]}const o3e=()=>{let e;try{if(e=fetch,typeof e=="function")return e}catch{}};let j2=o3e();function a3e(e,t){const n=jk(e);if(!n)return 0;let r;if(!n.maxURL)r=0;else{let i=0;n.resources.forEach(o=>{i=Math.max(i,o.length)});const s=t+".json?icons=";r=n.maxURL-i-n.path.length-s.length}return r}function l3e(e){return e===404}const u3e=(e,t,n)=>{const r=[],i=a3e(e,t),s="icons";let o={type:s,provider:e,prefix:t,icons:[]},a=0;return n.forEach((l,u)=>{a+=l.length+1,a>=i&&u>0&&(r.push(o),o={type:s,provider:e,prefix:t,icons:[]},a=l.length),o.icons.push(l)}),r.push(o),r};function c3e(e){if(typeof e=="string"){const t=jk(e);if(t)return t.path}return"/"}const d3e=(e,t,n)=>{if(!j2){n("abort",424);return}let r=c3e(t.provider);switch(t.type){case"icons":{const s=t.prefix,a=t.icons.join(","),l=new URLSearchParams({icons:a});r+=s+".json?"+l.toString();break}case"custom":{const s=t.uri;r+=s.slice(0,1)==="/"?s.slice(1):s;break}default:n("abort",400);return}let i=503;j2(e+r).then(s=>{const o=s.status;if(o!==200){setTimeout(()=>{n(l3e(o)?"abort":"next",o)});return}return i=501,s.json()}).then(s=>{if(typeof s!="object"||s===null){setTimeout(()=>{s===404?n("abort",s):n("next",i)});return}setTimeout(()=>{n("success",s)})}).catch(()=>{n("next",i)})},f3e={prepare:u3e,send:d3e};function p3e(e){const t={loaded:[],missing:[],pending:[]},n=Object.create(null);e.sort((i,s)=>i.provider!==s.provider?i.provider.localeCompare(s.provider):i.prefix!==s.prefix?i.prefix.localeCompare(s.prefix):i.name.localeCompare(s.name));let r={provider:"",prefix:"",name:""};return e.forEach(i=>{if(r.name===i.name&&r.prefix===i.prefix&&r.provider===i.provider)return;r=i;const s=i.provider,o=i.prefix,a=i.name,l=n[s]||(n[s]=Object.create(null)),u=l[o]||(l[o]=wc(s,o));let c;a in u.icons?c=t.loaded:o===""||u.missing.has(a)?c=t.missing:c=t.pending;const d={provider:s,prefix:o,name:a};c.push(d)}),t}function D8(e,t){e.forEach(n=>{const r=n.loaderCallbacks;r&&(n.loaderCallbacks=r.filter(i=>i.id!==t))})}function h3e(e){e.pendingCallbacksFlag||(e.pendingCallbacksFlag=!0,setTimeout(()=>{e.pendingCallbacksFlag=!1;const t=e.loaderCallbacks?e.loaderCallbacks.slice(0):[];if(!t.length)return;let n=!1;const r=e.provider,i=e.prefix;t.forEach(s=>{const o=s.icons,a=o.pending.length;o.pending=o.pending.filter(l=>{if(l.prefix!==i)return!0;const u=l.name;if(e.icons[u])o.loaded.push({provider:r,prefix:i,name:u});else if(e.missing.has(u))o.missing.push({provider:r,prefix:i,name:u});else return n=!0,!0;return!1}),o.pending.length!==a&&(n||D8([e],s.id),s.callback(o.loaded.slice(0),o.missing.slice(0),o.pending.slice(0),s.abort))})}))}let g3e=0;function m3e(e,t,n){const r=g3e++,i=D8.bind(null,n,r);if(!t.pending.length)return i;const s={id:r,icons:t,callback:e,abort:i};return n.forEach(o=>{(o.loaderCallbacks||(o.loaderCallbacks=[])).push(s)}),i}function v3e(e,t=!0,n=!1){const r=[];return e.forEach(i=>{const s=typeof i=="string"?Vw(i,t,n):i;s&&r.push(s)}),r}var y3e={resources:[],index:0,timeout:2e3,rotate:750,random:!1,dataAfterTimeout:!1};function _3e(e,t,n,r){const i=e.resources.length,s=e.random?Math.floor(Math.random()*i):e.index;let o;if(e.random){let I=e.resources.slice(0);for(o=[];I.length>1;){const T=Math.floor(Math.random()*I.length);o.push(I[T]),I=I.slice(0,T).concat(I.slice(T+1))}o=o.concat(I)}else o=e.resources.slice(s).concat(e.resources.slice(0,s));const a=Date.now();let l="pending",u=0,c,d=null,f=[],p=[];typeof r=="function"&&p.push(r);function h(){d&&(clearTimeout(d),d=null)}function g(){l==="pending"&&(l="aborted"),h(),f.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),f=[]}function m(I,T){T&&(p=[]),typeof I=="function"&&p.push(I)}function v(){return{startTime:a,payload:t,status:l,queriesSent:u,queriesPending:f.length,subscribe:m,abort:g}}function y(){l="failed",p.forEach(I=>{I(void 0,c)})}function b(){f.forEach(I=>{I.status==="pending"&&(I.status="aborted")}),f=[]}function _(I,T,w){const x=T!=="success";switch(f=f.filter(E=>E!==I),l){case"pending":break;case"failed":if(x||!e.dataAfterTimeout)return;break;default:return}if(T==="abort"){c=w,y();return}if(x){c=w,f.length||(o.length?S():y());return}if(h(),b(),!e.random){const E=e.resources.indexOf(I.resource);E!==-1&&E!==e.index&&(e.index=E)}l="completed",p.forEach(E=>{E(w)})}function S(){if(l!=="pending")return;h();const I=o.shift();if(I===void 0){if(f.length){d=setTimeout(()=>{h(),l==="pending"&&(b(),y())},e.timeout);return}y();return}const T={status:"pending",resource:I,callback:(w,x)=>{_(T,w,x)}};f.push(T),u++,d=setTimeout(S,e.rotate),n(I,t,T.callback)}return setTimeout(S),v}function N8(e){const t={...y3e,...e};let n=[];function r(){n=n.filter(a=>a().status==="pending")}function i(a,l,u){const c=_3e(t,a,l,(d,f)=>{r(),u&&u(d,f)});return n.push(c),c}function s(a){return n.find(l=>a(l))||null}return{query:i,find:s,setIndex:a=>{t.index=a},getIndex:()=>t.index,cleanup:r}}function W2(){}const VE=Object.create(null);function b3e(e){if(!VE[e]){const t=jk(e);if(!t)return;const n=N8(t),r={config:t,redundancy:n};VE[e]=r}return VE[e]}function w3e(e,t,n){let r,i;if(typeof e=="string"){const s=kx(e);if(!s)return n(void 0,424),W2;i=s.send;const o=b3e(e);o&&(r=o.redundancy)}else{const s=Vk(e);if(s){r=N8(s);const o=e.resources?e.resources[0]:"",a=kx(o);a&&(i=a.send)}}return!r||!i?(n(void 0,424),W2):r.query(t,i,n)().abort}const q2="iconify2",qg="iconify",M8=qg+"-count",z2=qg+"-version",L8=36e5,E3e=168;function Ox(e,t){try{return e.getItem(t)}catch{}}function Wk(e,t,n){try{return e.setItem(t,n),!0}catch{}}function K2(e,t){try{e.removeItem(t)}catch{}}function Px(e,t){return Wk(e,M8,t.toString())}function Rx(e){return parseInt(Ox(e,M8))||0}const jw={local:!0,session:!0},F8={local:new Set,session:new Set};let qk=!1;function $3e(e){qk=e}let Zv=typeof window>"u"?{}:window;function B8(e){const t=e+"Storage";try{if(Zv&&Zv[t]&&typeof Zv[t].length=="number")return Zv[t]}catch{}jw[e]=!1}function U8(e,t){const n=B8(e);if(!n)return;const r=Ox(n,z2);if(r!==q2){if(r){const a=Rx(n);for(let l=0;l<a;l++)K2(n,qg+l.toString())}Wk(n,z2,q2),Px(n,0);return}const i=Math.floor(Date.now()/L8)-E3e,s=a=>{const l=qg+a.toString(),u=Ox(n,l);if(typeof u=="string"){try{const c=JSON.parse(u);if(typeof c=="object"&&typeof c.cached=="number"&&c.cached>i&&typeof c.provider=="string"&&typeof c.data=="object"&&typeof c.data.prefix=="string"&&t(c,a))return!0}catch{}K2(n,l)}};let o=Rx(n);for(let a=o-1;a>=0;a--)s(a)||(a===o-1?(o--,Px(n,o)):F8[e].add(a))}function V8(){if(!qk){$3e(!0);for(const e in jw)U8(e,t=>{const n=t.data,r=t.provider,i=n.prefix,s=wc(r,i);if(!Uk(s,n).length)return!1;const o=n.lastModified||-1;return s.lastModifiedCached=s.lastModifiedCached?Math.min(s.lastModifiedCached,o):o,!0})}}function S3e(e,t){const n=e.lastModifiedCached;if(n&&n>=t)return n===t;if(e.lastModifiedCached=t,n)for(const r in jw)U8(r,i=>{const s=i.data;return i.provider!==e.provider||s.prefix!==e.prefix||s.lastModified===t});return!0}function x3e(e,t){qk||V8();function n(r){let i;if(!jw[r]||!(i=B8(r)))return;const s=F8[r];let o;if(s.size)s.delete(o=Array.from(s).shift());else if(o=Rx(i),!Px(i,o+1))return;const a={cached:Math.floor(Date.now()/L8),provider:e.provider,data:t};return Wk(i,qg+o.toString(),JSON.stringify(a))}t.lastModified&&!S3e(e,t.lastModified)||Object.keys(t.icons).length&&(t.not_found&&(t=Object.assign({},t),delete t.not_found),n("local")||n("session"))}function G2(){}function T3e(e){e.iconsLoaderFlag||(e.iconsLoaderFlag=!0,setTimeout(()=>{e.iconsLoaderFlag=!1,h3e(e)}))}function I3e(e,t){e.iconsToLoad?e.iconsToLoad=e.iconsToLoad.concat(t).sort():e.iconsToLoad=t,e.iconsQueueFlag||(e.iconsQueueFlag=!0,setTimeout(()=>{e.iconsQueueFlag=!1;const{provider:n,prefix:r}=e,i=e.iconsToLoad;delete e.iconsToLoad;let s;if(!i||!(s=kx(n)))return;s.prepare(n,r,i).forEach(a=>{w3e(n,a,l=>{if(typeof l!="object")a.icons.forEach(u=>{e.missing.add(u)});else try{const u=Uk(e,l);if(!u.length)return;const c=e.pendingIcons;c&&u.forEach(d=>{c.delete(d)}),x3e(e,l)}catch(u){console.error(u)}T3e(e)})})}))}const C3e=(e,t)=>{const n=v3e(e,!0,O8()),r=p3e(n);if(!r.pending.length){let l=!0;return t&&setTimeout(()=>{l&&t(r.loaded,r.missing,r.pending,G2)}),()=>{l=!1}}const i=Object.create(null),s=[];let o,a;return r.pending.forEach(l=>{const{provider:u,prefix:c}=l;if(c===a&&u===o)return;o=u,a=c,s.push(wc(u,c));const d=i[u]||(i[u]=Object.create(null));d[c]||(d[c]=[])}),r.pending.forEach(l=>{const{provider:u,prefix:c,name:d}=l,f=wc(u,c),p=f.pendingIcons||(f.pendingIcons=new Set);p.has(d)||(p.add(d),i[u][c].push(d))}),s.forEach(l=>{const{provider:u,prefix:c}=l;i[u][c].length&&I3e(l,i[u][c])}),t?m3e(t,r,s):G2};function A3e(e,t){const n={...e};for(const r in t){const i=t[r],s=typeof i;r in P8?(i===null||i&&(s==="string"||s==="number"))&&(n[r]=i):s===typeof n[r]&&(n[r]=r==="rotate"?i%4:i)}return n}const k3e=/[\s,]+/;function O3e(e,t){t.split(k3e).forEach(n=>{switch(n.trim()){case"horizontal":e.hFlip=!0;break;case"vertical":e.vFlip=!0;break}})}function P3e(e,t=0){const n=e.replace(/^-?[0-9.]*/,"");function r(i){for(;i<0;)i+=4;return i%4}if(n===""){const i=parseInt(e);return isNaN(i)?0:r(i)}else if(n!==e){let i=0;switch(n){case"%":i=25;break;case"deg":i=90}if(i){let s=parseFloat(e.slice(0,e.length-n.length));return isNaN(s)?0:(s=s/i,s%1===0?r(s):0)}}return t}function R3e(e,t){let n=e.indexOf("xlink:")===-1?"":' xmlns:xlink="http://www.w3.org/1999/xlink"';for(const r in t)n+=" "+r+'="'+t[r]+'"';return'<svg xmlns="http://www.w3.org/2000/svg"'+n+">"+e+"</svg>"}function D3e(e){return e.replace(/"/g,"'").replace(/%/g,"%25").replace(/#/g,"%23").replace(/</g,"%3C").replace(/>/g,"%3E").replace(/\s+/g," ")}function N3e(e){return"data:image/svg+xml,"+D3e(e)}function M3e(e){return'url("'+N3e(e)+'")'}const Y2={...R8,inline:!1},L3e={xmlns:"http://www.w3.org/2000/svg","xmlns:xlink":"http://www.w3.org/1999/xlink","aria-hidden":!0,role:"img"},F3e={display:"inline-block"},Dx={backgroundColor:"currentColor"},H8={backgroundColor:"transparent"},X2={Image:"var(--svg)",Repeat:"no-repeat",Size:"100% 100%"},Q2={webkitMask:Dx,mask:Dx,background:H8};for(const e in Q2){const t=Q2[e];for(const n in X2)t[e+n]=X2[n]}const My={};["horizontal","vertical"].forEach(e=>{const t=e.slice(0,1)+"Flip";My[e+"-flip"]=t,My[e.slice(0,1)+"-flip"]=t,My[e+"Flip"]=t});function J2(e){return e+(e.match(/^[-0-9.]+$/)?"px":"")}const Z2=(e,t)=>{const n=A3e(Y2,t),r={...L3e},i=t.mode||"svg",s={},o=t.style,a=typeof o=="object"&&!(o instanceof Array)?o:{};for(let g in t){const m=t[g];if(m!==void 0)switch(g){case"icon":case"style":case"onLoad":case"mode":break;case"inline":case"hFlip":case"vFlip":n[g]=m===!0||m==="true"||m===1;break;case"flip":typeof m=="string"&&O3e(n,m);break;case"color":s.color=m;break;case"rotate":typeof m=="string"?n[g]=P3e(m):typeof m=="number"&&(n[g]=m);break;case"ariaHidden":case"aria-hidden":m!==!0&&m!=="true"&&delete r["aria-hidden"];break;default:{const v=My[g];v?(m===!0||m==="true"||m===1)&&(n[v]=!0):Y2[g]===void 0&&(r[g]=m)}}}const l=Z4e(e,n),u=l.attributes;if(n.inline&&(s.verticalAlign="-0.125em"),i==="svg"){r.style={...s,...a},Object.assign(r,u);let g=0,m=t.id;return typeof m=="string"&&(m=m.replace(/-/g,"_")),r.innerHTML=r3e(l.body,m?()=>m+"ID"+g++:"iconifyVue"),Xt("svg",r)}const{body:c,width:d,height:f}=e,p=i==="mask"||(i==="bg"?!1:c.indexOf("currentColor")!==-1),h=R3e(c,{...u,width:d+"",height:f+""});return r.style={...s,"--svg":M3e(h),width:J2(u.width),height:J2(u.height),...F3e,...p?Dx:H8,...a},Xt("span",r)};O8(!0);i3e("",f3e);if(typeof document<"u"&&typeof window<"u"){V8();const e=window;if(e.IconifyPreload!==void 0){const t=e.IconifyPreload,n="Invalid IconifyPreload syntax.";typeof t=="object"&&t!==null&&(t instanceof Array?t:[t]).forEach(r=>{try{(typeof r!="object"||r===null||r instanceof Array||typeof r.icons!="object"||typeof r.prefix!="string"||!Y4e(r))&&console.error(n)}catch{console.error(n)}})}if(e.IconifyProviders!==void 0){const t=e.IconifyProviders;if(typeof t=="object"&&t!==null)for(let n in t){const r="IconifyProviders["+n+"] is invalid.";try{const i=t[n];if(typeof i!="object"||!i||i.resources===void 0)continue;s3e(n,i)||console.error(r)}catch{console.error(r)}}}}const B3e={...Hw,body:""},U3e=mn({inheritAttrs:!1,data(){return{iconMounted:!1,counter:0}},mounted(){this._name="",this._loadingIcon=null,this.iconMounted=!0},unmounted(){this.abortLoading()},methods:{abortLoading(){this._loadingIcon&&(this._loadingIcon.abort(),this._loadingIcon=null)},getIcon(e,t){if(typeof e=="object"&&e!==null&&typeof e.body=="string")return this._name="",this.abortLoading(),{data:e};let n;if(typeof e!="string"||(n=Vw(e,!1,!0))===null)return this.abortLoading(),null;const r=K4e(n);if(!r)return(!this._loadingIcon||this._loadingIcon.name!==e)&&(this.abortLoading(),this._name="",r!==null&&(this._loadingIcon={name:e,abort:C3e([n],()=>{this.counter++})})),null;this.abortLoading(),this._name!==e&&(this._name=e,t&&t(e));const i=["iconify"];return n.prefix!==""&&i.push("iconify--"+n.prefix),n.provider!==""&&i.push("iconify--"+n.provider),{data:r,classes:i}}},render(){this.counter;const e=this.$attrs,t=this.iconMounted?this.getIcon(e.icon,e.onLoad):null;if(!t)return Z2(B3e,e);let n=e;return t.classes&&(n={...e,class:(typeof e.class=="string"?e.class+" ":"")+t.classes.join(" ")}),Z2({...Hw,...t.data},n)}}),V3e=["name"],H3e={class:"formkit-wrapper flex flex-col space-y-4"},j3e={key:0,class:"formkit-inner max-w-md formkit-invalid:border-red-500 mb-1 flex flex-col items-start space-y-2"},W3e=["src","alt"],q3e=Z("span",null,"Add",-1),z3e={__name:"MediaInput",props:{context:{type:Object,default:()=>({})}},emits:["input"],setup(e,{emit:t}){const n=e,r=ne(null),i=lt("$vfm"),[s]=Vu(),o=is({...Cs,loader:()=>At(()=>import("./MediaLibrary-5296a285.js"),[])}),a=js(()=>{var g,m,v,y,b;const h=(g=n==null?void 0:n.context)==null?void 0:g._value;return typeof h=="string"?h:(m=h==null?void 0:h.image)!=null&&m.src?(v=h==null?void 0:h.image)==null?void 0:v.src:(y=h==null?void 0:h.video)!=null&&y.thumbnailUrl?(b=h==null?void 0:h.video)==null?void 0:b.thumbnailUrl:null}),l=js(()=>{var g;const h=(g=n==null?void 0:n.context)==null?void 0:g._value;return h!=null&&h.icon?(s.value=!1,h==null?void 0:h.icon):null}),u=()=>{const h=new Event("blur");r.value.dispatchEvent(h)},c=async h=>{var g,m;s.value=!0,(m=(g=n==null?void 0:n.context)==null?void 0:g.node)==null||m.input(h),await i.hide("media-library"),u()},d=()=>{var h,g,m,v,y,b;Bu({name:"media-library",clickToClose:!1,contentClasses:"w-full max-w-4xl"},{default:{component:o,bind:{enableUnsplash:(h=n==null?void 0:n.context)==null?void 0:h.enableUnsplash,enableUploader:(g=n==null?void 0:n.context)==null?void 0:g.enableUploader,enableVideo:(m=n==null?void 0:n.context)==null?void 0:m.enableVideo,enableIcons:(v=n==null?void 0:n.context)==null?void 0:v.enableIcons,returnImagePathAsString:(y=n==null?void 0:n.context)==null?void 0:y.returnImagePathAsString,openAuthModal:(b=n==null?void 0:n.context)==null?void 0:b.openAuthModal},on:{input:c}}})},f=()=>{s.value=!1},p=()=>{var h,g;(g=(h=n==null?void 0:n.context)==null?void 0:h.node)==null||g.input(),setTimeout(()=>{u()},750)};return(h,g)=>{var b,_,S,I,T,w;const m=Bc,v=U4e,y=Uc;return re(),Le("div",{ref_key:"mediaInputRef",ref:r,class:"formkit-outer formkit-disabled:opacity-50","data-testid":"media-input","data-formkit-custom-input":"",name:(_=(b=e.context)==null?void 0:b.node)==null?void 0:_.name},[Z("div",H3e,[(S=e.context)!=null&&S._value?(re(),Le("div",j3e,[Z("button",{class:"appearance-none cursor-pointer border border-slate-300 rounded-lg p-2 bg-white",type:"button",onClick:d},[ve(s)?(re(),We(m,{key:0})):Xe("",!0),Wy((re(),Le("img",{key:(I=e.context)==null?void 0:I._value,src:ve(a),alt:(T=e.context)==null?void 0:T.label,onload:f,class:"w-full max-w-[8rem]"},null,8,W3e)),[[Yh,!ve(s)&&!ve(l)]]),ve(l)?(re(),We(ve(U3e),{key:1,icon:ve(l),class:"w-8 h-auto text-current"},null,8,["icon"])):Xe("",!0)]),ve(s)?Xe("",!0):(re(),Le("button",{key:0,class:"text-xs text-red-700",type:"button",onClick:p}," (remove) "))])):Xe("",!0),(w=e.context)!=null&&w._value?Xe("",!0):(re(),We(y,{key:1,type:"button",theme:"brand-secondary",size:"sm",class:"self-start",onClick:d},{default:Ze(()=>[we(v,{class:"w-4"}),q3e]),_:1}))])],8,V3e)}}};const K3e=Wve("fk-7dc794d0af2",{autocomplete:X_e,dropdown:Mye,repeater:$_e}),G3e={config:{classes:Rge(cEe)},icons:{arrowDown:vme,arrowUp:yme,close:kN,checkboxDecorator:fme,fileItem:ON,fileRemove:kN,noFiles:ON,radioDecorator:pme,select:_me,spinner:hme,star:gme,trash:mme},rules:uEe,plugins:[z1e(),iEe({useAsDefault:!0}),K3e],inputs:{content:AN(N4e,{props:["controls"]}),mediaInput:AN(z3e,{props:["label","value","enableVideo","enableUnsplash","enableUploader","enableIcons","returnImagePathAsString","openAuthModal"]})}},Y3e=({app:e})=>{e.use(ime,dme(G3e))},X3e=Object.freeze(Object.defineProperty({__proto__:null,install:Y3e},Symbol.toStringTag,{value:"Module"})),{VITE_APP_ENV:eF,VITE_MIXPANEL_TOKEN:Q3e}={VITE_FIREBASE_EXTENSIONS_REGION:"us-west2",VITE_ENTRI_APPLICATION_ID:"mixo",VITE_FIREBASE_MESSAGING_SENDER_ID:"725498859830",VITE_APP_URL:"https://app.mixo.io",VITE_RECAPTCHA_SITE_KEY:"6Lf0kGsoAAAAAIH-9bzbWxuDwy7LlN-MWerrq6oa",VITE_FUNCTIONS_URL:"https://us-west2-mixo-app.cloudfunctions.net",VITE_FIREBASE_RTDB_URL:"https://mixo-app-default-rtdb.firebaseio.com",VITE_GITHUB_SHA:"758a0a4ad93468160f24fe350a2c4dc83e8d41ab",VITE_MIXO_FORM_SCHEMA_URL:"https://formschema-cirj42yhua-wl.a.run.app",VITE_FIREBASE_MEASUREMENT_ID:"G-JHGL8M7FHL",VITE_FIREBASE_STORAGE_BUCKET:"mixo-app.appspot.com",VITE_FIREBASE_AUTH_DOMAIN:"mixo-app.firebaseapp.com",VITE_MIXPANEL_TOKEN:"35d21fbe7f782990b936227a30e1804a",VITE_MIXO_DOMAIN:"mixo.io",VITE_UNSPLASH_ACCESS_KEY:"2Z53wBSWJVEmkXRa81cfNdjIQazdP-K9wf_X_m5DIzQ",VITE_FIREBASE_PROJECT_ID:"mixo-app",VITE_FIREBASE_APP_ID:"1:725498859830:web:6421f91ef9f6e95c056397",VITE_APP_ENV:"production",VITE_FIREBASE_API_KEY:"AIzaSyAVslymxdABi7BdNzjT1quXFZduuyz6EhE",VITE_HIGHLIGHT_PROJECT_ID:"odz3pmep",BASE_URL:"/",MODE:"production",DEV:!1,PROD:!0,SSR:!1},J3e=()=>{Mu.init(Q3e,{debug:eF!=="production",ignore_dnt:eF!=="production"})},Z3e=Object.freeze(Object.defineProperty({__proto__:null,install:J3e},Symbol.toStringTag,{value:"Module"}));var j8={exports:{}};/* NProgress, (c) 2013, 2014 Rico Sta. Cruz - http://ricostacruz.com/nprogress
 * @license MIT */(function(e,t){(function(n,r){e.exports=r()})(bT,function(){var n={};n.version="0.2.0";var r=n.settings={minimum:.08,easing:"ease",positionUsing:"",speed:200,trickle:!0,trickleRate:.02,trickleSpeed:800,showSpinner:!0,barSelector:'[role="bar"]',spinnerSelector:'[role="spinner"]',parent:"body",template:'<div class="bar" role="bar"><div class="peg"></div></div><div class="spinner" role="spinner"><div class="spinner-icon"></div></div>'};n.configure=function(h){var g,m;for(g in h)m=h[g],m!==void 0&&h.hasOwnProperty(g)&&(r[g]=m);return this},n.status=null,n.set=function(h){var g=n.isStarted();h=i(h,r.minimum,1),n.status=h===1?null:h;var m=n.render(!g),v=m.querySelector(r.barSelector),y=r.speed,b=r.easing;return m.offsetWidth,a(function(_){r.positionUsing===""&&(r.positionUsing=n.getPositioningCSS()),l(v,o(h,y,b)),h===1?(l(m,{transition:"none",opacity:1}),m.offsetWidth,setTimeout(function(){l(m,{transition:"all "+y+"ms linear",opacity:0}),setTimeout(function(){n.remove(),_()},y)},y)):setTimeout(_,y)}),this},n.isStarted=function(){return typeof n.status=="number"},n.start=function(){n.status||n.set(0);var h=function(){setTimeout(function(){n.status&&(n.trickle(),h())},r.trickleSpeed)};return r.trickle&&h(),this},n.done=function(h){return!h&&!n.status?this:n.inc(.3+.5*Math.random()).set(1)},n.inc=function(h){var g=n.status;return g?(typeof h!="number"&&(h=(1-g)*i(Math.random()*g,.1,.95)),g=i(g+h,0,.994),n.set(g)):n.start()},n.trickle=function(){return n.inc(Math.random()*r.trickleRate)},function(){var h=0,g=0;n.promise=function(m){return!m||m.state()==="resolved"?this:(g===0&&n.start(),h++,g++,m.always(function(){g--,g===0?(h=0,n.done()):n.set((h-g)/h)}),this)}}(),n.render=function(h){if(n.isRendered())return document.getElementById("nprogress");c(document.documentElement,"nprogress-busy");var g=document.createElement("div");g.id="nprogress",g.innerHTML=r.template;var m=g.querySelector(r.barSelector),v=h?"-100":s(n.status||0),y=document.querySelector(r.parent),b;return l(m,{transition:"all 0 linear",transform:"translate3d("+v+"%,0,0)"}),r.showSpinner||(b=g.querySelector(r.spinnerSelector),b&&p(b)),y!=document.body&&c(y,"nprogress-custom-parent"),y.appendChild(g),g},n.remove=function(){d(document.documentElement,"nprogress-busy"),d(document.querySelector(r.parent),"nprogress-custom-parent");var h=document.getElementById("nprogress");h&&p(h)},n.isRendered=function(){return!!document.getElementById("nprogress")},n.getPositioningCSS=function(){var h=document.body.style,g="WebkitTransform"in h?"Webkit":"MozTransform"in h?"Moz":"msTransform"in h?"ms":"OTransform"in h?"O":"";return g+"Perspective"in h?"translate3d":g+"Transform"in h?"translate":"margin"};function i(h,g,m){return h<g?g:h>m?m:h}function s(h){return(-1+h)*100}function o(h,g,m){var v;return r.positionUsing==="translate3d"?v={transform:"translate3d("+s(h)+"%,0,0)"}:r.positionUsing==="translate"?v={transform:"translate("+s(h)+"%,0)"}:v={"margin-left":s(h)+"%"},v.transition="all "+g+"ms "+m,v}var a=function(){var h=[];function g(){var m=h.shift();m&&m(g)}return function(m){h.push(m),h.length==1&&g()}}(),l=function(){var h=["Webkit","O","Moz","ms"],g={};function m(_){return _.replace(/^-ms-/,"ms-").replace(/-([\da-z])/gi,function(S,I){return I.toUpperCase()})}function v(_){var S=document.body.style;if(_ in S)return _;for(var I=h.length,T=_.charAt(0).toUpperCase()+_.slice(1),w;I--;)if(w=h[I]+T,w in S)return w;return _}function y(_){return _=m(_),g[_]||(g[_]=v(_))}function b(_,S,I){S=y(S),_.style[S]=I}return function(_,S){var I=arguments,T,w;if(I.length==2)for(T in S)w=S[T],w!==void 0&&S.hasOwnProperty(T)&&b(_,T,w);else b(_,I[1],I[2])}}();function u(h,g){var m=typeof h=="string"?h:f(h);return m.indexOf(" "+g+" ")>=0}function c(h,g){var m=f(h),v=m+g;u(m,g)||(h.className=v.substring(1))}function d(h,g){var m=f(h),v;u(h,g)&&(v=m.replace(" "+g+" "," "),h.className=v.substring(1,v.length-1))}function f(h){return(" "+(h.className||"")+" ").replace(/\s+/gi," ")}function p(h){h&&h.parentNode&&h.parentNode.removeChild(h)}return n})})(j8);var eVe=j8.exports;const tF=J0(eVe),tVe=({router:e})=>{e.beforeEach((t,n)=>{t.path!==n.path&&tF.start()}),e.afterEach(()=>{tF.done()})},nVe=Object.freeze(Object.defineProperty({__proto__:null,install:tVe},Symbol.toStringTag,{value:"Module"})),rVe=({router:e})=>{e.isReady().then(async()=>{const{registerSW:t}=await At(()=>import("./virtual_pwa-register-a4d346ca.js"),[]);t({immediate:!0})})},iVe=Object.freeze(Object.defineProperty({__proto__:null,install:rVe},Symbol.toStringTag,{value:"Module"}));function Mh(e){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?Mh=function(t){return typeof t}:Mh=function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Mh(e)}function nF(e,t,n,r,i,s,o){try{var a=e[s](o),l=a.value}catch(u){n(u);return}a.done?t(l):Promise.resolve(l).then(r,i)}function sVe(e){return function(){var t=this,n=arguments;return new Promise(function(r,i){var s=e.apply(t,n);function o(l){nF(s,r,i,o,a,"next",l)}function a(l){nF(s,r,i,o,a,"throw",l)}o(void 0)})}}function oVe(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function rF(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function aVe(e,t,n){return t&&rF(e.prototype,t),n&&rF(e,n),e}function zd(e,t,n){return t in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function iF(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(e,i).enumerable})),n.push.apply(n,r)}return n}function wi(e){for(var t=1;t<arguments.length;t++){var n=arguments[t]!=null?arguments[t]:{};t%2?iF(Object(n),!0).forEach(function(r){zd(e,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(e,r,Object.getOwnPropertyDescriptor(n,r))})}return e}function Ec(e){return lVe(e)||uVe(e)||cVe(e)||dVe()}function lVe(e){if(Array.isArray(e))return Nx(e)}function uVe(e){if(typeof Symbol<"u"&&Symbol.iterator in Object(e))return Array.from(e)}function cVe(e,t){if(e){if(typeof e=="string")return Nx(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);if(n==="Object"&&e.constructor&&(n=e.constructor.name),n==="Map"||n==="Set")return Array.from(e);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Nx(e,t)}}function Nx(e,t){(t==null||t>e.length)&&(t=e.length);for(var n=0,r=new Array(t);n<t;n++)r[n]=e[n];return r}function dVe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var fVe='button:not([disabled]), select:not([disabled]), a[href]:not([disabled]), area[href]:not([disabled]), [contentEditable=""]:not([disabled]), [contentEditable="true"]:not([disabled]), [contentEditable="TRUE"]:not([disabled]), textarea:not([disabled]), iframe:not([disabled]), input:not([disabled]), summary:not([disabled]), [tabindex]:not([tabindex="-1"])',pVe=function(t){return t.key==="Tab"||t.keyCode===9},hVe=function(t,n){return Ec(t.querySelectorAll(n)||[])},gVe=function(t){return hVe(t,fVe)},sF=function(t){return t==document.activeElement},mVe=function(){return!document.activeElement},vVe=function(){function e(){oVe(this,e),this.root=null,this.elements=[],this.onKeyDown=this.onKeyDown.bind(this),this.enable=this.enable.bind(this),this.disable=this.disable.bind(this),this.firstElement=this.firstElement.bind(this),this.lastElement=this.lastElement.bind(this)}return aVe(e,[{key:"lastElement",value:function(){return this.elements[this.elements.length-1]||null}},{key:"firstElement",value:function(){return this.elements[0]||null}},{key:"onKeyDown",value:function(n){if(pVe(n)){if(n.shiftKey){sF(this.firstElement())&&(this.lastElement().focus(),n.preventDefault());return}if(mVe()||sF(this.lastElement())){this.firstElement().focus(),n.preventDefault();return}}}},{key:"enabled",value:function(){return!!this.root}},{key:"enable",value:function(n){n&&(this.root=n,this.elements=gVe(this.root),this.root.addEventListener("keydown",this.onKeyDown))}},{key:"disable",value:function(){this.root.removeEventListener("keydown",this.onKeyDown),this.root=null}}]),e}(),yVe=function(t,n,r){var i=t.style[n];return t.style[n]=r,function(){t.style[n]=i}},oF=function(t){var n=t.targetTouches?t.targetTouches[0]:t,r=n.clientX,i=n.clientY;return{x:r,y:i}},_Ve=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},ey=function(t,n,r){return typeof t!="number"&&(t=Math.min(n,r)||n),typeof r!="number"&&(r=Math.max(n,t)),Math.min(Math.max(n,t),r)},aF=function(t){return t&&Number(t.replace(/px$/,""))||0},bVe=function(t,n,r){if(r==="")return!0;var i=Ec(n.querySelectorAll(r));return i.includes(t.target)},A0={down:{pc:"mousedown",m:"touchstart"},move:{pc:"mousemove",m:"touchmove"},up:{pc:"mouseup",m:"touchend"}},ty=function(t,n,r){n&&n.addEventListener(A0[t].pc,r),n&&n.addEventListener(A0[t].m,r,{passive:!1})},ny=function(t,n,r){n&&n.removeEventListener(A0[t].pc,r),n&&n.removeEventListener(A0[t].m,r)},zk=!1;if(typeof window<"u"){var lF={get passive(){zk=!0}};window.addEventListener("testPassive",null,lF),window.removeEventListener("testPassive",null,lF)}var W8=typeof window<"u"&&window.navigator&&window.navigator.platform&&(/iP(ad|hone|od)/.test(window.navigator.platform)||window.navigator.platform==="MacIntel"&&window.navigator.maxTouchPoints>1),cl=[],k0=!1,Ly=0,q8=-1,Lh,Fh,wVe=function(t){if(!t||t.nodeType!==Node.ELEMENT_NODE)return!1;var n=window.getComputedStyle(t);return["auto","scroll"].includes(n.overflowY)&&t.scrollHeight>t.clientHeight},EVe=function(t,n){return!(t.scrollTop===0&&n<0||t.scrollTop+t.clientHeight+n>=t.scrollHeight&&n>0)},$Ve=function(t){for(var n=[];t;){if(n.push(t),t.classList.contains("vfm"))return n;t=t.parentElement}return n},SVe=function(t,n){var r=!1,i=$Ve(t);return i.forEach(function(s){wVe(s)&&EVe(s,n)&&(r=!0)}),r},z8=function(t){return cl.some(function(){return SVe(t,-Ly)})},O0=function(t){var n=t||window.event;return z8(n.target)||n.touches.length>1?!0:(n.preventDefault&&n.preventDefault(),!1)},xVe=function(t){if(Fh===void 0){var n=!!t&&t.reserveScrollBarGap===!0,r=window.innerWidth-document.documentElement.clientWidth;if(n&&r>0){var i=parseInt(getComputedStyle(document.body).getPropertyValue("padding-right"),10);Fh=document.body.style.paddingRight,document.body.style.paddingRight="".concat(i+r,"px")}}Lh===void 0&&(Lh=document.body.style.overflow,document.body.style.overflow="hidden")},TVe=function(){Fh!==void 0&&(document.body.style.paddingRight=Fh,Fh=void 0),Lh!==void 0&&(document.body.style.overflow=Lh,Lh=void 0)},IVe=function(t){return t?t.scrollHeight-t.scrollTop<=t.clientHeight:!1},CVe=function(t,n){return Ly=t.targetTouches[0].clientY-q8,z8(t.target)?!1:n&&n.scrollTop===0&&Ly>0||IVe(n)&&Ly<0?O0(t):(t.stopPropagation(),!0)},AVe=function(t,n){if(!t){console.error("disableBodyScroll unsuccessful - targetElement must be provided when calling disableBodyScroll on IOS devices.");return}if(!cl.some(function(i){return i.targetElement===t})){var r={targetElement:t,options:n||{}};cl=[].concat(Ec(cl),[r]),W8?(t.ontouchstart=function(i){i.targetTouches.length===1&&(q8=i.targetTouches[0].clientY)},t.ontouchmove=function(i){i.targetTouches.length===1&&CVe(i,t)},k0||(document.addEventListener("touchmove",O0,zk?{passive:!1}:void 0),k0=!0)):xVe(n)}},HE=function(t){if(!t){console.error("enableBodyScroll unsuccessful - targetElement must be provided when calling enableBodyScroll on IOS devices.");return}cl=cl.filter(function(n){return n.targetElement!==t}),W8?(t.ontouchstart=null,t.ontouchmove=null,k0&&cl.length===0&&(document.removeEventListener("touchmove",O0,zk?{passive:!1}:void 0),k0=!1)):cl.length||TVe()},ry=function(){},eo={Enter:"enter",Entering:"entering",Leave:"leave",Leaving:"leavng"},kVe={t:"ns-resize",tr:"nesw-resize",r:"ew-resize",br:"nwse-resize",b:"ns-resize",bl:"nesw-resize",l:"ew-resize",tl:"nwse-resize"},Ww={props:{name:{type:String,default:null},modelValue:{type:Boolean,default:!1},ssr:{type:Boolean,default:!0},classes:{type:[String,Object,Array],default:""},overlayClass:{type:[String,Object,Array],default:""},contentClass:{type:[String,Object,Array],default:""},styles:{type:[Object,Array],default:function(){return{}}},overlayStyle:{type:[Object,Array],default:function(){return{}}},contentStyle:{type:[Object,Array],default:function(){return{}}},lockScroll:{type:Boolean,default:!0},hideOverlay:{type:Boolean,default:!1},clickToClose:{type:Boolean,default:!0},escToClose:{type:Boolean,default:!1},preventClick:{type:Boolean,default:!1},attach:{type:null,default:!1,validator:function(t){var n=Mh(t);return n==="boolean"||n==="string"?!0:t.nodeType===Node.ELEMENT_NODE}},transition:{type:[String,Object],default:"vfm"},overlayTransition:{type:[String,Object],default:"vfm"},keepOverlay:{type:Boolean,default:!1},zIndexAuto:{type:Boolean,default:!0},zIndexBase:{type:[String,Number],default:1e3},zIndex:{type:[Boolean,String,Number],default:!1},focusRetain:{type:Boolean,default:!0},focusTrap:{type:Boolean,default:!1},fitParent:{type:Boolean,default:!0},drag:{type:Boolean,default:!1},dragSelector:{type:String,default:""},keepChangedStyle:{type:Boolean,default:!1},resize:{type:Boolean,default:!1},resizeDirections:{type:Array,default:function(){return["t","tr","r","br","b","bl","l","tl"]},validator:function(t){return["t","tr","r","br","b","bl","l","tl"].filter(function(n){return t.indexOf(n)!==-1}).length===t.length}},minWidth:{type:Number,default:0},minHeight:{type:Number,default:0},maxWidth:{type:Number,default:1/0},maxHeight:{type:Number,default:1/0}},emits:["update:modelValue","click-outside","before-open","opened","before-close","closed","_before-open","_opened","_closed","drag:start","drag:move","drag:end","resize:start","resize:move","resize:end"],setup:function(t,n){var r=n.emit,i=Symbol("vfm"),s=ne(null),o=ne(null),a=ne(null),l=ne(null),u=ne(null),c=ne(null),d=ne(null),f=new vVe,p=ne(!1),h=Wi({modal:!1,overlay:!1,resize:!1}),g=ne(null),m=ne(null),v=ne(!1),y=ne({}),b=ne({}),_=ne(null),S=ne(null),I=ry,T=ry,w=Ae(function(){return typeof t.overlayTransition=="string"?{name:t.overlayTransition}:wi({},t.overlayTransition)}),x=Ae(function(){return typeof t.transition=="string"?{name:t.transition}:wi({},t.transition)}),E=Ae(function(){return(t.hideOverlay||g.value===eo.Leave)&&m.value===eo.Leave}),O=Ae(function(){return t.zIndex===!1?t.zIndexAuto?+t.zIndexBase+2*(d.value||0):!1:t.zIndex}),M=Ae(function(){return wi({},O.value!==!1&&{zIndex:O.value})}),V=Ae(function(){var se=[b.value];return Array.isArray(t.contentStyle)?se.push.apply(se,Ec(t.contentStyle)):se.push(t.contentStyle),se});xt(function(){return t.modelValue},function(se){if(v.value){v.value=!1;return}if(me(),!se){if(R("before-close",!0)){T("hide");return}ce()}}),xt(function(){return t.lockScroll},ae),xt(function(){return t.hideOverlay},function(se){t.modelValue&&!se&&(h.overlay=!0)}),xt(function(){return t.attach},me),xt(E,function(se){se&&(p.value=!1,o.value.style.display="none")},{flush:"post"}),xt(function(){return t.drag},function(se){p.value&&(se?J():ge())}),xt(function(){return t.resize},function(se){p.value&&(se?he():ye())}),xt(function(){return t.keepChangedStyle},function(se){se||(b.value={})}),Qt(function(){t.api.modals.push(H()),me()}),Vl(function(){var se;ce(),t.lockScroll&&o.value&&HE(o.value),s==null||(se=s.value)===null||se===void 0||se.remove();var pe=t.api.modals.findIndex(function($e){return $e.uid===i});t.api.modals.splice(pe,1)});function H(){return{uid:i,props:t,emit:r,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:u,vfmTransition:c,getAttachElement:xe,modalStackIndex:d,visibility:h,handleLockScroll:ae,$focusTrap:f,toggle:z,params:y}}function me(){if(t.modelValue){if(r("_before-open",P({type:"_before-open"})),R("before-open",!1)){T("show");return}var se=xe();if(se||t.attach===!1){if(t.attach!==!1)if(s.value)se.appendChild(s.value);else{p.value=!0,qn(function(){me()});return}var pe=t.api.openedModals.findIndex(function($e){return $e.uid===i});pe!==-1&&t.api.openedModals.splice(pe,1),t.api.openedModals.push(H()),d.value=t.api.openedModals.length-1,ae(),t.api.openedModals.filter(function($e){return $e.uid!==i}).forEach(function($e,Te){$e.getAttachElement()===se&&($e.modalStackIndex.value=Te,!$e.props.keepOverlay&&($e.visibility.overlay=!1))}),p.value=!0,Ie()}else se!==!1&&console.warn("Unable to locate target ".concat(t.attach))}}function ce(){var se=t.api.openedModals.findIndex(function($e){return $e.uid===i});if(se!==-1&&t.api.openedModals.splice(se,1),t.api.openedModals.length>0){var pe=t.api.openedModals[t.api.openedModals.length-1];pe.props.focusTrap&&pe.$focusTrap.firstElement().focus(),(pe.props.focusRetain||pe.props.focusTrap)&&pe.vfmContainer.value.focus(),!pe.props.hideOverlay&&(pe.visibility.overlay=!0)}t.drag&&ge(),t.resize&&ye(),_.value=null,ft()}function ae(){t.modelValue&&qn(function(){t.lockScroll?AVe(o.value,{reserveScrollBarGap:!0}):HE(o.value)})}function xe(){var se;return t.attach===!1?se=!1:typeof t.attach=="string"?window?se=window.document.querySelector(t.attach):se=!1:se=t.attach,se}function Ie(){h.overlay=!0,h.modal=!0}function ft(){h.overlay=!1,h.modal=!1}function Ye(){g.value=eo.Entering}function St(){g.value=eo.Enter}function F(){g.value=eo.Leaving}function j(){g.value=eo.Leave}function X(){m.value=eo.Entering}function G(){m.value=eo.Enter,(t.focusRetain||t.focusTrap)&&o.value.focus(),t.focusTrap&&f.enable(o.value),t.drag&&J(),t.resize&&he(),r("_opened"),r("opened",P({type:"opened"})),I("show")}function L(){m.value=eo.Leaving,f.enabled()&&f.disable()}function W(){m.value=eo.Leave,d.value=null,t.lockScroll&&HE(o.value),t.keepChangedStyle||(b.value={});var se=!1,pe=P({type:"closed",stop:function(){se=!0}});r("_closed"),r("closed",pe),I("hide"),!se&&(y.value={})}function q(se){S.value=se==null?void 0:se.target}function ue(){S.value===o.value&&_.value!=="resize:move"&&(r("click-outside",P({type:"click-outside"})),t.clickToClose&&r("update:modelValue",!1))}function Fe(){p.value&&t.escToClose&&r("update:modelValue",!1)}function P(){var se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return wi({ref:H()},se)}function R(se,pe){var $e=!1,Te=P({type:se,stop:function(){$e=!0}});return r(se,Te),$e?(v.value=!0,qn(function(){r("update:modelValue",pe)}),!0):!1}function U(se,pe,$e){_.value="".concat(pe,":").concat($e),r(_.value,se)}function z(se,pe){var $e=arguments;return new Promise(function(Te,qe){I=function(pt){Te(pt),I=ry},T=function(pt){qe(pt),T=ry};var yt=typeof se=="boolean"?se:!t.modelValue;yt&&$e.length===2&&(y.value=pe),r("update:modelValue",yt)})}function Q(se){se.stopPropagation();var pe="resize",$e="drag",Te=se.target.getAttribute("direction"),qe;if(Te)qe=pe;else if(bVe(se,a.value,t.dragSelector))qe=$e;else return;U(se,qe,"start");var yt=oF(se),je=o.value.getBoundingClientRect(),pt=a.value.getBoundingClientRect(),Fn=window.getComputedStyle(a.value).position==="absolute",Jn={top:aF(b.value.top),left:aF(b.value.left)},Sn=function(){if(t.fitParent){var dn={absolute:function(){return{minTop:0,minLeft:0,maxTop:je.height-pt.height,maxLeft:je.width-pt.width}},relative:function(){return{minTop:Jn.top+je.top-pt.top,minLeft:Jn.left+je.left-pt.left,maxTop:Jn.top+je.bottom-pt.bottom,maxLeft:Jn.left+je.right-pt.right}}};return Fn?dn.absolute():dn.relative()}else return{}}(),jn=qe===pe&&yVe(document.body,"cursor",kVe[Te]),wr=function(rn){rn.stopPropagation(),U(rn,qe,"move");var su=oF(rn),yi={x:su.x-yt.x,y:su.y-yt.y};qe===pe&&(yi=de(Te,yi,je,pt,Fn));var Bn,Mo;Fn?(Bn=pt.top-je.top+yi.y,Mo=pt.left-je.left+yi.x):(Bn=Jn.top+yi.y,Mo=Jn.left+yi.x),qe===$e&&t.fitParent&&(Bn=ey(Sn.minTop,Bn,Sn.maxTop),Mo=ey(Sn.minLeft,Mo,Sn.maxLeft));var Vc=wi(wi(wi({position:"relative",top:Bn+"px",left:Mo+"px",margin:"unset",touchAction:"none"},Fn&&{position:"absolute",transform:"unset",width:pt.width+"px",height:pt.height+"px"}),yi.width&&{width:yi.width+"px"}),yi.height&&{height:yi.height+"px"});b.value=wi(wi({},b.value),Vc)},cn=function dn(rn){rn.stopPropagation(),qe===pe&&jn&&jn(),setTimeout(function(){U(rn,qe,"end")}),ny("move",document,wr),ny("up",document,dn)};ty("move",document,wr),ty("up",document,cn)}function J(){ty("down",a.value,Q),b.value.touchAction="none"}function ge(){ny("down",a.value,Q)}function he(){h.resize=!0,qn(function(){ty("down",l.value,Q)})}function ye(){ny("down",l.value,Q),h.resize=!1}function de(se,pe,$e,Te,qe){var yt=function(Sn){var jn,wr=pe[Sn.axis];wr=t.fitParent?ey(Sn.min,wr,Sn.max):wr;var cn=ey(Sn.minEdge,Sn.getEdge(wr),Sn.maxEdge);return wr=Sn.getOffsetAxis(cn,qe),jn={},zd(jn,Sn.edgeName,cn),zd(jn,Sn.axis,wr),jn},je=function(Sn,jn,wr,cn){var dn=Te[jn],rn=$e[Sn]-Te[Sn],su=_Ve(jn);return{axis:wr,edgeName:jn,min:cn?rn:-dn,max:cn?dn:rn,minEdge:t["min".concat(su)],maxEdge:t["max".concat(su)],getEdge:function(Bn){return Te[jn]-Bn*(cn?1:-1)},getOffsetAxis:function(Bn,Mo){var Vc=Te[jn]-Bn;return Mo?cn?Vc:0:(cn?1:-1)*Vc/2}}},pt={t:["top","height","y",!0],b:["bottom","height","y",!1],l:["left","width","x",!0],r:["right","width","x",!1]},Fn={x:0,y:0};return se.split("").forEach(function(Jn){var Sn=je.apply(void 0,Ec(pt[Jn]));Fn=wi(wi({},Fn),yt(Sn))}),Fn}return{root:s,vfmContainer:o,vfmContent:a,vfmResize:l,vfmOverlayTransition:u,vfmTransition:c,computedOverlayTransition:w,computedTransition:x,visible:p,visibility:h,params:y,calculateZIndex:O,bindStyle:M,bindContentStyle:V,beforeOverlayEnter:Ye,afterOverlayEnter:St,beforeOverlayLeave:F,afterOverlayLeave:j,beforeModalEnter:X,afterModalEnter:G,beforeModalLeave:L,afterModalLeave:W,onMousedown:q,onMouseupContainer:ue,onEsc:Fe}}},jE=XF();tT("data-v-2836fdb5");var OVe={key:0,ref:"vfmResize",class:"vfm__resize vfm--absolute vfm--inset vfm--prevent-none vfm--select-none vfm--touch-none"};nT();var PVe=jE(function(e,t,n,r,i,s){return n.ssr||r.visible?Wy((re(),We("div",{key:0,ref:"root",style:r.bindStyle,class:["vfm vfm--inset",[n.attach===!1?"vfm--fixed":"vfm--absolute",{"vfm--prevent-none":n.preventClick}]],onKeydown:t[4]||(t[4]=XB(function(){return r.onEsc&&r.onEsc.apply(r,arguments)},["esc"]))},[we(Gu,fa(r.computedOverlayTransition,{onBeforeEnter:r.beforeOverlayEnter,onAfterEnter:r.afterOverlayEnter,onBeforeLeave:r.beforeOverlayLeave,onAfterLeave:r.afterOverlayLeave}),{default:jE(function(){return[!n.hideOverlay&&r.visibility.overlay?(re(),We("div",{key:0,class:["vfm__overlay vfm--overlay vfm--absolute vfm--inset",n.overlayClass],style:n.overlayStyle},null,6)):Xe("v-if",!0)]}),_:1},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"]),we(Gu,fa(r.computedTransition,{onBeforeEnter:r.beforeModalEnter,onAfterEnter:r.afterModalEnter,onBeforeLeave:r.beforeModalLeave,onAfterLeave:r.afterModalLeave}),{default:jE(function(){return[Wy(we("div",{ref:"vfmContainer",class:["vfm__container vfm--absolute vfm--inset vfm--outline-none",n.classes],style:n.styles,"aria-expanded":r.visibility.modal.toString(),role:"dialog","aria-modal":"true",tabindex:"-1",onMouseup:t[2]||(t[2]=Ja(function(){return r.onMouseupContainer&&r.onMouseupContainer.apply(r,arguments)},["self"])),onMousedown:t[3]||(t[3]=Ja(function(){return r.onMousedown&&r.onMousedown.apply(r,arguments)},["self"]))},[we("div",{ref:"vfmContent",class:["vfm__content",[n.contentClass,{"vfm--prevent-auto":n.preventClick}]],style:r.bindContentStyle,onMousedown:t[1]||(t[1]=function(o){return r.onMousedown(null)})},[gr(e.$slots,"default",{params:r.params,close:function(){return e.$emit("update:modelValue",!1)}}),r.visibility.resize&&r.visibility.modal?(re(),We("div",OVe,[(re(!0),We(pn,null,qu(n.resizeDirections,function(o){return re(),We("div",{key:o,direction:o,class:["vfm--resize-".concat(o),"vfm--absolute vfm--prevent-auto"]},null,10,["direction"])}),128))],512)):Xe("v-if",!0)],38)],46,["aria-expanded"]),[[Yh,r.visibility.modal]])]}),_:3},16,["onBeforeEnter","onAfterEnter","onBeforeLeave","onAfterLeave"])],38)),[[Yh,!n.ssr||r.visible]]):Xe("v-if",!0)});function RVe(e,t){t===void 0&&(t={});var n=t.insertAt;if(!(!e||typeof document>"u")){var r=document.head||document.getElementsByTagName("head")[0],i=document.createElement("style");i.type="text/css",n==="top"&&r.firstChild?r.insertBefore(i,r.firstChild):r.appendChild(i),i.styleSheet?i.styleSheet.cssText=e:i.appendChild(document.createTextNode(e))}}var DVe=`
.vfm--fixed[data-v-2836fdb5] {
  position: fixed;
}
.vfm--absolute[data-v-2836fdb5] {
  position: absolute;
}
.vfm--inset[data-v-2836fdb5] {
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
}
.vfm--overlay[data-v-2836fdb5] {
  background-color: rgba(0, 0, 0, 0.5);
}
.vfm--prevent-none[data-v-2836fdb5] {
  pointer-events: none;
}
.vfm--prevent-auto[data-v-2836fdb5] {
  pointer-events: auto;
}
.vfm--outline-none[data-v-2836fdb5]:focus {
  outline: none;
}
.vfm-enter-active[data-v-2836fdb5],
.vfm-leave-active[data-v-2836fdb5] {
  transition: opacity 0.2s;
}
.vfm-enter-from[data-v-2836fdb5],
.vfm-leave-to[data-v-2836fdb5] {
  opacity: 0;
}
.vfm--touch-none[data-v-2836fdb5] {
  touch-action: none;
}
.vfm--select-none[data-v-2836fdb5] {
  -webkit-user-select: none;
     -moz-user-select: none;
      -ms-user-select: none;
          user-select: none;
}
.vfm--resize-tr[data-v-2836fdb5],
.vfm--resize-br[data-v-2836fdb5],
.vfm--resize-bl[data-v-2836fdb5],
.vfm--resize-tl[data-v-2836fdb5] {
  width: 12px;
  height: 12px;
  z-index: 10;
}
.vfm--resize-t[data-v-2836fdb5] {
  top: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-tr[data-v-2836fdb5] {
  top: -6px;
  right: -6px;
  cursor: nesw-resize;
}
.vfm--resize-r[data-v-2836fdb5] {
  top: 0;
  right: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-br[data-v-2836fdb5] {
  bottom: -6px;
  right: -6px;
  cursor: nwse-resize;
}
.vfm--resize-b[data-v-2836fdb5] {
  bottom: -6px;
  left: 0;
  width: 100%;
  height: 12px;
  cursor: ns-resize;
}
.vfm--resize-bl[data-v-2836fdb5] {
  bottom: -6px;
  left: -6px;
  cursor: nesw-resize;
}
.vfm--resize-l[data-v-2836fdb5] {
  top: 0;
  left: -6px;
  width: 12px;
  height: 100%;
  cursor: ew-resize;
}
.vfm--resize-tl[data-v-2836fdb5] {
  top: -6px;
  left: -6px;
  cursor: nwse-resize;
}
`;RVe(DVe);Ww.render=PVe;Ww.__scopeId="data-v-2836fdb5";Ww.__file="lib/VueFinalModal.vue";var Kk={props:{},methods:{slice:function(t){this.api.dynamicModals.splice(t,1)},beforeOpen:function(t,n,r){var i=this;return sVe(function*(){t.ref.params.value=n.params,yield i.$nextTick(),yield i.$nextTick(),n.value||(i.slice(r),n.reject("show"))})()},isString:function(t){return typeof t=="string"}}},NVe={class:"modals-container"};function MVe(e,t,n,r,i,s){return re(),We("div",NVe,[(re(!0),We(pn,null,qu(e.api.dynamicModals,function(o,a){return re(),We(Yd(o.component),fa({key:o.id},o.bind,{modelValue:o.value,"onUpdate:modelValue":function(u){return o.value=u}},JE(o.on),{on_closed:function(u){return s.slice(a)},on_beforeOpen:function(u){return s.beforeOpen(u,o)},on_opened:o.opened}),dB({_:2},[qu(o.slots,function(l,u){return{name:u,fn:Ze(function(){return[Xe(" eslint-disable vue/no-v-html "),s.isString(l)?(re(),We("div",{key:0,innerHTML:l},null,8,["innerHTML"])):(re(),We(Yd(l.component),fa({key:1},l.bind,JE(l.on||{})),null,16))]})}})]),1040,["modelValue","onUpdate:modelValue","on_closed","on_beforeOpen","on_opened"])}),128))])}Kk.render=MVe;Kk.__file="lib/ModalsContainer.vue";function LVe(){var e=null;return{show:function(n){for(var r=this,i=arguments.length,s=new Array(i>1?i-1:0),o=1;o<i;o++)s[o-1]=arguments[o];switch(Mh(n)){case"string":return this.toggle.apply(this,[n,!0].concat(s));case"object":return Promise.allSettled([new Promise(function(a,l){var u={value:!0,id:Symbol("dynamicModal"),component:e,bind:{},slots:{},on:{},params:s[0],reject:l,opened:function(){a("show")}};r.dynamicModals.push(Hy(Object.assign(u,n)))})])}},hide:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.toggle(r,!1)},hideAll:function(){return this.hide.apply(this,Ec(this.openedModals.map(function(n){return n.props.name})))},toggle:function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];var o=Array.isArray(n)?this.get.apply(this,Ec(n)):this.get(n);return Promise.allSettled(o.map(function(a){return a.toggle.apply(a,i)}))},get:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return this.modals.filter(function(s){return r.includes(s.props.name)})},dynamicModals:Hy([]),openedModals:[],modals:[],_setDefaultModal:function(n){e=n}}}function K8(e,t){var n=wi(wi({},e),{},{props:wi({},e.props)});return Object.assign(n.props,{api:{type:Object,default:function(){return t}}}),n}function FVe(e){var t=K8(Ww,e);return e._setDefaultModal(t),t}function BVe(e){return K8(Kk,e)}var uF=0,G8="$vfm",Y8="VueFinalModal",X8="ModalsContainer",Gk=function(){var t,n=LVe();return t={},zd(t,G8,n),zd(t,Y8,FVe(n)),zd(t,X8,BVe(n)),t},qw=Gk(),UVe=qw.$vfm,VVe=qw.VueFinalModal,Q8=qw.ModalsContainer,J8=function(t){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},r=uF===0?qw:Gk(),i=r.$vfm,s=r.VueFinalModal,o=r.ModalsContainer;uF+=1;var a=n.key||G8,l=n.componentName||Y8,u=n.dynamicContainerName||X8;Object.defineProperty(t.config.globalProperties,a,{get:function(){return i}}),t.provide(a,i),t.component(l,s),t.component(u,o)},P0=function(t){return{install:function(r,i){var s=Object.assign({},t,i);J8(r,s)}}};P0.install=J8;const Z8=Object.freeze(Object.defineProperty({__proto__:null,$vfm:UVe,ModalsContainer:Q8,VueFinalModal:VVe,default:P0,defineVfm:Gk,vfmPlugin:P0},Symbol.toStringTag,{value:"Module"})),HVe=async({app:e})=>{e.use(P0)},jVe=Object.freeze(Object.defineProperty({__proto__:null,install:HVe},Symbol.toStringTag,{value:"Module"})),WVe=async({app:e})=>{e.use(OFe,{firebaseApp:Ia,modules:[kFe()]})},qVe=Object.freeze(Object.defineProperty({__proto__:null,install:WVe},Symbol.toStringTag,{value:"Module"}));function Mx(e,t={},n){for(const r in e){const i=e[r],s=n?`${n}:${r}`:r;typeof i=="object"&&i!==null?Mx(i,t,s):typeof i=="function"&&(t[s]=i)}return t}const zVe={run:e=>e()},KVe=()=>zVe,eK=typeof console.createTask<"u"?console.createTask:KVe;function GVe(e,t){const n=t.shift(),r=eK(n);return e.reduce((i,s)=>i.then(()=>r.run(()=>s(...t))),Promise.resolve())}function YVe(e,t){const n=t.shift(),r=eK(n);return Promise.all(e.map(i=>r.run(()=>i(...t))))}function WE(e,t){for(const n of[...e])n(t)}class XVe{constructor(){this._hooks={},this._before=void 0,this._after=void 0,this._deprecatedMessages=void 0,this._deprecatedHooks={},this.hook=this.hook.bind(this),this.callHook=this.callHook.bind(this),this.callHookWith=this.callHookWith.bind(this)}hook(t,n,r={}){if(!t||typeof n!="function")return()=>{};const i=t;let s;for(;this._deprecatedHooks[t];)s=this._deprecatedHooks[t],t=s.to;if(s&&!r.allowDeprecated){let o=s.message;o||(o=`${i} hook has been deprecated`+(s.to?`, please use ${s.to}`:"")),this._deprecatedMessages||(this._deprecatedMessages=new Set),this._deprecatedMessages.has(o)||(console.warn(o),this._deprecatedMessages.add(o))}if(!n.name)try{Object.defineProperty(n,"name",{get:()=>"_"+t.replace(/\W+/g,"_")+"_hook_cb",configurable:!0})}catch{}return this._hooks[t]=this._hooks[t]||[],this._hooks[t].push(n),()=>{n&&(this.removeHook(t,n),n=void 0)}}hookOnce(t,n){let r,i=(...s)=>(typeof r=="function"&&r(),r=void 0,i=void 0,n(...s));return r=this.hook(t,i),r}removeHook(t,n){if(this._hooks[t]){const r=this._hooks[t].indexOf(n);r!==-1&&this._hooks[t].splice(r,1),this._hooks[t].length===0&&delete this._hooks[t]}}deprecateHook(t,n){this._deprecatedHooks[t]=typeof n=="string"?{to:n}:n;const r=this._hooks[t]||[];delete this._hooks[t];for(const i of r)this.hook(t,i)}deprecateHooks(t){Object.assign(this._deprecatedHooks,t);for(const n in t)this.deprecateHook(n,t[n])}addHooks(t){const n=Mx(t),r=Object.keys(n).map(i=>this.hook(i,n[i]));return()=>{for(const i of r.splice(0,r.length))i()}}removeHooks(t){const n=Mx(t);for(const r in n)this.removeHook(r,n[r])}removeAllHooks(){for(const t in this._hooks)delete this._hooks[t]}callHook(t,...n){return n.unshift(t),this.callHookWith(GVe,t,...n)}callHookParallel(t,...n){return n.unshift(t),this.callHookWith(YVe,t,...n)}callHookWith(t,n,...r){const i=this._before||this._after?{name:n,args:r,context:{}}:void 0;this._before&&WE(this._before,i);const s=t(n in this._hooks?[...this._hooks[n]]:[],r);return s instanceof Promise?s.finally(()=>{this._after&&i&&WE(this._after,i)}):(this._after&&i&&WE(this._after,i),s)}beforeEach(t){return this._before=this._before||[],this._before.push(t),()=>{if(this._before!==void 0){const n=this._before.indexOf(t);n!==-1&&this._before.splice(n,1)}}}afterEach(t){return this._after=this._after||[],this._after.push(t),()=>{if(this._after!==void 0){const n=this._after.indexOf(t);n!==-1&&this._after.splice(n,1)}}}}function QVe(){return new XVe}function JVe(e){return Array.isArray(e)?e:[e]}const tK=["title","script","style","noscript"],nK=["base","meta","link","style","script","noscript"],ZVe=["title","titleTemplate","templateParams","base","htmlAttrs","bodyAttrs","meta","link","style","script","noscript"],eHe=["base","title","titleTemplate","bodyAttrs","htmlAttrs","templateParams"],tHe=["tagPosition","tagPriority","tagDuplicateStrategy","innerHTML","textContent"];function rK(e){let t=9;for(let n=0;n<e.length;)t=Math.imul(t^e.charCodeAt(n++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function Lx(e){return rK(`${e.tag}:${e.textContent||e.innerHTML||""}:${Object.entries(e.props).map(([t,n])=>`${t}:${String(n)}`).join(",")}`)}function nHe(e){let t=9;for(const n of e)for(let r=0;r<n.length;)t=Math.imul(t^n.charCodeAt(r++),9**9);return((t^t>>>9)+65536).toString(16).substring(1,8).toLowerCase()}function iK(e,t){const{props:n,tag:r}=e;if(eHe.includes(r))return r;if(r==="link"&&n.rel==="canonical")return"canonical";if(n.charset)return"charset";const i=["id"];r==="meta"&&i.push("name","property","http-equiv");for(const s of i)if(typeof n[s]<"u"){const o=String(n[s]);return t&&!t(o)?!1:`${r}:${s}:${o}`}return!1}function cF(e,t){return e==null?t||null:typeof e=="function"?e(t):e}function iy(e,t=!1,n){const{tag:r,$el:i}=e;i&&(Object.entries(r.props).forEach(([s,o])=>{o=String(o);const a=`attr:${s}`;if(s==="class"){if(!o)return;for(const l of o.split(" ")){const u=`${a}:${l}`;n&&n(e,u,()=>i.classList.remove(l)),i.classList.contains(l)||i.classList.add(l)}return}n&&!s.startsWith("data-h-")&&n(e,a,()=>i.removeAttribute(s)),(t||i.getAttribute(s)!==o)&&i.setAttribute(s,o)}),tK.includes(r.tag)&&(r.textContent&&r.textContent!==i.textContent?i.textContent=r.textContent:r.innerHTML&&r.innerHTML!==i.innerHTML&&(i.innerHTML=r.innerHTML)))}let Vp=!1;async function sK(e,t={}){var f,p;const n={shouldRender:!0};if(await e.hooks.callHook("dom:beforeRender",n),!n.shouldRender)return;const r=t.document||e.resolvedOptions.document||window.document,i=(await e.resolveTags()).map(a);if(e.resolvedOptions.experimentalHashHydration&&(Vp=Vp||e._hash||!1,Vp)){const h=nHe(i.map(g=>g.tag._h));if(Vp===h)return;Vp=h}const s=e._popSideEffectQueue();e.headEntries().map(h=>h._sde).forEach(h=>{Object.entries(h).forEach(([g,m])=>{s[g]=m})});const o=(h,g,m)=>{g=`${h.renderId}:${g}`,h.entry&&(h.entry._sde[g]=m),delete s[g]};function a(h){const g=e.headEntries().find(v=>v._i===h._e),m={renderId:h._d||Lx(h),$el:null,shouldRender:!0,tag:h,entry:g,markSideEffect:(v,y)=>o(m,v,y)};return m}const l=[],u={body:[],head:[]},c=h=>{e._elMap[h.renderId]=h.$el,l.push(h),o(h,"el",()=>{var g;(g=h.$el)==null||g.remove(),delete e._elMap[h.renderId]})};for(const h of i){if(await e.hooks.callHook("dom:beforeRenderTag",h),!h.shouldRender)continue;const{tag:g}=h;if(g.tag==="title"){r.title=g.textContent||"",l.push(h);continue}if(g.tag==="htmlAttrs"||g.tag==="bodyAttrs"){h.$el=r[g.tag==="htmlAttrs"?"documentElement":"body"],iy(h,!1,o),l.push(h);continue}if(h.$el=e._elMap[h.renderId],!h.$el&&g.key&&(h.$el=r.querySelector(`${(f=g.tagPosition)!=null&&f.startsWith("body")?"body":"head"} > ${g.tag}[data-h-${g._h}]`)),h.$el){h.tag._d&&iy(h),c(h);continue}u[(p=g.tagPosition)!=null&&p.startsWith("body")?"body":"head"].push(h)}const d={bodyClose:void 0,bodyOpen:void 0,head:void 0};Object.entries(u).forEach(([h,g])=>{var v;if(!g.length)return;const m=(v=r==null?void 0:r[h])==null?void 0:v.children;if(m){for(const y of[...m].reverse()){const b=y.tagName.toLowerCase();if(!nK.includes(b))continue;const _=y.getAttributeNames().reduce((w,x)=>({...w,[x]:y.getAttribute(x)}),{}),S={tag:b,props:_};y.innerHTML&&(S.innerHTML=y.innerHTML);const I=Lx(S);let T=g.findIndex(w=>(w==null?void 0:w.renderId)===I);if(T===-1){const w=iK(S);T=g.findIndex(x=>(x==null?void 0:x.tag._d)&&x.tag._d===w)}if(T!==-1){const w=g[T];w.$el=y,iy(w),c(w),delete g[T]}}g.forEach(y=>{const b=y.tag.tagPosition||"head";d[b]=d[b]||r.createDocumentFragment(),y.$el||(y.$el=r.createElement(y.tag.tag),iy(y,!0)),d[b].appendChild(y.$el),c(y)})}}),d.head&&r.head.appendChild(d.head),d.bodyOpen&&r.body.insertBefore(d.bodyOpen,r.body.firstChild),d.bodyClose&&r.body.appendChild(d.bodyClose);for(const h of l)await e.hooks.callHook("dom:renderTag",h);Object.values(s).forEach(h=>h())}let qE=null;async function oK(e,t={}){function n(){return qE=null,sK(e,t)}const r=t.delayFn||(i=>setTimeout(i,10));return qE=qE||new Promise(i=>r(()=>i(n())))}function rHe(e){return{hooks:{"entries:updated":function(t){if(typeof(e==null?void 0:e.document)>"u"&&typeof window>"u")return;let n=e==null?void 0:e.delayFn;!n&&typeof requestAnimationFrame<"u"&&(n=requestAnimationFrame),oK(t,{document:(e==null?void 0:e.document)||window.document,delayFn:n})}}}}function iHe(e){var t;return((t=e==null?void 0:e.head.querySelector('meta[name="unhead:ssr"]'))==null?void 0:t.getAttribute("content"))||!1}const dF={critical:2,high:9,low:12,base:-1,title:1,meta:10};function fF(e){if(typeof e.tagPriority=="number")return e.tagPriority;if(e.tag==="meta"){if(e.props.charset)return-2;if(e.props["http-equiv"]==="content-security-policy")return 0}const t=e.tagPriority||e.tag;return t in dF?dF[t]:10}const sHe=[{prefix:"before:",offset:-1},{prefix:"after:",offset:1}];function oHe(){return{hooks:{"tags:resolve":e=>{const t=n=>{var r;return(r=e.tags.find(i=>i._d===n))==null?void 0:r._p};for(const{prefix:n,offset:r}of sHe)for(const i of e.tags.filter(s=>typeof s.tagPriority=="string"&&s.tagPriority.startsWith(n))){const s=t(i.tagPriority.replace(n,""));typeof s<"u"&&(i._p=s+r)}e.tags.sort((n,r)=>n._p-r._p).sort((n,r)=>fF(n)-fF(r))}}}}function aHe(){return{hooks:{"tags:resolve":e=>{const{tags:t}=e;let n=t.findIndex(i=>i.tag==="titleTemplate");const r=t.findIndex(i=>i.tag==="title");if(r!==-1&&n!==-1){const i=cF(t[n].textContent,t[r].textContent);i!==null?t[r].textContent=i||t[r].textContent:delete t[r]}else if(n!==-1){const i=cF(t[n].textContent);i!==null&&(t[n].textContent=i,t[n].tag="title",n=-1)}n!==-1&&delete t[n],e.tags=t.filter(Boolean)}}}}function lHe(){return{hooks:{"tag:normalise":function({tag:e}){typeof e.props.body<"u"&&(e.tagPosition="bodyClose",delete e.props.body)}}}}const uHe=["link","style","script","noscript"];function cHe(){return{hooks:{"tag:normalise":({tag:e,resolvedOptions:t})=>{t.experimentalHashHydration===!0&&(e._h=Lx(e)),e.key&&uHe.includes(e.tag)&&(e._h=rK(e.key),e.props[`data-h-${e._h}`]="")}}}}const pF=["script","link","bodyAttrs"];function dHe(){const e=(t,n)=>{const r={},i={};Object.entries(n.props).forEach(([o,a])=>{o.startsWith("on")&&typeof a=="function"?i[o]=a:r[o]=a});let s;return t==="dom"&&n.tag==="script"&&typeof r.src=="string"&&typeof i.onload<"u"&&(s=r.src,delete r.src),{props:r,eventHandlers:i,delayedSrc:s}};return{hooks:{"ssr:render":function(t){t.tags=t.tags.map(n=>(!pF.includes(n.tag)||!Object.entries(n.props).find(([r,i])=>r.startsWith("on")&&typeof i=="function")||(n.props=e("ssr",n).props),n))},"dom:beforeRenderTag":function(t){if(!pF.includes(t.tag.tag)||!Object.entries(t.tag.props).find(([s,o])=>s.startsWith("on")&&typeof o=="function"))return;const{props:n,eventHandlers:r,delayedSrc:i}=e("dom",t.tag);Object.keys(r).length&&(t.tag.props=n,t.tag._eventHandlers=r,t.tag._delayedSrc=i)},"dom:renderTag":function(t){const n=t.$el;if(!t.tag._eventHandlers||!n)return;const r=t.tag.tag==="bodyAttrs"&&typeof window<"u"?window:n;Object.entries(t.tag._eventHandlers).forEach(([i,s])=>{const o=`${t.tag._d||t.tag._p}:${i}`,a=i.slice(2).toLowerCase(),l=`data-h-${a}`;if(t.markSideEffect(o,()=>{}),n.hasAttribute(l))return;const u=s;n.setAttribute(l,""),r.addEventListener(a,u),t.entry&&(t.entry._sde[o]=()=>{r.removeEventListener(a,u),n.removeAttribute(l)})}),t.tag._delayedSrc&&n.setAttribute("src",t.tag._delayedSrc)}}}}const fHe=["templateParams","htmlAttrs","bodyAttrs"];function pHe(){return{hooks:{"tag:normalise":function({tag:e}){["hid","vmid","key"].forEach(r=>{e.props[r]&&(e.key=e.props[r],delete e.props[r])});const n=iK(e)||(e.key?`${e.tag}:${e.key}`:!1);n&&(e._d=n)},"tags:resolve":function(e){const t={};e.tags.forEach(r=>{const i=(r.key?`${r.tag}:${r.key}`:r._d)||r._p,s=t[i];if(s){let a=r==null?void 0:r.tagDuplicateStrategy;if(!a&&fHe.includes(r.tag)&&(a="merge"),a==="merge"){const l=s.props;["class","style"].forEach(u=>{r.props[u]&&l[u]&&(u==="style"&&!l[u].endsWith(";")&&(l[u]+=";"),r.props[u]=`${l[u]} ${r.props[u]}`)}),t[i].props={...l,...r.props};return}else if(r._e===s._e){s._duped=s._duped||[],r._d=`${s._d}:${s._duped.length+1}`,s._duped.push(r);return}}const o=Object.keys(r.props).length+(r.innerHTML?1:0)+(r.textContent?1:0);if(nK.includes(r.tag)&&o===0){delete t[i];return}t[i]=r});const n=[];Object.values(t).forEach(r=>{const i=r._duped;delete r._duped,n.push(r),i&&n.push(...i)}),e.tags=n}}}}function sy(e,t){function n(s){if(["s","pageTitle"].includes(s))return t.pageTitle;let o;return s.includes(".")?o=s.split(".").reduce((a,l)=>a&&a[l]||void 0,t):o=t[s],typeof o<"u"?o||"":!1}let r=e;try{r=decodeURI(e)}catch{}return(r.match(/%(\w+\.+\w+)|%(\w+)/g)||[]).sort().reverse().forEach(s=>{const o=n(s.slice(1));typeof o=="string"&&(e=e.replace(new RegExp(`\\${s}(\\W|$)`,"g"),`${o}$1`).trim())}),t.separator&&(e.endsWith(t.separator)&&(e=e.slice(0,-t.separator.length).trim()),e.startsWith(t.separator)&&(e=e.slice(t.separator.length).trim()),e=e.replace(new RegExp(`\\${t.separator}\\s*\\${t.separator}`,"g"),t.separator)),e}function hHe(){return{hooks:{"tags:resolve":e=>{var s;const{tags:t}=e,n=(s=t.find(o=>o.tag==="title"))==null?void 0:s.textContent,r=t.findIndex(o=>o.tag==="templateParams"),i=r!==-1?t[r].props:{};i.pageTitle=i.pageTitle||n||"";for(const o of t)if(["titleTemplate","title"].includes(o.tag)&&typeof o.textContent=="string")o.textContent=sy(o.textContent,i);else if(o.tag==="meta"&&typeof o.props.content=="string")o.props.content=sy(o.props.content,i);else if(o.tag==="link"&&typeof o.props.href=="string")o.props.href=sy(o.props.href,i);else if(o.tag==="script"&&["application/json","application/ld+json"].includes(o.props.type)&&typeof o.innerHTML=="string")try{o.innerHTML=JSON.stringify(JSON.parse(o.innerHTML),(a,l)=>typeof l=="string"?sy(l,i):l)}catch{}e.tags=t.filter(o=>o.tag!=="templateParams")}}}}const gHe=typeof window<"u";let aK;function mHe(e){return aK=e}function vHe(){return aK}async function yHe(e,t){const n={tag:e,props:{}};return e==="templateParams"?(n.props=t,n):["title","titleTemplate"].includes(e)?(n.textContent=t instanceof Promise?await t:t,n):typeof t=="string"?["script","noscript","style"].includes(e)?(e==="script"&&(/^(https?:)?\/\//.test(t)||t.startsWith("/"))?n.props.src=t:n.innerHTML=t,n):!1:(n.props=await bHe(e,{...t}),n.props.children&&(n.props.innerHTML=n.props.children),delete n.props.children,Object.keys(n.props).filter(r=>tHe.includes(r)).forEach(r=>{(!["innerHTML","textContent"].includes(r)||tK.includes(n.tag))&&(n[r]=n.props[r]),delete n.props[r]}),["innerHTML","textContent"].forEach(r=>{if(n.tag==="script"&&typeof n[r]=="string"&&["application/ld+json","application/json"].includes(n.props.type))try{n[r]=JSON.parse(n[r])}catch{n[r]=""}typeof n[r]=="object"&&(n[r]=JSON.stringify(n[r]))}),n.props.class&&(n.props.class=_He(n.props.class)),n.props.content&&Array.isArray(n.props.content)?n.props.content.map(r=>({...n,props:{...n.props,content:r}})):n)}function _He(e){return typeof e=="object"&&!Array.isArray(e)&&(e=Object.keys(e).filter(t=>e[t])),(Array.isArray(e)?e.join(" "):e).split(" ").filter(t=>t.trim()).filter(Boolean).join(" ")}async function bHe(e,t){for(const n of Object.keys(t)){const r=n.startsWith("data-");t[n]instanceof Promise&&(t[n]=await t[n]),String(t[n])==="true"?t[n]=r?"true":"":String(t[n])==="false"&&(r?t[n]="false":delete t[n])}return t}const wHe=10;async function EHe(e){const t=[];return Object.entries(e.resolvedInput).filter(([n,r])=>typeof r<"u"&&ZVe.includes(n)).forEach(([n,r])=>{const i=JVe(r);t.push(...i.map(s=>yHe(n,s)).flat())}),(await Promise.all(t)).flat().filter(Boolean).map((n,r)=>(n._e=e._i,n._p=(e._i<<wHe)+r,n))}function $He(){return[pHe(),oHe(),hHe(),aHe(),cHe(),dHe(),lHe()]}function SHe(e={}){return[rHe({document:e==null?void 0:e.document,delayFn:e==null?void 0:e.domDelayFn})]}function xHe(e={}){const t=THe({...e,plugins:[...SHe(e),...(e==null?void 0:e.plugins)||[]]});return e.experimentalHashHydration&&t.resolvedOptions.document&&(t._hash=iHe(t.resolvedOptions.document)),mHe(t),t}function THe(e={}){let t=[],n={},r=0;const i=QVe();e!=null&&e.hooks&&i.addHooks(e.hooks),e.plugins=[...$He(),...(e==null?void 0:e.plugins)||[]],e.plugins.forEach(a=>a.hooks&&i.addHooks(a.hooks)),e.document=e.document||(gHe?document:void 0);const s=()=>i.callHook("entries:updated",o),o={resolvedOptions:e,headEntries(){return t},get hooks(){return i},use(a){a.hooks&&i.addHooks(a.hooks)},push(a,l){const u={_i:r++,input:a,_sde:{}};return l!=null&&l.mode&&(u._m=l==null?void 0:l.mode),l!=null&&l.transform&&(u._t=l==null?void 0:l.transform),t.push(u),s(),{dispose(){t=t.filter(c=>c._i!==u._i?!0:(n={...n,...c._sde||{}},c._sde={},s(),!1))},patch(c){t=t.map(d=>(d._i===u._i&&(u.input=d.input=c,s()),d))}}},async resolveTags(){const a={tags:[],entries:[...t]};await i.callHook("entries:resolve",a);for(const l of a.entries){const u=l._t||(c=>c);if(l.resolvedInput=u(l.resolvedInput||l.input),l.resolvedInput)for(const c of await EHe(l)){const d={tag:c,entry:l,resolvedOptions:o.resolvedOptions};await i.callHook("tag:normalise",d),a.tags.push(d.tag)}}return await i.callHook("tags:resolve",a),a.tags},_popSideEffectQueue(){const a={...n};return n={},a},_elMap:{}};return o.hooks.callHook("init",o),o}function IHe(e){return typeof e=="function"?e():ve(e)}function R0(e,t=""){if(e instanceof Promise)return e;const n=IHe(e);return!e||!n?n:Array.isArray(n)?n.map(r=>R0(r,t)):typeof n=="object"?Object.fromEntries(Object.entries(n).map(([r,i])=>r==="titleTemplate"||r.startsWith("on")?[r,ve(i)]:[r,R0(i,r)])):n}const CHe=X0.startsWith("3"),AHe=typeof window<"u",lK="usehead";function Yk(){return Pr()&&lt(lK)||vHe()}function kHe(e){return{install(n){CHe&&(n.config.globalProperties.$unhead=e,n.config.globalProperties.$head=e,n.provide(lK,e))}}.install}function OHe(e={}){const t=xHe({...e,domDelayFn:n=>setTimeout(()=>qn(()=>n()),10),plugins:[PHe(),...(e==null?void 0:e.plugins)||[]]});return t.install=kHe(t),t}function PHe(){return{hooks:{"entries:resolve":function(e){for(const t of e.entries)t.resolvedInput=R0(t.input)}}}}function RHe(e,t={}){const n=Yk(),r=ne(!1),i=ne({});Kt(()=>{i.value=r.value?{}:R0(e)});const s=n.push(i.value,t);return xt(i,a=>{s.patch(a)}),Pr()&&(Vl(()=>{s.dispose()}),uT(()=>{r.value=!0}),lT(()=>{r.value=!1})),s}function DHe(e,t={}){return Yk().push(e,t)}function Xk(e,t={}){var r;const n=Yk();if(n){const i=AHe||!!((r=n.resolvedOptions)!=null&&r.document);return t.mode==="server"&&i||t.mode==="client"&&!i?void 0:i?RHe(e,t):DHe(e,t)}}function NHe(e,t){const n=OHe(t||{}),r={unhead:n,install(i){X0.startsWith("3")&&(i.config.globalProperties.$head=n,i.provide("usehead",n))},use(i){n.use(i)},resolveTags(){return n.resolveTags()},headEntries(){return n.headEntries()},headTags(){return n.resolveTags()},push(i,s){return n.push(i,s)},addEntry(i,s){return n.push(i,s)},addHeadObjs(i,s){return n.push(i,s)},addReactiveEntry(i,s){const o=Xk(i,s);return typeof o<"u"?o.dispose:()=>{}},removeHeadObjs(){},updateDOM(i,s){s?sK(n,{document:i}):oK(n,{delayFn:o=>setTimeout(()=>o(),50),document:i})},internalHooks:n.hooks,hooks:{"before:dom":[],"resolved:tags":[],"resolved:entries":[]}};return n.addHeadObjs=r.addHeadObjs,n.updateDOM=r.updateDOM,n.hooks.hook("dom:beforeRender",i=>{for(const s of r.hooks["before:dom"])s()===!1&&(i.shouldRender=!1)}),e&&r.addHeadObjs(e),r}const MHe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},LHe=Z("path",{fill:"currentColor",d:"m14.43 10l-1.47-4.84c-.29-.95-1.63-.95-1.91 0L9.57 10H5.12c-.97 0-1.37 1.25-.58 1.81l3.64 2.6l-1.43 4.61c-.29.93.79 1.68 1.56 1.09l3.69-2.8l3.69 2.81c.77.59 1.85-.16 1.56-1.09l-1.43-4.61l3.64-2.6c.79-.57.39-1.81-.58-1.81h-4.45z"},null,-1),FHe=[LHe];function BHe(e,t){return re(),Le("svg",MHe,FHe)}const UHe={name:"ic-round-star-rate",render:BHe},VHe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},HHe=Z("path",{fill:"currentColor",d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10s10-4.48 10-10S17.52 2 12 2zm0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6zm0 14c-2.03 0-4.43-.82-6.14-2.88a9.947 9.947 0 0 1 12.28 0C16.43 19.18 14.03 20 12 20z"},null,-1),jHe=[HHe];function WHe(e,t){return re(),Le("svg",VHe,jHe)}const qHe={name:"ic-round-account-circle",render:WHe},zHe={class:"flex items-center h-full"},KHe=Z("span",null,"Login",-1),GHe={key:0,class:"py-1"},YHe={class:"px-4 py-3"},XHe=Z("p",{class:"text-slate-400 text-sm"}," Signed in as ",-1),QHe={class:"font-medium text-gray-900 truncate"},JHe=["href"],ZHe={class:"inline-flex items-center px-1 py-1 rounded-full text-xs font-medium bg-brand-primary text-white"},eje={class:"py-1"},tje=Z("a",{href:"/account",title:"Account Settings",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900"}," Account Settings ",-1),nje=Z("a",{href:"https://www.mixo.io/affiliates",title:"Earn Money",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900"}," Earn Money ",-1),rje={__name:"AccountDropdown",setup(e){const t=is({...Cs,loader:()=>At(()=>import("./PlanSelector-a2bf851d.js"),["assets/PlanSelector-a2bf851d.js","assets/circle-check-filled-6f67c410.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/switch-7a7b90fb.js"])}),n=lt("firebaseAuth"),r=lt("openAuthModal"),i=Ow(),s=Rk(),o=async()=>{Bu({name:"plan-selector"},{default:{component:t,bind:{openAuthModal:r,trial:!1,includeFreeDomain:!1,showHeading:!1}}})},a=()=>{r()},l=async()=>{await Tce(n),s==null||s.push("/login")};return(u,c)=>{const d=Bc,f=Uc,p=qHe,h=UHe;return re(),We(ve(XX),{as:"div",class:"ml-3 relative z-10"},{default:Ze(()=>[Z("div",zHe,[ve(i)===void 0?(re(),We(d,{key:0})):Xe("",!0),ve(i)===null?(re(),We(f,{key:1,theme:"brand-link",size:"sm",onClick:a},{default:Ze(()=>[KHe]),_:1})):Xe("",!0),ve(i)?(re(),We(ve(QX),{key:2,class:"max-w-xs flex items-center focus:outline-none rounded-full focus:text-slate-500 hover:text-slate-500 text-slate-400"},{default:Ze(()=>[we(p,{class:"h-6 w-6 md:h-8 md:w-8"})]),_:1})):Xe("",!0)]),we(Gu,{"enter-active-class":"transition ease-out duration-100","enter-from-class":"transform opacity-0 scale-95","enter-to-class":"transform opacity-100 scale-100","leave-active-class":"transition ease-in duration-75","leave-from-class":"transform opacity-100 scale-100","leave-to-class":"transform opacity-0 scale-95"},{default:Ze(()=>[we(ve(JX),{class:"origin-top-right border border-light-100 absolute right-0 mt-2 w-56 rounded-lg shadow-lg bg-white ring-1 ring-black ring-opacity-5 divide-y divide-gray-100 focus:outline-none"},{default:Ze(()=>[ve(i)?(re(),Le("div",GHe,[Z("div",YHe,[XHe,Z("p",QHe,[Z("a",{href:`/account?ref=${ve(i).uid}`,title:"Account Settings"},[En(gs(ve(i).email)+" ",1),Z("span",ZHe,[we(h)])],8,JHe)])])])):Xe("",!0),Z("div",eje,[we(ve(lv),null,{default:Ze(()=>[tje]),_:1}),ve(i)?(re(),We(ve(lv),{key:0},{default:Ze(()=>[Z("a",{href:"#",title:"Upgrade",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900",onClick:o}," Pricing ")]),_:1})):Xe("",!0),we(ve(lv),null,{default:Ze(()=>[nje]),_:1}),ve(i)?(re(),We(ve(lv),{key:1},{default:Ze(()=>[Z("a",{href:"#",title:"Logout",class:"block px-4 py-2 hover:bg-gray-100 hover:text-gray-900",onClick:l}," Logout ")]),_:1})):Xe("",!0)])]),_:1})]),_:1})]),_:1})}}},ije={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},sje=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M3 12a9 9 0 1 0 18 0a9 9 0 1 0-18 0m9 5v.01"}),Z("path",{d:"M12 13.5a1.5 1.5 0 0 1 1-1.5a2.6 2.6 0 1 0-3-4"})],-1),oje=[sje];function aje(e,t){return re(),Le("svg",ije,oje)}const uK={name:"tabler-help",render:aje},lje={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},uje=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M4 6a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2zm0 10a2 2 0 0 1 2-2h12a2 2 0 0 1 2 2v2a2 2 0 0 1-2 2H6a2 2 0 0 1-2-2z"},null,-1),cje=[uje];function dje(e,t){return re(),Le("svg",lje,cje)}const fje={name:"tabler-layout-list",render:dje},pje="/assets/mixo-9f465c81.svg";const hje=["src"],gje={__name:"BrandLogo",props:{size:{type:String,default:""},tag:{type:String,default:"router-link"},to:{type:String,default:"/"}},setup(e){const t=e,n=js(()=>{switch(t.size){case"sm":return"w-5 h-5";case"md":return"w-8 h-8";case"lg":return"w-12 h-12";default:return"w-7 h-7"}}),r=js(()=>{switch(t.size){case"sm":return"text-lg";case"md":return"text-3xl";case"lg":return"text-4xl";default:return"text-xl"}});return(i,s)=>(re(),We(Yd(e.tag),{to:e.to,class:"flex items-center shrink-0 space-x-1","data-testid":"brand-logo"},{default:Ze(()=>[Z("img",{class:Vr(ve(n)),src:ve(pje),alt:"Mixo Logo"},null,10,hje),Z("span",{class:Vr(["font-sans font-extrabold text-slate-700 hidden sm:inline",ve(r)])}," Mixo ",2)]),_:1},8,["to"]))}},cK=Is(gje,[["__scopeId","data-v-cf0d12ff"]]),mje={class:"w-full bg-slate-50 border-t border-slate-200 xl:border-0 py-2 md:py-4 shadow-sm z-10"},vje={class:"flex items-center space-x-1 sm:space-x-2 md:space-x-4"},yje=Z("span",null,"Sites",-1),_je={class:"flex items-center space-x-1.5 sm:space-x-2 md:space-x-4 justify-end"},bje=Z("span",{class:"sr-only"},"Support",-1),wje={__name:"MainNav",props:{fullWidth:{type:Boolean,default:!0}},setup(e){const t=Ow(),n=lt("toggleSidebar");return(r,i)=>{const s=cK,o=fje,a=Uc,l=uK,u=rje;return re(),Le("div",mje,[Z("div",{class:Vr(["flex justify-between",{container:!e.fullWidth,"px-2 md:px-4":e.fullWidth}])},[Z("div",vje,[gr(r.$slots,"pre"),we(s),ve(t)?(re(),We(a,{key:0,theme:"brand-link",size:"sm",class:"p-0",to:"/sites"},{default:Ze(()=>[we(o,{class:"w-4 hidden sm:inline"}),yje]),_:1})):Xe("",!0),gr(r.$slots,"default")]),Z("div",_je,[gr(r.$slots,"meta"),we(a,{theme:"brand-link",size:"sm",class:"p-0",onClick:i[0]||(i[0]=c=>ve(n)())},{default:Ze(()=>[we(l,{class:"w-6 h-6 md:h-7 md:w-7"}),bje]),_:1}),(re(),We(iT,null,{default:Ze(()=>[we(u)]),_:1}))])],2)])}}},Eje=e=>{const t={clickToClose:!1,showClose:!0};return(r,i)=>{Bu({name:"auth",...t,...r},{default:{component:e,bind:{...i}}})}},$je={__name:"default",props:{error:{type:Object,default(){return{}}}},setup(e){const t=up();Xk({bodyAttrs:{class:"bg-slate-100"}});const n=is({...Cs,loader:()=>At(()=>import("./AuthForm-52e5a6a1.js"),[])});Kn("openAuthModal",Eje(n));const r=js(()=>{var i;return((i=t==null?void 0:t.meta)==null?void 0:i.container)!==!1});return(i,s)=>{var u;const o=wje,a=I8,l=Wu("RouterView");return re(),Le("main",null,[we(o),(u=e.error)!=null&&u.message?(re(),We(a,{key:0,title:e.error.message},null,8,["title"])):Xe("",!0),Z("div",{class:Vr(["py-4 md:py-6 lg:py-8",{container:ve(r)}])},[(re(),We(l,fa(i.$attrs,{key:i.$route.fullPath}),null,16))],2)])}}},Sje={404:()=>At(()=>import("./404-01b71abd.js"),[]),auth:()=>At(()=>import("./auth-eca8497c.js"),[]),blank:()=>At(()=>import("./blank-949620ae.js"),[]),default:$je,editor:()=>At(()=>import("./editor-791b6b2f.js"),[]),empty:()=>At(()=>import("./empty-ec9a4add.js"),[]),generator:()=>At(()=>import("./generator-87df0d36.js"),[])};function xje(e){return e.map(t=>{var n;return{path:t.path,meta:t.meta,component:Sje[((n=t.meta)==null?void 0:n.layout)||"default"],children:t.path==="/"?[t]:[{...t,path:""}]}})}const Tje=()=>{["/sites/preview","/sites/preview/"].includes(window.location.pathname)||Dn.init("odz3pmep",{environment:"production",version:"758a0a4ad93468160f24fe350a2c4dc83e8d41ab",networkRecording:{enabled:!0,recordHeadersAndBody:!0,urlBlocklist:["https://www.googleapis.com/identitytoolkit","https://securetoken.googleapis.com"]}})},Ije=(e,t,n)=>{var r=`Error in component: <${t.$options.name} />
`;n&&(r+=`Error occurred during lifecycle hook: ${n}
`);{if(/Async component timed out/.test(e==null?void 0:e.message))return;Dn.consumeError(e,r,{component:t.$options.name,propsData:t.$options.propsData,info:n})}},Cje={__name:"SupportLink",emits:["clicked"],setup(e,{emit:t}){const n=lt("isSidebarActive"),r=()=>{n.value=!0,t("clicked")};return(i,s)=>(re(),Le("button",{class:"default-link cursor-pointer","data-testid":"support-link",onClick:r},[gr(i.$slots,"default",{},()=>[En("contact support")])]))}},Aje={},kje={class:"bg-white z-50 h-screen w-screen"},Oje={class:"w-full bg-slate-100 py-2 md:py-4"},Pje={class:"flex justify-between px-2 md:px-4"},Rje={class:"flex items-center space-x-2 md:space-x-4"},Dje={class:"flex items-center space-x-2 md:space-x-4 justify-end"},Nje={class:"mt-10 flex flex-col items-center"},Mje={class:"lg:px-8 bg-slate-50 py-16 px-6 rounded-xl shadow"},Lje={class:"mx-auto max-w-2xl flex flex-col items-center space-y-10"},Fje=Z("h1",{class:"text-2xl font-extrabold leading-8 tracking-tight text-slate-900 sm:text-3xl sm:leading-9"}," We'll be right back  ",-1),Bje={class:"text-xl font-semibold leading-8 tracking-tight text-slate-700 sm:leading-9"};function Uje(e,t){const n=cK,r=Cje;return re(),Le("div",kje,[Z("div",Oje,[Z("div",Pje,[Z("div",Rje,[gr(e.$slots,"pre"),we(n),gr(e.$slots,"default")]),Z("div",Dje,[we(r,null,{default:Ze(()=>[En("Contact Support")]),_:1})])])]),Z("div",Nje,[Z("section",Mje,[Z("div",Lje,[Fje,Z("h2",Bje,[En(" Hi there, we're just working on some important updates and we'll be back online shortly. Please "),we(r,null,{default:Ze(()=>[En("reach out")]),_:1}),En(" if you have any issues or would like to be updated when we're back online. ")]),we(n)])])])])}const dK=Is(Aje,[["render",Uje]]),Vje=Object.freeze(Object.defineProperty({__proto__:null,default:dK},Symbol.toStringTag,{value:"Module"})),Hje={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},jje=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m15.062 12.506l-.284-.284l3.113-2.09a1.2 1.2 0 0 0-.309-2.228L4 4l3.904 13.563a1.2 1.2 0 0 0 2.228.308l2.09-3.093l1.278 1.278M19 22v.01M19 19a2.003 2.003 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"},null,-1),Wje=[jje];function qje(e,t){return re(),Le("svg",Hje,Wje)}const zje={name:"tabler-pointer-question",render:qje},Kje={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Gje=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 7a4 4 0 1 0 8 0a4 4 0 0 0-8 0M6 21v-2a4 4 0 0 1 4-4h3.5m5.5 7v.01M19 19a2.003 2.003 0 0 0 .914-3.782a1.98 1.98 0 0 0-2.414.483"},null,-1),Yje=[Gje];function Xje(e,t){return re(),Le("svg",Kje,Yje)}const Qje={name:"tabler-user-question",render:Xje},Jje={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},Zje=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"m12.395 18.218l-.23 2.369c-.091.952-.98 1.598-1.878 1.366c-1.351-.35-2.3-1.605-2.3-3.044v-3.035c0-.675 0-1.013-.146-1.26a1.018 1.018 0 0 0-.333-.345c-.24-.151-.567-.151-1.22-.151h-.396c-1.703 0-2.554 0-3.078-.39a2.073 2.073 0 0 1-.78-1.208c-.146-.65.181-1.463.836-3.087l.327-.81c.188-.468.265-.975.225-1.48c-.232-2.874 2.047-5.295 4.833-5.135l10.424.598c1.139.065 1.708.098 2.222.553c.515.455.612.924.805 1.861a14.317 14.317 0 0 1-.055 6.037c-.283 1.248-1.475 1.92-2.706 1.76c-3.264-.42-6.223 2.019-6.55 5.4Z"}),Z("path",{d:"m17 12.5l.137-.457c.887-2.956.84-6.115-.137-9.043"})],-1),e6e=[Zje];function t6e(e,t){return re(),Le("svg",Jje,e6e)}const n6e={name:"akar-icons-thumbs-down",render:t6e},r6e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},i6e=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"m11.605 5.782l.23-2.369c.091-.952.98-1.598 1.878-1.366c1.351.35 2.3 1.605 2.3 3.044v3.035c0 .675 0 1.013.146 1.26c.083.141.197.26.333.345c.24.151.567.151 1.22.151h.396c1.703 0 2.554 0 3.078.39c.393.293.67.722.78 1.208c.146.65-.181 1.463-.836 3.087l-.326.81a3.261 3.261 0 0 0-.226 1.48c.232 2.874-2.047 5.295-4.833 5.136l-10.424-.599c-1.139-.065-1.708-.098-2.222-.553c-.515-.455-.612-.924-.805-1.861a14.324 14.324 0 0 1 .055-6.037c.283-1.248 1.475-1.92 2.706-1.76c3.264.42 6.223-2.019 6.55-5.4Z"}),Z("path",{d:"m7 11.5l-.137.457A14.983 14.983 0 0 0 7 21"})],-1),s6e=[i6e];function o6e(e,t){return re(),Le("svg",r6e,s6e)}const a6e={name:"akar-icons-thumbs-up",render:o6e},l6e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},u6e=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9h8m-8 4h6m-1 5l-5 3v-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v5.5M19 16l-2 3h4l-2 3"},null,-1),c6e=[u6e];function d6e(e,t){return re(),Le("svg",l6e,c6e)}const fK={name:"tabler-message-bolt",render:d6e},f6e={key:0,class:"flex-row-center gap-2"},p6e={class:"text-slate-700 font-semibold w-72"},h6e={key:1,class:"space-y-4 max-h-full overflow-y-auto"},g6e=["innerHTML"],m6e={class:"flex flex-wrap gap-2"},v6e=Z("hr",null,null,-1),y6e={key:0,class:"flex-row-center gap-2 text-slate-500"},_6e=Z("p",{class:"italic text-xs"}," Was this response helpful / correct? ",-1),b6e={key:2,class:"text-xs text-teal-600"},w6e={__name:"AssistantMessages",props:{activeMessage:{type:Object,default(){return{}}},sendingFeedback:{type:Boolean,default:!1}},emits:["bad-feedback","button-click"],setup(e,{emit:t}){const n=e,[r]=Vu(!1),i=o=>o!=null&&o.label?o.label:{submitTicket:"Submit Ticket",refund:"Request Refund",paymentIssue:"Report Payment Issue"}[o==null?void 0:o.action],s=()=>{var o;t("bad-feedback",(o=n==null?void 0:n.activeMessage)==null?void 0:o.id)};return(o,a)=>{var p,h,g,m,v,y;const l=fK,u=Uc,c=a6e,d=n6e,f=Bc;return re(),Le("div",{key:(p=e.activeMessage)==null?void 0:p.id,class:"space-y-3 rounded-lg shadow-md ring-1 ring-slate-100 bg-white overflow-hidden p-4"},[(h=e.activeMessage)!=null&&h.user?(re(),Le("div",f6e,[we(l,{class:"w-6 h-6 text-slate-700"}),Z("p",p6e,gs((g=e.activeMessage)==null?void 0:g.user),1)])):Xe("",!0),(m=e.activeMessage)!=null&&m.assistant?(re(),Le("div",h6e,[Z("div",{class:"prose prose-slate",innerHTML:(v=e.activeMessage)==null?void 0:v.assistant},null,8,g6e),Z("div",m6e,[(re(!0),Le(pn,null,qu((y=e.activeMessage)==null?void 0:y.buttons,(b,_)=>(re(),We(u,{key:_,theme:"brand-primary",size:"xs",title:`${b==null?void 0:b.action} - ${b==null?void 0:b.link}`,onClick:S=>o.$emit("button-click",b)},{default:Ze(()=>[En(gs(i(b)),1)]),_:2},1032,["title","onClick"]))),128))]),v6e,!ve(r)&&!e.sendingFeedback?(re(),Le("div",y6e,[_6e,Z("button",{type:"button",class:"hover:text-primary",onClick:a[0]||(a[0]=b=>r.value=!0)},[we(c,{class:"w-3 h-3 md:w-3.5 md:h-3.5"})]),Z("button",{type:"button",class:"hover:text-primary",onClick:s},[we(d,{class:"w-3 h-3 md:w-3.5 md:h-3.5"})])])):Xe("",!0),e.sendingFeedback?(re(),We(f,{key:1,size:"sm",label:"Sending feedback..."})):Xe("",!0),ve(r)?(re(),Le("p",b6e," Feedback submitted! Thank you  ")):Xe("",!0)])):Xe("",!0)])}}};const E6e={class:"bg-slate-50 bg-opacity-90 overflow-hidden px-2 py-1 font-semibold text-sm text-slate-600"},$6e={__name:"MagicStatus",props:{animating:{type:Boolean,default:!0},label:{type:String,default:"Generating Page..."}},setup(e){return(t,n)=>(re(),Le("div",{class:Vr(["magic-status",{animating:e.animating}]),"data-testid":"magic-status"},[Z("div",E6e,[gr(t.$slots,"default",{},void 0,!0)])],2))}},S6e=Is($6e,[["__scopeId","data-v-6becd108"]]),x6e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},T6e=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"m7 12l5 5l-1.5 1.5a3.536 3.536 0 1 1-5-5L7 12zm10 0l-5-5l1.5-1.5a3.536 3.536 0 1 1 5 5L17 12zM3 21l2.5-2.5m13-13L21 3m-11 8l-2 2m5 1l-2 2"},null,-1),I6e=[T6e];function C6e(e,t){return re(),Le("svg",x6e,I6e)}const A6e={name:"tabler-plug-connected",render:C6e},k6e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},O6e=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2",d:"M8 9h8m-8 4h6m-1.646 7.646L12 21l-3-3H6a3 3 0 0 1-3-3V7a3 3 0 0 1 3-3h12a3 3 0 0 1 3 3v5.5M19 22v-6m3 3l-3-3l-3 3"},null,-1),P6e=[O6e];function R6e(e,t){return re(),Le("svg",k6e,P6e)}const D6e={name:"tabler-message2-up",render:R6e},N6e={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},M6e=Z("g",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"2"},[Z("path",{d:"M12 8v4l2 2"}),Z("path",{d:"M3.05 11a9 9 0 1 1 .5 4m-.5 5v-5h5"})],-1),L6e=[M6e];function F6e(e,t){return re(),Le("svg",N6e,L6e)}const B6e={name:"tabler-history",render:F6e};function hF(e,t){var n;const r=da();return Kt(()=>{r.value=e()},{...t,flush:(n=t==null?void 0:t.flush)!=null?n:"sync"}),xo(r)}function pK(e){return Yg()?(qx(e),!0):!1}function Gze(){const e=new Set,t=i=>{e.delete(i)};return{on:i=>{e.add(i);const s=()=>t(i);return pK(s),{off:s}},off:t,trigger:(...i)=>Promise.all(Array.from(e).map(s=>s(...i)))}}function il(e){return typeof e=="function"?e():ve(e)}const U6e=typeof window<"u"&&typeof document<"u";typeof WorkerGlobalScope<"u"&&globalThis instanceof WorkerGlobalScope;const V6e=Object.prototype.toString,Yze=e=>V6e.call(e)==="[object Object]",H6e=()=>{};function j6e(e,t){function n(...r){return new Promise((i,s)=>{Promise.resolve(e(()=>t.apply(this,r),{fn:t,thisArg:this,args:r})).then(i).catch(s)})}return n}const hK=e=>e();function W6e(e=hK){const t=ne(!0);function n(){t.value=!1}function r(){t.value=!0}const i=(...s)=>{t.value&&e(...s)};return{isActive:xo(t),pause:n,resume:r,eventFilter:i}}function gF(e,t=!1,n="Timeout"){return new Promise((r,i)=>{setTimeout(t?()=>i(n):r,e)})}function Xze(e,...t){return t.some(n=>n in e)}function q6e(e){return e||Pr()}function Qze(...e){if(e.length!==1)return Jx(...e);const t=e[0];return typeof t=="function"?xo(jF(()=>({get:t,set:H6e}))):ne(t)}function z6e(e,t,n={}){const{eventFilter:r=hK,...i}=n;return xt(e,j6e(r,t),i)}function Jze(e,t,n={}){const{eventFilter:r,...i}=n,{eventFilter:s,pause:o,resume:a,isActive:l}=W6e(r);return{stop:z6e(e,t,{...i,eventFilter:s}),pause:o,resume:a,isActive:l}}function Zze(e,t=!0,n){q6e()?Qt(e,n):t?e():qn(e)}function Fx(e,t=!1){function n(d,{flush:f="sync",deep:p=!1,timeout:h,throwOnTimeout:g}={}){let m=null;const y=[new Promise(b=>{m=xt(e,_=>{d(_)!==t&&(m==null||m(),b(_))},{flush:f,deep:p,immediate:!0})})];return h!=null&&y.push(gF(h,g).then(()=>il(e)).finally(()=>m==null?void 0:m())),Promise.race(y)}function r(d,f){if(!hn(d))return n(_=>_===d,f);const{flush:p="sync",deep:h=!1,timeout:g,throwOnTimeout:m}=f??{};let v=null;const b=[new Promise(_=>{v=xt([e,d],([S,I])=>{t!==(S===I)&&(v==null||v(),_(S))},{flush:p,deep:h,immediate:!0})})];return g!=null&&b.push(gF(g,m).then(()=>il(e)).finally(()=>(v==null||v(),il(e)))),Promise.race(b)}function i(d){return n(f=>!!f,d)}function s(d){return r(null,d)}function o(d){return r(void 0,d)}function a(d){return n(Number.isNaN,d)}function l(d,f){return n(p=>{const h=Array.from(p);return h.includes(d)||h.includes(il(d))},f)}function u(d){return c(1,d)}function c(d=1,f){let p=-1;return n(()=>(p+=1,p>=d),f)}return Array.isArray(il(e))?{toMatch:n,toContains:l,changed:u,changedTimes:c,get not(){return Fx(e,!t)}}:{toMatch:n,toBe:r,toBeTruthy:i,toBeNull:s,toBeNaN:a,toBeUndefined:o,changed:u,changedTimes:c,get not(){return Fx(e,!t)}}}function e8e(e){return Fx(e)}function t8e(e,t,n={}){const{immediate:r=!0}=n,i=ne(!1);let s=null;function o(){s&&(clearTimeout(s),s=null)}function a(){i.value=!1,o()}function l(...u){o(),i.value=!0,s=setTimeout(()=>{i.value=!1,s=null,e(...u)},il(t))}return r&&(i.value=!0,U6e&&l()),pK(a),{isPending:xo(i),start:l,stop:a}}function n8e(e=!1,t={}){const{truthyValue:n=!0,falsyValue:r=!1}=t,i=hn(e),s=ne(e);function o(a){if(arguments.length)return s.value=a,s.value;{const l=il(n);return s.value=s.value===l?il(r):l,s.value}}return i?o:[s,o]}const K6e={name:"UiHeading",props:{level:{default:1,type:Number,validator(e){return["h1","h2","h3","h4","h5","h6"].includes(`h${e}`)}},preIconClass:{type:String,default:""},size:{default:null,type:Number},tag:{default:null,type:String},textColorClass:{type:String,default:"text-slate-700"}},setup(e){const t=hF(()=>{switch(e.size||e.level){case 1:return{"font-black text-3xl sm:text-4xl md:text-5xl":!0};case 2:return{"font-bold text-2xl sm:text-3xl md:text-4xl":!0};case 3:return{"font-semibold text-xl sm:text-2xl md:text-3xl":!0};case 4:return{"font-semibold text-xl sm:text-xl md:text-2xl":!0};case 5:return{"font-semibold text-base md:text-lg":!0};case 6:return{"font-semibold text-sm md:text-base":!0};default:return{}}});return{classObject:hF(()=>({...t.value,[e.textColorClass]:!0}))}}},G6e={class:"flex-1"};function Y6e(e,t,n,r,i,s){return re(),We(Yd(n.tag||`h${n.level}`),{class:Vr(["leading-tight tracking-tight inline-flex items-center space-x-2",r.classObject]),"data-testid":"ui-heading"},{default:Ze(()=>[gr(e.$slots,"icon"),Z("span",G6e,[gr(e.$slots,"default")])]),_:3},8,["class"])}const X6e=Is(K6e,[["render",Y6e]]),Q6e={class:"space-y-2"},J6e={class:"space-y-4 max-h-28 overflow-auto bg-slate-100 ring-1 ring-slate-200 p-3 rounded-lg"},Z6e=["title","onClick"],eWe={class:"text-left"},tWe={__name:"AssistantHistory",props:{messages:{type:Array,default(){return[]}}},emits:["select-message"],setup(e,{emit:t}){const n=e,r=js(()=>n.messages.filter(s=>k(s))),i=s=>{t("select-message",s==null?void 0:s.id)};return(s,o)=>{const a=X6e,l=B6e;return re(),Le("div",Q6e,[we(a,{level:6},{default:Ze(()=>[En(" Previous Questions ")]),_:1}),Z("div",J6e,[(re(!0),Le(pn,null,qu(ve(r),(u,c)=>(re(),Le("button",{key:(u==null?void 0:u.id)||c,type:"button",class:"flex-row-center gap-1 text-sm text-slate-700 hover:text-brand-primary w-80",title:u==null?void 0:u.user,onClick:d=>i(u)},[Z("div",null,[we(l,{class:"w-4 h-4"})]),Z("div",eWe,gs(u==null?void 0:u.user),1)],8,Z6e))),128))])])}}},nWe=async(e,t=null,n=null)=>{const r=uC(rA,"assistant",e);return Zoe(r,t,n)},rWe=async(e,t)=>{const n=uC(rA,"assistant",e);let i=(await Qoe(n)).data(),s=i==null?void 0:i.messages,o=s.findIndex(a=>a.id===t);return o!==-1&&(s[o].flaggedByUser=!0),i.messages=s,await Joe(n,i)},iWe=async(e,t=!1,n)=>{const i={prompt:e,mode:t?"reply":"new"};return n&&(i.url=n),Bk("askAssistant",i)},r8e=async(e,t={})=>{try{return Bk("submitTicket",{ticket:e,options:t})}catch{throw Error("Failed to submit ticket. If this issue persists, please email support directly on contact@mixo.io")}},sWe={errors:[]},oWe=X5e({id:"assistant",predictableActionArguments:!0,initial:"idle",context:{...sWe},invoke:{src:"subscribeToAssistant",onError:{actions:(e,t)=>{console.log(t)}}},states:{idle:{on:{ASSISTANT_SNAPSHOT:{actions:["setAssistantData","setAssistantMessages","setActiveMessage"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},ASK_ASSISTANT:{target:"asking"},BAD_FEEDBACK_RECEIVED:{target:"sendingFeedback"},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},asking:{invoke:{src:"askAssistant"},on:{ASSISTANT_SNAPSHOT:{target:"idle",actions:["setAssistantData","setAssistantMessages","setActiveMessage"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},error:{on:{ASSISTANT_SNAPSHOT:{target:"idle",actions:["setAssistantData","setAssistantMessages","setActiveMessage","resetErrors"]},ASSISTANT_SNAPSHOT_FAILED:{target:"error",actions:["assignErrors","trackErrors"]},ASK_ASSISTANT:{target:"asking"},SELECT_MESSAGE:{target:"idle",actions:["setActiveMessage"]}}},sendingFeedback:{invoke:{src:"flagAssistantMessage",onError:{target:"error",actions:["assignErrors","trackErrors"]},onDone:{target:"idle",actions:[{type:"showToast",message:"Feedback submitted. Thank you ",toastType:"success",toastOptions:{duration:5e3,dismissible:!0}}]}}}}},{actions:{...LUe,setAssistantData:qd({assistantData:(e,{assistantData:t})=>t}),setActiveMessage:qd({activeMessage:({assistantData:e},{id:t})=>{var n,r;return t?(r=e==null?void 0:e.messages)==null?void 0:r.find(i=>i.id===t):(n=e==null?void 0:e.messages)==null?void 0:n[0]}}),setAssistantMessages:qd({messages:(e,{assistantData:t})=>{const n=(t==null?void 0:t.messages)||[];return n.forEach(r=>{var i,s;r.assistant=(i=r==null?void 0:r.assistant)==null?void 0:i.replace(/\n/g,"<br />"),r.assistant=(s=r==null?void 0:r.assistant)==null?void 0:s.replace(/\[(.*?)\]\((.*?)\)/g,'<a href="$2" target="_blank">$1</a>')}),n.reverse()}})},services:{flagAssistantMessage:(e,{messageId:t})=>{var n;if(!(zr!=null&&zr.currentUser))throw new Error("Please sign in to use the assistant");return rWe((n=zr==null?void 0:zr.currentUser)==null?void 0:n.uid,t)},subscribeToAssistant:()=>async e=>{var i;if(!(zr!=null&&zr.currentUser)){e({type:"UNAUTHENTICATED",errorMessage:"Please sign in to use the assistant"});return}const t=s=>{if(s.exists()){const o=s==null?void 0:s.data();e({type:"ASSISTANT_SNAPSHOT",assistantData:o})}else e({type:"ASSISTANT_SNAPSHOT_FAILED",errorMessage:"Assistant data not found"})},n=s=>{(s==null?void 0:s.code)==="permission-denied"?fr.warn("Assistant data subscription failed as permission was denied"):e({type:"ASSISTANT_SNAPSHOT_FAILED",errorMessage:"Assistant data not found"})},r=await nWe((i=zr==null?void 0:zr.currentUser)==null?void 0:i.uid,t,n);return()=>r()},askAssistant:({assistantData:e},{input:t,url:n})=>{var r;return iWe(t,((r=e==null?void 0:e.messages)==null?void 0:r.length)>0,n)}}}),aWe={key:0,class:"assistant space-y-6","data-testid":"assistant"},lWe={class:"flex-row-center gap-2"},uWe={class:"flex flex-wrap items-center justify-between text-sm"},cWe={class:"text-slate-500 flex gap-1"},dWe=Z("span",null,[En("Press "),Z("span",{class:"font-semibold"},"Enter"),En(" to ask")],-1),fWe=Z("span",null,"Powered by Mixo AI",-1),pWe={key:1,class:"text-sm text-slate-500 italic"},hWe={key:0,class:"flex-row-center gap-3 p-4 text-lg"},gWe=Z("p",null," Sending Question ",-1),mWe={key:1,class:"flex-row-center gap-3 p-4 text-lg"},vWe=Z("p",null," Support Responding ",-1),yWe={key:2,class:"flex-row-center gap-3 p-4 text-lg"},_We=Z("p",null," Connecting to Support ",-1),bWe={key:1},wWe={__name:"Assistant",setup(e){const t=is({...Cs,loader:()=>At(()=>import("./SupportForm-e327e1fb.js"),["assets/SupportForm-e327e1fb.js","assets/UiCard-e0dc4231.js"])}),n=lt("$toast"),{state:r,send:i}=FUe(oWe,"Assistant",{context:{toast:n}}),s=ne(""),o=ne(""),a=BE(r,"messages",[]),l=BE(r,"activeMessage"),u=BE(r,"assistantData.status"),[c]=Vu(!1),[d,f]=Vu(!1),[p,h]=Vu(!1),g=up(),m=Ow(),v=w=>{s.value="",i("ASK_ASSISTANT",{input:w.input,url:g.path})},y=w=>{c.value=!0,o.value=w},b=w=>{if((w==null?void 0:w.action)==="loadLink"){window.open(w==null?void 0:w.link,"_blank");return}y(w==null?void 0:w.type)},_=w=>{i("BAD_FEEDBACK_RECEIVED",{messageId:w})},S=()=>{c.value=!1,o.value=""},I=()=>{c.value=!1,o.value=""},T=w=>{i("SELECT_MESSAGE",{id:w}),d.value=!1};return(w,x)=>{var Ie,ft;const E=Wu("FormKit"),O=n5,M=tWe,V=D6e,H=fK,me=A6e,ce=S6e,ae=w6e,xe=Uc;return ve(m)?(re(),Le("div",aWe,[ve(c)?Xe("",!0):(re(),We(E,{key:0,type:"form",actions:!1,disabled:["ask","responding"].includes(ve(u)),"form-class":"!space-y-1",onSubmit:v},{default:Ze(()=>{var Ye;return[Z("div",lWe,[we(E,{modelValue:ve(s),"onUpdate:modelValue":x[0]||(x[0]=St=>hn(s)?s.value=St:null),type:"text",name:"input",label:"Ask your question here",placeholder:"How can we help?",required:"","outer-class":"flex-1 !mb-0"},null,8,["modelValue"])]),Z("div",uWe,[Z("p",cWe,[dWe,Z("button",{type:"button",class:"default-link text-xs italic flex-row-center gap-1",onClick:x[1]||(x[1]=St=>ve(h)())},[we(O),fWe])]),(Ye=ve(a))!=null&&Ye.length&&!["ask","responding"].includes(ve(u))?(re(),Le("button",{key:0,type:"button",class:"default-link",onClick:x[2]||(x[2]=St=>ve(f)())},gs(ve(d)?"Hide":"Show")+" history ",1)):Xe("",!0)])]}),_:1},8,["disabled"])),ve(p)?(re(),Le("p",pWe," Mixo's support is powered by AI to assist you in finding the right answer to your question. We recommend using it alongside our documentation for optimal results. Be aware that the AI is still in beta and can occasionally make suggestions which may not be optimal / not true. ")):Xe("",!0),ve(d)&&!ve(c)?(re(),We(M,{key:2,messages:ve(a),onSelectMessage:T},null,8,["messages"])):Xe("",!0),["ask","responding"].includes(ve(u))||ve(r).matches("asking")?(re(),We(ce,{key:3,animating:!0},{default:Ze(()=>[["ask"].includes(ve(u))?(re(),Le("div",hWe,[we(V),gWe])):["responding"].includes(ve(u))?(re(),Le("div",mWe,[we(H),vWe])):(re(),Le("div",yWe,[we(me),_We]))]),_:1})):Xe("",!0),!ve(c)&&((Ie=ve(l))!=null&&Ie.user)&&((ft=ve(l))!=null&&ft.assistant)&&!ve(r).matches("asking")?(re(),We(ae,{key:4,"active-message":ve(l),"sending-feedback":ve(r).matches("sendingFeedback"),onButtonClick:b,onBadFeedback:_},null,8,["active-message","sending-feedback"])):Xe("",!0),(re(),We(iT,null,{default:Ze(()=>{var Ye;return[ve(c)?(re(),We(ve(t),{key:0,type:ve(o),"assistant-message":ve(l),message:(Ye=ve(l))==null?void 0:Ye.user,"show-type":!0,onClose:S,onSubmit:I},null,8,["type","assistant-message","message"])):Xe("",!0)]}),_:1}))])):(re(),Le("div",bWe,[we(xe,{theme:"brand-link",href:"login"},{default:Ze(()=>[En(" Sign up or Login ")]),_:1}),En(" to access Mixo's support options ")]))}}},EWe={viewBox:"0 0 24 24",width:"1.2em",height:"1.2em"},$We=Z("path",{fill:"none",stroke:"currentColor","stroke-linecap":"round","stroke-linejoin":"round","stroke-width":"1.5",d:"M6 18L18 6M6 6l12 12"},null,-1),SWe=[$We];function xWe(e,t){return re(),Le("svg",EWe,SWe)}const TWe={name:"heroicons-x-mark",render:xWe};function Bx(e){"@babel/helpers - typeof";return Bx=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},Bx(e)}function Qk(e,t){if(t.length<e)throw new TypeError(e+" argument"+(e>1?"s":"")+" required, but only "+t.length+" present")}function IWe(e){Qk(1,arguments);var t=Object.prototype.toString.call(e);return e instanceof Date||Bx(e)==="object"&&t==="[object Date]"?new Date(e.getTime()):typeof e=="number"||t==="[object Number]"?new Date(e):((typeof e=="string"||t==="[object String]")&&typeof console<"u"&&(console.warn("Starting with v2.0.0-beta.1 date-fns doesn't accept strings as date arguments. Please use `parseISO` to parse strings. See: https://github.com/date-fns/date-fns/blob/master/docs/upgradeGuide.md#string-arguments"),console.warn(new Error().stack)),new Date(NaN))}function mF(e){var t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),e.getTime()-t.getTime()}function vF(e){Qk(1,arguments);var t=IWe(e);return t.setHours(0,0,0,0),t}var CWe=864e5;function AWe(e,t){Qk(2,arguments);var n=vF(e),r=vF(t),i=n.getTime()-mF(n),s=r.getTime()-mF(r);return Math.round((i-s)/CWe)}const kWe=Z("div",{class:"fixed inset-0"},null,-1),OWe={class:"fixed inset-0 overflow-hidden"},PWe={class:"absolute inset-0 overflow-hidden"},RWe={class:"pointer-events-none fixed inset-y-0 right-0 flex max-w-full sm:pl-10"},DWe={class:"flex h-full flex-col overflow-y-scroll bg-slate-50 py-6 shadow-xl border-l border-slate-200"},NWe={class:"px-4 sm:px-6"},MWe={class:"flex items-start justify-between"},LWe={class:"ml-3 flex h-7 items-center"},FWe=Z("span",{class:"sr-only"},"Close panel",-1),BWe={class:"relative mt-6 flex-1 px-4 sm:px-6"},UWe={class:"flex flex-col items-start gap-4 mt-8"},VWe=Z("hr",{class:"h-px bg-gray-200 border-0 w-full rounded-full"},null,-1),HWe={href:"https://www.mixo.io/help",target:"_blank",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},jWe=Z("span",null,"Help & Documentation",-1),WWe={href:"/support/submit",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},qWe=Z("span",null,"Report a Bug or Issue",-1),zWe={href:"https://feedback.mixo.io",target:"_blank",class:"flex-row-center gap-x-2 text-slate-600 hover:text-brand-primary"},KWe=Z("span",null,"Submit Feature Request",-1),gK={__name:"Sidebar",emits:["close"],setup(e,{emit:t}){AWe(new Date,new Date(2023,9,1,0,0));const n=lt("isSidebarActive"),r=()=>{t("close")};return(i,s)=>{const o=TWe,a=wWe,l=uK,u=Qje,c=zje;return re(),We(ve(P5),{as:"template",show:ve(n)},{default:Ze(()=>[we(ve(HX),{as:"div",class:"relative z-10",onClose:r},{default:Ze(()=>[kWe,Z("div",OWe,[Z("div",PWe,[Z("div",RWe,[we(ve(O5),{as:"template",enter:"transform transition ease-in-out duration-500 sm:duration-700","enter-from":"translate-x-full","enter-to":"translate-x-0",leave:"transform transition ease-in-out duration-500 sm:duration-700","leave-from":"translate-x-0","leave-to":"translate-x-full"},{default:Ze(()=>[we(ve(jX),{class:"pointer-events-auto w-screen max-w-md"},{default:Ze(()=>[Z("div",DWe,[Z("div",NWe,[Z("div",MWe,[we(ve(WX),{class:"text-lg md:text-xl font-bold leading-6 text-gray-700"},{default:Ze(()=>[En(" Customer Support ")]),_:1}),Z("div",LWe,[Z("button",{type:"button",class:"rounded-md text-gray-400 hover:text-gray-500 focus:outline-none focus:ring-2 focus:ring-brand-primary focus:ring-offset-2 focus:bg-white",onClick:r},[FWe,we(o,{class:"h-6 w-6","aria-hidden":"true"})])])])]),Z("div",BWe,[we(a),Z("div",UWe,[VWe,Z("a",HWe,[we(l),jWe]),Z("a",WWe,[we(u),qWe]),Z("a",zWe,[we(c),KWe])])])])]),_:1})]),_:1})])])])]),_:1})]),_:1},8,["show"])}}},GWe=Object.freeze(Object.defineProperty({__proto__:null,default:gK},Symbol.toStringTag,{value:"Module"})),YWe={key:0,class:"text-center p-1 md:py-3 bg-yellow-100 text-xs sm:text-sm text-yellow-700 border-b border-yellow-200","data-testid":"email-verification"},XWe=["disabled"],mK={__name:"EmailVerification",setup(e){const t=lt("$toast"),n=up(),r=js(()=>(n==null?void 0:n.name)==="sites-preview"||(n==null?void 0:n.path)==="/sites/preview"),i=Ow(),s=js(()=>r!=null&&r.value||n!=null&&n.path.includes("ai-website-builder")?!0:NBe(i.value)),o=js(()=>{var d;return(d=i.value)==null?void 0:d.email}),[a,l]=Vu(!1),u=async()=>{l();try{await Ece(zr.currentUser),t==null||t.open({message:"Please check your email to verify your account ",type:"success",dismissible:!0})}catch(d){fr.error(d),t==null||t.open({message:"Sorry there was an error sending the verification email. Please contact <a href='https://app.mixo.io/support'>support</a>.",type:"error",dismissible:!0,duration:0})}finally{a.value=!1}},c=()=>{location.reload()};return(d,f)=>ve(s)?Xe("",!0):(re(),Le("div",YWe,[En(" We have sent a verification email"+gs(ve(o)?` to ${ve(o)}`:"")+". Please click the link in the email to verify your email address. If you have already verified your email, please ",1),Z("button",{type:"button",class:"text-blue-500 underline",onClick:c}," refresh "),En(" the page. If you didn't receive the email, please check your spam folder or "),Z("button",{type:"button",class:"text-blue-500 underline",disabled:ve(a),onClick:u},gs(ve(a)?"sending...":"resend the email"),9,XWe),En(". ")]))}},QWe=Object.freeze(Object.defineProperty({__proto__:null,default:mK},Symbol.toStringTag,{value:"Module"})),JWe=is({...Cs,loader:()=>At(()=>Promise.resolve().then(()=>Vje),void 0)}),ZWe=is({...Cs,loader:()=>At(()=>Promise.resolve().then(()=>GWe),void 0)}),e9e=is({...Cs,loader:()=>At(()=>Promise.resolve().then(()=>QWe),void 0)}),t9e={name:"App",components:{ModalsContainer:Q8},setup(){const e=up(),[t,n]=Vu(!1);Kn("isSidebarActive",t),Kn("toggleSidebar",n);const r=ne([{children:`
            (function (w, r) { w._rwq = r; w[r] = w[r] || function () { (w[r].q = w[r].q || []).push(arguments) } })(window, 'rewardful');

            (function(){
              let referral_url = new URL(window.location.href);
              if (referral_url.searchParams.has('gclid') && referral_url.searchParams.has('via')) {
                setTimeout(function(){
                  document.cookie = "rewardful.referral=; expires=Thu, 01 Jan 1970 00:00:00 UTC; path=/; domain=.mixo.io; Secure; SameSite=None; Priority=Medium";
                  console.warn("Deleted referral cookie as visit came from Google Ads (forbidden by Terms of Service)")
                }, 2000)
              }
            })();
          `},{src:"https://r.wdfl.co/rw.js",async:!0,"data-rewardful":"35dd66"}]),i=js(()=>(e==null?void 0:e.name)==="sites-preview"||(e==null?void 0:e.path)==="/sites/preview");i!=null&&i.value&&(r.value=[]),Xk({title:"Home",titleTemplate:"Mixo | %s",meta:[{name:"description",content:"Generate a websites and launch online in seconds with the world's fastest AI website builder."},{name:"theme-color",content:"#f1f5f9"},{name:"og:title",content:"Mixo"},{name:"og:url",content:e.path},{name:"twitter:url",content:e.path},{name:"og:site_name",content:"Mixo"},{name:"og:type",content:"website"},{name:"og:description",content:"Generate a websites and launch online in seconds with the world's fastest AI website builder."},{name:"og:image",content:"https://storage.googleapis.com/mixo-sites/images/file-2ea8702c-b5e0-4026-80fc-d60d790bb5b0.png"},{name:"og:image:alt",content:"Mixo.io"},{name:"twitter:title",content:"Mixo"},{name:"twitter:description",content:"AI-powered page builder to launch and validate your startup ideas."},{name:"twitter:card",content:"summary_large_image"},{name:"twitter:image:src",content:"https://storage.googleapis.com/mixo-sites/images/file-2ea8702c-b5e0-4026-80fc-d60d790bb5b0.png"}],link:[{rel:"icon",type:"image/svg+xml",href:Ae(()=>"/favicon.svg")}],htmlAttrs:{class:""},script:r});const s=!1,o=typeof window<"u"&&(window==null?void 0:window.localStorage.getItem("mixo-admin"))==="true",a=TUe();return{EmailVerification:e9e,isPreviewRoute:i,isSidebarActive:t,network:a,Maintenance:JWe,Sidebar:ZWe,MAINTENANCE_MODE:s,MIXO_ADMIN:o}}},n9e={key:0,class:"text-center p-1 md:py-3 bg-red-100 text-sm text-red-800 border-b border-red-200"};function r9e(e,t,n,r,i,s){var d,f;const o=mK,a=Wu("ModalsContainer"),l=gK,u=dK,c=Wu("RouterView");return re(),Le(pn,null,[(f=(d=r.network)==null?void 0:d.isOnline)!=null&&f.value?Xe("",!0):(re(),Le("div",n9e," It looks like you're not connected to the internet. Please reconnect before continuing. ")),we(o),we(a),r.isPreviewRoute?Xe("",!0):(re(),We(l,{key:1,onClose:t[0]||(t[0]=p=>r.isSidebarActive=!1)})),r.MAINTENANCE_MODE&&!r.MIXO_ADMIN?(re(),We(u,{key:2})):(re(),We(c,{key:3,class:Vr(r.isSidebarActive?"opacity-70":"")},null,8,["class"]))],64)}const i9e=Is(t9e,[["render",r9e]]),s9e={__name:"index",setup(e){const t=up(),n=Rk();return Qt(async()=>{let r="/ai-website-builder";const i=await kk(),s=t.path==="/ai-website-builder";i&&!s&&(r="/sites"),n.push({path:r})}),(r,i)=>{const s=Bc,o=x8;return re(),We(o,null,{default:Ze(()=>[we(s)]),_:1})}}},o9e=()=>At(()=>import("./submit-9a9c9a69.js"),["assets/submit-9a9c9a69.js","assets/SupportForm-e327e1fb.js","assets/UiCard-e0dc4231.js"]),a9e=()=>At(()=>import("./index-f93eb1d1.js"),["assets/index-f93eb1d1.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css"]),l9e=()=>At(()=>import("./preview-a2b3d9a2.js").then(e=>e.p),["assets/preview-a2b3d9a2.js","assets/mediaQueries-d2f0f2a6.js","assets/route-block-83d24a4e.js","assets/preview-f0b65ea4.css"]),zE=()=>At(()=>import("./new-6a53a105.js"),["assets/new-6a53a105.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css","assets/MarketingQuote-fbf525a2.js","assets/star-445ad0ce.js","assets/check-3cc045dc.js","assets/PlanSelector-a2bf851d.js","assets/circle-check-filled-6f67c410.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/switch-7a7b90fb.js","assets/AnimatedLoader-f41ada9f.js","assets/DomainSettingsButton-376d972c.js","assets/AnimatedLoader-b914f61a.css","assets/save24-filled-1303ae36.js","assets/route-block-83d24a4e.js","assets/new-4f8db854.css"]),u9e=()=>At(()=>import("./index-d4d9e08d.js"),["assets/index-d4d9e08d.js","assets/sites-machine-fd0ec5f0.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/trash-x-filled-c1a48d6a.js","assets/rocket-0acd4cc9.js","assets/mediaQueries-d2f0f2a6.js","assets/route-block-83d24a4e.js","assets/index-7140c220.css"]),c9e=()=>At(()=>import("./blank-d646d65b.js"),["assets/blank-d646d65b.js","assets/SiteEditor-f01fdb6c.js","assets/AnimatedLoader-f41ada9f.js","assets/DomainSettingsButton-376d972c.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css","assets/AnimatedLoader-b914f61a.css","assets/external-link-95d7aa13.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/site-machine-85aa4cac.js","assets/libraries-f7478571.js","assets/helpers-7cfbe709.js","assets/libraries-2a34bc67.css","assets/trash-x-filled-c1a48d6a.js","assets/plugins-98ed0274.js","assets/switch-7a7b90fb.js","assets/rocket-0acd4cc9.js","assets/mediaQueries-d2f0f2a6.js","assets/SiteEditor-ae7ab5a1.css","assets/sites-machine-fd0ec5f0.js","assets/route-block-83d24a4e.js","assets/blank-363d7d50.css"]),d9e=()=>At(()=>import("./success-2a313e96.js"),["assets/success-2a313e96.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css"]),f9e=()=>At(()=>import("./partner-7f4a5209.js"),["assets/partner-7f4a5209.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css"]),p9e=()=>At(()=>import("./pricing-e7d352bb.js"),["assets/pricing-e7d352bb.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css","assets/MarketingQuote-fbf525a2.js","assets/star-445ad0ce.js","assets/PlanSelector-a2bf851d.js","assets/circle-check-filled-6f67c410.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/switch-7a7b90fb.js"]),h9e=()=>At(()=>import("./logout-5c731b7c.js"),[]),g9e=()=>At(()=>import("./login-9c2fea2f.js"),["assets/login-9c2fea2f.js","assets/AuthForm-52e5a6a1.js","assets/route-block-83d24a4e.js"]),m9e=()=>At(()=>import("./account-7f333363.js"),["assets/account-7f333363.js","assets/UiCard-e0dc4231.js","assets/trash-x-filled-c1a48d6a.js","assets/sites-4ce521e7.js","assets/mediaQueries-d2f0f2a6.js","assets/route-block-83d24a4e.js"]),v9e=()=>At(()=>import("./_...all_-a9b4aa21.js"),["assets/_...all_-a9b4aa21.js","assets/route-block-83d24a4e.js"]),y9e=()=>At(()=>import("./edit-cdb2cd97.js"),["assets/edit-cdb2cd97.js","assets/SiteEditor-f01fdb6c.js","assets/AnimatedLoader-f41ada9f.js","assets/DomainSettingsButton-376d972c.js","assets/MagicWrap-b8cea90d.js","assets/MagicWrap-edb6011e.css","assets/AnimatedLoader-b914f61a.css","assets/external-link-95d7aa13.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/site-machine-85aa4cac.js","assets/libraries-f7478571.js","assets/helpers-7cfbe709.js","assets/libraries-2a34bc67.css","assets/trash-x-filled-c1a48d6a.js","assets/plugins-98ed0274.js","assets/switch-7a7b90fb.js","assets/rocket-0acd4cc9.js","assets/mediaQueries-d2f0f2a6.js","assets/SiteEditor-ae7ab5a1.css","assets/route-block-83d24a4e.js"]),_9e=()=>At(()=>import("./index-5a69c7fd.js"),["assets/index-5a69c7fd.js","assets/UiCard-e0dc4231.js","assets/sites-4872b2d4.js","assets/sites-4ce521e7.js","assets/media-a5bc1cc2.js","assets/index-ff27ab17.js","assets/rocket-0acd4cc9.js","assets/site-machine-85aa4cac.js","assets/DomainSettingsButton-376d972c.js","assets/external-link-95d7aa13.js","assets/edit16-filled-2bb5cef4.js","assets/mediaQueries-d2f0f2a6.js"]),b9e=[{name:"support-submit",path:"/support/submit",component:o9e,props:!0,meta:{requiresAuth:!0}},{name:"support",path:"/support",component:a9e,props:!0},{name:"sites-preview",path:"/sites/preview",component:l9e,props:!0,meta:{layout:"empty"}},{name:"generator",path:"/sites/new",component:zE,props:!0,meta:{layout:"generator",requiresAuth:!1,container:!1},alias:["/ai-website-builder"],children:[{name:"idea",path:"/ai-website-builder/idea/:id",component:zE},{name:"site",path:"/ai-website-builder/site/:id",component:zE,meta:{requiresAuth:!0}}]},{name:"sites",path:"/sites",component:u9e,props:!0,meta:{requiresAuth:!0,layout:"default",container:!1}},{name:"sites-blank",path:"/sites/blank",component:c9e,props:!0,meta:{requiresAuth:!0,layout:"editor"}},{name:"checkout-success",path:"/checkout/success",component:d9e,props:!0,meta:{requiresAuth:!0}},{name:"checkout-partner",path:"/checkout/partner",component:f9e,props:!0,meta:{requiresAuth:!0}},{name:"pricing",path:"/pricing",component:p9e,props:!0},{name:"logout",path:"/logout",component:h9e,props:!0},{name:"login",path:"/login",component:g9e,props:!0,meta:{layout:"auth"}},{name:"index",path:"/",component:s9e,props:!0},{name:"account",path:"/account",component:m9e,props:!0,meta:{requiresAuth:!0,layout:"default",container:!1}},{name:"not-found",path:"/:all(.*)*",component:v9e,props:!0,meta:{requiresAuth:!1,layout:404}},{name:"sites-id-edit",path:"/sites/:id/edit",component:y9e,props:!0,meta:{requiresAuth:!0,layout:"editor"}},{name:"sites-id",path:"/sites/:id",component:_9e,props:!0,meta:{requiresAuth:!0}}];const Ym=_T(i9e),w9e=xje(b9e),Bh=RBe({history:YFe("/"),routes:w9e});Bh==null||Bh.beforeEach(async e=>{var t;if((t=e==null?void 0:e.meta)!=null&&t.requiresAuth&&!await kk())return{path:"/login",query:{redirect:e.fullPath}}});Ym.use(Bh);Tje();Ym.config.errorHandler=Ije;const E9e=NHe();Ym.use(E9e);Object.values(Object.assign({"./modules/directives.js":sJ,"./modules/firebase.js":mfe,"./modules/formkit.js":X3e,"./modules/mixpanel.js":Z3e,"./modules/nprogress.js":nVe,"./modules/pwa.js":iVe,"./modules/vue-final-modal.js":jVe,"./modules/vue-fire.js":qVe,"./modules/vue-toast-notification.js":mQ})).forEach(e=>{var t;return(t=e.install)==null?void 0:t.call(e,{app:Ym,router:Bh})});Ym.mount("#app");export{vT as $,pK as A,da as B,t8e as C,Qze as D,il as E,U6e as F,Kt as G,Zze as H,Xze as I,e8e as J,Pr as K,Qt as L,Jze as M,qn as N,Gze as O,H6e as P,Yze as Q,hF as R,iT as S,mn as T,cG as U,Xt as V,Is as W,Wy as X,Gy as Y,gs as Z,At as _,Eje as a,js as a$,Vr as a0,Ja as a1,qs as a2,pn as a3,lt as a4,ur as a5,SB as a6,Wi as a7,gr as a8,qu as a9,$9e as aA,Yu as aB,Dr as aC,l5 as aD,x9e as aE,kn as aF,Xs as aG,ps as aH,Cr as aI,Xh as aJ,hze as aK,x8 as aL,X6e as aM,Ow as aN,Oze as aO,Pze as aP,XX as aQ,QX as aR,Gu as aS,JX as aT,lv as aU,n5 as aV,gze as aW,Wze as aX,uk as aY,V6 as aZ,Vu as a_,n8e as aa,Vl as ab,tG as ac,Yh as ad,tT as ae,nT as af,Yd as ag,T8 as ah,X5e as ai,qd as aj,s5 as ak,Eke as al,OUe as am,fr as an,pQ as ao,Rk as ap,FUe as aq,BE as ar,Ws as as,Gi as at,RX as au,Rt as av,f5 as aw,pX as ax,ke as ay,Jd as az,we as b,el as b$,UY as b0,UBe as b1,Nze as b2,Bk as b3,lMe as b4,uC as b5,rA as b6,Qoe as b7,ZPe as b8,LUe as b9,$ze as bA,Zoe as bB,fze as bC,AWe as bD,KMe as bE,C4e as bF,Cje as bG,S6e as bH,dx as bI,y8 as bJ,Cze as bK,kze as bL,dB as bM,Ize as bN,Sc as bO,Kze as bP,rs as bQ,Bze as bR,xze as bS,jze as bT,Hze as bU,Uze as bV,WOe as bW,Vze as bX,eRe as bY,Sze as bZ,Fp as b_,nDe as ba,fMe as bb,hPe as bc,YL as bd,Rze as be,wY as bf,zze as bg,Bu as bh,qY as bi,fje as bj,YUe as bk,Bc as bl,b8 as bm,_8 as bn,Mze as bo,r5e as bp,Xqe as bq,tze as br,nze as bs,oze as bt,zr as bu,Nq as bv,Lze as bw,mze as bx,qze as by,Tce as bz,Le as c,pze as c0,lze as c1,kk as c2,cze as c3,uze as c4,dze as c5,Ece as c6,yw as c7,dt as c8,TMe as c9,J0 as cA,mG as cB,r8e as cC,Hr as cD,wT as cE,Zn as cF,Zg as cG,Cl as cH,h5 as cI,P5 as cJ,VK as cK,AB as cL,c4e as cM,s$ as cN,U3e as cO,WUe as cP,c5 as ca,Aze as cb,Dze as cc,fQ as cd,J7 as ce,uK as cf,T9e as cg,ZNe as ch,yRe as ci,vx as cj,Sw as ck,Fze as cl,C9e as cm,I9e as cn,hfe as co,k9e as cp,f_ as cq,aze as cr,Joe as cs,ize as ct,rze as cu,A9e as cv,Tze as cw,Gg as cx,jF as cy,bT as cz,We as d,Xe as e,Z as f,is as g,Cs as h,wje as i,I8 as j,ve as k,cK as l,fa as m,up as n,re as o,Kn as p,ne as q,Wu as r,hn as s,En as t,Xk as u,Uc as v,Ze as w,LG as x,Ae as y,xt as z};
//# sourceMappingURL=index-69a2ddda.js.map
